"use strict";(self.webpackChunktipoBooking=self.webpackChunktipoBooking||[]).push([[908],{798:(t,o,i)=>{i.d(o,{Z:()=>a});var e=i(645),n=i.n(e)()((function(t){return t[1]}));n.push([t.id,'.tpb-modal{display:none;position:fixed;z-index:999;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.tpb-modal-content{background-color:#fefefe;margin:auto;padding:20px;border:1px solid #888;width:60%;border-radius:13px}@media only screen and (max-width: 640px)and (orientation: portrait){.tpb-modal-content{width:90%}}.tpb-close{color:#aaa;float:right;font-size:28px;font-weight:bold}.tpb-close:hover,.tpb-close:focus{color:#000;text-decoration:none;cursor:pointer}#tpb-history-booking{position:relative;background:#fff;margin:0 auto;margin-top:30px;margin-bottom:30px;padding:0 20px;max-width:1170px;border:1px solid #e2e6ec;-moz-box-shadow:0 10px 50px rgba(37,49,98,.15);-webkit-box-shadow:0 10px 50px rgba(37,49,98,.15);box-shadow:-8px 4px 20px 0px rgba(183,183,183,.15)}#tpb-history-booking .tpb-list-history{margin-top:20px;position:relative}#tpb-history-booking .tpb-table-fixed{position:absolute}#tpb-history-booking .tpb-table-fixed td,#tpb-history-booking .tpb-table-fixed th{opacity:0;border:none}#tpb-history-booking .tpb-column-scroll{position:sticky !important;left:0;z-index:21;background:#fff}#tpb-history-booking .tpb-table-fixed .tpb-column-fixed{position:relative;z-index:1;opacity:1;border-bottom:.1rem solid #e7eaf4}#tpb-history-booking .tpb-table-scroll td{position:relative}#tpb-history-booking .tpb-close{color:#aaa;float:right;font-size:28px;font-weight:bold}#tpb-history-booking .tpb-close:hover,#tpb-history-booking .tpb-close:focus{color:#000;text-decoration:none;cursor:pointer}#tpb-history-booking .tpb-header{font-size:36px;text-align:center}#tpb-history-booking .text-center{text-align:center}#tpb-history-booking .tpb-table{font-family:arial,sans-serif;width:auto;border-collapse:collapse;border-radius:4px;overflow:visible;border:none}#tpb-history-booking .tpb-table tbody tr:hover{background-color:#f9fafd}#tpb-history-booking .tpb-table tr td,#tpb-history-booking .tpb-table tr th{text-align:left;border:none;position:relative;font-weight:500;font-size:14px;background:#fff;background-clip:padding-box;border-bottom:.1rem solid rgba(0,0,0,0)}#tpb-history-booking .tpb-table-scroll .tpb-table tr td,#tpb-history-booking .tpb-table-scroll .tpb-table tr th{border-bottom:.1rem solid #e7eaf4}#tpb-history-booking .tpb-table tr:first-child th:after,#tpb-history-booking .tpb-table tr:first-child td:after{border-bottom:none}#tpb-history-booking .tpb-table_action button{border:none;background:rgba(0,0,0,0)}#tpb-history-booking .tpb-sub-scroll{display:none;justify-content:center;margin-bottom:20px}@media only screen and (max-width: 395px){#tpb-history-booking .pagination>li>a,#tpb-history-booking .pagination>li>span{padding:3px 6px !important}}@media only screen and (max-width: 1134px){#tpb-history-booking .tpb-table-scroll{overflow-y:hidden;overflow-x:scroll}#tpb-history-booking .tpb-sub-scroll{display:flex}}@media only screen and (max-width: 767px){#tpb-history-booking .tpb-table tr td,#tpb-history-booking .tpb-table tr th{padding:5px}}#tpb-history-booking .svg-icon{width:1.4em;height:1.4em}#tpb-history-booking .svg-icon path,#tpb-history-booking .svg-icon polygon,#tpb-history-booking .svg-icon rect{fill:#6370a7}#tpb-history-booking .svg-icon circle{stroke:#6370a7;stroke-width:1}#tpb-history-booking .tpb-table_trainer{display:inline-flex;align-items:center;width:100%}#tpb-history-booking .tpb-table_trainer .tpb-table_avatar,#tpb-history-booking .tpb-table_trainer .tpb-table_avatar img{width:32px;height:32px;border-radius:50%}#tpb-history-booking .tpb-table_trainer .tpb-table_title{margin-left:10px;overflow:hidden;width:70%;word-break:break-all}#tpb-history-booking .tpb-table-sub{opacity:.5;font-size:12px;margin:0;overflow:hidden;position:relative;max-height:20px;padding-right:20px;padding-bottom:0}#tpb-history-booking .tpb-table-sub:before{content:"...";position:absolute;right:10px;bottom:0}#tpb-history-booking .tpb-table-sub:after{content:"";position:absolute;right:10px;width:1em;height:1em;margin-top:.2em;background:#fff}#tpb-history-booking .tpb-context-table_time{display:flex;align-items:center}#tpb-history-booking .tpb-context-table_status{color:#fff;padding:5px 10px;border-radius:26px}#tpb-history-booking .tpb-context-table_status-rejected{background:#9193a7}#tpb-history-booking .tpb-context-table_status-canceled{background:#f57070}#tpb-history-booking .tpb-context-table_status-pending{background:#ffcf83}#tpb-history-booking .tpb-context-table_status-accepted{background:#94db5f}#tpb-history-booking .tooltip{width:auto;visibility:hidden;background-color:#fff;padding:5px;box-shadow:0 0 50px 0 rgba(0,0,0,.3);opacity:0;transition:opacity .5s ease;position:absolute;z-index:20}#tpb-history-booking .tpb-context-table_time{cursor:pointer}#tpb-history-booking .tpb-context-table_time:hover+.tooltip{visibility:visible;transition:opacity .5s ease;opacity:1}#tpb-history-booking .tpb-table_th-time,#tpb-history-booking .tpb-table_th-payment,#tpb-history-booking .tpb-table_th-status{min-width:140px}#tpb-history-booking .tpb-table_th-location,#tpb-history-booking .tpb-table_th-services,#tpb-history-booking .tpb-table_th-trainer{min-width:180px}#tpb-history-booking .tpb-table_th-view{min-width:50px}#tpb-history-booking .pagination{display:inline-block;padding-left:0;margin:20px 0;border-radius:4px;cursor:no-drop}#tpb-history-booking .pagination>li{display:inline}#tpb-history-booking .pagination .disabled{pointer-events:none;cursor:no-drop}#tpb-history-booking .pagination>li>a,#tpb-history-booking .pagination>li>span{position:relative;float:left;padding:6px 12px;line-height:1.42857143;text-decoration:none;color:#337ab7;background-color:#fff;border:1px solid #ddd;margin-left:-1px;cursor:pointer}#tpb-history-booking .pagination>.active>a,#tpb-history-booking .pagination>.active>a:focus,#tpb-history-booking .pagination>.active>a:hover,#tpb-history-booking .pagination>.active>span,#tpb-history-booking .pagination>.active>span:focus,#tpb-history-booking .pagination>.active>span:hover{z-index:3;color:#fff;background-color:#337ab7;border-color:#337ab7;cursor:default}#tpb-history-booking .disabled{pointer-events:none;opacity:.4}#tpb-history-booking .copyright{position:absolute;bottom:calc(0% + 5px);right:15px;font-size:13px;z-index:9999}#tpb-history-booking .copyright a{border:none;color:#000;font-family:sans-serif}#tpb-history-booking .copyright .company{font-weight:600}.tpb-modal-content .confirm{height:100%}.tpb-modal-content .confirm .product-info{text-align:center;padding:30px 40px 32px 40px}@media only screen and (max-width: 640px)and (orientation: portrait){.tpb-modal-content .confirm .product-info{padding:15px}}.tpb-modal-content .confirm .product-info .thumb{width:100px;height:100px;border-radius:50%;overflow:hidden;display:inline-block;margin-bottom:15px;box-shadow:0 10px 50px rgba(37,49,98,.15)}.tpb-modal-content .confirm .product-info .thumb img{width:100%;height:100%;object-fit:cover}.tpb-modal-content .confirm .product-info .title{font-size:24px;font-weight:500}@media only screen and (max-width: 640px)and (orientation: portrait){.tpb-modal-content .confirm .product-info .title{font-size:18px}}.tpb-modal-content .confirm .booking-info{display:flex;justify-content:space-between;align-items:center;padding:20px 40px;border-top:1px solid #e7eaf4;border-bottom:.1rem solid #e7eaf4;font-size:14px;font-weight:400}@media only screen and (max-width: 640px)and (orientation: portrait){.tpb-modal-content .confirm .booking-info{padding:15px;flex-direction:column;align-items:flex-start}.tpb-modal-content .confirm .booking-info>div{border-bottom:.1rem solid #e7eaf4;width:100%;margin-bottom:5px;padding-bottom:5px;display:flex;justify-content:space-between}.tpb-modal-content .confirm .booking-info>div:last-child{margin-bottom:0px;padding-bottom:0px;border-bottom:none}}.tpb-modal-content .confirm .booking-info label{display:flex;align-items:center;font-size:14px;font-weight:500;padding-right:20px}.tpb-modal-content .confirm .booking-info label svg{margin-right:5px}.tpb-modal-content .confirm .extra-fields{padding:20px 40px;display:flex;flex-wrap:wrap}@media only screen and (max-width: 640px)and (orientation: portrait){.tpb-modal-content .confirm .extra-fields{padding:15px}}.tpb-modal-content .confirm .extra-fields .required-mark{color:red}.tpb-modal-content .confirm .extra-fields .element{flex:0 0 50%;border:10px solid rgba(0,0,0,0)}.tpb-modal-content .confirm .extra-fields .element a{text-decoration:underline}.tpb-modal-content .confirm .extra-fields .element input,.tpb-modal-content .confirm .extra-fields .element textarea,.tpb-modal-content .confirm .extra-fields .element .ss-single-selected{width:100%;border-radius:4px;border:1px solid #e7eaf4;padding:10px 16px;height:unset;background:#f8f9fd !important}.tpb-modal-content .confirm .extra-fields .element:nth-child(1),.tpb-modal-content .confirm .extra-fields .element:nth-child(2){border-top:none}.tpb-modal-content .confirm .extra-fields .element:nth-child(odd){border-left:none;border-right-width:15px}.tpb-modal-content .confirm .extra-fields .element:nth-child(even){border-right:none;border-left-width:15px}@media only screen and (max-width: 640px)and (orientation: portrait){.tpb-modal-content .confirm .extra-fields .element{flex:0 0 100%;border:none;margin-bottom:10px}.tpb-modal-content .confirm .extra-fields .element:last-child{margin-bottom:0px}}.tpb-modal-content .confirm .extra-fields .tpb-checkbox{display:inline-block}@media only screen and (max-width: 640px)and (orientation: portrait){.tpb-modal-content .confirm .extra-fields .tpb-checkbox{display:block}}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .ctx{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:6px 8px;border-radius:6px;overflow:hidden;transition:all .2s ease;display:inline-block;margin-left:-8px}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .ctx:not(:last-child){margin-right:8px}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .ctx:hover{background-color:rgba(125,100,247,.09)}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .ctx span{float:left;vertical-align:middle;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .ctx span:first-child{position:relative;width:18px;height:18px;border-radius:4px;-webkit-transform:scale(1);transform:scale(1);border:2px solid #c8ccd4;transition:all .2s ease}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .ctx span:first-child svg{position:absolute;top:2px;left:1px;fill:none;stroke:#fff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:16px;stroke-dashoffset:16px;transition:all .3s ease;transition-delay:.1s;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .ctx span:last-child{padding-left:8px;line-height:18px}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .inp-box:checked+.ctx span:first-child{-webkit-animation:wave .4s ease;animation:wave .4s ease}.tpb-modal-content .confirm .extra-fields .tpb-checkbox .inp-box:checked+.ctx span:first-child svg{stroke-dashoffset:0}.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:checked,.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:not(:checked){position:absolute;left:-9999px}.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:checked+label,.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:not(:checked)+label{position:relative;padding-left:28px;cursor:pointer;line-height:20px;display:inline-block}.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:checked+label:before,.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:not(:checked)+label:before{content:"";position:absolute;left:0;top:0;width:18px;height:18px;border:1px solid #ddd;border-radius:100%;background:#fff}.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:checked+label:after,.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:not(:checked)+label:after{content:"";width:12px;height:12px;position:absolute;top:3px;left:3px;border-radius:100%;-webkit-transition:all .2s ease;transition:all .2s ease}.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:not(:checked)+label:after{opacity:0;-webkit-transform:scale(0);transform:scale(0)}.tpb-modal-content .confirm .extra-fields .tpb-radio-group [type=radio]:checked+label:after{opacity:1;-webkit-transform:scale(1);transform:scale(1)}.tpb-modal-content .confirm .subtotal{background:#f8f9fd;padding:15px 40px;margin-bottom:30px}@media only screen and (max-width: 640px)and (orientation: portrait){.tpb-modal-content .confirm .subtotal{padding:15px}}.tpb-modal-content .confirm .subtotal>.g-row{display:flex;justify-content:space-between;align-items:center;margin:5px 0;flex-direction:row}.tpb-modal-content .confirm .subtotal>.g-row .label{font-weight:500}.tpb-wrapper-btnExport{display:flex;justify-content:center;align-items:center;margin-bottom:30px}.tpb-wrapper-btnExport .tpb-btnExport{border:#ffdead;background:rgba(0,0,0,0)}.tpb-wrapper-btnExport .tpb-btnExport .tpb-btnExport-title{display:flex;justify-content:center;align-items:center}.tpb-wrapper-btnExport .tpb-btnExport .tpb-btnExport-title .tpb-btnExport-title_text{margin-left:5px;height:1.4em}',""]);const a=n},81:(t,o,i)=>{i.r(o),i.d(o,{default:()=>s});var e=i(379),n=i.n(e),a=i(798);n()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var r=i(755),p=i.n(r),b=i(321);const s={initHistory:async function(t){p()(t).append('<div class="tpb-header"><p>Booking History</p></div>');const o=p()("#tpb-modal-control").length?p()("#tpb-modal-control").html():'<div id="tpb-modal" class="tpb-modal">\n            \x3c!-- Modal content --\x3e\n            <div class="tpb-modal-content">\n                <span class="tpb-close">&times;</span>\n                <div class="tpb-content"></div>\n            </div>\n\n        </div>';p()("body").append(o),Tipo.Booking.getHistory(1,t);const i="#tpb-modal";p()("body").on("click",".tpb-btnView",(function(){var t=p()(this).data("index"),o=Tipo.Booking.dataHistory[t];Tipo.Booking.appendHistoryModal(o,p()("#tpb-modal .tpb-content")),p()(i).css("display","block")})),p()("body").on("click",".tpb-close",(function(){p()(i).css("display","none")})),window.onclick=function(t){t.target==i&&p()(i).css("display","none")}},getHistory:function(t,o){p().ajax({url:Tipo.Booking.appUrl+"/booking_api/get-history?urlShop="+this.shop.url+"&customerId="+this.customer.id+"&page="+t,type:"GET",success:function(t){const{data:i,current_page:e,total:n,per_page:a}=t.bookings;Tipo.Booking.dataHistory=i;const r=Math.ceil(n/a);let s="";if(i.length){const t=p()("#tpb-template_history-booking").length?p()("#tpb-template_history-booking").html():b.Z.templates.history;b.Z.parseAndRender(t,{bookings:i,settings:Tipo.Booking.settings,tpbText:Tipo.Booking.trans,window}).then((function(t){if(t+='<div style="text-align: center;" class="pagination-control"></div>',p()(o).html(t),p()(document).on("click","button.tpb-btnExport",(function(){location.href=Tipo.Booking.appUrl+"/exportFileBookingByCustomer?customerId="+Tipo.Booking.customer.id+"&shopUrl="+Tipo.Booking.shop.url})),r>1){const t=Tipo.Booking.getPagination(e,r);p()(".pagination-control").html(t)}p()(".tpb-table_status .tpb-context-table_status").each((function(){const t=p()(this).html();"Rejected"==t&&p()(this).addClass("tpb-context-table_status-rejected"),"Canceled"==t&&p()(this).addClass("tpb-context-table_status-canceled"),"Pending"==t&&p()(this).addClass("tpb-context-table_status-pending"),"Approved"==t&&p()(this).addClass("tpb-context-table_status-accepted")})),p()(".tbb-firstPage-history").on("click",(function(){Tipo.Booking.getHistory(1,o)})),p()(".tbb-prevPage-history").on("click",(function(){Tipo.Booking.getHistory(e-1)})),p()(".tbb-paginationItem-history").on("click",(function(){Tipo.Booking.getHistory(p()(this).data("page"),o)})),p()(".tbb-nextPage-history").on("click",(function(){Tipo.Booking.getHistory(e+1,o)})),p()(".tbb-lastPage-history").on("click",(function(){Tipo.Booking.getHistory(r,o)})),JSON.parse(Tipo.Booking.shop.plan.feature).hideBrand||p()("#tpb-history-booking .copyright").show()}))}else s='<div class="tpb-header"><p>Booking History</p></div><div class="text-center"><h4>Booking history empty</h4></div>',p()(o).html(s),JSON.parse(Tipo.Booking.shop.plan.feature).hideBrand||p()("#tpb-history-booking .copyright").show()}})},appendHistoryModal:function(t,o){var i=t.extraFieldSets,e=t.service.image,n=t.service.title,a=t.price,r=t.bring_qty+1,s=t.employee.first_name&&t.employee.first_name&&t.employee.first_name+" "+t.employee.last_name,l=t.location.name,d=t.duration,c=t.date_time_start,g=p()("#tpb-modal-detail").length?p()("#tpb-modal-detail").html():b.Z.templates.detailHistory;b.Z.parseAndRender(g,{extraFieldSets:i,featured_image:e,product_title:n,total_price:a,qty:r,employee:s,location:l,duration:d,date:c,settings:Tipo.Booking.settings,tpbText:Tipo.Booking.trans,window}).then((function(t){p()(o).empty(),p()(o).html(t)}))},getPagination:function(t,o){var i="",e="";if(1==t&&(i="disabled"),o==t&&(e="disabled"),0==o||o<t)return"";var n="",a=0;if(t<=3)for(var r=1;r<=o&&a<5;r++){var p="";r==t&&(p="active"),n+='<li class="tbb-paginationItem-history '+p+'" data-page="'+r+'"><span>'+r+"</span></li>",a++}if(t>3){if(o<=5)for(r=1;r<=o;r++)p="",r==t&&(p="active"),n+='<li class="tbb-paginationItem-history '+p+'"  data-page="'+r+'"><span>'+r+"</span></li>";if(o>5)if(t==o)for(r=t-4;r<=o;r++)p="",r==t&&(p="active"),n+='<li class="tbb-paginationItem-history '+p+'" data-page="'+r+'"><span>'+r+"</span></li>";else if(t==o-1)for(r=t-3;r<=o;r++)p="",r==t&&(p="active"),n+='<li class="tbb-paginationItem-history '+p+'" data-page="'+r+'"><span>'+r+"</span></li>";else for(r=t-2;r<=o&&r<=t+2;r++)p="",r==t&&(p="active"),n+='<li class="tbb-paginationItem-history '+p+'" data-page="'+r+'"><span>'+r+"</span></li>"}return'<ul class="pagination"><li class="tbb-firstPage-history '+i+'"><span>«</span></li><li class="tbb-prevPage-history '+i+'"><span>⟨</span></li>'+n+'<li class="tbb-nextPage-history '+e+'"><span>⟩</span></li> <li class="tbb-lastPage-history '+e+'"><span>»</span></li> </ul>'}}}}]);