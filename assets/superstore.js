/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./source/scripts/Superstore.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@pixelunion/breakpoint/dist/cjs/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@pixelunion/breakpoint/dist/cjs/index.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction all() {\n    return window\n        .getComputedStyle(document.documentElement, ':before')\n        .getPropertyValue('content')\n        .replace(/\"/g, '')\n        .split(',');\n}\nexports.all = all;\nfunction current() {\n    return window\n        .getComputedStyle(document.documentElement, ':after')\n        .getPropertyValue('content')\n        .replace(/\"/g, '');\n}\nexports.current = current;\nvar callbacks = [];\nvar breakpoints = all();\nvar breakpointData = {\n    previous: current(),\n    current: current(),\n};\nfunction min(breakpoint) {\n    var current = breakpointData.current;\n    var comparison = breakpoints.indexOf(current) - breakpoints.indexOf(breakpoint);\n    return comparison >= 0;\n}\nexports.min = min;\nfunction max(breakpoint) {\n    var current = breakpointData.current;\n    var comparison = breakpoints.indexOf(current) - breakpoints.indexOf(breakpoint);\n    return comparison <= 0;\n}\nexports.max = max;\nfunction range(breakpointStart, breakpointEnd) {\n    var current = breakpointData.current;\n    var indexCurrent = breakpoints.indexOf(current);\n    var indexStart = breakpoints.indexOf(breakpointStart);\n    var indexEnd = breakpoints.indexOf(breakpointEnd);\n    return indexStart <= indexCurrent && indexCurrent <= indexEnd;\n}\nexports.range = range;\nfunction is() {\n    var breakpoints = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        breakpoints[_i] = arguments[_i];\n    }\n    var current = breakpointData.current;\n    return breakpoints.some(function (breakpoint) { return breakpoint === current; });\n}\nexports.is = is;\nfunction onChange(callback) {\n    if (callbacks.indexOf(callback) === -1) {\n        callbacks.push(callback);\n    }\n}\nexports.onChange = onChange;\nfunction offChange(callback) {\n    var index = callbacks.indexOf(callback);\n    if (index !== -1) {\n        callbacks.splice(index, 1);\n    }\n}\nexports.offChange = offChange;\nvar styleSheetList = document.styleSheets;\nvar mediaLists = Object.keys(styleSheetList).reduce(function (accumulator, key) {\n    var stylesheet = styleSheetList[key];\n    if (!stylesheet.href || stylesheet.href.indexOf('theme') === -1) {\n        return accumulator;\n    }\n    try {\n        var cssRules = stylesheet.cssRules;\n        for (var i = 0; i < cssRules.length; i++) {\n            var cssRule = stylesheet.cssRules[i];\n            if (!(cssRule instanceof CSSMediaRule)) {\n                continue;\n            }\n            for (var j = 0; j < cssRules.length; j++) {\n                var cssMediaCssRule = cssRule.cssRules[j];\n                if (!(cssMediaCssRule instanceof CSSStyleRule)) {\n                    continue;\n                }\n                if (cssMediaCssRule.selectorText && cssMediaCssRule.selectorText.indexOf('html::after') !== -1) {\n                    accumulator.push(cssRule.media);\n                }\n            }\n        }\n    }\n    catch (_a) {\n        return accumulator;\n    }\n    return accumulator;\n}, []);\nif (mediaLists.length > 0) {\n    mediaLists.forEach(function (mediaList) {\n        var mql = window.matchMedia(mediaList.mediaText);\n        mql.addListener(function () {\n            var currentBreakpoint = current();\n            if (breakpointData.current !== currentBreakpoint) {\n                breakpointData.previous = breakpointData.current;\n                breakpointData.current = currentBreakpoint;\n                callbacks.forEach(function (callback) { return callback(breakpointData); });\n            }\n        });\n    });\n}\nelse {\n    window.addEventListener('resize', function () {\n        var currentBreakpoint = current();\n        if (breakpointData.current !== currentBreakpoint) {\n            breakpointData.previous = breakpointData.current;\n            breakpointData.current = currentBreakpoint;\n            callbacks.forEach(function (callback) { return callback(breakpointData); });\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGVsdW5pb24vYnJlYWtwb2ludC9kaXN0L2Nqcy9pbmRleC5qcz8wZDUxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCwrQkFBK0IsRUFBRTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFCQUFxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxQkFBcUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGlDQUFpQyxFQUFFO0FBQzFGO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxpQ0FBaUMsRUFBRTtBQUN0RjtBQUNBLEtBQUs7QUFDTCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AcGl4ZWx1bmlvbi9icmVha3BvaW50L2Rpc3QvY2pzL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBhbGwoKSB7XG4gICAgcmV0dXJuIHdpbmRvd1xuICAgICAgICAuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICc6YmVmb3JlJylcbiAgICAgICAgLmdldFByb3BlcnR5VmFsdWUoJ2NvbnRlbnQnKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgJycpXG4gICAgICAgIC5zcGxpdCgnLCcpO1xufVxuZXhwb3J0cy5hbGwgPSBhbGw7XG5mdW5jdGlvbiBjdXJyZW50KCkge1xuICAgIHJldHVybiB3aW5kb3dcbiAgICAgICAgLmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnOmFmdGVyJylcbiAgICAgICAgLmdldFByb3BlcnR5VmFsdWUoJ2NvbnRlbnQnKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgJycpO1xufVxuZXhwb3J0cy5jdXJyZW50ID0gY3VycmVudDtcbnZhciBjYWxsYmFja3MgPSBbXTtcbnZhciBicmVha3BvaW50cyA9IGFsbCgpO1xudmFyIGJyZWFrcG9pbnREYXRhID0ge1xuICAgIHByZXZpb3VzOiBjdXJyZW50KCksXG4gICAgY3VycmVudDogY3VycmVudCgpLFxufTtcbmZ1bmN0aW9uIG1pbihicmVha3BvaW50KSB7XG4gICAgdmFyIGN1cnJlbnQgPSBicmVha3BvaW50RGF0YS5jdXJyZW50O1xuICAgIHZhciBjb21wYXJpc29uID0gYnJlYWtwb2ludHMuaW5kZXhPZihjdXJyZW50KSAtIGJyZWFrcG9pbnRzLmluZGV4T2YoYnJlYWtwb2ludCk7XG4gICAgcmV0dXJuIGNvbXBhcmlzb24gPj0gMDtcbn1cbmV4cG9ydHMubWluID0gbWluO1xuZnVuY3Rpb24gbWF4KGJyZWFrcG9pbnQpIHtcbiAgICB2YXIgY3VycmVudCA9IGJyZWFrcG9pbnREYXRhLmN1cnJlbnQ7XG4gICAgdmFyIGNvbXBhcmlzb24gPSBicmVha3BvaW50cy5pbmRleE9mKGN1cnJlbnQpIC0gYnJlYWtwb2ludHMuaW5kZXhPZihicmVha3BvaW50KTtcbiAgICByZXR1cm4gY29tcGFyaXNvbiA8PSAwO1xufVxuZXhwb3J0cy5tYXggPSBtYXg7XG5mdW5jdGlvbiByYW5nZShicmVha3BvaW50U3RhcnQsIGJyZWFrcG9pbnRFbmQpIHtcbiAgICB2YXIgY3VycmVudCA9IGJyZWFrcG9pbnREYXRhLmN1cnJlbnQ7XG4gICAgdmFyIGluZGV4Q3VycmVudCA9IGJyZWFrcG9pbnRzLmluZGV4T2YoY3VycmVudCk7XG4gICAgdmFyIGluZGV4U3RhcnQgPSBicmVha3BvaW50cy5pbmRleE9mKGJyZWFrcG9pbnRTdGFydCk7XG4gICAgdmFyIGluZGV4RW5kID0gYnJlYWtwb2ludHMuaW5kZXhPZihicmVha3BvaW50RW5kKTtcbiAgICByZXR1cm4gaW5kZXhTdGFydCA8PSBpbmRleEN1cnJlbnQgJiYgaW5kZXhDdXJyZW50IDw9IGluZGV4RW5kO1xufVxuZXhwb3J0cy5yYW5nZSA9IHJhbmdlO1xuZnVuY3Rpb24gaXMoKSB7XG4gICAgdmFyIGJyZWFrcG9pbnRzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYnJlYWtwb2ludHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnQgPSBicmVha3BvaW50RGF0YS5jdXJyZW50O1xuICAgIHJldHVybiBicmVha3BvaW50cy5zb21lKGZ1bmN0aW9uIChicmVha3BvaW50KSB7IHJldHVybiBicmVha3BvaW50ID09PSBjdXJyZW50OyB9KTtcbn1cbmV4cG9ydHMuaXMgPSBpcztcbmZ1bmN0aW9uIG9uQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgaWYgKGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbn1cbmV4cG9ydHMub25DaGFuZ2UgPSBvbkNoYW5nZTtcbmZ1bmN0aW9uIG9mZkNoYW5nZShjYWxsYmFjaykge1xuICAgIHZhciBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbmV4cG9ydHMub2ZmQ2hhbmdlID0gb2ZmQ2hhbmdlO1xudmFyIHN0eWxlU2hlZXRMaXN0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHM7XG52YXIgbWVkaWFMaXN0cyA9IE9iamVjdC5rZXlzKHN0eWxlU2hlZXRMaXN0KS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBrZXkpIHtcbiAgICB2YXIgc3R5bGVzaGVldCA9IHN0eWxlU2hlZXRMaXN0W2tleV07XG4gICAgaWYgKCFzdHlsZXNoZWV0LmhyZWYgfHwgc3R5bGVzaGVldC5ocmVmLmluZGV4T2YoJ3RoZW1lJykgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGNzc1J1bGVzID0gc3R5bGVzaGVldC5jc3NSdWxlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjc3NSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNzc1J1bGUgPSBzdHlsZXNoZWV0LmNzc1J1bGVzW2ldO1xuICAgICAgICAgICAgaWYgKCEoY3NzUnVsZSBpbnN0YW5jZW9mIENTU01lZGlhUnVsZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3NzUnVsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY3NzTWVkaWFDc3NSdWxlID0gY3NzUnVsZS5jc3NSdWxlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoIShjc3NNZWRpYUNzc1J1bGUgaW5zdGFuY2VvZiBDU1NTdHlsZVJ1bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3NzTWVkaWFDc3NSdWxlLnNlbGVjdG9yVGV4dCAmJiBjc3NNZWRpYUNzc1J1bGUuc2VsZWN0b3JUZXh0LmluZGV4T2YoJ2h0bWw6OmFmdGVyJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdG9yLnB1c2goY3NzUnVsZS5tZWRpYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbn0sIFtdKTtcbmlmIChtZWRpYUxpc3RzLmxlbmd0aCA+IDApIHtcbiAgICBtZWRpYUxpc3RzLmZvckVhY2goZnVuY3Rpb24gKG1lZGlhTGlzdCkge1xuICAgICAgICB2YXIgbXFsID0gd2luZG93Lm1hdGNoTWVkaWEobWVkaWFMaXN0Lm1lZGlhVGV4dCk7XG4gICAgICAgIG1xbC5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEJyZWFrcG9pbnQgPSBjdXJyZW50KCk7XG4gICAgICAgICAgICBpZiAoYnJlYWtwb2ludERhdGEuY3VycmVudCAhPT0gY3VycmVudEJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBicmVha3BvaW50RGF0YS5wcmV2aW91cyA9IGJyZWFrcG9pbnREYXRhLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWtwb2ludERhdGEuY3VycmVudCA9IGN1cnJlbnRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gY2FsbGJhY2soYnJlYWtwb2ludERhdGEpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5lbHNlIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudEJyZWFrcG9pbnQgPSBjdXJyZW50KCk7XG4gICAgICAgIGlmIChicmVha3BvaW50RGF0YS5jdXJyZW50ICE9PSBjdXJyZW50QnJlYWtwb2ludCkge1xuICAgICAgICAgICAgYnJlYWtwb2ludERhdGEucHJldmlvdXMgPSBicmVha3BvaW50RGF0YS5jdXJyZW50O1xuICAgICAgICAgICAgYnJlYWtwb2ludERhdGEuY3VycmVudCA9IGN1cnJlbnRCcmVha3BvaW50O1xuICAgICAgICAgICAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHJldHVybiBjYWxsYmFjayhicmVha3BvaW50RGF0YSk7IH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\n");

/***/ }),

/***/ "./node_modules/@pixelunion/events/dist/EventHandler.js":
/*!**************************************************************!*\
  !*** ./node_modules/@pixelunion/events/dist/EventHandler.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nexports.__esModule = true;\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n        this.events = [];\n    }\n    EventHandler.prototype.register = function (el, event, listener) {\n        if (!el || !event || !listener)\n            return null;\n        this.events.push({ el: el, event: event, listener: listener });\n        el.addEventListener(event, listener);\n        return { el: el, event: event, listener: listener };\n    };\n    EventHandler.prototype.unregister = function (_a) {\n        var el = _a.el, event = _a.event, listener = _a.listener;\n        if (!el || !event || !listener)\n            return null;\n        this.events = this.events.filter(function (e) { return el !== e.el\n            || event !== e.event || listener !== e.listener; });\n        el.removeEventListener(event, listener);\n        return { el: el, event: event, listener: listener };\n    };\n    EventHandler.prototype.unregisterAll = function () {\n        this.events.forEach(function (_a) {\n            var el = _a.el, event = _a.event, listener = _a.listener;\n            return el.removeEventListener(event, listener);\n        });\n        this.events = [];\n    };\n    return EventHandler;\n}());\nexports[\"default\"] = EventHandler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGVsdW5pb24vZXZlbnRzL2Rpc3QvRXZlbnRIYW5kbGVyLmpzP2Q1OTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDJDQUEyQztBQUNyRTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELDREQUE0RCxFQUFFO0FBQzlEO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BwaXhlbHVuaW9uL2V2ZW50cy9kaXN0L0V2ZW50SGFuZGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBFdmVudEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRIYW5kbGVyKCkge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgIH1cbiAgICBFdmVudEhhbmRsZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGVsLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCFlbCB8fCAhZXZlbnQgfHwgIWxpc3RlbmVyKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnRzLnB1c2goeyBlbDogZWwsIGV2ZW50OiBldmVudCwgbGlzdGVuZXI6IGxpc3RlbmVyIH0pO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB7IGVsOiBlbCwgZXZlbnQ6IGV2ZW50LCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgICB9O1xuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZWwgPSBfYS5lbCwgZXZlbnQgPSBfYS5ldmVudCwgbGlzdGVuZXIgPSBfYS5saXN0ZW5lcjtcbiAgICAgICAgaWYgKCFlbCB8fCAhZXZlbnQgfHwgIWxpc3RlbmVyKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlbCAhPT0gZS5lbFxuICAgICAgICAgICAgfHwgZXZlbnQgIT09IGUuZXZlbnQgfHwgbGlzdGVuZXIgIT09IGUubGlzdGVuZXI7IH0pO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB7IGVsOiBlbCwgZXZlbnQ6IGV2ZW50LCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgICB9O1xuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUudW5yZWdpc3RlckFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBlbCA9IF9hLmVsLCBldmVudCA9IF9hLmV2ZW50LCBsaXN0ZW5lciA9IF9hLmxpc3RlbmVyO1xuICAgICAgICAgICAgcmV0dXJuIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRIYW5kbGVyO1xufSgpKTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRXZlbnRIYW5kbGVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@pixelunion/events/dist/EventHandler.js\n");

/***/ }),

/***/ "./node_modules/@pixelunion/grouped-content/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@pixelunion/grouped-content/dist/index.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// forEach method, could be shipped as part of an Object Literal/Module\nfunction forEach(array, callback, scope) {\n  var index = 0;\n\n  for (index = 0; index < array.length; index += 1) {\n    callback.call(scope, array[index], index); // passes back stuff we need\n  }\n}\n\nfunction hasClass(el, className) {\n  var regex = new RegExp('^' + className + '| +' + className, 'g');\n\n  return el.className.match(regex);\n}\n\nfunction addClass(el, className) {\n  // Return if it already has the className\n  if (hasClass(el, className)) return;\n\n  el.className += ' ' + className;\n}\n\nfunction removeClass(el, className) {\n  // Return if it doesn't already have the className\n  if (!hasClass(el, className)) return;\n\n  var regex = new RegExp('^' + className + '| +' + className, 'g');\n\n  el.className = el.className.replace(regex, '');\n}\n\nfunction toggleClass(el, className) {\n  if (hasClass(el, className)) {\n    removeClass(el, className);\n  } else {\n    addClass(el, className);\n  }\n}\n\nfunction findPairingFromPairingTrigger(pairings, pairingTrigger) {\n  var foundPairing = null;\n\n  forEach(pairings, function (pairing) {\n    if (pairing.trigger === pairingTrigger) {\n      foundPairing = pairing;\n    }\n  });\n\n  return foundPairing;\n}\n\n/**\n * See {@link https://stackoverflow.com/revisions/2117523/11 Stack Overflow}\n * An RFC4122 v4 compliant uuid solution\n */\nfunction uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n\n    return v.toString(16);\n  });\n}\n\nfunction init(groupedContent) {\n  var triggers = groupedContent.triggers;\n  var pairings = groupedContent.pairings;\n\n  triggers.setAttribute('role', 'tablist');\n\n  forEach(pairings, function (pairing, index) {\n    pairing.trigger.setAttribute('role', 'tab');\n    pairing.trigger.setAttribute('aria-controls', groupedContent.namespace + '-' + groupedContent.id + '-' + index + '-content');\n\n    var triggerContent = pairing.trigger.innerHTML;\n    var triggerWrapper = document.createElement('span');\n    triggerWrapper.innerHTML = triggerContent;\n\n    pairing.trigger.innerHTML = '';\n    pairing.trigger.appendChild(triggerWrapper);\n\n    if (pairing.trigger.children.length > 0) {\n      forEach(pairing.trigger.children, function (child) {\n        child.setAttribute('tabIndex', '-1');\n      });\n    }\n\n    if (hasClass(pairing.trigger, 'active')) {\n      pairing.trigger.setAttribute('aria-selected', 'true');\n      pairing.trigger.setAttribute('tabIndex', '0');\n    } else {\n      pairing.trigger.setAttribute('tabIndex', '-1');\n    }\n\n    pairing.content.id = groupedContent.namespace + '-' + groupedContent.id + '-' + index + '-content';\n    pairing.content.setAttribute('role', 'tabpanel');\n\n    if (!hasClass(pairing.content, 'active')) {\n      pairing.content.setAttribute('aria-hidden', 'true');\n    }\n  });\n}\n\nfunction update(groupedContent) {\n  var pairings = groupedContent.pairings;\n\n  forEach(pairings, function (pairing) {\n    pairing.trigger.removeAttribute('aria-selected');\n    pairing.content.removeAttribute('aria-hidden');\n\n    if (hasClass(pairing.trigger, 'active')) {\n      pairing.trigger.setAttribute('aria-selected', 'true');\n      pairing.trigger.setAttribute('tabIndex', '0');\n    } else {\n      pairing.trigger.setAttribute('tabIndex', '-1');\n    }\n\n    if (!hasClass(pairing.content, 'active')) {\n      pairing.content.setAttribute('aria-hidden', 'true');\n    }\n  });\n}\n\nvar a11y = {\n  init: init,\n  update: update\n};\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n/** A class for creating, managing, and destroying groupable content as tabs. */\n\nvar TabsLayout = function () {\n  function TabsLayout(groupedContent) {\n    classCallCheck(this, TabsLayout);\n\n    this.groupedContent = groupedContent;\n    this.pairings = groupedContent.pairings;\n    this.events = [];\n\n    this._handleKeydown = this._handleKeydown.bind(this);\n    this._handleClick = this._handleClick.bind(this);\n\n    this._init();\n    a11y.init(this.groupedContent);\n  }\n\n  createClass(TabsLayout, [{\n    key: 'unload',\n    value: function unload() {\n      forEach(this.events, function (event) {\n        event.trigger.removeEventListener(event.type, event.fn);\n      });\n    }\n  }, {\n    key: '_init',\n    value: function _init() {\n      var _this = this;\n\n      var existingActive = false;\n\n      forEach(this.pairings, function (pairing) {\n        var trigger = pairing.trigger;\n\n        if (hasClass(trigger, 'active')) {\n          existingActive = true;\n        }\n\n        trigger.addEventListener('keydown', _this._handleKeydown);\n        trigger.addEventListener('click', _this._handleClick);\n\n        _this.events.push({\n          trigger: trigger,\n          type: 'keydown',\n          fn: _this._handleKeydown\n        });\n\n        _this.events.push({\n          trigger: trigger,\n          type: 'click',\n          fn: _this._handleClick\n        });\n      });\n\n      if (!existingActive) {\n        addClass(this.pairings[0].trigger, 'active');\n        addClass(this.pairings[0].content, 'active');\n      }\n    }\n  }, {\n    key: '_handleKeydown',\n    value: function _handleKeydown(event) {\n      var trigger = event.currentTarget;\n      var pairing = findPairingFromPairingTrigger(this.pairings, trigger);\n      var pairingIndex = this.pairings.indexOf(pairing);\n      var prevIndex = pairingIndex - 1 < 0 ? this.pairings.length - 1 : pairingIndex - 1;\n      var nextIndex = pairingIndex + 1 >= this.pairings.length ? 0 : pairingIndex + 1;\n\n      var nextPairing = null;\n\n      switch (event.key) {\n        case 'ArrowLeft':\n          nextPairing = this.pairings[prevIndex];\n          break;\n        case 'ArrowRight':\n          nextPairing = this.pairings[nextIndex];\n          break;\n        default:\n          nextPairing = null;\n          break;\n      }\n\n      // Fast exit if we can't find the tab or tabs\n      if (nextPairing === null) return;\n\n      event.preventDefault();\n\n      forEach(this.pairings, function (inactivePairing) {\n        removeClass(inactivePairing.trigger, 'active');\n        removeClass(inactivePairing.content, 'active');\n      });\n\n      addClass(nextPairing.trigger, 'active');\n      addClass(nextPairing.content, 'active');\n\n      nextPairing.trigger.focus();\n\n      a11y.update(this.groupedContent);\n    }\n  }, {\n    key: '_handleClick',\n    value: function _handleClick(event) {\n      var trigger = event.currentTarget;\n      var pairing = findPairingFromPairingTrigger(this.pairings, trigger);\n\n      // Fast exit if we can't find the tab or tabs\n      if (pairing === null) return;\n\n      event.preventDefault();\n\n      forEach(this.pairings, function (inactivePairing) {\n        removeClass(inactivePairing.trigger, 'active');\n        removeClass(inactivePairing.content, 'active');\n      });\n\n      addClass(pairing.trigger, 'active');\n      addClass(pairing.content, 'active');\n\n      a11y.update(this.groupedContent);\n    }\n  }]);\n  return TabsLayout;\n}();\n\nfunction init$1(groupedContent) {\n  var pairings = groupedContent.pairings;\n\n  forEach(pairings, function (pairing, index) {\n    pairing.trigger.setAttribute('role', 'button');\n    pairing.trigger.setAttribute('aria-controls', groupedContent.namespace + '-' + groupedContent.id + '-' + index + '-content');\n    pairing.trigger.setAttribute('tabIndex', '0');\n\n    if (pairing.trigger.children.length > 0) {\n      forEach(pairing.trigger.children, function (child) {\n        child.setAttribute('tabIndex', '-1');\n      });\n    }\n\n    if (hasClass(pairing.trigger, 'active')) {\n      pairing.trigger.setAttribute('aria-expanded', 'true');\n    } else {\n      pairing.trigger.setAttribute('aria-expanded', 'false');\n    }\n\n    pairing.content.id = groupedContent.namespace + '-' + groupedContent.id + '-' + index + '-content';\n\n    if (!hasClass(pairing.content, 'active')) {\n      pairing.content.setAttribute('aria-hidden', 'true');\n    }\n  });\n}\n\nfunction update$1(groupedContent) {\n  var pairings = groupedContent.pairings;\n\n  forEach(pairings, function (pairing) {\n    pairing.content.removeAttribute('aria-hidden');\n\n    if (hasClass(pairing.trigger, 'active')) {\n      pairing.trigger.setAttribute('aria-expanded', 'true');\n    } else {\n      pairing.trigger.setAttribute('aria-expanded', 'false');\n    }\n\n    if (!hasClass(pairing.content, 'active')) {\n      pairing.content.setAttribute('aria-hidden', 'true');\n    }\n  });\n}\n\nvar a11y$1 = {\n  init: init$1,\n  update: update$1\n};\n\n/** A class for creating, managing, and destroying groupable content as an accordion. */\n\nvar AccordionLayout = function () {\n  function AccordionLayout(groupedContent) {\n    classCallCheck(this, AccordionLayout);\n\n    this.groupedContent = groupedContent;\n    this.pairings = groupedContent.pairings;\n    this.events = [];\n\n    this._handleKeydown = this._handleKeydown.bind(this);\n    this._handleClick = this._handleClick.bind(this);\n\n    this._init(this.pairings);\n    a11y$1.init(this.groupedContent);\n  }\n\n  createClass(AccordionLayout, [{\n    key: 'unload',\n    value: function unload() {\n      forEach(this.events, function (event) {\n        event.trigger.removeEventListener(event.type, event.fn);\n      });\n    }\n  }, {\n    key: '_init',\n    value: function _init() {\n      var _this = this;\n\n      forEach(this.pairings, function (pairing) {\n        var trigger = pairing.trigger;\n        var content = pairing.content;\n\n        trigger.parentNode.insertBefore(content, trigger.nextSibling);\n\n        trigger.addEventListener('keydown', _this._handleKeydown);\n        trigger.addEventListener('click', _this._handleClick);\n\n        _this.events.push({\n          trigger: trigger,\n          type: 'keydown',\n          fn: _this._handleKeydown\n        });\n\n        _this.events.push({\n          trigger: trigger,\n          type: 'click',\n          fn: _this._handleClick\n        });\n      });\n\n      this.groupedContent.contents.remove();\n    }\n  }, {\n    key: '_handleKeydown',\n    value: function _handleKeydown(event) {\n      var trigger = event.currentTarget;\n      var pairing = findPairingFromPairingTrigger(this.pairings, trigger);\n\n      // Fast exit if enter isn't pressed or we can't find the group\n      if (event.key !== 'Enter' || pairing === null) return;\n\n      event.preventDefault();\n\n      toggleClass(pairing.trigger, 'active');\n      toggleClass(pairing.content, 'active');\n      a11y$1.update(this.groupedContent);\n    }\n  }, {\n    key: '_handleClick',\n    value: function _handleClick(event) {\n      var trigger = event.currentTarget;\n      var pairing = findPairingFromPairingTrigger(this.pairings, trigger);\n\n      // Fast exit if we can't find the group\n      if (pairing === null) return;\n\n      event.preventDefault();\n\n      toggleClass(pairing.trigger, 'active');\n      toggleClass(pairing.content, 'active');\n      a11y$1.update(this.groupedContent);\n    }\n  }]);\n  return AccordionLayout;\n}();\n\n/**\n * Returns an array of nodes related to the heading node.\n * @param {node} heading - The heading node to search for content from.\n * @returns {node[]}\n */\nfunction getHeadingContent(heading) {\n  var headingTagNames = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n  var tagNameIndex = headingTagNames.indexOf(heading.tagName);\n  var content = [];\n\n  var sibling = heading.nextElementSibling;\n\n  while (sibling !== null && (headingTagNames.indexOf(sibling.tagName) === -1 || headingTagNames.indexOf(sibling.tagName) > tagNameIndex)) {\n    content.push(sibling);\n\n    sibling = sibling.nextElementSibling;\n  }\n\n  return content;\n}\n\n/**\n * Returns an object array representing the heading tree from a given node.\n * Root nodes are evaluated differently, and requires the evaluatingRoot flag\n * to be true.\n * @param {node} el - The node being evaluated.\n * @param {node[]} children - The children of the evaluated node.\n * @param {boolean} [evaluatingRoot] - Whether to evaluate as root node.\n * @returns {Object[]}\n */\nfunction getHeadingTree(el, children) {\n  var evaluatingRoot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var headingTagNames = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n  var tagNameIndex = headingTagNames.indexOf(el.tagName);\n  var headings = [];\n\n  var currentLowestTagNameIndex = 5;\n\n  for (var i = 0; i < children.length; i += 1) {\n    var child = children[i];\n    var childTagNameIndex = headingTagNames.indexOf(child.tagName);\n\n    if (childTagNameIndex !== -1 && childTagNameIndex < currentLowestTagNameIndex) {\n      currentLowestTagNameIndex = childTagNameIndex;\n    }\n\n    if (evaluatingRoot && childTagNameIndex !== -1 && childTagNameIndex <= currentLowestTagNameIndex || !evaluatingRoot && childTagNameIndex !== -1 && childTagNameIndex === tagNameIndex + 1) {\n      var siblings = getHeadingContent(child);\n\n      var childNode = {\n        el: child,\n        content: siblings,\n        children: getHeadingTree(child, siblings)\n      };\n\n      headings.push(childNode);\n    }\n  }\n\n  return headings;\n}\n\n/**\n * Returns groupings of headings that meet the minimum sequence value\n * and don't contain any invalid headings.\n * @param {Object[]} headings - An array of heading objects.\n * @param {int[]} invalidHeadings - An array of invalid heading integers,\n *                                  representing indexes of headings.\n * @param {*} minInSequence - Minimum headings in sequence before being considered\n *                            as a grouping.\n * @returns {Object[][]}\n */\nfunction getHeadingGroupsInSequence(headings, invalidHeadings, minInSequence) {\n  var headingGroupsInSequence = [];\n  var currentHeadingGroupInSequence = [];\n  var currentSequence = 0;\n\n  for (var i = 0; i < headings.length; i += 1) {\n    if (invalidHeadings.indexOf(i) === -1) {\n      currentHeadingGroupInSequence.push(headings[i]);\n      currentSequence += 1;\n\n      if (i !== headings.length - 1 && headings[i].el.tagName !== headings[i + 1].el.tagName && invalidHeadings.indexOf(i + 1)) {\n        currentHeadingGroupInSequence = [];\n        currentSequence = 0;\n      } else if (i !== 0 && headings[i].el.tagName !== headings[i - 1].el.tagName) {\n        currentHeadingGroupInSequence.pop();\n        currentSequence -= 1;\n\n        if (currentSequence >= minInSequence) {\n          headingGroupsInSequence.push(currentHeadingGroupInSequence);\n        }\n\n        currentHeadingGroupInSequence = [headings[i]];\n        currentSequence = 1;\n      }\n    }\n  }\n\n  if (currentSequence >= minInSequence) {\n    headingGroupsInSequence.push(currentHeadingGroupInSequence);\n  }\n\n  return headingGroupsInSequence;\n}\n\n/**\n * Generates necessary DOM elements to group related content.\n * Returns a object array representing the grouped content.\n * @param {Object[]} children - An array of objects.\n * @returns {Object[]}\n */\nfunction createGroupedContent(children) {\n  var pairings = [];\n\n  var firstChild = children[0].el;\n  var triggers = document.createElement('div');\n  var contents = document.createElement('div');\n\n  contents = firstChild.parentNode.insertBefore(contents, firstChild.nextSibling);\n  triggers = firstChild.parentNode.insertBefore(triggers, firstChild.nextSibling);\n\n  for (var i = 0; i < children.length; i += 1) {\n    var child = children[i];\n    var trigger = child.el;\n    var content = document.createElement('div');\n\n    trigger = triggers.appendChild(trigger);\n    content = contents.appendChild(content);\n\n    for (var j = 0; j < child.content.length; j += 1) {\n      content.appendChild(child.content[j]);\n    }\n\n    pairings.push({\n      trigger: trigger,\n      content: content\n    });\n  }\n\n  return {\n    triggers: triggers,\n    contents: contents,\n    pairings: pairings\n  };\n}\n\n/**\n * Returns all groupable content within the supplied node.\n * @param {node} node - A node to traverse for groupable content.\n * @returns {Object[][]}\n */\n/*\n * Recursive function:\n *  Returns all groups of headings that\n *  are elegible to become grouped content.\n */\nfunction getGroupedContentSet(node) {\n  var children = node.children;\n  var childrenWithGroupableContent = [];\n  var groupedContentSet = [];\n\n  if (children.length === 0) {\n    return [];\n  }\n\n  for (var i = 0; i < children.length; i += 1) {\n    var childGroupableContent = getGroupedContentSet(children[i]);\n\n    if (childGroupableContent.length > 0) {\n      childrenWithGroupableContent.push(i);\n      groupedContentSet = groupedContentSet.concat(childGroupableContent);\n    }\n  }\n\n  var headingGroupsInSequence = getHeadingGroupsInSequence(children, childrenWithGroupableContent, 3);\n\n  for (var _i = 0; _i < headingGroupsInSequence.length; _i += 1) {\n    groupedContentSet.push(createGroupedContent(headingGroupsInSequence[_i]));\n  }\n\n  return groupedContentSet;\n}\n\n/**\n * When static parsing isn't enough, there's intelliparse™!\n * Searches through dom content to find heading groupings that\n * are elegible to become tab groups.\n * Assumes that content is in a flattened hierarchy in the dom\n * and interprets increasing heading values as a deeper level of nesting.\n * Returns all groupable content as an array of object arrays.\n * @param {node} el - The node who's content will be searched for groupable content.\n * @returns {Object[][]}\n */\nfunction intelliParse(el) {\n  var children = el.children;\n  var heading = el.querySelector('h1, h2, h3, h4, h5, h6');\n\n  // Fast return if there's no headings\n  if (children.length === 0) return [];\n\n  var rootNode = {\n    el: el,\n    content: null,\n    children: getHeadingTree(heading, children, true)\n  };\n\n  return getGroupedContentSet(rootNode);\n}\n\n/**\n * Parses content from a given node based on a static structure.\n * The structure is as follows:\n * <ul class=\"tabs\">\n *   <li class=\"active\">Tab 1</li>\n *   <li>Tab 2</li>\n *   <li>Tab 3</li>\n * </ul>\n *\n * <ul class=\"tabs-content\">\n *   <li class=\"active\">\n *     <p>Tab 1 content goes here.</p>\n *   </li>\n *   <li>\n *     <p>Tab 2 content goes here.</p>\n *   </li>\n *   <li>\n *     <p>Tab 3 content goes here.</p>\n *   </li>\n * </ul>\n * Returns all groupable content as an array of object arrays.\n * @param {node} el - The node who's content will be searched for groupable content.\n * @returns {Object[][]}\n */\nfunction staticParse(el) {\n  var groupedContentSet = [];\n\n  var tabs = el.querySelectorAll('.tabs');\n\n  for (var i = 0; i < tabs.length; i += 1) {\n    var triggers = tabs[i].children;\n    var contents = tabs[i].nextElementSibling.children;\n\n    // Only add a tab group if equal triggers to contents\n    if (triggers.length === contents.length) {\n      var length = groupedContentSet.push({\n        triggers: tabs[i],\n        contents: tabs[i].nextElementSibling,\n        pairings: []\n      });\n      var index = length - 1;\n\n      for (var j = 0; j < triggers.length; j += 1) {\n        var trigger = triggers[j];\n        var content = contents[j];\n\n        var pairing = {\n          trigger: trigger,\n          content: content\n        };\n\n        groupedContentSet[index].pairings.push(pairing);\n      }\n    }\n  }\n\n  return groupedContentSet;\n}\n\n/**\n * Returns all groupable content as an array of object arrays.\n * @param {node} content - The node to parse for groupable content.\n * @param {boolean} intelliparse - Whether to use intelligent parsing.\n * @returns {Object[][]}\n */\nfunction parse(content) {\n  var intelliparse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var groupedContentSet = intelliparse ? intelliParse(content) : staticParse(content);\n\n  return groupedContentSet;\n}\n\n/** A class for creating, managing, and destroying groupable content. */\n\nvar GroupedContent = function () {\n  /**\n   * Create grouped content\n   * @param {node} el - The element to search for groupable content in.\n   * @param {Object}  [options] - Additional options\n   * @param {string}  [options.layout] - The layout to display groupable content in.\n   * @param {boolean} [options.intelliparse] - The parsing algorithm used to find content with.\n   */\n  function GroupedContent(el) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, GroupedContent);\n\n    this.namespace = 'grouped-content';\n    this.el = el;\n    this.groupedContentInstances = [];\n\n    var layout = options.layout || 'tabs';\n    var intelliparse = !!options.intelliparse;\n\n    forEach(parse(el, intelliparse), function (groupedContent) {\n      var id = uuidv4();\n      var instance = null;\n      var groupedContentWrapper = document.createElement('div');\n\n      groupedContentWrapper = groupedContent.triggers.parentNode.insertBefore(groupedContentWrapper, groupedContent.triggers.nextSibling);\n\n      addClass(groupedContentWrapper, _this.namespace);\n      addClass(groupedContentWrapper, _this.namespace + '-layout-' + layout);\n\n      groupedContentWrapper.appendChild(groupedContent.triggers);\n      groupedContentWrapper.appendChild(groupedContent.contents);\n\n      groupedContent.namespace = _this.namespace;\n      groupedContent.id = id;\n      groupedContent.triggers.id = _this.namespace + '-' + id + '-triggers';\n      groupedContent.contents.id = _this.namespace + '-' + id + '-contents';\n\n      addClass(groupedContent.triggers, _this.namespace + '-triggers');\n      addClass(groupedContent.contents, _this.namespace + '-contents');\n\n      forEach(groupedContent.pairings, function (pairing) {\n        addClass(pairing.trigger, _this.namespace + '-trigger');\n        addClass(pairing.content, _this.namespace + '-content');\n      });\n\n      switch (layout) {\n        case 'accordion':\n          instance = new AccordionLayout(groupedContent);\n          break;\n        case 'tabs':\n        default:\n          instance = new TabsLayout(groupedContent);\n          break;\n      }\n\n      _this.groupedContentInstances.push({\n        groupedContent: groupedContent,\n        instance: instance\n      });\n    });\n  }\n\n  /** Unload all grouped content instances */\n\n\n  createClass(GroupedContent, [{\n    key: 'unload',\n    value: function unload() {\n      forEach(this.groupedContentInstances, function (groupedContentInstance) {\n        groupedContentInstance.instance.unload();\n      });\n    }\n  }]);\n  return GroupedContent;\n}();\n\nmodule.exports = GroupedContent;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGVsdW5pb24vZ3JvdXBlZC1jb250ZW50L2Rpc3QvaW5kZXguanM/Y2Q1NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHNCQUFzQjtBQUN2Qyw4Q0FBOEM7QUFDOUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7O0FBTUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7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QUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHBpeGVsdW5pb24vZ3JvdXBlZC1jb250ZW50L2Rpc3QvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIGZvckVhY2ggbWV0aG9kLCBjb3VsZCBiZSBzaGlwcGVkIGFzIHBhcnQgb2YgYW4gT2JqZWN0IExpdGVyYWwvTW9kdWxlXG5mdW5jdGlvbiBmb3JFYWNoKGFycmF5LCBjYWxsYmFjaywgc2NvcGUpIHtcbiAgdmFyIGluZGV4ID0gMDtcblxuICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBjYWxsYmFjay5jYWxsKHNjb3BlLCBhcnJheVtpbmRleF0sIGluZGV4KTsgLy8gcGFzc2VzIGJhY2sgc3R1ZmYgd2UgbmVlZFxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyBjbGFzc05hbWUgKyAnfCArJyArIGNsYXNzTmFtZSwgJ2cnKTtcblxuICByZXR1cm4gZWwuY2xhc3NOYW1lLm1hdGNoKHJlZ2V4KTtcbn1cblxuZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAvLyBSZXR1cm4gaWYgaXQgYWxyZWFkeSBoYXMgdGhlIGNsYXNzTmFtZVxuICBpZiAoaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkpIHJldHVybjtcblxuICBlbC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gIC8vIFJldHVybiBpZiBpdCBkb2Vzbid0IGFscmVhZHkgaGF2ZSB0aGUgY2xhc3NOYW1lXG4gIGlmICghaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkpIHJldHVybjtcblxuICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIGNsYXNzTmFtZSArICd8ICsnICsgY2xhc3NOYW1lLCAnZycpO1xuXG4gIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKHJlZ2V4LCAnJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgaWYgKGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpKSB7XG4gICAgcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZFBhaXJpbmdGcm9tUGFpcmluZ1RyaWdnZXIocGFpcmluZ3MsIHBhaXJpbmdUcmlnZ2VyKSB7XG4gIHZhciBmb3VuZFBhaXJpbmcgPSBudWxsO1xuXG4gIGZvckVhY2gocGFpcmluZ3MsIGZ1bmN0aW9uIChwYWlyaW5nKSB7XG4gICAgaWYgKHBhaXJpbmcudHJpZ2dlciA9PT0gcGFpcmluZ1RyaWdnZXIpIHtcbiAgICAgIGZvdW5kUGFpcmluZyA9IHBhaXJpbmc7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZm91bmRQYWlyaW5nO1xufVxuXG4vKipcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9yZXZpc2lvbnMvMjExNzUyMy8xMSBTdGFjayBPdmVyZmxvd31cbiAqIEFuIFJGQzQxMjIgdjQgY29tcGxpYW50IHV1aWQgc29sdXRpb25cbiAqL1xuZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcbiAgICB2YXIgdiA9IGMgPT09ICd4JyA/IHIgOiByICYgMHgzIHwgMHg4O1xuXG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdChncm91cGVkQ29udGVudCkge1xuICB2YXIgdHJpZ2dlcnMgPSBncm91cGVkQ29udGVudC50cmlnZ2VycztcbiAgdmFyIHBhaXJpbmdzID0gZ3JvdXBlZENvbnRlbnQucGFpcmluZ3M7XG5cbiAgdHJpZ2dlcnMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYmxpc3QnKTtcblxuICBmb3JFYWNoKHBhaXJpbmdzLCBmdW5jdGlvbiAocGFpcmluZywgaW5kZXgpIHtcbiAgICBwYWlyaW5nLnRyaWdnZXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYicpO1xuICAgIHBhaXJpbmcudHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCBncm91cGVkQ29udGVudC5uYW1lc3BhY2UgKyAnLScgKyBncm91cGVkQ29udGVudC5pZCArICctJyArIGluZGV4ICsgJy1jb250ZW50Jyk7XG5cbiAgICB2YXIgdHJpZ2dlckNvbnRlbnQgPSBwYWlyaW5nLnRyaWdnZXIuaW5uZXJIVE1MO1xuICAgIHZhciB0cmlnZ2VyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0cmlnZ2VyV3JhcHBlci5pbm5lckhUTUwgPSB0cmlnZ2VyQ29udGVudDtcblxuICAgIHBhaXJpbmcudHJpZ2dlci5pbm5lckhUTUwgPSAnJztcbiAgICBwYWlyaW5nLnRyaWdnZXIuYXBwZW5kQ2hpbGQodHJpZ2dlcldyYXBwZXIpO1xuXG4gICAgaWYgKHBhaXJpbmcudHJpZ2dlci5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBmb3JFYWNoKHBhaXJpbmcudHJpZ2dlci5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgndGFiSW5kZXgnLCAnLTEnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChoYXNDbGFzcyhwYWlyaW5nLnRyaWdnZXIsICdhY3RpdmUnKSkge1xuICAgICAgcGFpcmluZy50cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICd0cnVlJyk7XG4gICAgICBwYWlyaW5nLnRyaWdnZXIuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsICcwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhaXJpbmcudHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gICAgfVxuXG4gICAgcGFpcmluZy5jb250ZW50LmlkID0gZ3JvdXBlZENvbnRlbnQubmFtZXNwYWNlICsgJy0nICsgZ3JvdXBlZENvbnRlbnQuaWQgKyAnLScgKyBpbmRleCArICctY29udGVudCc7XG4gICAgcGFpcmluZy5jb250ZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICd0YWJwYW5lbCcpO1xuXG4gICAgaWYgKCFoYXNDbGFzcyhwYWlyaW5nLmNvbnRlbnQsICdhY3RpdmUnKSkge1xuICAgICAgcGFpcmluZy5jb250ZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShncm91cGVkQ29udGVudCkge1xuICB2YXIgcGFpcmluZ3MgPSBncm91cGVkQ29udGVudC5wYWlyaW5ncztcblxuICBmb3JFYWNoKHBhaXJpbmdzLCBmdW5jdGlvbiAocGFpcmluZykge1xuICAgIHBhaXJpbmcudHJpZ2dlci5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnKTtcbiAgICBwYWlyaW5nLmNvbnRlbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXG4gICAgaWYgKGhhc0NsYXNzKHBhaXJpbmcudHJpZ2dlciwgJ2FjdGl2ZScpKSB7XG4gICAgICBwYWlyaW5nLnRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcbiAgICAgIHBhaXJpbmcudHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJzAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFpcmluZy50cmlnZ2VyLnNldEF0dHJpYnV0ZSgndGFiSW5kZXgnLCAnLTEnKTtcbiAgICB9XG5cbiAgICBpZiAoIWhhc0NsYXNzKHBhaXJpbmcuY29udGVudCwgJ2FjdGl2ZScpKSB7XG4gICAgICBwYWlyaW5nLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgfVxuICB9KTtcbn1cblxudmFyIGExMXkgPSB7XG4gIGluaXQ6IGluaXQsXG4gIHVwZGF0ZTogdXBkYXRlXG59O1xuXG52YXIgYXN5bmNHZW5lcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEF3YWl0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBBc3luY0dlbmVyYXRvcihnZW4pIHtcbiAgICB2YXIgZnJvbnQsIGJhY2s7XG5cbiAgICBmdW5jdGlvbiBzZW5kKGtleSwgYXJnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBhcmc6IGFyZyxcbiAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgIHJlamVjdDogcmVqZWN0LFxuICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYmFjaykge1xuICAgICAgICAgIGJhY2sgPSBiYWNrLm5leHQgPSByZXF1ZXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZyb250ID0gYmFjayA9IHJlcXVlc3Q7XG4gICAgICAgICAgcmVzdW1lKGtleSwgYXJnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzdW1lKGtleSwgYXJnKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZ2VuW2tleV0oYXJnKTtcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0VmFsdWUpIHtcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUodmFsdWUudmFsdWUpLnRoZW4oZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgICAgcmVzdW1lKFwibmV4dFwiLCBhcmcpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICAgIHJlc3VtZShcInRocm93XCIsIGFyZyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0dGxlKHJlc3VsdC5kb25lID8gXCJyZXR1cm5cIiA6IFwibm9ybWFsXCIsIHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXR0bGUoXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHRsZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZXR1cm5cIjpcbiAgICAgICAgICBmcm9udC5yZXNvbHZlKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwidGhyb3dcIjpcbiAgICAgICAgICBmcm9udC5yZWplY3QodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBmcm9udCA9IGZyb250Lm5leHQ7XG5cbiAgICAgIGlmIChmcm9udCkge1xuICAgICAgICByZXN1bWUoZnJvbnQua2V5LCBmcm9udC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faW52b2tlID0gc2VuZDtcblxuICAgIGlmICh0eXBlb2YgZ2VuLnJldHVybiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aGlzLnJldHVybiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yKSB7XG4gICAgQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cblxuICBBc3luY0dlbmVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKFwibmV4dFwiLCBhcmcpO1xuICB9O1xuXG4gIEFzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKFwidGhyb3dcIiwgYXJnKTtcbiAgfTtcblxuICBBc3luY0dlbmVyYXRvci5wcm90b3R5cGUucmV0dXJuID0gZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoXCJyZXR1cm5cIiwgYXJnKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHdyYXA6IGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3luY0dlbmVyYXRvcihmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBhd2FpdDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmV3IEF3YWl0VmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfTtcbn0oKTtcblxuXG5cblxuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG4vKiogQSBjbGFzcyBmb3IgY3JlYXRpbmcsIG1hbmFnaW5nLCBhbmQgZGVzdHJveWluZyBncm91cGFibGUgY29udGVudCBhcyB0YWJzLiAqL1xuXG52YXIgVGFic0xheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGFic0xheW91dChncm91cGVkQ29udGVudCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYnNMYXlvdXQpO1xuXG4gICAgdGhpcy5ncm91cGVkQ29udGVudCA9IGdyb3VwZWRDb250ZW50O1xuICAgIHRoaXMucGFpcmluZ3MgPSBncm91cGVkQ29udGVudC5wYWlyaW5ncztcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuXG4gICAgdGhpcy5faGFuZGxlS2V5ZG93biA9IHRoaXMuX2hhbmRsZUtleWRvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVDbGljayA9IHRoaXMuX2hhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgYTExeS5pbml0KHRoaXMuZ3JvdXBlZENvbnRlbnQpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoVGFic0xheW91dCwgW3tcbiAgICBrZXk6ICd1bmxvYWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmxvYWQoKSB7XG4gICAgICBmb3JFYWNoKHRoaXMuZXZlbnRzLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQudHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LnR5cGUsIGV2ZW50LmZuKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19pbml0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZXhpc3RpbmdBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgZm9yRWFjaCh0aGlzLnBhaXJpbmdzLCBmdW5jdGlvbiAocGFpcmluZykge1xuICAgICAgICB2YXIgdHJpZ2dlciA9IHBhaXJpbmcudHJpZ2dlcjtcblxuICAgICAgICBpZiAoaGFzQ2xhc3ModHJpZ2dlciwgJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgZXhpc3RpbmdBY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXMuX2hhbmRsZUNsaWNrKTtcblxuICAgICAgICBfdGhpcy5ldmVudHMucHVzaCh7XG4gICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgICB0eXBlOiAna2V5ZG93bicsXG4gICAgICAgICAgZm46IF90aGlzLl9oYW5kbGVLZXlkb3duXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxuICAgICAgICAgIHR5cGU6ICdjbGljaycsXG4gICAgICAgICAgZm46IF90aGlzLl9oYW5kbGVDbGlja1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWV4aXN0aW5nQWN0aXZlKSB7XG4gICAgICAgIGFkZENsYXNzKHRoaXMucGFpcmluZ3NbMF0udHJpZ2dlciwgJ2FjdGl2ZScpO1xuICAgICAgICBhZGRDbGFzcyh0aGlzLnBhaXJpbmdzWzBdLmNvbnRlbnQsICdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlS2V5ZG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICB2YXIgcGFpcmluZyA9IGZpbmRQYWlyaW5nRnJvbVBhaXJpbmdUcmlnZ2VyKHRoaXMucGFpcmluZ3MsIHRyaWdnZXIpO1xuICAgICAgdmFyIHBhaXJpbmdJbmRleCA9IHRoaXMucGFpcmluZ3MuaW5kZXhPZihwYWlyaW5nKTtcbiAgICAgIHZhciBwcmV2SW5kZXggPSBwYWlyaW5nSW5kZXggLSAxIDwgMCA/IHRoaXMucGFpcmluZ3MubGVuZ3RoIC0gMSA6IHBhaXJpbmdJbmRleCAtIDE7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gcGFpcmluZ0luZGV4ICsgMSA+PSB0aGlzLnBhaXJpbmdzLmxlbmd0aCA/IDAgOiBwYWlyaW5nSW5kZXggKyAxO1xuXG4gICAgICB2YXIgbmV4dFBhaXJpbmcgPSBudWxsO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICAgIG5leHRQYWlyaW5nID0gdGhpcy5wYWlyaW5nc1twcmV2SW5kZXhdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICBuZXh0UGFpcmluZyA9IHRoaXMucGFpcmluZ3NbbmV4dEluZGV4XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBuZXh0UGFpcmluZyA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIEZhc3QgZXhpdCBpZiB3ZSBjYW4ndCBmaW5kIHRoZSB0YWIgb3IgdGFic1xuICAgICAgaWYgKG5leHRQYWlyaW5nID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGZvckVhY2godGhpcy5wYWlyaW5ncywgZnVuY3Rpb24gKGluYWN0aXZlUGFpcmluZykge1xuICAgICAgICByZW1vdmVDbGFzcyhpbmFjdGl2ZVBhaXJpbmcudHJpZ2dlciwgJ2FjdGl2ZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhpbmFjdGl2ZVBhaXJpbmcuY29udGVudCwgJ2FjdGl2ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGFkZENsYXNzKG5leHRQYWlyaW5nLnRyaWdnZXIsICdhY3RpdmUnKTtcbiAgICAgIGFkZENsYXNzKG5leHRQYWlyaW5nLmNvbnRlbnQsICdhY3RpdmUnKTtcblxuICAgICAgbmV4dFBhaXJpbmcudHJpZ2dlci5mb2N1cygpO1xuXG4gICAgICBhMTF5LnVwZGF0ZSh0aGlzLmdyb3VwZWRDb250ZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciB0cmlnZ2VyID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgIHZhciBwYWlyaW5nID0gZmluZFBhaXJpbmdGcm9tUGFpcmluZ1RyaWdnZXIodGhpcy5wYWlyaW5ncywgdHJpZ2dlcik7XG5cbiAgICAgIC8vIEZhc3QgZXhpdCBpZiB3ZSBjYW4ndCBmaW5kIHRoZSB0YWIgb3IgdGFic1xuICAgICAgaWYgKHBhaXJpbmcgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgZm9yRWFjaCh0aGlzLnBhaXJpbmdzLCBmdW5jdGlvbiAoaW5hY3RpdmVQYWlyaW5nKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGluYWN0aXZlUGFpcmluZy50cmlnZ2VyLCAnYWN0aXZlJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGluYWN0aXZlUGFpcmluZy5jb250ZW50LCAnYWN0aXZlJyk7XG4gICAgICB9KTtcblxuICAgICAgYWRkQ2xhc3MocGFpcmluZy50cmlnZ2VyLCAnYWN0aXZlJyk7XG4gICAgICBhZGRDbGFzcyhwYWlyaW5nLmNvbnRlbnQsICdhY3RpdmUnKTtcblxuICAgICAgYTExeS51cGRhdGUodGhpcy5ncm91cGVkQ29udGVudCk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUYWJzTGF5b3V0O1xufSgpO1xuXG5mdW5jdGlvbiBpbml0JDEoZ3JvdXBlZENvbnRlbnQpIHtcbiAgdmFyIHBhaXJpbmdzID0gZ3JvdXBlZENvbnRlbnQucGFpcmluZ3M7XG5cbiAgZm9yRWFjaChwYWlyaW5ncywgZnVuY3Rpb24gKHBhaXJpbmcsIGluZGV4KSB7XG4gICAgcGFpcmluZy50cmlnZ2VyLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICBwYWlyaW5nLnRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgZ3JvdXBlZENvbnRlbnQubmFtZXNwYWNlICsgJy0nICsgZ3JvdXBlZENvbnRlbnQuaWQgKyAnLScgKyBpbmRleCArICctY29udGVudCcpO1xuICAgIHBhaXJpbmcudHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJzAnKTtcblxuICAgIGlmIChwYWlyaW5nLnRyaWdnZXIuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yRWFjaChwYWlyaW5nLnRyaWdnZXIuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaGFzQ2xhc3MocGFpcmluZy50cmlnZ2VyLCAnYWN0aXZlJykpIHtcbiAgICAgIHBhaXJpbmcudHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWlyaW5nLnRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuXG4gICAgcGFpcmluZy5jb250ZW50LmlkID0gZ3JvdXBlZENvbnRlbnQubmFtZXNwYWNlICsgJy0nICsgZ3JvdXBlZENvbnRlbnQuaWQgKyAnLScgKyBpbmRleCArICctY29udGVudCc7XG5cbiAgICBpZiAoIWhhc0NsYXNzKHBhaXJpbmcuY29udGVudCwgJ2FjdGl2ZScpKSB7XG4gICAgICBwYWlyaW5nLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlJDEoZ3JvdXBlZENvbnRlbnQpIHtcbiAgdmFyIHBhaXJpbmdzID0gZ3JvdXBlZENvbnRlbnQucGFpcmluZ3M7XG5cbiAgZm9yRWFjaChwYWlyaW5ncywgZnVuY3Rpb24gKHBhaXJpbmcpIHtcbiAgICBwYWlyaW5nLmNvbnRlbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXG4gICAgaWYgKGhhc0NsYXNzKHBhaXJpbmcudHJpZ2dlciwgJ2FjdGl2ZScpKSB7XG4gICAgICBwYWlyaW5nLnRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFpcmluZy50cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgIH1cblxuICAgIGlmICghaGFzQ2xhc3MocGFpcmluZy5jb250ZW50LCAnYWN0aXZlJykpIHtcbiAgICAgIHBhaXJpbmcuY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgYTExeSQxID0ge1xuICBpbml0OiBpbml0JDEsXG4gIHVwZGF0ZTogdXBkYXRlJDFcbn07XG5cbi8qKiBBIGNsYXNzIGZvciBjcmVhdGluZywgbWFuYWdpbmcsIGFuZCBkZXN0cm95aW5nIGdyb3VwYWJsZSBjb250ZW50IGFzIGFuIGFjY29yZGlvbi4gKi9cblxudmFyIEFjY29yZGlvbkxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQWNjb3JkaW9uTGF5b3V0KGdyb3VwZWRDb250ZW50KSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjb3JkaW9uTGF5b3V0KTtcblxuICAgIHRoaXMuZ3JvdXBlZENvbnRlbnQgPSBncm91cGVkQ29udGVudDtcbiAgICB0aGlzLnBhaXJpbmdzID0gZ3JvdXBlZENvbnRlbnQucGFpcmluZ3M7XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcblxuICAgIHRoaXMuX2hhbmRsZUtleWRvd24gPSB0aGlzLl9oYW5kbGVLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlQ2xpY2sgPSB0aGlzLl9oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5faW5pdCh0aGlzLnBhaXJpbmdzKTtcbiAgICBhMTF5JDEuaW5pdCh0aGlzLmdyb3VwZWRDb250ZW50KTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKEFjY29yZGlvbkxheW91dCwgW3tcbiAgICBrZXk6ICd1bmxvYWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmxvYWQoKSB7XG4gICAgICBmb3JFYWNoKHRoaXMuZXZlbnRzLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQudHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LnR5cGUsIGV2ZW50LmZuKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19pbml0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBmb3JFYWNoKHRoaXMucGFpcmluZ3MsIGZ1bmN0aW9uIChwYWlyaW5nKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyID0gcGFpcmluZy50cmlnZ2VyO1xuICAgICAgICB2YXIgY29udGVudCA9IHBhaXJpbmcuY29udGVudDtcblxuICAgICAgICB0cmlnZ2VyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvbnRlbnQsIHRyaWdnZXIubmV4dFNpYmxpbmcpO1xuXG4gICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIF90aGlzLl9oYW5kbGVLZXlkb3duKTtcbiAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzLl9oYW5kbGVDbGljayk7XG5cbiAgICAgICAgX3RoaXMuZXZlbnRzLnB1c2goe1xuICAgICAgICAgIHRyaWdnZXI6IHRyaWdnZXIsXG4gICAgICAgICAgdHlwZTogJ2tleWRvd24nLFxuICAgICAgICAgIGZuOiBfdGhpcy5faGFuZGxlS2V5ZG93blxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5ldmVudHMucHVzaCh7XG4gICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgICB0eXBlOiAnY2xpY2snLFxuICAgICAgICAgIGZuOiBfdGhpcy5faGFuZGxlQ2xpY2tcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5ncm91cGVkQ29udGVudC5jb250ZW50cy5yZW1vdmUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlS2V5ZG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICB2YXIgcGFpcmluZyA9IGZpbmRQYWlyaW5nRnJvbVBhaXJpbmdUcmlnZ2VyKHRoaXMucGFpcmluZ3MsIHRyaWdnZXIpO1xuXG4gICAgICAvLyBGYXN0IGV4aXQgaWYgZW50ZXIgaXNuJ3QgcHJlc3NlZCBvciB3ZSBjYW4ndCBmaW5kIHRoZSBncm91cFxuICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ0VudGVyJyB8fCBwYWlyaW5nID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHRvZ2dsZUNsYXNzKHBhaXJpbmcudHJpZ2dlciwgJ2FjdGl2ZScpO1xuICAgICAgdG9nZ2xlQ2xhc3MocGFpcmluZy5jb250ZW50LCAnYWN0aXZlJyk7XG4gICAgICBhMTF5JDEudXBkYXRlKHRoaXMuZ3JvdXBlZENvbnRlbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19oYW5kbGVDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDbGljayhldmVudCkge1xuICAgICAgdmFyIHRyaWdnZXIgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgdmFyIHBhaXJpbmcgPSBmaW5kUGFpcmluZ0Zyb21QYWlyaW5nVHJpZ2dlcih0aGlzLnBhaXJpbmdzLCB0cmlnZ2VyKTtcblxuICAgICAgLy8gRmFzdCBleGl0IGlmIHdlIGNhbid0IGZpbmQgdGhlIGdyb3VwXG4gICAgICBpZiAocGFpcmluZyA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB0b2dnbGVDbGFzcyhwYWlyaW5nLnRyaWdnZXIsICdhY3RpdmUnKTtcbiAgICAgIHRvZ2dsZUNsYXNzKHBhaXJpbmcuY29udGVudCwgJ2FjdGl2ZScpO1xuICAgICAgYTExeSQxLnVwZGF0ZSh0aGlzLmdyb3VwZWRDb250ZW50KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEFjY29yZGlvbkxheW91dDtcbn0oKTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIG5vZGVzIHJlbGF0ZWQgdG8gdGhlIGhlYWRpbmcgbm9kZS5cbiAqIEBwYXJhbSB7bm9kZX0gaGVhZGluZyAtIFRoZSBoZWFkaW5nIG5vZGUgdG8gc2VhcmNoIGZvciBjb250ZW50IGZyb20uXG4gKiBAcmV0dXJucyB7bm9kZVtdfVxuICovXG5mdW5jdGlvbiBnZXRIZWFkaW5nQ29udGVudChoZWFkaW5nKSB7XG4gIHZhciBoZWFkaW5nVGFnTmFtZXMgPSBbJ0gxJywgJ0gyJywgJ0gzJywgJ0g0JywgJ0g1JywgJ0g2J107XG4gIHZhciB0YWdOYW1lSW5kZXggPSBoZWFkaW5nVGFnTmFtZXMuaW5kZXhPZihoZWFkaW5nLnRhZ05hbWUpO1xuICB2YXIgY29udGVudCA9IFtdO1xuXG4gIHZhciBzaWJsaW5nID0gaGVhZGluZy5uZXh0RWxlbWVudFNpYmxpbmc7XG5cbiAgd2hpbGUgKHNpYmxpbmcgIT09IG51bGwgJiYgKGhlYWRpbmdUYWdOYW1lcy5pbmRleE9mKHNpYmxpbmcudGFnTmFtZSkgPT09IC0xIHx8IGhlYWRpbmdUYWdOYW1lcy5pbmRleE9mKHNpYmxpbmcudGFnTmFtZSkgPiB0YWdOYW1lSW5kZXgpKSB7XG4gICAgY29udGVudC5wdXNoKHNpYmxpbmcpO1xuXG4gICAgc2libGluZyA9IHNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBoZWFkaW5nIHRyZWUgZnJvbSBhIGdpdmVuIG5vZGUuXG4gKiBSb290IG5vZGVzIGFyZSBldmFsdWF0ZWQgZGlmZmVyZW50bHksIGFuZCByZXF1aXJlcyB0aGUgZXZhbHVhdGluZ1Jvb3QgZmxhZ1xuICogdG8gYmUgdHJ1ZS5cbiAqIEBwYXJhbSB7bm9kZX0gZWwgLSBUaGUgbm9kZSBiZWluZyBldmFsdWF0ZWQuXG4gKiBAcGFyYW0ge25vZGVbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gb2YgdGhlIGV2YWx1YXRlZCBub2RlLlxuICogQHBhcmFtIHtib29sZWFufSBbZXZhbHVhdGluZ1Jvb3RdIC0gV2hldGhlciB0byBldmFsdWF0ZSBhcyByb290IG5vZGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0W119XG4gKi9cbmZ1bmN0aW9uIGdldEhlYWRpbmdUcmVlKGVsLCBjaGlsZHJlbikge1xuICB2YXIgZXZhbHVhdGluZ1Jvb3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gIHZhciBoZWFkaW5nVGFnTmFtZXMgPSBbJ0gxJywgJ0gyJywgJ0gzJywgJ0g0JywgJ0g1JywgJ0g2J107XG4gIHZhciB0YWdOYW1lSW5kZXggPSBoZWFkaW5nVGFnTmFtZXMuaW5kZXhPZihlbC50YWdOYW1lKTtcbiAgdmFyIGhlYWRpbmdzID0gW107XG5cbiAgdmFyIGN1cnJlbnRMb3dlc3RUYWdOYW1lSW5kZXggPSA1O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICB2YXIgY2hpbGRUYWdOYW1lSW5kZXggPSBoZWFkaW5nVGFnTmFtZXMuaW5kZXhPZihjaGlsZC50YWdOYW1lKTtcblxuICAgIGlmIChjaGlsZFRhZ05hbWVJbmRleCAhPT0gLTEgJiYgY2hpbGRUYWdOYW1lSW5kZXggPCBjdXJyZW50TG93ZXN0VGFnTmFtZUluZGV4KSB7XG4gICAgICBjdXJyZW50TG93ZXN0VGFnTmFtZUluZGV4ID0gY2hpbGRUYWdOYW1lSW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKGV2YWx1YXRpbmdSb290ICYmIGNoaWxkVGFnTmFtZUluZGV4ICE9PSAtMSAmJiBjaGlsZFRhZ05hbWVJbmRleCA8PSBjdXJyZW50TG93ZXN0VGFnTmFtZUluZGV4IHx8ICFldmFsdWF0aW5nUm9vdCAmJiBjaGlsZFRhZ05hbWVJbmRleCAhPT0gLTEgJiYgY2hpbGRUYWdOYW1lSW5kZXggPT09IHRhZ05hbWVJbmRleCArIDEpIHtcbiAgICAgIHZhciBzaWJsaW5ncyA9IGdldEhlYWRpbmdDb250ZW50KGNoaWxkKTtcblxuICAgICAgdmFyIGNoaWxkTm9kZSA9IHtcbiAgICAgICAgZWw6IGNoaWxkLFxuICAgICAgICBjb250ZW50OiBzaWJsaW5ncyxcbiAgICAgICAgY2hpbGRyZW46IGdldEhlYWRpbmdUcmVlKGNoaWxkLCBzaWJsaW5ncylcbiAgICAgIH07XG5cbiAgICAgIGhlYWRpbmdzLnB1c2goY2hpbGROb2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaGVhZGluZ3M7XG59XG5cbi8qKlxuICogUmV0dXJucyBncm91cGluZ3Mgb2YgaGVhZGluZ3MgdGhhdCBtZWV0IHRoZSBtaW5pbXVtIHNlcXVlbmNlIHZhbHVlXG4gKiBhbmQgZG9uJ3QgY29udGFpbiBhbnkgaW52YWxpZCBoZWFkaW5ncy5cbiAqIEBwYXJhbSB7T2JqZWN0W119IGhlYWRpbmdzIC0gQW4gYXJyYXkgb2YgaGVhZGluZyBvYmplY3RzLlxuICogQHBhcmFtIHtpbnRbXX0gaW52YWxpZEhlYWRpbmdzIC0gQW4gYXJyYXkgb2YgaW52YWxpZCBoZWFkaW5nIGludGVnZXJzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwcmVzZW50aW5nIGluZGV4ZXMgb2YgaGVhZGluZ3MuXG4gKiBAcGFyYW0geyp9IG1pbkluU2VxdWVuY2UgLSBNaW5pbXVtIGhlYWRpbmdzIGluIHNlcXVlbmNlIGJlZm9yZSBiZWluZyBjb25zaWRlcmVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcyBhIGdyb3VwaW5nLlxuICogQHJldHVybnMge09iamVjdFtdW119XG4gKi9cbmZ1bmN0aW9uIGdldEhlYWRpbmdHcm91cHNJblNlcXVlbmNlKGhlYWRpbmdzLCBpbnZhbGlkSGVhZGluZ3MsIG1pbkluU2VxdWVuY2UpIHtcbiAgdmFyIGhlYWRpbmdHcm91cHNJblNlcXVlbmNlID0gW107XG4gIHZhciBjdXJyZW50SGVhZGluZ0dyb3VwSW5TZXF1ZW5jZSA9IFtdO1xuICB2YXIgY3VycmVudFNlcXVlbmNlID0gMDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGludmFsaWRIZWFkaW5ncy5pbmRleE9mKGkpID09PSAtMSkge1xuICAgICAgY3VycmVudEhlYWRpbmdHcm91cEluU2VxdWVuY2UucHVzaChoZWFkaW5nc1tpXSk7XG4gICAgICBjdXJyZW50U2VxdWVuY2UgKz0gMTtcblxuICAgICAgaWYgKGkgIT09IGhlYWRpbmdzLmxlbmd0aCAtIDEgJiYgaGVhZGluZ3NbaV0uZWwudGFnTmFtZSAhPT0gaGVhZGluZ3NbaSArIDFdLmVsLnRhZ05hbWUgJiYgaW52YWxpZEhlYWRpbmdzLmluZGV4T2YoaSArIDEpKSB7XG4gICAgICAgIGN1cnJlbnRIZWFkaW5nR3JvdXBJblNlcXVlbmNlID0gW107XG4gICAgICAgIGN1cnJlbnRTZXF1ZW5jZSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKGkgIT09IDAgJiYgaGVhZGluZ3NbaV0uZWwudGFnTmFtZSAhPT0gaGVhZGluZ3NbaSAtIDFdLmVsLnRhZ05hbWUpIHtcbiAgICAgICAgY3VycmVudEhlYWRpbmdHcm91cEluU2VxdWVuY2UucG9wKCk7XG4gICAgICAgIGN1cnJlbnRTZXF1ZW5jZSAtPSAxO1xuXG4gICAgICAgIGlmIChjdXJyZW50U2VxdWVuY2UgPj0gbWluSW5TZXF1ZW5jZSkge1xuICAgICAgICAgIGhlYWRpbmdHcm91cHNJblNlcXVlbmNlLnB1c2goY3VycmVudEhlYWRpbmdHcm91cEluU2VxdWVuY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEhlYWRpbmdHcm91cEluU2VxdWVuY2UgPSBbaGVhZGluZ3NbaV1dO1xuICAgICAgICBjdXJyZW50U2VxdWVuY2UgPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChjdXJyZW50U2VxdWVuY2UgPj0gbWluSW5TZXF1ZW5jZSkge1xuICAgIGhlYWRpbmdHcm91cHNJblNlcXVlbmNlLnB1c2goY3VycmVudEhlYWRpbmdHcm91cEluU2VxdWVuY2UpO1xuICB9XG5cbiAgcmV0dXJuIGhlYWRpbmdHcm91cHNJblNlcXVlbmNlO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBuZWNlc3NhcnkgRE9NIGVsZW1lbnRzIHRvIGdyb3VwIHJlbGF0ZWQgY29udGVudC5cbiAqIFJldHVybnMgYSBvYmplY3QgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBncm91cGVkIGNvbnRlbnQuXG4gKiBAcGFyYW0ge09iamVjdFtdfSBjaGlsZHJlbiAtIEFuIGFycmF5IG9mIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7T2JqZWN0W119XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUdyb3VwZWRDb250ZW50KGNoaWxkcmVuKSB7XG4gIHZhciBwYWlyaW5ncyA9IFtdO1xuXG4gIHZhciBmaXJzdENoaWxkID0gY2hpbGRyZW5bMF0uZWw7XG4gIHZhciB0cmlnZ2VycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB2YXIgY29udGVudHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBjb250ZW50cyA9IGZpcnN0Q2hpbGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY29udGVudHMsIGZpcnN0Q2hpbGQubmV4dFNpYmxpbmcpO1xuICB0cmlnZ2VycyA9IGZpcnN0Q2hpbGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodHJpZ2dlcnMsIGZpcnN0Q2hpbGQubmV4dFNpYmxpbmcpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICB2YXIgdHJpZ2dlciA9IGNoaWxkLmVsO1xuICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB0cmlnZ2VyID0gdHJpZ2dlcnMuYXBwZW5kQ2hpbGQodHJpZ2dlcik7XG4gICAgY29udGVudCA9IGNvbnRlbnRzLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGlsZC5jb250ZW50Lmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGNoaWxkLmNvbnRlbnRbal0pO1xuICAgIH1cblxuICAgIHBhaXJpbmdzLnB1c2goe1xuICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHJpZ2dlcnM6IHRyaWdnZXJzLFxuICAgIGNvbnRlbnRzOiBjb250ZW50cyxcbiAgICBwYWlyaW5nczogcGFpcmluZ3NcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFsbCBncm91cGFibGUgY29udGVudCB3aXRoaW4gdGhlIHN1cHBsaWVkIG5vZGUuXG4gKiBAcGFyYW0ge25vZGV9IG5vZGUgLSBBIG5vZGUgdG8gdHJhdmVyc2UgZm9yIGdyb3VwYWJsZSBjb250ZW50LlxuICogQHJldHVybnMge09iamVjdFtdW119XG4gKi9cbi8qXG4gKiBSZWN1cnNpdmUgZnVuY3Rpb246XG4gKiAgUmV0dXJucyBhbGwgZ3JvdXBzIG9mIGhlYWRpbmdzIHRoYXRcbiAqICBhcmUgZWxlZ2libGUgdG8gYmVjb21lIGdyb3VwZWQgY29udGVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0R3JvdXBlZENvbnRlbnRTZXQobm9kZSkge1xuICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuO1xuICB2YXIgY2hpbGRyZW5XaXRoR3JvdXBhYmxlQ29udGVudCA9IFtdO1xuICB2YXIgZ3JvdXBlZENvbnRlbnRTZXQgPSBbXTtcblxuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBjaGlsZEdyb3VwYWJsZUNvbnRlbnQgPSBnZXRHcm91cGVkQ29udGVudFNldChjaGlsZHJlbltpXSk7XG5cbiAgICBpZiAoY2hpbGRHcm91cGFibGVDb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNoaWxkcmVuV2l0aEdyb3VwYWJsZUNvbnRlbnQucHVzaChpKTtcbiAgICAgIGdyb3VwZWRDb250ZW50U2V0ID0gZ3JvdXBlZENvbnRlbnRTZXQuY29uY2F0KGNoaWxkR3JvdXBhYmxlQ29udGVudCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGhlYWRpbmdHcm91cHNJblNlcXVlbmNlID0gZ2V0SGVhZGluZ0dyb3Vwc0luU2VxdWVuY2UoY2hpbGRyZW4sIGNoaWxkcmVuV2l0aEdyb3VwYWJsZUNvbnRlbnQsIDMpO1xuXG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBoZWFkaW5nR3JvdXBzSW5TZXF1ZW5jZS5sZW5ndGg7IF9pICs9IDEpIHtcbiAgICBncm91cGVkQ29udGVudFNldC5wdXNoKGNyZWF0ZUdyb3VwZWRDb250ZW50KGhlYWRpbmdHcm91cHNJblNlcXVlbmNlW19pXSkpO1xuICB9XG5cbiAgcmV0dXJuIGdyb3VwZWRDb250ZW50U2V0O1xufVxuXG4vKipcbiAqIFdoZW4gc3RhdGljIHBhcnNpbmcgaXNuJ3QgZW5vdWdoLCB0aGVyZSdzIGludGVsbGlwYXJzZeKEoiFcbiAqIFNlYXJjaGVzIHRocm91Z2ggZG9tIGNvbnRlbnQgdG8gZmluZCBoZWFkaW5nIGdyb3VwaW5ncyB0aGF0XG4gKiBhcmUgZWxlZ2libGUgdG8gYmVjb21lIHRhYiBncm91cHMuXG4gKiBBc3N1bWVzIHRoYXQgY29udGVudCBpcyBpbiBhIGZsYXR0ZW5lZCBoaWVyYXJjaHkgaW4gdGhlIGRvbVxuICogYW5kIGludGVycHJldHMgaW5jcmVhc2luZyBoZWFkaW5nIHZhbHVlcyBhcyBhIGRlZXBlciBsZXZlbCBvZiBuZXN0aW5nLlxuICogUmV0dXJucyBhbGwgZ3JvdXBhYmxlIGNvbnRlbnQgYXMgYW4gYXJyYXkgb2Ygb2JqZWN0IGFycmF5cy5cbiAqIEBwYXJhbSB7bm9kZX0gZWwgLSBUaGUgbm9kZSB3aG8ncyBjb250ZW50IHdpbGwgYmUgc2VhcmNoZWQgZm9yIGdyb3VwYWJsZSBjb250ZW50LlxuICogQHJldHVybnMge09iamVjdFtdW119XG4gKi9cbmZ1bmN0aW9uIGludGVsbGlQYXJzZShlbCkge1xuICB2YXIgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcbiAgdmFyIGhlYWRpbmcgPSBlbC5xdWVyeVNlbGVjdG9yKCdoMSwgaDIsIGgzLCBoNCwgaDUsIGg2Jyk7XG5cbiAgLy8gRmFzdCByZXR1cm4gaWYgdGhlcmUncyBubyBoZWFkaW5nc1xuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG5cbiAgdmFyIHJvb3ROb2RlID0ge1xuICAgIGVsOiBlbCxcbiAgICBjb250ZW50OiBudWxsLFxuICAgIGNoaWxkcmVuOiBnZXRIZWFkaW5nVHJlZShoZWFkaW5nLCBjaGlsZHJlbiwgdHJ1ZSlcbiAgfTtcblxuICByZXR1cm4gZ2V0R3JvdXBlZENvbnRlbnRTZXQocm9vdE5vZGUpO1xufVxuXG4vKipcbiAqIFBhcnNlcyBjb250ZW50IGZyb20gYSBnaXZlbiBub2RlIGJhc2VkIG9uIGEgc3RhdGljIHN0cnVjdHVyZS5cbiAqIFRoZSBzdHJ1Y3R1cmUgaXMgYXMgZm9sbG93czpcbiAqIDx1bCBjbGFzcz1cInRhYnNcIj5cbiAqICAgPGxpIGNsYXNzPVwiYWN0aXZlXCI+VGFiIDE8L2xpPlxuICogICA8bGk+VGFiIDI8L2xpPlxuICogICA8bGk+VGFiIDM8L2xpPlxuICogPC91bD5cbiAqXG4gKiA8dWwgY2xhc3M9XCJ0YWJzLWNvbnRlbnRcIj5cbiAqICAgPGxpIGNsYXNzPVwiYWN0aXZlXCI+XG4gKiAgICAgPHA+VGFiIDEgY29udGVudCBnb2VzIGhlcmUuPC9wPlxuICogICA8L2xpPlxuICogICA8bGk+XG4gKiAgICAgPHA+VGFiIDIgY29udGVudCBnb2VzIGhlcmUuPC9wPlxuICogICA8L2xpPlxuICogICA8bGk+XG4gKiAgICAgPHA+VGFiIDMgY29udGVudCBnb2VzIGhlcmUuPC9wPlxuICogICA8L2xpPlxuICogPC91bD5cbiAqIFJldHVybnMgYWxsIGdyb3VwYWJsZSBjb250ZW50IGFzIGFuIGFycmF5IG9mIG9iamVjdCBhcnJheXMuXG4gKiBAcGFyYW0ge25vZGV9IGVsIC0gVGhlIG5vZGUgd2hvJ3MgY29udGVudCB3aWxsIGJlIHNlYXJjaGVkIGZvciBncm91cGFibGUgY29udGVudC5cbiAqIEByZXR1cm5zIHtPYmplY3RbXVtdfVxuICovXG5mdW5jdGlvbiBzdGF0aWNQYXJzZShlbCkge1xuICB2YXIgZ3JvdXBlZENvbnRlbnRTZXQgPSBbXTtcblxuICB2YXIgdGFicyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzJyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIHRyaWdnZXJzID0gdGFic1tpXS5jaGlsZHJlbjtcbiAgICB2YXIgY29udGVudHMgPSB0YWJzW2ldLm5leHRFbGVtZW50U2libGluZy5jaGlsZHJlbjtcblxuICAgIC8vIE9ubHkgYWRkIGEgdGFiIGdyb3VwIGlmIGVxdWFsIHRyaWdnZXJzIHRvIGNvbnRlbnRzXG4gICAgaWYgKHRyaWdnZXJzLmxlbmd0aCA9PT0gY29udGVudHMubGVuZ3RoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZ3JvdXBlZENvbnRlbnRTZXQucHVzaCh7XG4gICAgICAgIHRyaWdnZXJzOiB0YWJzW2ldLFxuICAgICAgICBjb250ZW50czogdGFic1tpXS5uZXh0RWxlbWVudFNpYmxpbmcsXG4gICAgICAgIHBhaXJpbmdzOiBbXVxuICAgICAgfSk7XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRyaWdnZXJzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyID0gdHJpZ2dlcnNbal07XG4gICAgICAgIHZhciBjb250ZW50ID0gY29udGVudHNbal07XG5cbiAgICAgICAgdmFyIHBhaXJpbmcgPSB7XG4gICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgICBjb250ZW50OiBjb250ZW50XG4gICAgICAgIH07XG5cbiAgICAgICAgZ3JvdXBlZENvbnRlbnRTZXRbaW5kZXhdLnBhaXJpbmdzLnB1c2gocGFpcmluZyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdyb3VwZWRDb250ZW50U2V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYWxsIGdyb3VwYWJsZSBjb250ZW50IGFzIGFuIGFycmF5IG9mIG9iamVjdCBhcnJheXMuXG4gKiBAcGFyYW0ge25vZGV9IGNvbnRlbnQgLSBUaGUgbm9kZSB0byBwYXJzZSBmb3IgZ3JvdXBhYmxlIGNvbnRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludGVsbGlwYXJzZSAtIFdoZXRoZXIgdG8gdXNlIGludGVsbGlnZW50IHBhcnNpbmcuXG4gKiBAcmV0dXJucyB7T2JqZWN0W11bXX1cbiAqL1xuZnVuY3Rpb24gcGFyc2UoY29udGVudCkge1xuICB2YXIgaW50ZWxsaXBhcnNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICB2YXIgZ3JvdXBlZENvbnRlbnRTZXQgPSBpbnRlbGxpcGFyc2UgPyBpbnRlbGxpUGFyc2UoY29udGVudCkgOiBzdGF0aWNQYXJzZShjb250ZW50KTtcblxuICByZXR1cm4gZ3JvdXBlZENvbnRlbnRTZXQ7XG59XG5cbi8qKiBBIGNsYXNzIGZvciBjcmVhdGluZywgbWFuYWdpbmcsIGFuZCBkZXN0cm95aW5nIGdyb3VwYWJsZSBjb250ZW50LiAqL1xuXG52YXIgR3JvdXBlZENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgZ3JvdXBlZCBjb250ZW50XG4gICAqIEBwYXJhbSB7bm9kZX0gZWwgLSBUaGUgZWxlbWVudCB0byBzZWFyY2ggZm9yIGdyb3VwYWJsZSBjb250ZW50IGluLlxuICAgKiBAcGFyYW0ge09iamVjdH0gIFtvcHRpb25zXSAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gIFtvcHRpb25zLmxheW91dF0gLSBUaGUgbGF5b3V0IHRvIGRpc3BsYXkgZ3JvdXBhYmxlIGNvbnRlbnQgaW4uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaW50ZWxsaXBhcnNlXSAtIFRoZSBwYXJzaW5nIGFsZ29yaXRobSB1c2VkIHRvIGZpbmQgY29udGVudCB3aXRoLlxuICAgKi9cbiAgZnVuY3Rpb24gR3JvdXBlZENvbnRlbnQoZWwpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEdyb3VwZWRDb250ZW50KTtcblxuICAgIHRoaXMubmFtZXNwYWNlID0gJ2dyb3VwZWQtY29udGVudCc7XG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMuZ3JvdXBlZENvbnRlbnRJbnN0YW5jZXMgPSBbXTtcblxuICAgIHZhciBsYXlvdXQgPSBvcHRpb25zLmxheW91dCB8fCAndGFicyc7XG4gICAgdmFyIGludGVsbGlwYXJzZSA9ICEhb3B0aW9ucy5pbnRlbGxpcGFyc2U7XG5cbiAgICBmb3JFYWNoKHBhcnNlKGVsLCBpbnRlbGxpcGFyc2UpLCBmdW5jdGlvbiAoZ3JvdXBlZENvbnRlbnQpIHtcbiAgICAgIHZhciBpZCA9IHV1aWR2NCgpO1xuICAgICAgdmFyIGluc3RhbmNlID0gbnVsbDtcbiAgICAgIHZhciBncm91cGVkQ29udGVudFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgZ3JvdXBlZENvbnRlbnRXcmFwcGVyID0gZ3JvdXBlZENvbnRlbnQudHJpZ2dlcnMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ3JvdXBlZENvbnRlbnRXcmFwcGVyLCBncm91cGVkQ29udGVudC50cmlnZ2Vycy5uZXh0U2libGluZyk7XG5cbiAgICAgIGFkZENsYXNzKGdyb3VwZWRDb250ZW50V3JhcHBlciwgX3RoaXMubmFtZXNwYWNlKTtcbiAgICAgIGFkZENsYXNzKGdyb3VwZWRDb250ZW50V3JhcHBlciwgX3RoaXMubmFtZXNwYWNlICsgJy1sYXlvdXQtJyArIGxheW91dCk7XG5cbiAgICAgIGdyb3VwZWRDb250ZW50V3JhcHBlci5hcHBlbmRDaGlsZChncm91cGVkQ29udGVudC50cmlnZ2Vycyk7XG4gICAgICBncm91cGVkQ29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQoZ3JvdXBlZENvbnRlbnQuY29udGVudHMpO1xuXG4gICAgICBncm91cGVkQ29udGVudC5uYW1lc3BhY2UgPSBfdGhpcy5uYW1lc3BhY2U7XG4gICAgICBncm91cGVkQ29udGVudC5pZCA9IGlkO1xuICAgICAgZ3JvdXBlZENvbnRlbnQudHJpZ2dlcnMuaWQgPSBfdGhpcy5uYW1lc3BhY2UgKyAnLScgKyBpZCArICctdHJpZ2dlcnMnO1xuICAgICAgZ3JvdXBlZENvbnRlbnQuY29udGVudHMuaWQgPSBfdGhpcy5uYW1lc3BhY2UgKyAnLScgKyBpZCArICctY29udGVudHMnO1xuXG4gICAgICBhZGRDbGFzcyhncm91cGVkQ29udGVudC50cmlnZ2VycywgX3RoaXMubmFtZXNwYWNlICsgJy10cmlnZ2VycycpO1xuICAgICAgYWRkQ2xhc3MoZ3JvdXBlZENvbnRlbnQuY29udGVudHMsIF90aGlzLm5hbWVzcGFjZSArICctY29udGVudHMnKTtcblxuICAgICAgZm9yRWFjaChncm91cGVkQ29udGVudC5wYWlyaW5ncywgZnVuY3Rpb24gKHBhaXJpbmcpIHtcbiAgICAgICAgYWRkQ2xhc3MocGFpcmluZy50cmlnZ2VyLCBfdGhpcy5uYW1lc3BhY2UgKyAnLXRyaWdnZXInKTtcbiAgICAgICAgYWRkQ2xhc3MocGFpcmluZy5jb250ZW50LCBfdGhpcy5uYW1lc3BhY2UgKyAnLWNvbnRlbnQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBzd2l0Y2ggKGxheW91dCkge1xuICAgICAgICBjYXNlICdhY2NvcmRpb24nOlxuICAgICAgICAgIGluc3RhbmNlID0gbmV3IEFjY29yZGlvbkxheW91dChncm91cGVkQ29udGVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RhYnMnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGluc3RhbmNlID0gbmV3IFRhYnNMYXlvdXQoZ3JvdXBlZENvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5ncm91cGVkQ29udGVudEluc3RhbmNlcy5wdXNoKHtcbiAgICAgICAgZ3JvdXBlZENvbnRlbnQ6IGdyb3VwZWRDb250ZW50LFxuICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIFVubG9hZCBhbGwgZ3JvdXBlZCBjb250ZW50IGluc3RhbmNlcyAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoR3JvdXBlZENvbnRlbnQsIFt7XG4gICAga2V5OiAndW5sb2FkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5sb2FkKCkge1xuICAgICAgZm9yRWFjaCh0aGlzLmdyb3VwZWRDb250ZW50SW5zdGFuY2VzLCBmdW5jdGlvbiAoZ3JvdXBlZENvbnRlbnRJbnN0YW5jZSkge1xuICAgICAgICBncm91cGVkQ29udGVudEluc3RhbmNlLmluc3RhbmNlLnVubG9hZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBHcm91cGVkQ29udGVudDtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBHcm91cGVkQ29udGVudDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@pixelunion/grouped-content/dist/index.js\n");

/***/ }),

/***/ "./node_modules/@pixelunion/shopify-cross-border/dist/index.es.js":
/*!************************************************************************!*\
  !*** ./node_modules/@pixelunion/shopify-cross-border/dist/index.es.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/*!\n * @pixelunion/shopify-cross-border v1.0.4\n * (c) 2020 \n */\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar EventHandler_1 = createCommonjsModule(function (module, exports) {\n\nexports.__esModule = true;\n\nvar EventHandler =\n/** @class */\nfunction () {\n  function EventHandler() {\n    this.events = [];\n  }\n\n  EventHandler.prototype.register = function (el, event, listener) {\n    if (!el || !event || !listener) return null;\n    this.events.push({\n      el: el,\n      event: event,\n      listener: listener\n    });\n    el.addEventListener(event, listener);\n    return {\n      el: el,\n      event: event,\n      listener: listener\n    };\n  };\n\n  EventHandler.prototype.unregister = function (_a) {\n    var el = _a.el,\n        event = _a.event,\n        listener = _a.listener;\n    if (!el || !event || !listener) return null;\n    this.events = this.events.filter(function (e) {\n      return el !== e.el || event !== e.event || listener !== e.listener;\n    });\n    el.removeEventListener(event, listener);\n    return {\n      el: el,\n      event: event,\n      listener: listener\n    };\n  };\n\n  EventHandler.prototype.unregisterAll = function () {\n    this.events.forEach(function (_a) {\n      var el = _a.el,\n          event = _a.event,\n          listener = _a.listener;\n      return el.removeEventListener(event, listener);\n    });\n    this.events = [];\n  };\n\n  return EventHandler;\n}();\n\nexports[\"default\"] = EventHandler;\n});\n\nvar Events = unwrapExports(EventHandler_1);\n\nvar selectors = {\n  disclosureList: '[data-disclosure-list]',\n  disclosureToggle: '[data-disclosure-toggle]',\n  disclosureInput: '[data-disclosure-input]',\n  disclosureOptions: '[data-disclosure-option]'\n};\nvar classes = {\n  listVisible: 'disclosure-list--visible',\n  alternateDrop: 'disclosure-list--alternate-drop'\n};\n\nvar Disclosure = /*#__PURE__*/function () {\n  function Disclosure(el) {\n    _classCallCheck(this, Disclosure);\n\n    this.el = el;\n    this.events = new Events();\n    this.cache = {};\n\n    this._cacheSelectors();\n\n    this._connectOptions();\n\n    this._connectToggle();\n\n    this._onFocusOut();\n  }\n\n  _createClass(Disclosure, [{\n    key: \"_cacheSelectors\",\n    value: function _cacheSelectors() {\n      this.cache = {\n        disclosureList: this.el.querySelector(selectors.disclosureList),\n        disclosureToggle: this.el.querySelector(selectors.disclosureToggle),\n        disclosureInput: this.el.querySelector(selectors.disclosureInput),\n        disclosureOptions: this.el.querySelectorAll(selectors.disclosureOptions)\n      };\n    }\n  }, {\n    key: \"_connectToggle\",\n    value: function _connectToggle() {\n      var _this = this;\n\n      this.events.register(this.cache.disclosureToggle, 'click', function (e) {\n        var ariaExpanded = e.currentTarget.getAttribute('aria-expanded') === 'true';\n        e.currentTarget.setAttribute('aria-expanded', !ariaExpanded);\n\n        _this.cache.disclosureList.classList.remove(classes.alternateDrop);\n\n        _this.cache.disclosureList.classList.toggle(classes.listVisible);\n\n        window.requestAnimationFrame(function () {\n          var _this$cache$disclosur = _this.cache.disclosureList.getBoundingClientRect(),\n              left = _this$cache$disclosur.left,\n              width = _this$cache$disclosur.width;\n\n          var _window = window,\n              innerWidth = _window.innerWidth;\n          var gutter = 30;\n\n          if (left + width + gutter > innerWidth) {\n            _this.cache.disclosureList.classList.add(classes.alternateDrop);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_connectOptions\",\n    value: function _connectOptions() {\n      var _this2 = this;\n\n      var options = this.cache.disclosureOptions;\n\n      for (var i = 0; i < options.length; i++) {\n        var option = options[i];\n        this.events.register(option, 'click', function (e) {\n          return _this2._submitForm(e.currentTarget.dataset.value);\n        });\n      }\n    }\n  }, {\n    key: \"_onFocusOut\",\n    value: function _onFocusOut() {\n      var _this3 = this;\n\n      this.events.register(this.cache.disclosureToggle, 'focusout', function (e) {\n        var disclosureLostFocus = !_this3.el.contains(e.relatedTarget);\n\n        if (disclosureLostFocus) {\n          _this3._hideList();\n        }\n      });\n      this.events.register(this.cache.disclosureList, 'focusout', function (e) {\n        var childInFocus = e.currentTarget.contains(e.relatedTarget);\n\n        var isVisible = _this3.cache.disclosureList.classList.contains(classes.listVisible);\n\n        if (isVisible && !childInFocus) {\n          _this3._hideList();\n        }\n      });\n      this.events.register(this.el, 'keyup', function (e) {\n        if (e.defaultPrevented) {\n          return; // Do nothing if the event was already processed\n        }\n\n        if (e.key !== 'Escape' || e.key !== 'Esc') return;\n\n        _this3._hideList();\n\n        _this3.cache.disclosureToggle.focus();\n      });\n      this.events.register(document.body, 'click', function (e) {\n        var isOption = _this3.el.contains(e.target);\n\n        var isVisible = _this3.cache.disclosureList.classList.contains(classes.listVisible);\n\n        if (isVisible && !isOption) {\n          _this3._hideList();\n        }\n      });\n    }\n  }, {\n    key: \"_submitForm\",\n    value: function _submitForm(value) {\n      this.cache.disclosureInput.value = value;\n      this.el.closest('form').submit();\n    }\n  }, {\n    key: \"_hideList\",\n    value: function _hideList() {\n      this.cache.disclosureList.classList.remove(classes.listVisible);\n      this.cache.disclosureToggle.setAttribute('aria-expanded', false);\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.events.unregisterAll();\n    }\n  }]);\n\n  return Disclosure;\n}();\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function closest(s) {\n    var el = this;\n\n    do {\n      if (el.matches(s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Disclosure);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGVsdW5pb24vc2hvcGlmeS1jcm9zcy1ib3JkZXIvZGlzdC9pbmRleC5lcy5qcz9hZTI3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsWUFBWSxFQUFFO0FBQ2hDOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEscUJBQXFCLG9CQUFvQjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVlLHlFQUFVLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHBpeGVsdW5pb24vc2hvcGlmeS1jcm9zcy1ib3JkZXIvZGlzdC9pbmRleC5lcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyohXG4gKiBAcGl4ZWx1bmlvbi9zaG9waWZ5LWNyb3NzLWJvcmRlciB2MS4wLjRcbiAqIChjKSAyMDIwIFxuICovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gdW53cmFwRXhwb3J0cyAoeCkge1xuXHRyZXR1cm4geCAmJiB4Ll9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdkZWZhdWx0JykgPyB4WydkZWZhdWx0J10gOiB4O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxudmFyIEV2ZW50SGFuZGxlcl8xID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgRXZlbnRIYW5kbGVyID1cbi8qKiBAY2xhc3MgKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXZlbnRIYW5kbGVyKCkge1xuICAgIHRoaXMuZXZlbnRzID0gW107XG4gIH1cblxuICBFdmVudEhhbmRsZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGVsLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIWVsIHx8ICFldmVudCB8fCAhbGlzdGVuZXIpIHJldHVybiBudWxsO1xuICAgIHRoaXMuZXZlbnRzLnB1c2goe1xuICAgICAgZWw6IGVsLFxuICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyXG4gICAgfSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB7XG4gICAgICBlbDogZWwsXG4gICAgICBldmVudDogZXZlbnQsXG4gICAgICBsaXN0ZW5lcjogbGlzdGVuZXJcbiAgICB9O1xuICB9O1xuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBlbCA9IF9hLmVsLFxuICAgICAgICBldmVudCA9IF9hLmV2ZW50LFxuICAgICAgICBsaXN0ZW5lciA9IF9hLmxpc3RlbmVyO1xuICAgIGlmICghZWwgfHwgIWV2ZW50IHx8ICFsaXN0ZW5lcikgcmV0dXJuIG51bGw7XG4gICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlbCAhPT0gZS5lbCB8fCBldmVudCAhPT0gZS5ldmVudCB8fCBsaXN0ZW5lciAhPT0gZS5saXN0ZW5lcjtcbiAgICB9KTtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVsOiBlbCxcbiAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lclxuICAgIH07XG4gIH07XG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51bnJlZ2lzdGVyQWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XG4gICAgICB2YXIgZWwgPSBfYS5lbCxcbiAgICAgICAgICBldmVudCA9IF9hLmV2ZW50LFxuICAgICAgICAgIGxpc3RlbmVyID0gX2EubGlzdGVuZXI7XG4gICAgICByZXR1cm4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH0pO1xuICAgIHRoaXMuZXZlbnRzID0gW107XG4gIH07XG5cbiAgcmV0dXJuIEV2ZW50SGFuZGxlcjtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFdmVudEhhbmRsZXI7XG59KTtcblxudmFyIEV2ZW50cyA9IHVud3JhcEV4cG9ydHMoRXZlbnRIYW5kbGVyXzEpO1xuXG52YXIgc2VsZWN0b3JzID0ge1xuICBkaXNjbG9zdXJlTGlzdDogJ1tkYXRhLWRpc2Nsb3N1cmUtbGlzdF0nLFxuICBkaXNjbG9zdXJlVG9nZ2xlOiAnW2RhdGEtZGlzY2xvc3VyZS10b2dnbGVdJyxcbiAgZGlzY2xvc3VyZUlucHV0OiAnW2RhdGEtZGlzY2xvc3VyZS1pbnB1dF0nLFxuICBkaXNjbG9zdXJlT3B0aW9uczogJ1tkYXRhLWRpc2Nsb3N1cmUtb3B0aW9uXSdcbn07XG52YXIgY2xhc3NlcyA9IHtcbiAgbGlzdFZpc2libGU6ICdkaXNjbG9zdXJlLWxpc3QtLXZpc2libGUnLFxuICBhbHRlcm5hdGVEcm9wOiAnZGlzY2xvc3VyZS1saXN0LS1hbHRlcm5hdGUtZHJvcCdcbn07XG5cbnZhciBEaXNjbG9zdXJlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGlzY2xvc3VyZShlbCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNjbG9zdXJlKTtcblxuICAgIHRoaXMuZWwgPSBlbDtcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLmNhY2hlID0ge307XG5cbiAgICB0aGlzLl9jYWNoZVNlbGVjdG9ycygpO1xuXG4gICAgdGhpcy5fY29ubmVjdE9wdGlvbnMoKTtcblxuICAgIHRoaXMuX2Nvbm5lY3RUb2dnbGUoKTtcblxuICAgIHRoaXMuX29uRm9jdXNPdXQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEaXNjbG9zdXJlLCBbe1xuICAgIGtleTogXCJfY2FjaGVTZWxlY3RvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NhY2hlU2VsZWN0b3JzKCkge1xuICAgICAgdGhpcy5jYWNoZSA9IHtcbiAgICAgICAgZGlzY2xvc3VyZUxpc3Q6IHRoaXMuZWwucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuZGlzY2xvc3VyZUxpc3QpLFxuICAgICAgICBkaXNjbG9zdXJlVG9nZ2xlOiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmRpc2Nsb3N1cmVUb2dnbGUpLFxuICAgICAgICBkaXNjbG9zdXJlSW5wdXQ6IHRoaXMuZWwucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuZGlzY2xvc3VyZUlucHV0KSxcbiAgICAgICAgZGlzY2xvc3VyZU9wdGlvbnM6IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMuZGlzY2xvc3VyZU9wdGlvbnMpXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfY29ubmVjdFRvZ2dsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY29ubmVjdFRvZ2dsZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHRoaXMuY2FjaGUuZGlzY2xvc3VyZVRvZ2dsZSwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGFyaWFFeHBhbmRlZCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnO1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgIWFyaWFFeHBhbmRlZCk7XG5cbiAgICAgICAgX3RoaXMuY2FjaGUuZGlzY2xvc3VyZUxpc3QuY2xhc3NMaXN0LnJlbW92ZShjbGFzc2VzLmFsdGVybmF0ZURyb3ApO1xuXG4gICAgICAgIF90aGlzLmNhY2hlLmRpc2Nsb3N1cmVMaXN0LmNsYXNzTGlzdC50b2dnbGUoY2xhc3Nlcy5saXN0VmlzaWJsZSk7XG5cbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIF90aGlzJGNhY2hlJGRpc2Nsb3N1ciA9IF90aGlzLmNhY2hlLmRpc2Nsb3N1cmVMaXN0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICBsZWZ0ID0gX3RoaXMkY2FjaGUkZGlzY2xvc3VyLmxlZnQsXG4gICAgICAgICAgICAgIHdpZHRoID0gX3RoaXMkY2FjaGUkZGlzY2xvc3VyLndpZHRoO1xuXG4gICAgICAgICAgdmFyIF93aW5kb3cgPSB3aW5kb3csXG4gICAgICAgICAgICAgIGlubmVyV2lkdGggPSBfd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgdmFyIGd1dHRlciA9IDMwO1xuXG4gICAgICAgICAgaWYgKGxlZnQgKyB3aWR0aCArIGd1dHRlciA+IGlubmVyV2lkdGgpIHtcbiAgICAgICAgICAgIF90aGlzLmNhY2hlLmRpc2Nsb3N1cmVMaXN0LmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5hbHRlcm5hdGVEcm9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jb25uZWN0T3B0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY29ubmVjdE9wdGlvbnMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLmNhY2hlLmRpc2Nsb3N1cmVPcHRpb25zO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbaV07XG4gICAgICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKG9wdGlvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLl9zdWJtaXRGb3JtKGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vbkZvY3VzT3V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkZvY3VzT3V0KCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHRoaXMuY2FjaGUuZGlzY2xvc3VyZVRvZ2dsZSwgJ2ZvY3Vzb3V0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGRpc2Nsb3N1cmVMb3N0Rm9jdXMgPSAhX3RoaXMzLmVsLmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCk7XG5cbiAgICAgICAgaWYgKGRpc2Nsb3N1cmVMb3N0Rm9jdXMpIHtcbiAgICAgICAgICBfdGhpczMuX2hpZGVMaXN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy5jYWNoZS5kaXNjbG9zdXJlTGlzdCwgJ2ZvY3Vzb3V0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNoaWxkSW5Gb2N1cyA9IGUuY3VycmVudFRhcmdldC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpO1xuXG4gICAgICAgIHZhciBpc1Zpc2libGUgPSBfdGhpczMuY2FjaGUuZGlzY2xvc3VyZUxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzZXMubGlzdFZpc2libGUpO1xuXG4gICAgICAgIGlmIChpc1Zpc2libGUgJiYgIWNoaWxkSW5Gb2N1cykge1xuICAgICAgICAgIF90aGlzMy5faGlkZUxpc3QoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLmVsLCAna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBEbyBub3RoaW5nIGlmIHRoZSBldmVudCB3YXMgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlLmtleSAhPT0gJ0VzY2FwZScgfHwgZS5rZXkgIT09ICdFc2MnKSByZXR1cm47XG5cbiAgICAgICAgX3RoaXMzLl9oaWRlTGlzdCgpO1xuXG4gICAgICAgIF90aGlzMy5jYWNoZS5kaXNjbG9zdXJlVG9nZ2xlLmZvY3VzKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKGRvY3VtZW50LmJvZHksICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBpc09wdGlvbiA9IF90aGlzMy5lbC5jb250YWlucyhlLnRhcmdldCk7XG5cbiAgICAgICAgdmFyIGlzVmlzaWJsZSA9IF90aGlzMy5jYWNoZS5kaXNjbG9zdXJlTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3Nlcy5saXN0VmlzaWJsZSk7XG5cbiAgICAgICAgaWYgKGlzVmlzaWJsZSAmJiAhaXNPcHRpb24pIHtcbiAgICAgICAgICBfdGhpczMuX2hpZGVMaXN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc3VibWl0Rm9ybVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc3VibWl0Rm9ybSh2YWx1ZSkge1xuICAgICAgdGhpcy5jYWNoZS5kaXNjbG9zdXJlSW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuZWwuY2xvc2VzdCgnZm9ybScpLnN1Ym1pdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGlkZUxpc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hpZGVMaXN0KCkge1xuICAgICAgdGhpcy5jYWNoZS5kaXNjbG9zdXJlTGlzdC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMubGlzdFZpc2libGUpO1xuICAgICAgdGhpcy5jYWNoZS5kaXNjbG9zdXJlVG9nZ2xlLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW5sb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVubG9hZCgpIHtcbiAgICAgIHRoaXMuZXZlbnRzLnVucmVnaXN0ZXJBbGwoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRGlzY2xvc3VyZTtcbn0oKTtcblxuaWYgKCFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG59XG5cbmlmICghRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCkge1xuICBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0ID0gZnVuY3Rpb24gY2xvc2VzdChzKSB7XG4gICAgdmFyIGVsID0gdGhpcztcblxuICAgIGRvIHtcbiAgICAgIGlmIChlbC5tYXRjaGVzKHMpKSByZXR1cm4gZWw7XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQgfHwgZWwucGFyZW50Tm9kZTtcbiAgICB9IHdoaWxlIChlbCAhPT0gbnVsbCAmJiBlbC5ub2RlVHlwZSA9PT0gMSk7XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlzY2xvc3VyZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@pixelunion/shopify-cross-border/dist/index.es.js\n");

/***/ }),

/***/ "./node_modules/@shopify/theme-a11y/theme-a11y.js":
/*!********************************************************!*\
  !*** ./node_modules/@shopify/theme-a11y/theme-a11y.js ***!
  \********************************************************/
/*! exports provided: forceFocus, focusHash, bindInPageLinks, focusable, trapFocus, removeTrapFocus, accessibleLinks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forceFocus\", function() { return forceFocus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"focusHash\", function() { return focusHash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bindInPageLinks\", function() { return bindInPageLinks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"focusable\", function() { return focusable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trapFocus\", function() { return trapFocus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeTrapFocus\", function() { return removeTrapFocus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"accessibleLinks\", function() { return accessibleLinks; });\n/**\n * A11y Helpers\n * -----------------------------------------------------------------------------\n * A collection of useful functions that help make your theme more accessible\n */\n\n/**\n * Moves focus to an HTML element\n * eg for In-page links, after scroll, focus shifts to content area so that\n * next `tab` is where user expects. Used in bindInPageLinks()\n * eg move focus to a modal that is opened. Used in trapFocus()\n *\n * @param {Element} container - Container DOM element to trap focus inside of\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n */\nfunction forceFocus(element, options) {\n  options = options || {};\n\n  var savedTabIndex = element.tabIndex;\n\n  element.tabIndex = -1;\n  element.dataset.tabIndex = savedTabIndex;\n  element.focus();\n  if (typeof options.className !== 'undefined') {\n    element.classList.add(options.className);\n  }\n  element.addEventListener('blur', callback);\n\n  function callback(event) {\n    event.target.removeEventListener(event.type, callback);\n\n    element.tabIndex = savedTabIndex;\n    delete element.dataset.tabIndex;\n    if (typeof options.className !== 'undefined') {\n      element.classList.remove(options.className);\n    }\n  }\n}\n\n/**\n * If there's a hash in the url, focus the appropriate element\n * This compensates for older browsers that do not move keyboard focus to anchor links.\n * Recommendation: To be called once the page in loaded.\n *\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n * @param {string} options.ignore - Selector for elements to not include.\n */\n\nfunction focusHash(options) {\n  options = options || {};\n  var hash = window.location.hash;\n  var element = document.getElementById(hash.slice(1));\n\n  // if we are to ignore this element, early return\n  if (element && options.ignore && element.matches(options.ignore)) {\n    return false;\n  }\n\n  if (hash && element) {\n    forceFocus(element, options);\n  }\n}\n\n/**\n * When an in-page (url w/hash) link is clicked, focus the appropriate element\n * This compensates for older browsers that do not move keyboard focus to anchor links.\n * Recommendation: To be called once the page in loaded.\n *\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n * @param {string} options.ignore - CSS selector for elements to not include.\n */\n\nfunction bindInPageLinks(options) {\n  options = options || {};\n  var links = Array.prototype.slice.call(\n    document.querySelectorAll('a[href^=\"#\"]')\n  );\n\n  return links.filter(function(link) {\n    if (link.hash === '#' || link.hash === '') {\n      return false;\n    }\n\n    if (options.ignore && link.matches(options.ignore)) {\n      return false;\n    }\n\n    var element = document.querySelector(link.hash);\n\n    if (!element) {\n      return false;\n    }\n\n    link.addEventListener('click', function() {\n      forceFocus(element, options);\n    });\n\n    return true;\n  });\n}\n\nfunction focusable(container) {\n  var elements = Array.prototype.slice.call(\n    container.querySelectorAll(\n      '[tabindex],' +\n        '[draggable],' +\n        'a[href],' +\n        'area,' +\n        'button:enabled,' +\n        'input:not([type=hidden]):enabled,' +\n        'object,' +\n        'select:enabled,' +\n        'textarea:enabled'\n    )\n  );\n\n  // Filter out elements that are not visible.\n  // Copied from jQuery https://github.com/jquery/jquery/blob/2d4f53416e5f74fa98e0c1d66b6f3c285a12f0ce/src/css/hiddenVisibleSelectors.js\n  return elements.filter(function(element) {\n    return !!(\n      element.offsetWidth ||\n      element.offsetHeight ||\n      element.getClientRects().length\n    );\n  });\n}\n\n/**\n * Traps the focus in a particular container\n *\n * @param {Element} container - Container DOM element to trap focus inside of\n * @param {Element} elementToFocus - Element to be focused on first\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n */\n\nvar trapFocusHandlers = {};\n\nfunction trapFocus(container, options) {\n  options = options || {};\n  var elements = focusable(container);\n  var elementToFocus = options.elementToFocus || container;\n  var first = elements[0];\n  var last = elements[elements.length - 1];\n\n  removeTrapFocus();\n\n  trapFocusHandlers.focusin = function(event) {\n    if (container !== event.target && !container.contains(event.target)) {\n      first.focus();\n    }\n\n    if (\n      event.target !== container &&\n      event.target !== last &&\n      event.target !== first\n    )\n      return;\n    document.addEventListener('keydown', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.focusout = function() {\n    document.removeEventListener('keydown', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.keydown = function(event) {\n    if (event.keyCode !== 9) return; // If not TAB key\n\n    // On the last focusable element and tab forward, focus the first element.\n    if (event.target === last && !event.shiftKey) {\n      event.preventDefault();\n      first.focus();\n    }\n\n    //  On the first focusable element and tab backward, focus the last element.\n    if (\n      (event.target === container || event.target === first) &&\n      event.shiftKey\n    ) {\n      event.preventDefault();\n      last.focus();\n    }\n  };\n\n  document.addEventListener('focusout', trapFocusHandlers.focusout);\n  document.addEventListener('focusin', trapFocusHandlers.focusin);\n\n  forceFocus(elementToFocus, options);\n}\n\n/**\n * Removes the trap of focus from the page\n */\nfunction removeTrapFocus() {\n  document.removeEventListener('focusin', trapFocusHandlers.focusin);\n  document.removeEventListener('focusout', trapFocusHandlers.focusout);\n  document.removeEventListener('keydown', trapFocusHandlers.keydown);\n}\n\n/**\n * Add a preventive message to external links and links that open to a new window.\n * @param {string} elements - Specific elements to be targeted\n * @param {object} options.messages - Custom messages to overwrite with keys: newWindow, external, newWindowExternal\n * @param {string} options.messages.newWindow - When the link opens in a new window (e.g. target=\"_blank\")\n * @param {string} options.messages.external - When the link is to a different host domain.\n * @param {string} options.messages.newWindowExternal - When the link is to a different host domain and opens in a new window.\n * @param {object} options.prefix - Prefix to namespace \"id\" of the messages\n */\nfunction accessibleLinks(elements, options) {\n  if (typeof elements !== 'string') {\n    throw new TypeError(elements + ' is not a String.');\n  }\n\n  elements = document.querySelectorAll(elements);\n\n  if (elements.length === 0) {\n    return;\n  }\n\n  options = options || {};\n  options.messages = options.messages || {};\n\n  var messages = {\n    newWindow: options.messages.newWindow || 'Opens in a new window.',\n    external: options.messages.external || 'Opens external website.',\n    newWindowExternal:\n      options.messages.newWindowExternal ||\n      'Opens external website in a new window.'\n  };\n\n  var prefix = options.prefix || 'a11y';\n\n  var messageSelectors = {\n    newWindow: prefix + '-new-window-message',\n    external: prefix + '-external-message',\n    newWindowExternal: prefix + '-new-window-external-message'\n  };\n\n  function generateHTML(messages) {\n    var container = document.createElement('ul');\n    var htmlMessages = Object.keys(messages).reduce(function(html, key) {\n      return (html +=\n        '<li id=' + messageSelectors[key] + '>' + messages[key] + '</li>');\n    }, '');\n\n    container.setAttribute('hidden', true);\n    container.innerHTML = htmlMessages;\n\n    document.body.appendChild(container);\n  }\n\n  function externalSite(link) {\n    return link.hostname !== window.location.hostname;\n  }\n\n  elements.forEach(function(link) {\n    var target = link.getAttribute('target');\n    var rel = link.getAttribute('rel');\n    var isExternal = externalSite(link);\n    var isTargetBlank = target === '_blank';\n    var isRelNoopenerEmpty = rel === null || rel.indexOf('noopener') === -1;\n\n    if (isTargetBlank && isRelNoopenerEmpty) {\n      link.setAttribute('rel', 'noopener');\n    }\n\n    if (isExternal && isTargetBlank) {\n      link.setAttribute('aria-describedby', messageSelectors.newWindowExternal);\n    } else if (isExternal) {\n      link.setAttribute('aria-describedby', messageSelectors.external);\n    } else if (isTargetBlank) {\n      link.setAttribute('aria-describedby', messageSelectors.newWindow);\n    }\n  });\n\n  generateHTML(messages);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNob3BpZnkvdGhlbWUtYTExeS90aGVtZS1hMTF5LmpzP2ZlODQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjs7QUFFQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9Ac2hvcGlmeS90aGVtZS1hMTF5L3RoZW1lLWExMXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEExMXkgSGVscGVyc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEEgY29sbGVjdGlvbiBvZiB1c2VmdWwgZnVuY3Rpb25zIHRoYXQgaGVscCBtYWtlIHlvdXIgdGhlbWUgbW9yZSBhY2Nlc3NpYmxlXG4gKi9cblxuLyoqXG4gKiBNb3ZlcyBmb2N1cyB0byBhbiBIVE1MIGVsZW1lbnRcbiAqIGVnIGZvciBJbi1wYWdlIGxpbmtzLCBhZnRlciBzY3JvbGwsIGZvY3VzIHNoaWZ0cyB0byBjb250ZW50IGFyZWEgc28gdGhhdFxuICogbmV4dCBgdGFiYCBpcyB3aGVyZSB1c2VyIGV4cGVjdHMuIFVzZWQgaW4gYmluZEluUGFnZUxpbmtzKClcbiAqIGVnIG1vdmUgZm9jdXMgdG8gYSBtb2RhbCB0aGF0IGlzIG9wZW5lZC4gVXNlZCBpbiB0cmFwRm9jdXMoKVxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGFpbmVyIC0gQ29udGFpbmVyIERPTSBlbGVtZW50IHRvIHRyYXAgZm9jdXMgaW5zaWRlIG9mXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFNldHRpbmdzIHVuaXF1ZSB0byB5b3VyIHRoZW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jbGFzc05hbWUgLSBDbGFzcyBuYW1lIHRvIGFwcGx5IHRvIGVsZW1lbnQgb24gZm9jdXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JjZUZvY3VzKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHNhdmVkVGFiSW5kZXggPSBlbGVtZW50LnRhYkluZGV4O1xuXG4gIGVsZW1lbnQudGFiSW5kZXggPSAtMTtcbiAgZWxlbWVudC5kYXRhc2V0LnRhYkluZGV4ID0gc2F2ZWRUYWJJbmRleDtcbiAgZWxlbWVudC5mb2N1cygpO1xuICBpZiAodHlwZW9mIG9wdGlvbnMuY2xhc3NOYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChvcHRpb25zLmNsYXNzTmFtZSk7XG4gIH1cbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgY2FsbGJhY2spO1xuXG4gIGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgZXZlbnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQudHlwZSwgY2FsbGJhY2spO1xuXG4gICAgZWxlbWVudC50YWJJbmRleCA9IHNhdmVkVGFiSW5kZXg7XG4gICAgZGVsZXRlIGVsZW1lbnQuZGF0YXNldC50YWJJbmRleDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2xhc3NOYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvbnMuY2xhc3NOYW1lKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJZiB0aGVyZSdzIGEgaGFzaCBpbiB0aGUgdXJsLCBmb2N1cyB0aGUgYXBwcm9wcmlhdGUgZWxlbWVudFxuICogVGhpcyBjb21wZW5zYXRlcyBmb3Igb2xkZXIgYnJvd3NlcnMgdGhhdCBkbyBub3QgbW92ZSBrZXlib2FyZCBmb2N1cyB0byBhbmNob3IgbGlua3MuXG4gKiBSZWNvbW1lbmRhdGlvbjogVG8gYmUgY2FsbGVkIG9uY2UgdGhlIHBhZ2UgaW4gbG9hZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gU2V0dGluZ3MgdW5pcXVlIHRvIHlvdXIgdGhlbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmNsYXNzTmFtZSAtIENsYXNzIG5hbWUgdG8gYXBwbHkgdG8gZWxlbWVudCBvbiBmb2N1cy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmlnbm9yZSAtIFNlbGVjdG9yIGZvciBlbGVtZW50cyB0byBub3QgaW5jbHVkZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNIYXNoKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaC5zbGljZSgxKSk7XG5cbiAgLy8gaWYgd2UgYXJlIHRvIGlnbm9yZSB0aGlzIGVsZW1lbnQsIGVhcmx5IHJldHVyblxuICBpZiAoZWxlbWVudCAmJiBvcHRpb25zLmlnbm9yZSAmJiBlbGVtZW50Lm1hdGNoZXMob3B0aW9ucy5pZ25vcmUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgZWxlbWVudCkge1xuICAgIGZvcmNlRm9jdXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuLyoqXG4gKiBXaGVuIGFuIGluLXBhZ2UgKHVybCB3L2hhc2gpIGxpbmsgaXMgY2xpY2tlZCwgZm9jdXMgdGhlIGFwcHJvcHJpYXRlIGVsZW1lbnRcbiAqIFRoaXMgY29tcGVuc2F0ZXMgZm9yIG9sZGVyIGJyb3dzZXJzIHRoYXQgZG8gbm90IG1vdmUga2V5Ym9hcmQgZm9jdXMgdG8gYW5jaG9yIGxpbmtzLlxuICogUmVjb21tZW5kYXRpb246IFRvIGJlIGNhbGxlZCBvbmNlIHRoZSBwYWdlIGluIGxvYWRlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFNldHRpbmdzIHVuaXF1ZSB0byB5b3VyIHRoZW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jbGFzc05hbWUgLSBDbGFzcyBuYW1lIHRvIGFwcGx5IHRvIGVsZW1lbnQgb24gZm9jdXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZ25vcmUgLSBDU1Mgc2VsZWN0b3IgZm9yIGVsZW1lbnRzIHRvIG5vdCBpbmNsdWRlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kSW5QYWdlTGlua3Mob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIGxpbmtzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXj1cIiNcIl0nKVxuICApO1xuXG4gIHJldHVybiBsaW5rcy5maWx0ZXIoZnVuY3Rpb24obGluaykge1xuICAgIGlmIChsaW5rLmhhc2ggPT09ICcjJyB8fCBsaW5rLmhhc2ggPT09ICcnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaWdub3JlICYmIGxpbmsubWF0Y2hlcyhvcHRpb25zLmlnbm9yZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobGluay5oYXNoKTtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGZvcmNlRm9jdXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c2FibGUoY29udGFpbmVyKSB7XG4gIHZhciBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJ1t0YWJpbmRleF0sJyArXG4gICAgICAgICdbZHJhZ2dhYmxlXSwnICtcbiAgICAgICAgJ2FbaHJlZl0sJyArXG4gICAgICAgICdhcmVhLCcgK1xuICAgICAgICAnYnV0dG9uOmVuYWJsZWQsJyArXG4gICAgICAgICdpbnB1dDpub3QoW3R5cGU9aGlkZGVuXSk6ZW5hYmxlZCwnICtcbiAgICAgICAgJ29iamVjdCwnICtcbiAgICAgICAgJ3NlbGVjdDplbmFibGVkLCcgK1xuICAgICAgICAndGV4dGFyZWE6ZW5hYmxlZCdcbiAgICApXG4gICk7XG5cbiAgLy8gRmlsdGVyIG91dCBlbGVtZW50cyB0aGF0IGFyZSBub3QgdmlzaWJsZS5cbiAgLy8gQ29waWVkIGZyb20galF1ZXJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L2Jsb2IvMmQ0ZjUzNDE2ZTVmNzRmYTk4ZTBjMWQ2NmI2ZjNjMjg1YTEyZjBjZS9zcmMvY3NzL2hpZGRlblZpc2libGVTZWxlY3RvcnMuanNcbiAgcmV0dXJuIGVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgZWxlbWVudC5vZmZzZXRXaWR0aCB8fFxuICAgICAgZWxlbWVudC5vZmZzZXRIZWlnaHQgfHxcbiAgICAgIGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGhcbiAgICApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUcmFwcyB0aGUgZm9jdXMgaW4gYSBwYXJ0aWN1bGFyIGNvbnRhaW5lclxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGFpbmVyIC0gQ29udGFpbmVyIERPTSBlbGVtZW50IHRvIHRyYXAgZm9jdXMgaW5zaWRlIG9mXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRUb0ZvY3VzIC0gRWxlbWVudCB0byBiZSBmb2N1c2VkIG9uIGZpcnN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFNldHRpbmdzIHVuaXF1ZSB0byB5b3VyIHRoZW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jbGFzc05hbWUgLSBDbGFzcyBuYW1lIHRvIGFwcGx5IHRvIGVsZW1lbnQgb24gZm9jdXMuXG4gKi9cblxudmFyIHRyYXBGb2N1c0hhbmRsZXJzID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFwRm9jdXMoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgZWxlbWVudHMgPSBmb2N1c2FibGUoY29udGFpbmVyKTtcbiAgdmFyIGVsZW1lbnRUb0ZvY3VzID0gb3B0aW9ucy5lbGVtZW50VG9Gb2N1cyB8fCBjb250YWluZXI7XG4gIHZhciBmaXJzdCA9IGVsZW1lbnRzWzBdO1xuICB2YXIgbGFzdCA9IGVsZW1lbnRzW2VsZW1lbnRzLmxlbmd0aCAtIDFdO1xuXG4gIHJlbW92ZVRyYXBGb2N1cygpO1xuXG4gIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3VzaW4gPSBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChjb250YWluZXIgIT09IGV2ZW50LnRhcmdldCAmJiAhY29udGFpbmVyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIGZpcnN0LmZvY3VzKCk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZXZlbnQudGFyZ2V0ICE9PSBjb250YWluZXIgJiZcbiAgICAgIGV2ZW50LnRhcmdldCAhPT0gbGFzdCAmJlxuICAgICAgZXZlbnQudGFyZ2V0ICE9PSBmaXJzdFxuICAgIClcbiAgICAgIHJldHVybjtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzSGFuZGxlcnMua2V5ZG93bik7XG4gIH07XG5cbiAgdHJhcEZvY3VzSGFuZGxlcnMuZm9jdXNvdXQgPSBmdW5jdGlvbigpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzSGFuZGxlcnMua2V5ZG93bik7XG4gIH07XG5cbiAgdHJhcEZvY3VzSGFuZGxlcnMua2V5ZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgIT09IDkpIHJldHVybjsgLy8gSWYgbm90IFRBQiBrZXlcblxuICAgIC8vIE9uIHRoZSBsYXN0IGZvY3VzYWJsZSBlbGVtZW50IGFuZCB0YWIgZm9yd2FyZCwgZm9jdXMgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gbGFzdCAmJiAhZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBmaXJzdC5mb2N1cygpO1xuICAgIH1cblxuICAgIC8vICBPbiB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgYW5kIHRhYiBiYWNrd2FyZCwgZm9jdXMgdGhlIGxhc3QgZWxlbWVudC5cbiAgICBpZiAoXG4gICAgICAoZXZlbnQudGFyZ2V0ID09PSBjb250YWluZXIgfHwgZXZlbnQudGFyZ2V0ID09PSBmaXJzdCkgJiZcbiAgICAgIGV2ZW50LnNoaWZ0S2V5XG4gICAgKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGFzdC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3Vzb3V0KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3VzaW4pO1xuXG4gIGZvcmNlRm9jdXMoZWxlbWVudFRvRm9jdXMsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHRyYXAgb2YgZm9jdXMgZnJvbSB0aGUgcGFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVHJhcEZvY3VzKCkge1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdHJhcEZvY3VzSGFuZGxlcnMuZm9jdXNpbik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdHJhcEZvY3VzSGFuZGxlcnMuZm9jdXNvdXQpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzSGFuZGxlcnMua2V5ZG93bik7XG59XG5cbi8qKlxuICogQWRkIGEgcHJldmVudGl2ZSBtZXNzYWdlIHRvIGV4dGVybmFsIGxpbmtzIGFuZCBsaW5rcyB0aGF0IG9wZW4gdG8gYSBuZXcgd2luZG93LlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnRzIC0gU3BlY2lmaWMgZWxlbWVudHMgdG8gYmUgdGFyZ2V0ZWRcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLm1lc3NhZ2VzIC0gQ3VzdG9tIG1lc3NhZ2VzIHRvIG92ZXJ3cml0ZSB3aXRoIGtleXM6IG5ld1dpbmRvdywgZXh0ZXJuYWwsIG5ld1dpbmRvd0V4dGVybmFsXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5tZXNzYWdlcy5uZXdXaW5kb3cgLSBXaGVuIHRoZSBsaW5rIG9wZW5zIGluIGEgbmV3IHdpbmRvdyAoZS5nLiB0YXJnZXQ9XCJfYmxhbmtcIilcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm1lc3NhZ2VzLmV4dGVybmFsIC0gV2hlbiB0aGUgbGluayBpcyB0byBhIGRpZmZlcmVudCBob3N0IGRvbWFpbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm1lc3NhZ2VzLm5ld1dpbmRvd0V4dGVybmFsIC0gV2hlbiB0aGUgbGluayBpcyB0byBhIGRpZmZlcmVudCBob3N0IGRvbWFpbiBhbmQgb3BlbnMgaW4gYSBuZXcgd2luZG93LlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMucHJlZml4IC0gUHJlZml4IHRvIG5hbWVzcGFjZSBcImlkXCIgb2YgdGhlIG1lc3NhZ2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NpYmxlTGlua3MoZWxlbWVudHMsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBlbGVtZW50cyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGVsZW1lbnRzICsgJyBpcyBub3QgYSBTdHJpbmcuJyk7XG4gIH1cblxuICBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xuXG4gIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5tZXNzYWdlcyA9IG9wdGlvbnMubWVzc2FnZXMgfHwge307XG5cbiAgdmFyIG1lc3NhZ2VzID0ge1xuICAgIG5ld1dpbmRvdzogb3B0aW9ucy5tZXNzYWdlcy5uZXdXaW5kb3cgfHwgJ09wZW5zIGluIGEgbmV3IHdpbmRvdy4nLFxuICAgIGV4dGVybmFsOiBvcHRpb25zLm1lc3NhZ2VzLmV4dGVybmFsIHx8ICdPcGVucyBleHRlcm5hbCB3ZWJzaXRlLicsXG4gICAgbmV3V2luZG93RXh0ZXJuYWw6XG4gICAgICBvcHRpb25zLm1lc3NhZ2VzLm5ld1dpbmRvd0V4dGVybmFsIHx8XG4gICAgICAnT3BlbnMgZXh0ZXJuYWwgd2Vic2l0ZSBpbiBhIG5ldyB3aW5kb3cuJ1xuICB9O1xuXG4gIHZhciBwcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCAnYTExeSc7XG5cbiAgdmFyIG1lc3NhZ2VTZWxlY3RvcnMgPSB7XG4gICAgbmV3V2luZG93OiBwcmVmaXggKyAnLW5ldy13aW5kb3ctbWVzc2FnZScsXG4gICAgZXh0ZXJuYWw6IHByZWZpeCArICctZXh0ZXJuYWwtbWVzc2FnZScsXG4gICAgbmV3V2luZG93RXh0ZXJuYWw6IHByZWZpeCArICctbmV3LXdpbmRvdy1leHRlcm5hbC1tZXNzYWdlJ1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRNTChtZXNzYWdlcykge1xuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHZhciBodG1sTWVzc2FnZXMgPSBPYmplY3Qua2V5cyhtZXNzYWdlcykucmVkdWNlKGZ1bmN0aW9uKGh0bWwsIGtleSkge1xuICAgICAgcmV0dXJuIChodG1sICs9XG4gICAgICAgICc8bGkgaWQ9JyArIG1lc3NhZ2VTZWxlY3RvcnNba2V5XSArICc+JyArIG1lc3NhZ2VzW2tleV0gKyAnPC9saT4nKTtcbiAgICB9LCAnJyk7XG5cbiAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCB0cnVlKTtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbE1lc3NhZ2VzO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZXJuYWxTaXRlKGxpbmspIHtcbiAgICByZXR1cm4gbGluay5ob3N0bmFtZSAhPT0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICB9XG5cbiAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihsaW5rKSB7XG4gICAgdmFyIHRhcmdldCA9IGxpbmsuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKTtcbiAgICB2YXIgcmVsID0gbGluay5nZXRBdHRyaWJ1dGUoJ3JlbCcpO1xuICAgIHZhciBpc0V4dGVybmFsID0gZXh0ZXJuYWxTaXRlKGxpbmspO1xuICAgIHZhciBpc1RhcmdldEJsYW5rID0gdGFyZ2V0ID09PSAnX2JsYW5rJztcbiAgICB2YXIgaXNSZWxOb29wZW5lckVtcHR5ID0gcmVsID09PSBudWxsIHx8IHJlbC5pbmRleE9mKCdub29wZW5lcicpID09PSAtMTtcblxuICAgIGlmIChpc1RhcmdldEJsYW5rICYmIGlzUmVsTm9vcGVuZXJFbXB0eSkge1xuICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdub29wZW5lcicpO1xuICAgIH1cblxuICAgIGlmIChpc0V4dGVybmFsICYmIGlzVGFyZ2V0QmxhbmspIHtcbiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgbWVzc2FnZVNlbGVjdG9ycy5uZXdXaW5kb3dFeHRlcm5hbCk7XG4gICAgfSBlbHNlIGlmIChpc0V4dGVybmFsKSB7XG4gICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIG1lc3NhZ2VTZWxlY3RvcnMuZXh0ZXJuYWwpO1xuICAgIH0gZWxzZSBpZiAoaXNUYXJnZXRCbGFuaykge1xuICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCBtZXNzYWdlU2VsZWN0b3JzLm5ld1dpbmRvdyk7XG4gICAgfVxuICB9KTtcblxuICBnZW5lcmF0ZUhUTUwobWVzc2FnZXMpO1xufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@shopify/theme-a11y/theme-a11y.js\n");

/***/ }),

/***/ "./node_modules/@shopify/theme-addresses/theme-addresses.js":
/*!******************************************************************!*\
  !*** ./node_modules/@shopify/theme-addresses/theme-addresses.js ***!
  \******************************************************************/
/*! exports provided: CountryProvinceSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CountryProvinceSelector\", function() { return CountryProvinceSelector; });\n/**\n * CountryProvinceSelector Constructor\n * @param {String} countryOptions the country options in html string\n */\nfunction CountryProvinceSelector(countryOptions) {\n  if (typeof countryOptions !== 'string') {\n    throw new TypeError(countryOptions + ' is not a string.');\n  }\n  this.countryOptions = countryOptions;\n}\n\n/**\n * Builds the country and province selector with the given node element\n * @param {Node} countryNodeElement The <select> element for country\n * @param {Node} provinceNodeElement The <select> element for province\n * @param {Object} options Additional settings available\n * @param {CountryProvinceSelector~onCountryChange} options.onCountryChange callback after a country `change` event\n * @param {CountryProvinceSelector~onProvinceChange} options.onProvinceChange callback after a province `change` event\n */\nCountryProvinceSelector.prototype.build = function (countryNodeElement, provinceNodeElement, options) {\n  if (typeof countryNodeElement !== 'object') {\n    throw new TypeError(countryNodeElement + ' is not a object.');\n  }\n\n  if (typeof provinceNodeElement !== 'object') {\n    throw new TypeError(provinceNodeElement + ' is not a object.');\n  }\n\n  var defaultValue = countryNodeElement.getAttribute('data-default');\n  options = options || {}\n\n  countryNodeElement.innerHTML = this.countryOptions;\n  countryNodeElement.value = defaultValue;\n\n  if (defaultValue && getOption(countryNodeElement, defaultValue)) {\n    var provinces = buildProvince(countryNodeElement, provinceNodeElement, defaultValue);\n    options.onCountryChange && options.onCountryChange(provinces, provinceNodeElement, countryNodeElement);\n  }\n\n  // Listen for value change on the country select\n  countryNodeElement.addEventListener('change', function (event) {\n    var target = event.target;\n    var selectedValue = target.value;\n    \n    var provinces = buildProvince(target, provinceNodeElement, selectedValue);\n    options.onCountryChange && options.onCountryChange(provinces, provinceNodeElement, countryNodeElement);\n  });\n\n  options.onProvinceChange && provinceNodeElement.addEventListener('change', options.onProvinceChange);\n}\n\n/**\n * This callback is called after a user interacted with a country `<select>`\n * @callback CountryProvinceSelector~onCountryChange\n * @param {array} provinces the parsed provinces\n * @param {Node} provinceNodeElement province `<select>` element\n * @param {Node} countryNodeElement country `<select>` element\n */\n\n /**\n * This callback is called after a user interacted with a province `<select>`\n * @callback CountryProvinceSelector~onProvinceChange\n * @param {Event} event the province selector `change` event object\n */\n\n/**\n * Returns the <option> with the specified value from the\n * given node element\n * A null is returned if no such <option> is found\n */\nfunction getOption(nodeElement, value) {\n  return nodeElement.querySelector('option[value=\"' + value +'\"]')\n}\n\n/**\n * Builds the options for province selector\n */\nfunction buildOptions (provinceNodeElement, provinces) {\n  var defaultValue = provinceNodeElement.getAttribute('data-default');\n\n  provinces.forEach(function (option) {\n    var optionElement = document.createElement('option');\n    optionElement.value = option[0];\n    optionElement.textContent = option[1];\n\n    provinceNodeElement.appendChild(optionElement);\n  })\n\n  if (defaultValue && getOption(provinceNodeElement, defaultValue)) {\n    provinceNodeElement.value = defaultValue;\n  }\n}\n\n/**\n * Builds the province selector\n */\nfunction buildProvince (countryNodeElement, provinceNodeElement, selectedValue) {\n  var selectedOption = getOption(countryNodeElement, selectedValue);\n  var provinces = JSON.parse(selectedOption.getAttribute('data-provinces'));\n\n  provinceNodeElement.options.length = 0;\n\n  if (provinces.length) {\n    buildOptions(provinceNodeElement, provinces)\n  }\n\n  return provinces;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNob3BpZnkvdGhlbWUtYWRkcmVzc2VzL3RoZW1lLWFkZHJlc3Nlcy5qcz8xOWI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsT0FBTztBQUNsQixXQUFXLHdDQUF3QztBQUNuRCxXQUFXLHlDQUF5QztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsS0FBSztBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHNob3BpZnkvdGhlbWUtYWRkcmVzc2VzL3RoZW1lLWFkZHJlc3Nlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ291bnRyeVByb3ZpbmNlU2VsZWN0b3IgQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSBjb3VudHJ5T3B0aW9ucyB0aGUgY291bnRyeSBvcHRpb25zIGluIGh0bWwgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb3VudHJ5UHJvdmluY2VTZWxlY3Rvcihjb3VudHJ5T3B0aW9ucykge1xuICBpZiAodHlwZW9mIGNvdW50cnlPcHRpb25zICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY291bnRyeU9wdGlvbnMgKyAnIGlzIG5vdCBhIHN0cmluZy4nKTtcbiAgfVxuICB0aGlzLmNvdW50cnlPcHRpb25zID0gY291bnRyeU9wdGlvbnM7XG59XG5cbi8qKlxuICogQnVpbGRzIHRoZSBjb3VudHJ5IGFuZCBwcm92aW5jZSBzZWxlY3RvciB3aXRoIHRoZSBnaXZlbiBub2RlIGVsZW1lbnRcbiAqIEBwYXJhbSB7Tm9kZX0gY291bnRyeU5vZGVFbGVtZW50IFRoZSA8c2VsZWN0PiBlbGVtZW50IGZvciBjb3VudHJ5XG4gKiBAcGFyYW0ge05vZGV9IHByb3ZpbmNlTm9kZUVsZW1lbnQgVGhlIDxzZWxlY3Q+IGVsZW1lbnQgZm9yIHByb3ZpbmNlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBZGRpdGlvbmFsIHNldHRpbmdzIGF2YWlsYWJsZVxuICogQHBhcmFtIHtDb3VudHJ5UHJvdmluY2VTZWxlY3Rvcn5vbkNvdW50cnlDaGFuZ2V9IG9wdGlvbnMub25Db3VudHJ5Q2hhbmdlIGNhbGxiYWNrIGFmdGVyIGEgY291bnRyeSBgY2hhbmdlYCBldmVudFxuICogQHBhcmFtIHtDb3VudHJ5UHJvdmluY2VTZWxlY3Rvcn5vblByb3ZpbmNlQ2hhbmdlfSBvcHRpb25zLm9uUHJvdmluY2VDaGFuZ2UgY2FsbGJhY2sgYWZ0ZXIgYSBwcm92aW5jZSBgY2hhbmdlYCBldmVudFxuICovXG5Db3VudHJ5UHJvdmluY2VTZWxlY3Rvci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoY291bnRyeU5vZGVFbGVtZW50LCBwcm92aW5jZU5vZGVFbGVtZW50LCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgY291bnRyeU5vZGVFbGVtZW50ICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY291bnRyeU5vZGVFbGVtZW50ICsgJyBpcyBub3QgYSBvYmplY3QuJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3ZpbmNlTm9kZUVsZW1lbnQgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihwcm92aW5jZU5vZGVFbGVtZW50ICsgJyBpcyBub3QgYSBvYmplY3QuJyk7XG4gIH1cblxuICB2YXIgZGVmYXVsdFZhbHVlID0gY291bnRyeU5vZGVFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kZWZhdWx0Jyk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgY291bnRyeU5vZGVFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuY291bnRyeU9wdGlvbnM7XG4gIGNvdW50cnlOb2RlRWxlbWVudC52YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcblxuICBpZiAoZGVmYXVsdFZhbHVlICYmIGdldE9wdGlvbihjb3VudHJ5Tm9kZUVsZW1lbnQsIGRlZmF1bHRWYWx1ZSkpIHtcbiAgICB2YXIgcHJvdmluY2VzID0gYnVpbGRQcm92aW5jZShjb3VudHJ5Tm9kZUVsZW1lbnQsIHByb3ZpbmNlTm9kZUVsZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgb3B0aW9ucy5vbkNvdW50cnlDaGFuZ2UgJiYgb3B0aW9ucy5vbkNvdW50cnlDaGFuZ2UocHJvdmluY2VzLCBwcm92aW5jZU5vZGVFbGVtZW50LCBjb3VudHJ5Tm9kZUVsZW1lbnQpO1xuICB9XG5cbiAgLy8gTGlzdGVuIGZvciB2YWx1ZSBjaGFuZ2Ugb24gdGhlIGNvdW50cnkgc2VsZWN0XG4gIGNvdW50cnlOb2RlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGFyZ2V0LnZhbHVlO1xuICAgIFxuICAgIHZhciBwcm92aW5jZXMgPSBidWlsZFByb3ZpbmNlKHRhcmdldCwgcHJvdmluY2VOb2RlRWxlbWVudCwgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgb3B0aW9ucy5vbkNvdW50cnlDaGFuZ2UgJiYgb3B0aW9ucy5vbkNvdW50cnlDaGFuZ2UocHJvdmluY2VzLCBwcm92aW5jZU5vZGVFbGVtZW50LCBjb3VudHJ5Tm9kZUVsZW1lbnQpO1xuICB9KTtcblxuICBvcHRpb25zLm9uUHJvdmluY2VDaGFuZ2UgJiYgcHJvdmluY2VOb2RlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvcHRpb25zLm9uUHJvdmluY2VDaGFuZ2UpO1xufVxuXG4vKipcbiAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIGFmdGVyIGEgdXNlciBpbnRlcmFjdGVkIHdpdGggYSBjb3VudHJ5IGA8c2VsZWN0PmBcbiAqIEBjYWxsYmFjayBDb3VudHJ5UHJvdmluY2VTZWxlY3Rvcn5vbkNvdW50cnlDaGFuZ2VcbiAqIEBwYXJhbSB7YXJyYXl9IHByb3ZpbmNlcyB0aGUgcGFyc2VkIHByb3ZpbmNlc1xuICogQHBhcmFtIHtOb2RlfSBwcm92aW5jZU5vZGVFbGVtZW50IHByb3ZpbmNlIGA8c2VsZWN0PmAgZWxlbWVudFxuICogQHBhcmFtIHtOb2RlfSBjb3VudHJ5Tm9kZUVsZW1lbnQgY291bnRyeSBgPHNlbGVjdD5gIGVsZW1lbnRcbiAqL1xuXG4gLyoqXG4gKiBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBhZnRlciBhIHVzZXIgaW50ZXJhY3RlZCB3aXRoIGEgcHJvdmluY2UgYDxzZWxlY3Q+YFxuICogQGNhbGxiYWNrIENvdW50cnlQcm92aW5jZVNlbGVjdG9yfm9uUHJvdmluY2VDaGFuZ2VcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IHRoZSBwcm92aW5jZSBzZWxlY3RvciBgY2hhbmdlYCBldmVudCBvYmplY3RcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIDxvcHRpb24+IHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZSBmcm9tIHRoZVxuICogZ2l2ZW4gbm9kZSBlbGVtZW50XG4gKiBBIG51bGwgaXMgcmV0dXJuZWQgaWYgbm8gc3VjaCA8b3B0aW9uPiBpcyBmb3VuZFxuICovXG5mdW5jdGlvbiBnZXRPcHRpb24obm9kZUVsZW1lbnQsIHZhbHVlKSB7XG4gIHJldHVybiBub2RlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdvcHRpb25bdmFsdWU9XCInICsgdmFsdWUgKydcIl0nKVxufVxuXG4vKipcbiAqIEJ1aWxkcyB0aGUgb3B0aW9ucyBmb3IgcHJvdmluY2Ugc2VsZWN0b3JcbiAqL1xuZnVuY3Rpb24gYnVpbGRPcHRpb25zIChwcm92aW5jZU5vZGVFbGVtZW50LCBwcm92aW5jZXMpIHtcbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3ZpbmNlTm9kZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRlZmF1bHQnKTtcblxuICBwcm92aW5jZXMuZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgdmFyIG9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBvcHRpb25FbGVtZW50LnZhbHVlID0gb3B0aW9uWzBdO1xuICAgIG9wdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBvcHRpb25bMV07XG5cbiAgICBwcm92aW5jZU5vZGVFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xuICB9KVxuXG4gIGlmIChkZWZhdWx0VmFsdWUgJiYgZ2V0T3B0aW9uKHByb3ZpbmNlTm9kZUVsZW1lbnQsIGRlZmF1bHRWYWx1ZSkpIHtcbiAgICBwcm92aW5jZU5vZGVFbGVtZW50LnZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogQnVpbGRzIHRoZSBwcm92aW5jZSBzZWxlY3RvclxuICovXG5mdW5jdGlvbiBidWlsZFByb3ZpbmNlIChjb3VudHJ5Tm9kZUVsZW1lbnQsIHByb3ZpbmNlTm9kZUVsZW1lbnQsIHNlbGVjdGVkVmFsdWUpIHtcbiAgdmFyIHNlbGVjdGVkT3B0aW9uID0gZ2V0T3B0aW9uKGNvdW50cnlOb2RlRWxlbWVudCwgc2VsZWN0ZWRWYWx1ZSk7XG4gIHZhciBwcm92aW5jZXMgPSBKU09OLnBhcnNlKHNlbGVjdGVkT3B0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm92aW5jZXMnKSk7XG5cbiAgcHJvdmluY2VOb2RlRWxlbWVudC5vcHRpb25zLmxlbmd0aCA9IDA7XG5cbiAgaWYgKHByb3ZpbmNlcy5sZW5ndGgpIHtcbiAgICBidWlsZE9wdGlvbnMocHJvdmluY2VOb2RlRWxlbWVudCwgcHJvdmluY2VzKVxuICB9XG5cbiAgcmV0dXJuIHByb3ZpbmNlcztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@shopify/theme-addresses/theme-addresses.js\n");

/***/ }),

/***/ "./node_modules/desandro-matches-selector/matches-selector.js":
/*!********************************************************************!*\
  !*** ./node_modules/desandro-matches-selector/matches-selector.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3Rvci9tYXRjaGVzLXNlbGVjdG9yLmpzP2M3NDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBeUM7QUFDaEQ7QUFDQSxJQUFJLG9DQUFRLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQSxvR0FBRTtBQUNyQixHQUFHLE1BQU0sRUFNTjs7QUFFSCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9kZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIG1hdGNoZXNTZWxlY3RvciB2Mi4wLjJcbiAqIG1hdGNoZXNTZWxlY3RvciggZWxlbWVudCwgJy5zZWxlY3RvcicgKVxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlICovXG4gICd1c2Ugc3RyaWN0JztcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5tYXRjaGVzU2VsZWN0b3IgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIG1hdGNoZXNNZXRob2QgPSAoIGZ1bmN0aW9uKCkge1xuICAgIHZhciBFbGVtUHJvdG8gPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGU7XG4gICAgLy8gY2hlY2sgZm9yIHRoZSBzdGFuZGFyZCBtZXRob2QgbmFtZSBmaXJzdFxuICAgIGlmICggRWxlbVByb3RvLm1hdGNoZXMgKSB7XG4gICAgICByZXR1cm4gJ21hdGNoZXMnO1xuICAgIH1cbiAgICAvLyBjaGVjayB1bi1wcmVmaXhlZFxuICAgIGlmICggRWxlbVByb3RvLm1hdGNoZXNTZWxlY3RvciApIHtcbiAgICAgIHJldHVybiAnbWF0Y2hlc1NlbGVjdG9yJztcbiAgICB9XG4gICAgLy8gY2hlY2sgdmVuZG9yIHByZWZpeGVzXG4gICAgdmFyIHByZWZpeGVzID0gWyAnd2Via2l0JywgJ21veicsICdtcycsICdvJyBdO1xuXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIHByZWZpeCA9IHByZWZpeGVzW2ldO1xuICAgICAgdmFyIG1ldGhvZCA9IHByZWZpeCArICdNYXRjaGVzU2VsZWN0b3InO1xuICAgICAgaWYgKCBFbGVtUHJvdG9bIG1ldGhvZCBdICkge1xuICAgICAgICByZXR1cm4gbWV0aG9kO1xuICAgICAgfVxuICAgIH1cbiAgfSkoKTtcblxuICByZXR1cm4gZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApIHtcbiAgICByZXR1cm4gZWxlbVsgbWF0Y2hlc01ldGhvZCBdKCBzZWxlY3RvciApO1xuICB9O1xuXG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/desandro-matches-selector/matches-selector.js\n");

/***/ }),

/***/ "./node_modules/drift-zoom/es/BoundingBox.js":
/*!***************************************************!*\
  !*** ./node_modules/drift-zoom/es/BoundingBox.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BoundingBox; });\n/* harmony import */ var _util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/throwIfMissing */ \"./node_modules/drift-zoom/es/util/throwIfMissing.js\");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/dom */ \"./node_modules/drift-zoom/es/util/dom.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar BoundingBox =\n/*#__PURE__*/\nfunction () {\n  function BoundingBox(options) {\n    _classCallCheck(this, BoundingBox);\n\n    this.isShowing = false;\n    var _options$namespace = options.namespace,\n        namespace = _options$namespace === void 0 ? null : _options$namespace,\n        _options$zoomFactor = options.zoomFactor,\n        zoomFactor = _options$zoomFactor === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$zoomFactor,\n        _options$containerEl = options.containerEl,\n        containerEl = _options$containerEl === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$containerEl;\n    this.settings = {\n      namespace: namespace,\n      zoomFactor: zoomFactor,\n      containerEl: containerEl\n    };\n    this.openClasses = this._buildClasses(\"open\");\n\n    this._buildElement();\n  }\n\n  _createClass(BoundingBox, [{\n    key: \"_buildClasses\",\n    value: function _buildClasses(suffix) {\n      var classes = [\"drift-\".concat(suffix)];\n      var ns = this.settings.namespace;\n\n      if (ns) {\n        classes.push(\"\".concat(ns, \"-\").concat(suffix));\n      }\n\n      return classes;\n    }\n  }, {\n    key: \"_buildElement\",\n    value: function _buildElement() {\n      this.el = document.createElement(\"div\");\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(this.el, this._buildClasses(\"bounding-box\"));\n    }\n  }, {\n    key: \"show\",\n    value: function show(zoomPaneWidth, zoomPaneHeight) {\n      this.isShowing = true;\n      this.settings.containerEl.appendChild(this.el);\n      var style = this.el.style;\n      style.width = \"\".concat(Math.round(zoomPaneWidth / this.settings.zoomFactor), \"px\");\n      style.height = \"\".concat(Math.round(zoomPaneHeight / this.settings.zoomFactor), \"px\");\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(this.el, this.openClasses);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.isShowing) {\n        this.settings.containerEl.removeChild(this.el);\n      }\n\n      this.isShowing = false;\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.openClasses);\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\n      var pageXOffset = window.pageXOffset;\n      var pageYOffset = window.pageYOffset;\n      var inlineLeft = triggerRect.left + percentageOffsetX * triggerRect.width - this.el.clientWidth / 2 + pageXOffset;\n      var inlineTop = triggerRect.top + percentageOffsetY * triggerRect.height - this.el.clientHeight / 2 + pageYOffset;\n\n      if (inlineLeft < triggerRect.left + pageXOffset) {\n        inlineLeft = triggerRect.left + pageXOffset;\n      } else if (inlineLeft + this.el.clientWidth > triggerRect.left + triggerRect.width + pageXOffset) {\n        inlineLeft = triggerRect.left + triggerRect.width - this.el.clientWidth + pageXOffset;\n      }\n\n      if (inlineTop < triggerRect.top + pageYOffset) {\n        inlineTop = triggerRect.top + pageYOffset;\n      } else if (inlineTop + this.el.clientHeight > triggerRect.top + triggerRect.height + pageYOffset) {\n        inlineTop = triggerRect.top + triggerRect.height - this.el.clientHeight + pageYOffset;\n      }\n\n      this.el.style.left = \"\".concat(inlineLeft, \"px\");\n      this.el.style.top = \"\".concat(inlineTop, \"px\");\n    }\n  }]);\n\n  return BoundingBox;\n}();\n\n\n//# sourceMappingURL=BoundingBox.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy9Cb3VuZGluZ0JveC5qcz9jMTU1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUU7O0FBRTNULDZEQUE2RCxzRUFBc0UsOERBQThELG9CQUFvQjs7QUFFbEs7QUFDSTs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxvRUFBYztBQUNwRTtBQUNBLHdEQUF3RCxvRUFBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNERBQVU7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDREQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLCtEQUFhO0FBQ25CO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVpQztBQUNsQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9kcmlmdC16b29tL2VzL0JvdW5kaW5nQm94LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgdGhyb3dJZk1pc3NpbmcgZnJvbSBcIi4vdXRpbC90aHJvd0lmTWlzc2luZ1wiO1xuaW1wb3J0IHsgYWRkQ2xhc3NlcywgcmVtb3ZlQ2xhc3NlcyB9IGZyb20gXCIuL3V0aWwvZG9tXCI7XG5cbnZhciBCb3VuZGluZ0JveCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJvdW5kaW5nQm94KG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQm91bmRpbmdCb3gpO1xuXG4gICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTtcbiAgICB2YXIgX29wdGlvbnMkbmFtZXNwYWNlID0gb3B0aW9ucy5uYW1lc3BhY2UsXG4gICAgICAgIG5hbWVzcGFjZSA9IF9vcHRpb25zJG5hbWVzcGFjZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9vcHRpb25zJG5hbWVzcGFjZSxcbiAgICAgICAgX29wdGlvbnMkem9vbUZhY3RvciA9IG9wdGlvbnMuem9vbUZhY3RvcixcbiAgICAgICAgem9vbUZhY3RvciA9IF9vcHRpb25zJHpvb21GYWN0b3IgPT09IHZvaWQgMCA/IHRocm93SWZNaXNzaW5nKCkgOiBfb3B0aW9ucyR6b29tRmFjdG9yLFxuICAgICAgICBfb3B0aW9ucyRjb250YWluZXJFbCA9IG9wdGlvbnMuY29udGFpbmVyRWwsXG4gICAgICAgIGNvbnRhaW5lckVsID0gX29wdGlvbnMkY29udGFpbmVyRWwgPT09IHZvaWQgMCA/IHRocm93SWZNaXNzaW5nKCkgOiBfb3B0aW9ucyRjb250YWluZXJFbDtcbiAgICB0aGlzLnNldHRpbmdzID0ge1xuICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsXG4gICAgICB6b29tRmFjdG9yOiB6b29tRmFjdG9yLFxuICAgICAgY29udGFpbmVyRWw6IGNvbnRhaW5lckVsXG4gICAgfTtcbiAgICB0aGlzLm9wZW5DbGFzc2VzID0gdGhpcy5fYnVpbGRDbGFzc2VzKFwib3BlblwiKTtcblxuICAgIHRoaXMuX2J1aWxkRWxlbWVudCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJvdW5kaW5nQm94LCBbe1xuICAgIGtleTogXCJfYnVpbGRDbGFzc2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9idWlsZENsYXNzZXMoc3VmZml4KSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IFtcImRyaWZ0LVwiLmNvbmNhdChzdWZmaXgpXTtcbiAgICAgIHZhciBucyA9IHRoaXMuc2V0dGluZ3MubmFtZXNwYWNlO1xuXG4gICAgICBpZiAobnMpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKFwiXCIuY29uY2F0KG5zLCBcIi1cIikuY29uY2F0KHN1ZmZpeCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2xhc3NlcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2J1aWxkRWxlbWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYnVpbGRFbGVtZW50KCkge1xuICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzc2VzKHRoaXMuZWwsIHRoaXMuX2J1aWxkQ2xhc3NlcyhcImJvdW5kaW5nLWJveFwiKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNob3dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyh6b29tUGFuZVdpZHRoLCB6b29tUGFuZUhlaWdodCkge1xuICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zZXR0aW5ncy5jb250YWluZXJFbC5hcHBlbmRDaGlsZCh0aGlzLmVsKTtcbiAgICAgIHZhciBzdHlsZSA9IHRoaXMuZWwuc3R5bGU7XG4gICAgICBzdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KE1hdGgucm91bmQoem9vbVBhbmVXaWR0aCAvIHRoaXMuc2V0dGluZ3Muem9vbUZhY3RvciksIFwicHhcIik7XG4gICAgICBzdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdChNYXRoLnJvdW5kKHpvb21QYW5lSGVpZ2h0IC8gdGhpcy5zZXR0aW5ncy56b29tRmFjdG9yKSwgXCJweFwiKTtcbiAgICAgIGFkZENsYXNzZXModGhpcy5lbCwgdGhpcy5vcGVuQ2xhc3Nlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhpZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgIGlmICh0aGlzLmlzU2hvd2luZykge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbnRhaW5lckVsLnJlbW92ZUNoaWxkKHRoaXMuZWwpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzU2hvd2luZyA9IGZhbHNlO1xuICAgICAgcmVtb3ZlQ2xhc3Nlcyh0aGlzLmVsLCB0aGlzLm9wZW5DbGFzc2VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UG9zaXRpb24ocGVyY2VudGFnZU9mZnNldFgsIHBlcmNlbnRhZ2VPZmZzZXRZLCB0cmlnZ2VyUmVjdCkge1xuICAgICAgdmFyIHBhZ2VYT2Zmc2V0ID0gd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgICAgdmFyIHBhZ2VZT2Zmc2V0ID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgdmFyIGlubGluZUxlZnQgPSB0cmlnZ2VyUmVjdC5sZWZ0ICsgcGVyY2VudGFnZU9mZnNldFggKiB0cmlnZ2VyUmVjdC53aWR0aCAtIHRoaXMuZWwuY2xpZW50V2lkdGggLyAyICsgcGFnZVhPZmZzZXQ7XG4gICAgICB2YXIgaW5saW5lVG9wID0gdHJpZ2dlclJlY3QudG9wICsgcGVyY2VudGFnZU9mZnNldFkgKiB0cmlnZ2VyUmVjdC5oZWlnaHQgLSB0aGlzLmVsLmNsaWVudEhlaWdodCAvIDIgKyBwYWdlWU9mZnNldDtcblxuICAgICAgaWYgKGlubGluZUxlZnQgPCB0cmlnZ2VyUmVjdC5sZWZ0ICsgcGFnZVhPZmZzZXQpIHtcbiAgICAgICAgaW5saW5lTGVmdCA9IHRyaWdnZXJSZWN0LmxlZnQgKyBwYWdlWE9mZnNldDtcbiAgICAgIH0gZWxzZSBpZiAoaW5saW5lTGVmdCArIHRoaXMuZWwuY2xpZW50V2lkdGggPiB0cmlnZ2VyUmVjdC5sZWZ0ICsgdHJpZ2dlclJlY3Qud2lkdGggKyBwYWdlWE9mZnNldCkge1xuICAgICAgICBpbmxpbmVMZWZ0ID0gdHJpZ2dlclJlY3QubGVmdCArIHRyaWdnZXJSZWN0LndpZHRoIC0gdGhpcy5lbC5jbGllbnRXaWR0aCArIHBhZ2VYT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5saW5lVG9wIDwgdHJpZ2dlclJlY3QudG9wICsgcGFnZVlPZmZzZXQpIHtcbiAgICAgICAgaW5saW5lVG9wID0gdHJpZ2dlclJlY3QudG9wICsgcGFnZVlPZmZzZXQ7XG4gICAgICB9IGVsc2UgaWYgKGlubGluZVRvcCArIHRoaXMuZWwuY2xpZW50SGVpZ2h0ID4gdHJpZ2dlclJlY3QudG9wICsgdHJpZ2dlclJlY3QuaGVpZ2h0ICsgcGFnZVlPZmZzZXQpIHtcbiAgICAgICAgaW5saW5lVG9wID0gdHJpZ2dlclJlY3QudG9wICsgdHJpZ2dlclJlY3QuaGVpZ2h0IC0gdGhpcy5lbC5jbGllbnRIZWlnaHQgKyBwYWdlWU9mZnNldDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gXCJcIi5jb25jYXQoaW5saW5lTGVmdCwgXCJweFwiKTtcbiAgICAgIHRoaXMuZWwuc3R5bGUudG9wID0gXCJcIi5jb25jYXQoaW5saW5lVG9wLCBcInB4XCIpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCb3VuZGluZ0JveDtcbn0oKTtcblxuZXhwb3J0IHsgQm91bmRpbmdCb3ggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm91bmRpbmdCb3guanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/drift-zoom/es/BoundingBox.js\n");

/***/ }),

/***/ "./node_modules/drift-zoom/es/Drift.js":
/*!*********************************************!*\
  !*** ./node_modules/drift-zoom/es/Drift.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Drift; });\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/dom */ \"./node_modules/drift-zoom/es/util/dom.js\");\n/* harmony import */ var _injectBaseStylesheet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./injectBaseStylesheet */ \"./node_modules/drift-zoom/es/injectBaseStylesheet.js\");\n/* harmony import */ var _Trigger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Trigger */ \"./node_modules/drift-zoom/es/Trigger.js\");\n/* harmony import */ var _ZoomPane__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ZoomPane */ \"./node_modules/drift-zoom/es/ZoomPane.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar Drift =\n/*#__PURE__*/\nfunction () {\n  function Drift(triggerEl) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Drift);\n\n    this.VERSION = \"1.4.0\";\n    this.triggerEl = triggerEl;\n    this.destroy = this.destroy.bind(this);\n\n    if (!Object(_util_dom__WEBPACK_IMPORTED_MODULE_0__[\"isDOMElement\"])(this.triggerEl)) {\n      throw new TypeError(\"`new Drift` requires a DOM element as its first argument.\");\n    } // Prefix for generated element class names (e.g. `my-ns` will\n    // result in classes such as `my-ns-pane`. Default `drift-`\n    // prefixed classes will always be added as well.\n\n\n    var namespace = options[\"namespace\"] || null; // Whether the ZoomPane should show whitespace when near the edges.\n\n    var showWhitespaceAtEdges = options[\"showWhitespaceAtEdges\"] || false; // Whether the inline ZoomPane should stay inside\n    // the bounds of its image.\n\n    var containInline = options[\"containInline\"] || false; // How much to offset the ZoomPane from the\n    // interaction point when inline.\n\n    var inlineOffsetX = options[\"inlineOffsetX\"] || 0;\n    var inlineOffsetY = options[\"inlineOffsetY\"] || 0; // A DOM element to append the inline ZoomPane to\n\n    var inlineContainer = options[\"inlineContainer\"] || document.body; // Which trigger attribute to pull the ZoomPane image source from.\n\n    var sourceAttribute = options[\"sourceAttribute\"] || \"data-zoom\"; // How much to magnify the trigger by in the ZoomPane.\n    // (e.g., `zoomFactor: 3` will result in a 900 px wide ZoomPane imag\n    // if the trigger is displayed at 300 px wide)\n\n    var zoomFactor = options[\"zoomFactor\"] || 3; // A DOM element to append the non-inline ZoomPane to.\n    // Required if `inlinePane !== true`.\n\n    var paneContainer = options[\"paneContainer\"] === undefined ? document.body : options[\"paneContainer\"]; // When to switch to an inline ZoomPane. This can be a boolean or\n    // an integer. If `true`, the ZoomPane will always be inline,\n    // if `false`, it will switch to inline when `windowWidth <= inlinePane`\n\n    var inlinePane = options[\"inlinePane\"] || 375; // If `true`, touch events will trigger the zoom, like mouse events.\n\n    var handleTouch = \"handleTouch\" in options ? !!options[\"handleTouch\"] : true; // If present (and a function), this will be called\n    // whenever the ZoomPane is shown.\n\n    var onShow = options[\"onShow\"] || null; // If present (and a function), this will be called\n    // whenever the ZoomPane is hidden.\n\n    var onHide = options[\"onHide\"] || null; // Add base styles to the page. See the \"Theming\"\n    // section of README.md for more information.\n\n    var injectBaseStyles = \"injectBaseStyles\" in options ? !!options[\"injectBaseStyles\"] : true; // An optional number that determines how long to wait before\n    // showing the ZoomPane because of a `mouseenter` event.\n\n    var hoverDelay = options[\"hoverDelay\"] || 0; // An optional number that determines how long to wait before\n    // showing the ZoomPane because of a `touchstart` event.\n    // It's unlikely that you would want to use this option, since\n    // \"tap and hold\" is much more intentional than a hover event.\n\n    var touchDelay = options[\"touchDelay\"] || 0; // If true, a bounding box will show the area currently being previewed\n    // during mouse hover\n\n    var hoverBoundingBox = options[\"hoverBoundingBox\"] || false; // If true, a bounding box will show the area currently being previewed\n    // during touch events\n\n    var touchBoundingBox = options[\"touchBoundingBox\"] || false; // A DOM element to append the bounding box to.\n\n    var boundingBoxContainer = options[\"boundingBoxContainer\"] || document.body;\n\n    if (inlinePane !== true && !Object(_util_dom__WEBPACK_IMPORTED_MODULE_0__[\"isDOMElement\"])(paneContainer)) {\n      throw new TypeError(\"`paneContainer` must be a DOM element when `inlinePane !== true`\");\n    }\n\n    if (!Object(_util_dom__WEBPACK_IMPORTED_MODULE_0__[\"isDOMElement\"])(inlineContainer)) {\n      throw new TypeError(\"`inlineContainer` must be a DOM element\");\n    }\n\n    this.settings = {\n      namespace: namespace,\n      showWhitespaceAtEdges: showWhitespaceAtEdges,\n      containInline: containInline,\n      inlineOffsetX: inlineOffsetX,\n      inlineOffsetY: inlineOffsetY,\n      inlineContainer: inlineContainer,\n      sourceAttribute: sourceAttribute,\n      zoomFactor: zoomFactor,\n      paneContainer: paneContainer,\n      inlinePane: inlinePane,\n      handleTouch: handleTouch,\n      onShow: onShow,\n      onHide: onHide,\n      injectBaseStyles: injectBaseStyles,\n      hoverDelay: hoverDelay,\n      touchDelay: touchDelay,\n      hoverBoundingBox: hoverBoundingBox,\n      touchBoundingBox: touchBoundingBox,\n      boundingBoxContainer: boundingBoxContainer\n    };\n\n    if (this.settings.injectBaseStyles) {\n      Object(_injectBaseStylesheet__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    }\n\n    this._buildZoomPane();\n\n    this._buildTrigger();\n  }\n\n  _createClass(Drift, [{\n    key: \"_buildZoomPane\",\n    value: function _buildZoomPane() {\n      this.zoomPane = new _ZoomPane__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n        container: this.settings.paneContainer,\n        zoomFactor: this.settings.zoomFactor,\n        showWhitespaceAtEdges: this.settings.showWhitespaceAtEdges,\n        containInline: this.settings.containInline,\n        inline: this.settings.inlinePane,\n        namespace: this.settings.namespace,\n        inlineOffsetX: this.settings.inlineOffsetX,\n        inlineOffsetY: this.settings.inlineOffsetY,\n        inlineContainer: this.settings.inlineContainer\n      });\n    }\n  }, {\n    key: \"_buildTrigger\",\n    value: function _buildTrigger() {\n      this.trigger = new _Trigger__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n        el: this.triggerEl,\n        zoomPane: this.zoomPane,\n        handleTouch: this.settings.handleTouch,\n        onShow: this.settings.onShow,\n        onHide: this.settings.onHide,\n        sourceAttribute: this.settings.sourceAttribute,\n        hoverDelay: this.settings.hoverDelay,\n        touchDelay: this.settings.touchDelay,\n        hoverBoundingBox: this.settings.hoverBoundingBox,\n        touchBoundingBox: this.settings.touchBoundingBox,\n        namespace: this.settings.namespace,\n        zoomFactor: this.settings.zoomFactor,\n        boundingBoxContainer: this.settings.boundingBoxContainer\n      });\n    }\n  }, {\n    key: \"setZoomImageURL\",\n    value: function setZoomImageURL(imageURL) {\n      this.zoomPane._setImageURL(imageURL);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.trigger.enabled = false;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.trigger.enabled = true;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.trigger._hide();\n\n      this.trigger._unbindEvents();\n    }\n  }, {\n    key: \"isShowing\",\n    get: function get() {\n      return this.zoomPane.isShowing;\n    }\n  }, {\n    key: \"zoomFactor\",\n    get: function get() {\n      return this.settings.zoomFactor;\n    },\n    set: function set(zf) {\n      this.settings.zoomFactor = zf;\n      this.zoomPane.settings.zoomFactor = zf;\n      this.trigger.settings.zoomFactor = zf;\n      this.boundingBox.settings.zoomFactor = zf;\n    }\n  }]);\n\n  return Drift;\n}(); // Public API\n\n/* eslint-disable no-self-assign */\n\n\n\nObject.defineProperty(Drift.prototype, \"isShowing\", {\n  get: function get() {\n    return this.isShowing;\n  }\n});\nObject.defineProperty(Drift.prototype, \"zoomFactor\", {\n  get: function get() {\n    return this.zoomFactor;\n  },\n  set: function set(value) {\n    this.zoomFactor = value;\n  }\n});\nDrift.prototype[\"setZoomImageURL\"] = Drift.prototype.setZoomImageURL;\nDrift.prototype[\"disable\"] = Drift.prototype.disable;\nDrift.prototype[\"enable\"] = Drift.prototype.enable;\nDrift.prototype[\"destroy\"] = Drift.prototype.destroy;\n/* eslint-enable no-self-assign */\n//# sourceMappingURL=Drift.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy9EcmlmdC5qcz82NTQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFOztBQUUzVCw2REFBNkQsc0VBQXNFLDhEQUE4RCxvQkFBb0I7O0FBRTNLO0FBQ2dCO0FBQzFCO0FBQ0U7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFNBQVMsOERBQVk7QUFDckI7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7O0FBR0EsaURBQWlEOztBQUVqRCwwRUFBMEU7QUFDMUU7O0FBRUEsMERBQTBEO0FBQzFEOztBQUVBO0FBQ0Esc0RBQXNEOztBQUV0RCxzRUFBc0U7O0FBRXRFLG9FQUFvRTtBQUNwRTtBQUNBOztBQUVBLGdEQUFnRDtBQUNoRDs7QUFFQSwwR0FBMEc7QUFDMUc7QUFDQTs7QUFFQSxrREFBa0Q7O0FBRWxELGlGQUFpRjtBQUNqRjs7QUFFQSwyQ0FBMkM7QUFDM0M7O0FBRUEsMkNBQTJDO0FBQzNDOztBQUVBLGdHQUFnRztBQUNoRzs7QUFFQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBOztBQUVBLGdEQUFnRDtBQUNoRDs7QUFFQSxnRUFBZ0U7QUFDaEU7O0FBRUEsZ0VBQWdFOztBQUVoRTs7QUFFQSxnQ0FBZ0MsOERBQVk7QUFDNUM7QUFDQTs7QUFFQSxTQUFTLDhEQUFZO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxxRUFBb0I7QUFDMUI7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaURBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx5QkFBeUIsZ0RBQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDLEdBQUc7O0FBRUo7OztBQUc0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9kcmlmdC16b29tL2VzL0RyaWZ0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBpc0RPTUVsZW1lbnQgfSBmcm9tIFwiLi91dGlsL2RvbVwiO1xuaW1wb3J0IGluamVjdEJhc2VTdHlsZXNoZWV0IGZyb20gXCIuL2luamVjdEJhc2VTdHlsZXNoZWV0XCI7XG5pbXBvcnQgVHJpZ2dlciBmcm9tIFwiLi9UcmlnZ2VyXCI7XG5pbXBvcnQgWm9vbVBhbmUgZnJvbSBcIi4vWm9vbVBhbmVcIjtcblxudmFyIERyaWZ0ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRHJpZnQodHJpZ2dlckVsKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyaWZ0KTtcblxuICAgIHRoaXMuVkVSU0lPTiA9IFwiMS40LjBcIjtcbiAgICB0aGlzLnRyaWdnZXJFbCA9IHRyaWdnZXJFbDtcbiAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKTtcblxuICAgIGlmICghaXNET01FbGVtZW50KHRoaXMudHJpZ2dlckVsKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImBuZXcgRHJpZnRgIHJlcXVpcmVzIGEgRE9NIGVsZW1lbnQgYXMgaXRzIGZpcnN0IGFyZ3VtZW50LlwiKTtcbiAgICB9IC8vIFByZWZpeCBmb3IgZ2VuZXJhdGVkIGVsZW1lbnQgY2xhc3MgbmFtZXMgKGUuZy4gYG15LW5zYCB3aWxsXG4gICAgLy8gcmVzdWx0IGluIGNsYXNzZXMgc3VjaCBhcyBgbXktbnMtcGFuZWAuIERlZmF1bHQgYGRyaWZ0LWBcbiAgICAvLyBwcmVmaXhlZCBjbGFzc2VzIHdpbGwgYWx3YXlzIGJlIGFkZGVkIGFzIHdlbGwuXG5cblxuICAgIHZhciBuYW1lc3BhY2UgPSBvcHRpb25zW1wibmFtZXNwYWNlXCJdIHx8IG51bGw7IC8vIFdoZXRoZXIgdGhlIFpvb21QYW5lIHNob3VsZCBzaG93IHdoaXRlc3BhY2Ugd2hlbiBuZWFyIHRoZSBlZGdlcy5cblxuICAgIHZhciBzaG93V2hpdGVzcGFjZUF0RWRnZXMgPSBvcHRpb25zW1wic2hvd1doaXRlc3BhY2VBdEVkZ2VzXCJdIHx8IGZhbHNlOyAvLyBXaGV0aGVyIHRoZSBpbmxpbmUgWm9vbVBhbmUgc2hvdWxkIHN0YXkgaW5zaWRlXG4gICAgLy8gdGhlIGJvdW5kcyBvZiBpdHMgaW1hZ2UuXG5cbiAgICB2YXIgY29udGFpbklubGluZSA9IG9wdGlvbnNbXCJjb250YWluSW5saW5lXCJdIHx8IGZhbHNlOyAvLyBIb3cgbXVjaCB0byBvZmZzZXQgdGhlIFpvb21QYW5lIGZyb20gdGhlXG4gICAgLy8gaW50ZXJhY3Rpb24gcG9pbnQgd2hlbiBpbmxpbmUuXG5cbiAgICB2YXIgaW5saW5lT2Zmc2V0WCA9IG9wdGlvbnNbXCJpbmxpbmVPZmZzZXRYXCJdIHx8IDA7XG4gICAgdmFyIGlubGluZU9mZnNldFkgPSBvcHRpb25zW1wiaW5saW5lT2Zmc2V0WVwiXSB8fCAwOyAvLyBBIERPTSBlbGVtZW50IHRvIGFwcGVuZCB0aGUgaW5saW5lIFpvb21QYW5lIHRvXG5cbiAgICB2YXIgaW5saW5lQ29udGFpbmVyID0gb3B0aW9uc1tcImlubGluZUNvbnRhaW5lclwiXSB8fCBkb2N1bWVudC5ib2R5OyAvLyBXaGljaCB0cmlnZ2VyIGF0dHJpYnV0ZSB0byBwdWxsIHRoZSBab29tUGFuZSBpbWFnZSBzb3VyY2UgZnJvbS5cblxuICAgIHZhciBzb3VyY2VBdHRyaWJ1dGUgPSBvcHRpb25zW1wic291cmNlQXR0cmlidXRlXCJdIHx8IFwiZGF0YS16b29tXCI7IC8vIEhvdyBtdWNoIHRvIG1hZ25pZnkgdGhlIHRyaWdnZXIgYnkgaW4gdGhlIFpvb21QYW5lLlxuICAgIC8vIChlLmcuLCBgem9vbUZhY3RvcjogM2Agd2lsbCByZXN1bHQgaW4gYSA5MDAgcHggd2lkZSBab29tUGFuZSBpbWFnXG4gICAgLy8gaWYgdGhlIHRyaWdnZXIgaXMgZGlzcGxheWVkIGF0IDMwMCBweCB3aWRlKVxuXG4gICAgdmFyIHpvb21GYWN0b3IgPSBvcHRpb25zW1wiem9vbUZhY3RvclwiXSB8fCAzOyAvLyBBIERPTSBlbGVtZW50IHRvIGFwcGVuZCB0aGUgbm9uLWlubGluZSBab29tUGFuZSB0by5cbiAgICAvLyBSZXF1aXJlZCBpZiBgaW5saW5lUGFuZSAhPT0gdHJ1ZWAuXG5cbiAgICB2YXIgcGFuZUNvbnRhaW5lciA9IG9wdGlvbnNbXCJwYW5lQ29udGFpbmVyXCJdID09PSB1bmRlZmluZWQgPyBkb2N1bWVudC5ib2R5IDogb3B0aW9uc1tcInBhbmVDb250YWluZXJcIl07IC8vIFdoZW4gdG8gc3dpdGNoIHRvIGFuIGlubGluZSBab29tUGFuZS4gVGhpcyBjYW4gYmUgYSBib29sZWFuIG9yXG4gICAgLy8gYW4gaW50ZWdlci4gSWYgYHRydWVgLCB0aGUgWm9vbVBhbmUgd2lsbCBhbHdheXMgYmUgaW5saW5lLFxuICAgIC8vIGlmIGBmYWxzZWAsIGl0IHdpbGwgc3dpdGNoIHRvIGlubGluZSB3aGVuIGB3aW5kb3dXaWR0aCA8PSBpbmxpbmVQYW5lYFxuXG4gICAgdmFyIGlubGluZVBhbmUgPSBvcHRpb25zW1wiaW5saW5lUGFuZVwiXSB8fCAzNzU7IC8vIElmIGB0cnVlYCwgdG91Y2ggZXZlbnRzIHdpbGwgdHJpZ2dlciB0aGUgem9vbSwgbGlrZSBtb3VzZSBldmVudHMuXG5cbiAgICB2YXIgaGFuZGxlVG91Y2ggPSBcImhhbmRsZVRvdWNoXCIgaW4gb3B0aW9ucyA/ICEhb3B0aW9uc1tcImhhbmRsZVRvdWNoXCJdIDogdHJ1ZTsgLy8gSWYgcHJlc2VudCAoYW5kIGEgZnVuY3Rpb24pLCB0aGlzIHdpbGwgYmUgY2FsbGVkXG4gICAgLy8gd2hlbmV2ZXIgdGhlIFpvb21QYW5lIGlzIHNob3duLlxuXG4gICAgdmFyIG9uU2hvdyA9IG9wdGlvbnNbXCJvblNob3dcIl0gfHwgbnVsbDsgLy8gSWYgcHJlc2VudCAoYW5kIGEgZnVuY3Rpb24pLCB0aGlzIHdpbGwgYmUgY2FsbGVkXG4gICAgLy8gd2hlbmV2ZXIgdGhlIFpvb21QYW5lIGlzIGhpZGRlbi5cblxuICAgIHZhciBvbkhpZGUgPSBvcHRpb25zW1wib25IaWRlXCJdIHx8IG51bGw7IC8vIEFkZCBiYXNlIHN0eWxlcyB0byB0aGUgcGFnZS4gU2VlIHRoZSBcIlRoZW1pbmdcIlxuICAgIC8vIHNlY3Rpb24gb2YgUkVBRE1FLm1kIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXG4gICAgdmFyIGluamVjdEJhc2VTdHlsZXMgPSBcImluamVjdEJhc2VTdHlsZXNcIiBpbiBvcHRpb25zID8gISFvcHRpb25zW1wiaW5qZWN0QmFzZVN0eWxlc1wiXSA6IHRydWU7IC8vIEFuIG9wdGlvbmFsIG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IGxvbmcgdG8gd2FpdCBiZWZvcmVcbiAgICAvLyBzaG93aW5nIHRoZSBab29tUGFuZSBiZWNhdXNlIG9mIGEgYG1vdXNlZW50ZXJgIGV2ZW50LlxuXG4gICAgdmFyIGhvdmVyRGVsYXkgPSBvcHRpb25zW1wiaG92ZXJEZWxheVwiXSB8fCAwOyAvLyBBbiBvcHRpb25hbCBudW1iZXIgdGhhdCBkZXRlcm1pbmVzIGhvdyBsb25nIHRvIHdhaXQgYmVmb3JlXG4gICAgLy8gc2hvd2luZyB0aGUgWm9vbVBhbmUgYmVjYXVzZSBvZiBhIGB0b3VjaHN0YXJ0YCBldmVudC5cbiAgICAvLyBJdCdzIHVubGlrZWx5IHRoYXQgeW91IHdvdWxkIHdhbnQgdG8gdXNlIHRoaXMgb3B0aW9uLCBzaW5jZVxuICAgIC8vIFwidGFwIGFuZCBob2xkXCIgaXMgbXVjaCBtb3JlIGludGVudGlvbmFsIHRoYW4gYSBob3ZlciBldmVudC5cblxuICAgIHZhciB0b3VjaERlbGF5ID0gb3B0aW9uc1tcInRvdWNoRGVsYXlcIl0gfHwgMDsgLy8gSWYgdHJ1ZSwgYSBib3VuZGluZyBib3ggd2lsbCBzaG93IHRoZSBhcmVhIGN1cnJlbnRseSBiZWluZyBwcmV2aWV3ZWRcbiAgICAvLyBkdXJpbmcgbW91c2UgaG92ZXJcblxuICAgIHZhciBob3ZlckJvdW5kaW5nQm94ID0gb3B0aW9uc1tcImhvdmVyQm91bmRpbmdCb3hcIl0gfHwgZmFsc2U7IC8vIElmIHRydWUsIGEgYm91bmRpbmcgYm94IHdpbGwgc2hvdyB0aGUgYXJlYSBjdXJyZW50bHkgYmVpbmcgcHJldmlld2VkXG4gICAgLy8gZHVyaW5nIHRvdWNoIGV2ZW50c1xuXG4gICAgdmFyIHRvdWNoQm91bmRpbmdCb3ggPSBvcHRpb25zW1widG91Y2hCb3VuZGluZ0JveFwiXSB8fCBmYWxzZTsgLy8gQSBET00gZWxlbWVudCB0byBhcHBlbmQgdGhlIGJvdW5kaW5nIGJveCB0by5cblxuICAgIHZhciBib3VuZGluZ0JveENvbnRhaW5lciA9IG9wdGlvbnNbXCJib3VuZGluZ0JveENvbnRhaW5lclwiXSB8fCBkb2N1bWVudC5ib2R5O1xuXG4gICAgaWYgKGlubGluZVBhbmUgIT09IHRydWUgJiYgIWlzRE9NRWxlbWVudChwYW5lQ29udGFpbmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImBwYW5lQ29udGFpbmVyYCBtdXN0IGJlIGEgRE9NIGVsZW1lbnQgd2hlbiBgaW5saW5lUGFuZSAhPT0gdHJ1ZWBcIik7XG4gICAgfVxuXG4gICAgaWYgKCFpc0RPTUVsZW1lbnQoaW5saW5lQ29udGFpbmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImBpbmxpbmVDb250YWluZXJgIG11c3QgYmUgYSBET00gZWxlbWVudFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldHRpbmdzID0ge1xuICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsXG4gICAgICBzaG93V2hpdGVzcGFjZUF0RWRnZXM6IHNob3dXaGl0ZXNwYWNlQXRFZGdlcyxcbiAgICAgIGNvbnRhaW5JbmxpbmU6IGNvbnRhaW5JbmxpbmUsXG4gICAgICBpbmxpbmVPZmZzZXRYOiBpbmxpbmVPZmZzZXRYLFxuICAgICAgaW5saW5lT2Zmc2V0WTogaW5saW5lT2Zmc2V0WSxcbiAgICAgIGlubGluZUNvbnRhaW5lcjogaW5saW5lQ29udGFpbmVyLFxuICAgICAgc291cmNlQXR0cmlidXRlOiBzb3VyY2VBdHRyaWJ1dGUsXG4gICAgICB6b29tRmFjdG9yOiB6b29tRmFjdG9yLFxuICAgICAgcGFuZUNvbnRhaW5lcjogcGFuZUNvbnRhaW5lcixcbiAgICAgIGlubGluZVBhbmU6IGlubGluZVBhbmUsXG4gICAgICBoYW5kbGVUb3VjaDogaGFuZGxlVG91Y2gsXG4gICAgICBvblNob3c6IG9uU2hvdyxcbiAgICAgIG9uSGlkZTogb25IaWRlLFxuICAgICAgaW5qZWN0QmFzZVN0eWxlczogaW5qZWN0QmFzZVN0eWxlcyxcbiAgICAgIGhvdmVyRGVsYXk6IGhvdmVyRGVsYXksXG4gICAgICB0b3VjaERlbGF5OiB0b3VjaERlbGF5LFxuICAgICAgaG92ZXJCb3VuZGluZ0JveDogaG92ZXJCb3VuZGluZ0JveCxcbiAgICAgIHRvdWNoQm91bmRpbmdCb3g6IHRvdWNoQm91bmRpbmdCb3gsXG4gICAgICBib3VuZGluZ0JveENvbnRhaW5lcjogYm91bmRpbmdCb3hDb250YWluZXJcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5qZWN0QmFzZVN0eWxlcykge1xuICAgICAgaW5qZWN0QmFzZVN0eWxlc2hlZXQoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9idWlsZFpvb21QYW5lKCk7XG5cbiAgICB0aGlzLl9idWlsZFRyaWdnZXIoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEcmlmdCwgW3tcbiAgICBrZXk6IFwiX2J1aWxkWm9vbVBhbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2J1aWxkWm9vbVBhbmUoKSB7XG4gICAgICB0aGlzLnpvb21QYW5lID0gbmV3IFpvb21QYW5lKHtcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLnNldHRpbmdzLnBhbmVDb250YWluZXIsXG4gICAgICAgIHpvb21GYWN0b3I6IHRoaXMuc2V0dGluZ3Muem9vbUZhY3RvcixcbiAgICAgICAgc2hvd1doaXRlc3BhY2VBdEVkZ2VzOiB0aGlzLnNldHRpbmdzLnNob3dXaGl0ZXNwYWNlQXRFZGdlcyxcbiAgICAgICAgY29udGFpbklubGluZTogdGhpcy5zZXR0aW5ncy5jb250YWluSW5saW5lLFxuICAgICAgICBpbmxpbmU6IHRoaXMuc2V0dGluZ3MuaW5saW5lUGFuZSxcbiAgICAgICAgbmFtZXNwYWNlOiB0aGlzLnNldHRpbmdzLm5hbWVzcGFjZSxcbiAgICAgICAgaW5saW5lT2Zmc2V0WDogdGhpcy5zZXR0aW5ncy5pbmxpbmVPZmZzZXRYLFxuICAgICAgICBpbmxpbmVPZmZzZXRZOiB0aGlzLnNldHRpbmdzLmlubGluZU9mZnNldFksXG4gICAgICAgIGlubGluZUNvbnRhaW5lcjogdGhpcy5zZXR0aW5ncy5pbmxpbmVDb250YWluZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfYnVpbGRUcmlnZ2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9idWlsZFRyaWdnZXIoKSB7XG4gICAgICB0aGlzLnRyaWdnZXIgPSBuZXcgVHJpZ2dlcih7XG4gICAgICAgIGVsOiB0aGlzLnRyaWdnZXJFbCxcbiAgICAgICAgem9vbVBhbmU6IHRoaXMuem9vbVBhbmUsXG4gICAgICAgIGhhbmRsZVRvdWNoOiB0aGlzLnNldHRpbmdzLmhhbmRsZVRvdWNoLFxuICAgICAgICBvblNob3c6IHRoaXMuc2V0dGluZ3Mub25TaG93LFxuICAgICAgICBvbkhpZGU6IHRoaXMuc2V0dGluZ3Mub25IaWRlLFxuICAgICAgICBzb3VyY2VBdHRyaWJ1dGU6IHRoaXMuc2V0dGluZ3Muc291cmNlQXR0cmlidXRlLFxuICAgICAgICBob3ZlckRlbGF5OiB0aGlzLnNldHRpbmdzLmhvdmVyRGVsYXksXG4gICAgICAgIHRvdWNoRGVsYXk6IHRoaXMuc2V0dGluZ3MudG91Y2hEZWxheSxcbiAgICAgICAgaG92ZXJCb3VuZGluZ0JveDogdGhpcy5zZXR0aW5ncy5ob3ZlckJvdW5kaW5nQm94LFxuICAgICAgICB0b3VjaEJvdW5kaW5nQm94OiB0aGlzLnNldHRpbmdzLnRvdWNoQm91bmRpbmdCb3gsXG4gICAgICAgIG5hbWVzcGFjZTogdGhpcy5zZXR0aW5ncy5uYW1lc3BhY2UsXG4gICAgICAgIHpvb21GYWN0b3I6IHRoaXMuc2V0dGluZ3Muem9vbUZhY3RvcixcbiAgICAgICAgYm91bmRpbmdCb3hDb250YWluZXI6IHRoaXMuc2V0dGluZ3MuYm91bmRpbmdCb3hDb250YWluZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRab29tSW1hZ2VVUkxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Wm9vbUltYWdlVVJMKGltYWdlVVJMKSB7XG4gICAgICB0aGlzLnpvb21QYW5lLl9zZXRJbWFnZVVSTChpbWFnZVVSTCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpc2FibGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMudHJpZ2dlci5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVuYWJsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICB0aGlzLnRyaWdnZXIuZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMudHJpZ2dlci5faGlkZSgpO1xuXG4gICAgICB0aGlzLnRyaWdnZXIuX3VuYmluZEV2ZW50cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1Nob3dpbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnpvb21QYW5lLmlzU2hvd2luZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiem9vbUZhY3RvclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3Muem9vbUZhY3RvcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHpmKSB7XG4gICAgICB0aGlzLnNldHRpbmdzLnpvb21GYWN0b3IgPSB6ZjtcbiAgICAgIHRoaXMuem9vbVBhbmUuc2V0dGluZ3Muem9vbUZhY3RvciA9IHpmO1xuICAgICAgdGhpcy50cmlnZ2VyLnNldHRpbmdzLnpvb21GYWN0b3IgPSB6ZjtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3guc2V0dGluZ3Muem9vbUZhY3RvciA9IHpmO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEcmlmdDtcbn0oKTsgLy8gUHVibGljIEFQSVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1zZWxmLWFzc2lnbiAqL1xuXG5cbmV4cG9ydCB7IERyaWZ0IGFzIGRlZmF1bHQgfTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEcmlmdC5wcm90b3R5cGUsIFwiaXNTaG93aW5nXCIsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTaG93aW5nO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEcmlmdC5wcm90b3R5cGUsIFwiem9vbUZhY3RvclwiLCB7XG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLnpvb21GYWN0b3I7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgdGhpcy56b29tRmFjdG9yID0gdmFsdWU7XG4gIH1cbn0pO1xuRHJpZnQucHJvdG90eXBlW1wic2V0Wm9vbUltYWdlVVJMXCJdID0gRHJpZnQucHJvdG90eXBlLnNldFpvb21JbWFnZVVSTDtcbkRyaWZ0LnByb3RvdHlwZVtcImRpc2FibGVcIl0gPSBEcmlmdC5wcm90b3R5cGUuZGlzYWJsZTtcbkRyaWZ0LnByb3RvdHlwZVtcImVuYWJsZVwiXSA9IERyaWZ0LnByb3RvdHlwZS5lbmFibGU7XG5EcmlmdC5wcm90b3R5cGVbXCJkZXN0cm95XCJdID0gRHJpZnQucHJvdG90eXBlLmRlc3Ryb3k7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtYXNzaWduICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EcmlmdC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/drift-zoom/es/Drift.js\n");

/***/ }),

/***/ "./node_modules/drift-zoom/es/Trigger.js":
/*!***********************************************!*\
  !*** ./node_modules/drift-zoom/es/Trigger.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Trigger; });\n/* harmony import */ var _util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/throwIfMissing */ \"./node_modules/drift-zoom/es/util/throwIfMissing.js\");\n/* harmony import */ var _BoundingBox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BoundingBox */ \"./node_modules/drift-zoom/es/BoundingBox.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Trigger =\n/*#__PURE__*/\nfunction () {\n  function Trigger() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Trigger);\n\n    this._show = this._show.bind(this);\n    this._hide = this._hide.bind(this);\n    this._handleEntry = this._handleEntry.bind(this);\n    this._handleMovement = this._handleMovement.bind(this);\n    var _options$el = options.el,\n        el = _options$el === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$el,\n        _options$zoomPane = options.zoomPane,\n        zoomPane = _options$zoomPane === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$zoomPane,\n        _options$sourceAttrib = options.sourceAttribute,\n        sourceAttribute = _options$sourceAttrib === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$sourceAttrib,\n        _options$handleTouch = options.handleTouch,\n        handleTouch = _options$handleTouch === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$handleTouch,\n        _options$onShow = options.onShow,\n        onShow = _options$onShow === void 0 ? null : _options$onShow,\n        _options$onHide = options.onHide,\n        onHide = _options$onHide === void 0 ? null : _options$onHide,\n        _options$hoverDelay = options.hoverDelay,\n        hoverDelay = _options$hoverDelay === void 0 ? 0 : _options$hoverDelay,\n        _options$touchDelay = options.touchDelay,\n        touchDelay = _options$touchDelay === void 0 ? 0 : _options$touchDelay,\n        _options$hoverBoundin = options.hoverBoundingBox,\n        hoverBoundingBox = _options$hoverBoundin === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$hoverBoundin,\n        _options$touchBoundin = options.touchBoundingBox,\n        touchBoundingBox = _options$touchBoundin === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$touchBoundin,\n        _options$namespace = options.namespace,\n        namespace = _options$namespace === void 0 ? null : _options$namespace,\n        _options$zoomFactor = options.zoomFactor,\n        zoomFactor = _options$zoomFactor === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$zoomFactor,\n        _options$boundingBoxC = options.boundingBoxContainer,\n        boundingBoxContainer = _options$boundingBoxC === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$boundingBoxC;\n    this.settings = {\n      el: el,\n      zoomPane: zoomPane,\n      sourceAttribute: sourceAttribute,\n      handleTouch: handleTouch,\n      onShow: onShow,\n      onHide: onHide,\n      hoverDelay: hoverDelay,\n      touchDelay: touchDelay,\n      hoverBoundingBox: hoverBoundingBox,\n      touchBoundingBox: touchBoundingBox,\n      namespace: namespace,\n      zoomFactor: zoomFactor,\n      boundingBoxContainer: boundingBoxContainer\n    };\n\n    if (this.settings.hoverBoundingBox || this.settings.touchBoundingBox) {\n      this.boundingBox = new _BoundingBox__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n        namespace: this.settings.namespace,\n        zoomFactor: this.settings.zoomFactor,\n        containerEl: this.settings.boundingBoxContainer\n      });\n    }\n\n    this.enabled = true;\n\n    this._bindEvents();\n  }\n\n  _createClass(Trigger, [{\n    key: \"_preventDefault\",\n    value: function _preventDefault(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"_preventDefaultAllowTouchScroll\",\n    value: function _preventDefaultAllowTouchScroll(event) {\n      if (!this.settings.touchDelay || !this._isTouchEvent(event) || this.isShowing) {\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"_isTouchEvent\",\n    value: function _isTouchEvent(event) {\n      return !!event.touches;\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this.settings.el.addEventListener(\"mouseenter\", this._handleEntry, false);\n      this.settings.el.addEventListener(\"mouseleave\", this._hide, false);\n      this.settings.el.addEventListener(\"mousemove\", this._handleMovement, false);\n\n      if (this.settings.handleTouch) {\n        this.settings.el.addEventListener(\"touchstart\", this._handleEntry, false);\n        this.settings.el.addEventListener(\"touchend\", this._hide, false);\n        this.settings.el.addEventListener(\"touchmove\", this._handleMovement, false);\n      } else {\n        this.settings.el.addEventListener(\"touchstart\", this._preventDefault, false);\n        this.settings.el.addEventListener(\"touchend\", this._preventDefault, false);\n        this.settings.el.addEventListener(\"touchmove\", this._preventDefault, false);\n      }\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      this.settings.el.removeEventListener(\"mouseenter\", this._handleEntry, false);\n      this.settings.el.removeEventListener(\"mouseleave\", this._hide, false);\n      this.settings.el.removeEventListener(\"mousemove\", this._handleMovement, false);\n\n      if (this.settings.handleTouch) {\n        this.settings.el.removeEventListener(\"touchstart\", this._handleEntry, false);\n        this.settings.el.removeEventListener(\"touchend\", this._hide, false);\n        this.settings.el.removeEventListener(\"touchmove\", this._handleMovement, false);\n      } else {\n        this.settings.el.removeEventListener(\"touchstart\", this._preventDefault, false);\n        this.settings.el.removeEventListener(\"touchend\", this._preventDefault, false);\n        this.settings.el.removeEventListener(\"touchmove\", this._preventDefault, false);\n      }\n    }\n  }, {\n    key: \"_handleEntry\",\n    value: function _handleEntry(e) {\n      this._preventDefaultAllowTouchScroll(e);\n\n      this._lastMovement = e;\n\n      if (e.type == \"mouseenter\" && this.settings.hoverDelay) {\n        this.entryTimeout = setTimeout(this._show, this.settings.hoverDelay);\n      } else if (this.settings.touchDelay) {\n        this.entryTimeout = setTimeout(this._show, this.settings.touchDelay);\n      } else {\n        this._show();\n      }\n    }\n  }, {\n    key: \"_show\",\n    value: function _show() {\n      if (!this.enabled) {\n        return;\n      }\n\n      var onShow = this.settings.onShow;\n\n      if (onShow && typeof onShow === \"function\") {\n        onShow();\n      }\n\n      this.settings.zoomPane.show(this.settings.el.getAttribute(this.settings.sourceAttribute), this.settings.el.clientWidth, this.settings.el.clientHeight);\n\n      if (this._lastMovement) {\n        var touchActivated = this._lastMovement.touches;\n\n        if (touchActivated && this.settings.touchBoundingBox || !touchActivated && this.settings.hoverBoundingBox) {\n          this.boundingBox.show(this.settings.zoomPane.el.clientWidth, this.settings.zoomPane.el.clientHeight);\n        }\n      }\n\n      this._handleMovement();\n    }\n  }, {\n    key: \"_hide\",\n    value: function _hide(e) {\n      if (e) {\n        this._preventDefaultAllowTouchScroll(e);\n      }\n\n      this._lastMovement = null;\n\n      if (this.entryTimeout) {\n        clearTimeout(this.entryTimeout);\n      }\n\n      if (this.boundingBox) {\n        this.boundingBox.hide();\n      }\n\n      var onHide = this.settings.onHide;\n\n      if (onHide && typeof onHide === \"function\") {\n        onHide();\n      }\n\n      this.settings.zoomPane.hide();\n    }\n  }, {\n    key: \"_handleMovement\",\n    value: function _handleMovement(e) {\n      if (e) {\n        this._preventDefaultAllowTouchScroll(e);\n\n        this._lastMovement = e;\n      } else if (this._lastMovement) {\n        e = this._lastMovement;\n      } else {\n        return;\n      }\n\n      var movementX;\n      var movementY;\n\n      if (e.touches) {\n        var firstTouch = e.touches[0];\n        movementX = firstTouch.clientX;\n        movementY = firstTouch.clientY;\n      } else {\n        movementX = e.clientX;\n        movementY = e.clientY;\n      }\n\n      var el = this.settings.el;\n      var rect = el.getBoundingClientRect();\n      var offsetX = movementX - rect.left;\n      var offsetY = movementY - rect.top;\n      var percentageOffsetX = offsetX / this.settings.el.clientWidth;\n      var percentageOffsetY = offsetY / this.settings.el.clientHeight;\n\n      if (this.boundingBox) {\n        this.boundingBox.setPosition(percentageOffsetX, percentageOffsetY, rect);\n      }\n\n      this.settings.zoomPane.setPosition(percentageOffsetX, percentageOffsetY, rect);\n    }\n  }, {\n    key: \"isShowing\",\n    get: function get() {\n      return this.settings.zoomPane.isShowing;\n    }\n  }]);\n\n  return Trigger;\n}();\n\n\n//# sourceMappingURL=Trigger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy9UcmlnZ2VyLmpzPzVlMTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SiwyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRTs7QUFFM1QsNkRBQTZELHNFQUFzRSw4REFBOEQsb0JBQW9COztBQUVsSztBQUNYOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msb0VBQWM7QUFDcEQ7QUFDQSxrREFBa0Qsb0VBQWM7QUFDaEU7QUFDQSw2REFBNkQsb0VBQWM7QUFDM0U7QUFDQSx3REFBd0Qsb0VBQWM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELG9FQUFjO0FBQzVFO0FBQ0EsOERBQThELG9FQUFjO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxvRUFBYztBQUNwRTtBQUNBLGtFQUFrRSxvRUFBYztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIsb0RBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUU2QjtBQUM5QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9kcmlmdC16b29tL2VzL1RyaWdnZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB0aHJvd0lmTWlzc2luZyBmcm9tIFwiLi91dGlsL3Rocm93SWZNaXNzaW5nXCI7XG5pbXBvcnQgQm91bmRpbmdCb3ggZnJvbSBcIi4vQm91bmRpbmdCb3hcIjtcblxudmFyIFRyaWdnZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUcmlnZ2VyKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmlnZ2VyKTtcblxuICAgIHRoaXMuX3Nob3cgPSB0aGlzLl9zaG93LmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGlkZSA9IHRoaXMuX2hpZGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVFbnRyeSA9IHRoaXMuX2hhbmRsZUVudHJ5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlTW92ZW1lbnQgPSB0aGlzLl9oYW5kbGVNb3ZlbWVudC5iaW5kKHRoaXMpO1xuICAgIHZhciBfb3B0aW9ucyRlbCA9IG9wdGlvbnMuZWwsXG4gICAgICAgIGVsID0gX29wdGlvbnMkZWwgPT09IHZvaWQgMCA/IHRocm93SWZNaXNzaW5nKCkgOiBfb3B0aW9ucyRlbCxcbiAgICAgICAgX29wdGlvbnMkem9vbVBhbmUgPSBvcHRpb25zLnpvb21QYW5lLFxuICAgICAgICB6b29tUGFuZSA9IF9vcHRpb25zJHpvb21QYW5lID09PSB2b2lkIDAgPyB0aHJvd0lmTWlzc2luZygpIDogX29wdGlvbnMkem9vbVBhbmUsXG4gICAgICAgIF9vcHRpb25zJHNvdXJjZUF0dHJpYiA9IG9wdGlvbnMuc291cmNlQXR0cmlidXRlLFxuICAgICAgICBzb3VyY2VBdHRyaWJ1dGUgPSBfb3B0aW9ucyRzb3VyY2VBdHRyaWIgPT09IHZvaWQgMCA/IHRocm93SWZNaXNzaW5nKCkgOiBfb3B0aW9ucyRzb3VyY2VBdHRyaWIsXG4gICAgICAgIF9vcHRpb25zJGhhbmRsZVRvdWNoID0gb3B0aW9ucy5oYW5kbGVUb3VjaCxcbiAgICAgICAgaGFuZGxlVG91Y2ggPSBfb3B0aW9ucyRoYW5kbGVUb3VjaCA9PT0gdm9pZCAwID8gdGhyb3dJZk1pc3NpbmcoKSA6IF9vcHRpb25zJGhhbmRsZVRvdWNoLFxuICAgICAgICBfb3B0aW9ucyRvblNob3cgPSBvcHRpb25zLm9uU2hvdyxcbiAgICAgICAgb25TaG93ID0gX29wdGlvbnMkb25TaG93ID09PSB2b2lkIDAgPyBudWxsIDogX29wdGlvbnMkb25TaG93LFxuICAgICAgICBfb3B0aW9ucyRvbkhpZGUgPSBvcHRpb25zLm9uSGlkZSxcbiAgICAgICAgb25IaWRlID0gX29wdGlvbnMkb25IaWRlID09PSB2b2lkIDAgPyBudWxsIDogX29wdGlvbnMkb25IaWRlLFxuICAgICAgICBfb3B0aW9ucyRob3ZlckRlbGF5ID0gb3B0aW9ucy5ob3ZlckRlbGF5LFxuICAgICAgICBob3ZlckRlbGF5ID0gX29wdGlvbnMkaG92ZXJEZWxheSA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJGhvdmVyRGVsYXksXG4gICAgICAgIF9vcHRpb25zJHRvdWNoRGVsYXkgPSBvcHRpb25zLnRvdWNoRGVsYXksXG4gICAgICAgIHRvdWNoRGVsYXkgPSBfb3B0aW9ucyR0b3VjaERlbGF5ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkdG91Y2hEZWxheSxcbiAgICAgICAgX29wdGlvbnMkaG92ZXJCb3VuZGluID0gb3B0aW9ucy5ob3ZlckJvdW5kaW5nQm94LFxuICAgICAgICBob3ZlckJvdW5kaW5nQm94ID0gX29wdGlvbnMkaG92ZXJCb3VuZGluID09PSB2b2lkIDAgPyB0aHJvd0lmTWlzc2luZygpIDogX29wdGlvbnMkaG92ZXJCb3VuZGluLFxuICAgICAgICBfb3B0aW9ucyR0b3VjaEJvdW5kaW4gPSBvcHRpb25zLnRvdWNoQm91bmRpbmdCb3gsXG4gICAgICAgIHRvdWNoQm91bmRpbmdCb3ggPSBfb3B0aW9ucyR0b3VjaEJvdW5kaW4gPT09IHZvaWQgMCA/IHRocm93SWZNaXNzaW5nKCkgOiBfb3B0aW9ucyR0b3VjaEJvdW5kaW4sXG4gICAgICAgIF9vcHRpb25zJG5hbWVzcGFjZSA9IG9wdGlvbnMubmFtZXNwYWNlLFxuICAgICAgICBuYW1lc3BhY2UgPSBfb3B0aW9ucyRuYW1lc3BhY2UgPT09IHZvaWQgMCA/IG51bGwgOiBfb3B0aW9ucyRuYW1lc3BhY2UsXG4gICAgICAgIF9vcHRpb25zJHpvb21GYWN0b3IgPSBvcHRpb25zLnpvb21GYWN0b3IsXG4gICAgICAgIHpvb21GYWN0b3IgPSBfb3B0aW9ucyR6b29tRmFjdG9yID09PSB2b2lkIDAgPyB0aHJvd0lmTWlzc2luZygpIDogX29wdGlvbnMkem9vbUZhY3RvcixcbiAgICAgICAgX29wdGlvbnMkYm91bmRpbmdCb3hDID0gb3B0aW9ucy5ib3VuZGluZ0JveENvbnRhaW5lcixcbiAgICAgICAgYm91bmRpbmdCb3hDb250YWluZXIgPSBfb3B0aW9ucyRib3VuZGluZ0JveEMgPT09IHZvaWQgMCA/IHRocm93SWZNaXNzaW5nKCkgOiBfb3B0aW9ucyRib3VuZGluZ0JveEM7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHtcbiAgICAgIGVsOiBlbCxcbiAgICAgIHpvb21QYW5lOiB6b29tUGFuZSxcbiAgICAgIHNvdXJjZUF0dHJpYnV0ZTogc291cmNlQXR0cmlidXRlLFxuICAgICAgaGFuZGxlVG91Y2g6IGhhbmRsZVRvdWNoLFxuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvbkhpZGU6IG9uSGlkZSxcbiAgICAgIGhvdmVyRGVsYXk6IGhvdmVyRGVsYXksXG4gICAgICB0b3VjaERlbGF5OiB0b3VjaERlbGF5LFxuICAgICAgaG92ZXJCb3VuZGluZ0JveDogaG92ZXJCb3VuZGluZ0JveCxcbiAgICAgIHRvdWNoQm91bmRpbmdCb3g6IHRvdWNoQm91bmRpbmdCb3gsXG4gICAgICBuYW1lc3BhY2U6IG5hbWVzcGFjZSxcbiAgICAgIHpvb21GYWN0b3I6IHpvb21GYWN0b3IsXG4gICAgICBib3VuZGluZ0JveENvbnRhaW5lcjogYm91bmRpbmdCb3hDb250YWluZXJcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuaG92ZXJCb3VuZGluZ0JveCB8fCB0aGlzLnNldHRpbmdzLnRvdWNoQm91bmRpbmdCb3gpIHtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm91bmRpbmdCb3goe1xuICAgICAgICBuYW1lc3BhY2U6IHRoaXMuc2V0dGluZ3MubmFtZXNwYWNlLFxuICAgICAgICB6b29tRmFjdG9yOiB0aGlzLnNldHRpbmdzLnpvb21GYWN0b3IsXG4gICAgICAgIGNvbnRhaW5lckVsOiB0aGlzLnNldHRpbmdzLmJvdW5kaW5nQm94Q29udGFpbmVyXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRyaWdnZXIsIFt7XG4gICAga2V5OiBcIl9wcmV2ZW50RGVmYXVsdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9wcmV2ZW50RGVmYXVsdEFsbG93VG91Y2hTY3JvbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3ByZXZlbnREZWZhdWx0QWxsb3dUb3VjaFNjcm9sbChldmVudCkge1xuICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnRvdWNoRGVsYXkgfHwgIXRoaXMuX2lzVG91Y2hFdmVudChldmVudCkgfHwgdGhpcy5pc1Nob3dpbmcpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2lzVG91Y2hFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNUb3VjaEV2ZW50KGV2ZW50KSB7XG4gICAgICByZXR1cm4gISFldmVudC50b3VjaGVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfYmluZEV2ZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYmluZEV2ZW50cygpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3MuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5faGFuZGxlRW50cnksIGZhbHNlKTtcbiAgICAgIHRoaXMuc2V0dGluZ3MuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5faGlkZSwgZmFsc2UpO1xuICAgICAgdGhpcy5zZXR0aW5ncy5lbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX2hhbmRsZU1vdmVtZW50LCBmYWxzZSk7XG5cbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmhhbmRsZVRvdWNoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5faGFuZGxlRW50cnksIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5faGlkZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5faGFuZGxlTW92ZW1lbnQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5fcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX3ByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl91bmJpbmRFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VuYmluZEV2ZW50cygpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3MuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5faGFuZGxlRW50cnksIGZhbHNlKTtcbiAgICAgIHRoaXMuc2V0dGluZ3MuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5faGlkZSwgZmFsc2UpO1xuICAgICAgdGhpcy5zZXR0aW5ncy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX2hhbmRsZU1vdmVtZW50LCBmYWxzZSk7XG5cbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmhhbmRsZVRvdWNoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5faGFuZGxlRW50cnksIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5faGlkZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5faGFuZGxlTW92ZW1lbnQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5fcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX3ByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9oYW5kbGVFbnRyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRW50cnkoZSkge1xuICAgICAgdGhpcy5fcHJldmVudERlZmF1bHRBbGxvd1RvdWNoU2Nyb2xsKGUpO1xuXG4gICAgICB0aGlzLl9sYXN0TW92ZW1lbnQgPSBlO1xuXG4gICAgICBpZiAoZS50eXBlID09IFwibW91c2VlbnRlclwiICYmIHRoaXMuc2V0dGluZ3MuaG92ZXJEZWxheSkge1xuICAgICAgICB0aGlzLmVudHJ5VGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fc2hvdywgdGhpcy5zZXR0aW5ncy5ob3ZlckRlbGF5KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZXR0aW5ncy50b3VjaERlbGF5KSB7XG4gICAgICAgIHRoaXMuZW50cnlUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9zaG93LCB0aGlzLnNldHRpbmdzLnRvdWNoRGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2hvdygpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2hvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hvdygpIHtcbiAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9uU2hvdyA9IHRoaXMuc2V0dGluZ3Mub25TaG93O1xuXG4gICAgICBpZiAob25TaG93ICYmIHR5cGVvZiBvblNob3cgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvblNob3coKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXR0aW5ncy56b29tUGFuZS5zaG93KHRoaXMuc2V0dGluZ3MuZWwuZ2V0QXR0cmlidXRlKHRoaXMuc2V0dGluZ3Muc291cmNlQXR0cmlidXRlKSwgdGhpcy5zZXR0aW5ncy5lbC5jbGllbnRXaWR0aCwgdGhpcy5zZXR0aW5ncy5lbC5jbGllbnRIZWlnaHQpO1xuXG4gICAgICBpZiAodGhpcy5fbGFzdE1vdmVtZW50KSB7XG4gICAgICAgIHZhciB0b3VjaEFjdGl2YXRlZCA9IHRoaXMuX2xhc3RNb3ZlbWVudC50b3VjaGVzO1xuXG4gICAgICAgIGlmICh0b3VjaEFjdGl2YXRlZCAmJiB0aGlzLnNldHRpbmdzLnRvdWNoQm91bmRpbmdCb3ggfHwgIXRvdWNoQWN0aXZhdGVkICYmIHRoaXMuc2V0dGluZ3MuaG92ZXJCb3VuZGluZ0JveCkge1xuICAgICAgICAgIHRoaXMuYm91bmRpbmdCb3guc2hvdyh0aGlzLnNldHRpbmdzLnpvb21QYW5lLmVsLmNsaWVudFdpZHRoLCB0aGlzLnNldHRpbmdzLnpvb21QYW5lLmVsLmNsaWVudEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5faGFuZGxlTW92ZW1lbnQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hpZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hpZGUoZSkge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgdGhpcy5fcHJldmVudERlZmF1bHRBbGxvd1RvdWNoU2Nyb2xsKGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9sYXN0TW92ZW1lbnQgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5lbnRyeVRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZW50cnlUaW1lb3V0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYm91bmRpbmdCb3gpIHtcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveC5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvbkhpZGUgPSB0aGlzLnNldHRpbmdzLm9uSGlkZTtcblxuICAgICAgaWYgKG9uSGlkZSAmJiB0eXBlb2Ygb25IaWRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25IaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0dGluZ3Muem9vbVBhbmUuaGlkZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlTW92ZW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZU1vdmVtZW50KGUpIHtcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIHRoaXMuX3ByZXZlbnREZWZhdWx0QWxsb3dUb3VjaFNjcm9sbChlKTtcblxuICAgICAgICB0aGlzLl9sYXN0TW92ZW1lbnQgPSBlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9sYXN0TW92ZW1lbnQpIHtcbiAgICAgICAgZSA9IHRoaXMuX2xhc3RNb3ZlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG1vdmVtZW50WDtcbiAgICAgIHZhciBtb3ZlbWVudFk7XG5cbiAgICAgIGlmIChlLnRvdWNoZXMpIHtcbiAgICAgICAgdmFyIGZpcnN0VG91Y2ggPSBlLnRvdWNoZXNbMF07XG4gICAgICAgIG1vdmVtZW50WCA9IGZpcnN0VG91Y2guY2xpZW50WDtcbiAgICAgICAgbW92ZW1lbnRZID0gZmlyc3RUb3VjaC5jbGllbnRZO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW92ZW1lbnRYID0gZS5jbGllbnRYO1xuICAgICAgICBtb3ZlbWVudFkgPSBlLmNsaWVudFk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbCA9IHRoaXMuc2V0dGluZ3MuZWw7XG4gICAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIG9mZnNldFggPSBtb3ZlbWVudFggLSByZWN0LmxlZnQ7XG4gICAgICB2YXIgb2Zmc2V0WSA9IG1vdmVtZW50WSAtIHJlY3QudG9wO1xuICAgICAgdmFyIHBlcmNlbnRhZ2VPZmZzZXRYID0gb2Zmc2V0WCAvIHRoaXMuc2V0dGluZ3MuZWwuY2xpZW50V2lkdGg7XG4gICAgICB2YXIgcGVyY2VudGFnZU9mZnNldFkgPSBvZmZzZXRZIC8gdGhpcy5zZXR0aW5ncy5lbC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgIGlmICh0aGlzLmJvdW5kaW5nQm94KSB7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3guc2V0UG9zaXRpb24ocGVyY2VudGFnZU9mZnNldFgsIHBlcmNlbnRhZ2VPZmZzZXRZLCByZWN0KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXR0aW5ncy56b29tUGFuZS5zZXRQb3NpdGlvbihwZXJjZW50YWdlT2Zmc2V0WCwgcGVyY2VudGFnZU9mZnNldFksIHJlY3QpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1Nob3dpbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnpvb21QYW5lLmlzU2hvd2luZztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVHJpZ2dlcjtcbn0oKTtcblxuZXhwb3J0IHsgVHJpZ2dlciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmlnZ2VyLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/drift-zoom/es/Trigger.js\n");

/***/ }),

/***/ "./node_modules/drift-zoom/es/ZoomPane.js":
/*!************************************************!*\
  !*** ./node_modules/drift-zoom/es/ZoomPane.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ZoomPane; });\n/* harmony import */ var _util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/throwIfMissing */ \"./node_modules/drift-zoom/es/util/throwIfMissing.js\");\n/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/dom */ \"./node_modules/drift-zoom/es/util/dom.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n // All officially-supported browsers have this, but it's easy to\n// account for, just in case.\n\nvar divStyle = document.createElement(\"div\").style;\nvar HAS_ANIMATION = typeof document === \"undefined\" ? false : \"animation\" in divStyle || \"webkitAnimation\" in divStyle;\n\nvar ZoomPane =\n/*#__PURE__*/\nfunction () {\n  function ZoomPane() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ZoomPane);\n\n    this._completeShow = this._completeShow.bind(this);\n    this._completeHide = this._completeHide.bind(this);\n    this._handleLoad = this._handleLoad.bind(this);\n    this.isShowing = false;\n    var _options$container = options.container,\n        container = _options$container === void 0 ? null : _options$container,\n        _options$zoomFactor = options.zoomFactor,\n        zoomFactor = _options$zoomFactor === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$zoomFactor,\n        _options$inline = options.inline,\n        inline = _options$inline === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$inline,\n        _options$namespace = options.namespace,\n        namespace = _options$namespace === void 0 ? null : _options$namespace,\n        _options$showWhitespa = options.showWhitespaceAtEdges,\n        showWhitespaceAtEdges = _options$showWhitespa === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$showWhitespa,\n        _options$containInlin = options.containInline,\n        containInline = _options$containInlin === void 0 ? Object(_util_throwIfMissing__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _options$containInlin,\n        _options$inlineOffset = options.inlineOffsetX,\n        inlineOffsetX = _options$inlineOffset === void 0 ? 0 : _options$inlineOffset,\n        _options$inlineOffset2 = options.inlineOffsetY,\n        inlineOffsetY = _options$inlineOffset2 === void 0 ? 0 : _options$inlineOffset2,\n        _options$inlineContai = options.inlineContainer,\n        inlineContainer = _options$inlineContai === void 0 ? document.body : _options$inlineContai;\n    this.settings = {\n      container: container,\n      zoomFactor: zoomFactor,\n      inline: inline,\n      namespace: namespace,\n      showWhitespaceAtEdges: showWhitespaceAtEdges,\n      containInline: containInline,\n      inlineOffsetX: inlineOffsetX,\n      inlineOffsetY: inlineOffsetY,\n      inlineContainer: inlineContainer\n    };\n    this.openClasses = this._buildClasses(\"open\");\n    this.openingClasses = this._buildClasses(\"opening\");\n    this.closingClasses = this._buildClasses(\"closing\");\n    this.inlineClasses = this._buildClasses(\"inline\");\n    this.loadingClasses = this._buildClasses(\"loading\");\n\n    this._buildElement();\n  }\n\n  _createClass(ZoomPane, [{\n    key: \"_buildClasses\",\n    value: function _buildClasses(suffix) {\n      var classes = [\"drift-\".concat(suffix)];\n      var ns = this.settings.namespace;\n\n      if (ns) {\n        classes.push(\"\".concat(ns, \"-\").concat(suffix));\n      }\n\n      return classes;\n    }\n  }, {\n    key: \"_buildElement\",\n    value: function _buildElement() {\n      this.el = document.createElement(\"div\");\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(this.el, this._buildClasses(\"zoom-pane\"));\n      var loaderEl = document.createElement(\"div\");\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(loaderEl, this._buildClasses(\"zoom-pane-loader\"));\n      this.el.appendChild(loaderEl);\n      this.imgEl = document.createElement(\"img\");\n      this.el.appendChild(this.imgEl);\n    }\n  }, {\n    key: \"_setImageURL\",\n    value: function _setImageURL(imageURL) {\n      this.imgEl.setAttribute(\"src\", imageURL);\n    }\n  }, {\n    key: \"_setImageSize\",\n    value: function _setImageSize(triggerWidth, triggerHeight) {\n      this.imgEl.style.width = \"\".concat(triggerWidth * this.settings.zoomFactor, \"px\");\n      this.imgEl.style.height = \"\".concat(triggerHeight * this.settings.zoomFactor, \"px\");\n    } // `percentageOffsetX` and `percentageOffsetY` must be percentages\n    // expressed as floats between `0' and `1`.\n\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\n      var imgElWidth = this.imgEl.offsetWidth;\n      var imgElHeight = this.imgEl.offsetHeight;\n      var elWidth = this.el.offsetWidth;\n      var elHeight = this.el.offsetHeight;\n      var centreOfContainerX = elWidth / 2;\n      var centreOfContainerY = elHeight / 2;\n      var targetImgXToBeCentre = imgElWidth * percentageOffsetX;\n      var targetImgYToBeCentre = imgElHeight * percentageOffsetY;\n      var left = centreOfContainerX - targetImgXToBeCentre;\n      var top = centreOfContainerY - targetImgYToBeCentre;\n      var differenceBetweenContainerWidthAndImgWidth = elWidth - imgElWidth;\n      var differenceBetweenContainerHeightAndImgHeight = elHeight - imgElHeight;\n      var isContainerLargerThanImgX = differenceBetweenContainerWidthAndImgWidth > 0;\n      var isContainerLargerThanImgY = differenceBetweenContainerHeightAndImgHeight > 0;\n      var minLeft = isContainerLargerThanImgX ? differenceBetweenContainerWidthAndImgWidth / 2 : 0;\n      var minTop = isContainerLargerThanImgY ? differenceBetweenContainerHeightAndImgHeight / 2 : 0;\n      var maxLeft = isContainerLargerThanImgX ? differenceBetweenContainerWidthAndImgWidth / 2 : differenceBetweenContainerWidthAndImgWidth;\n      var maxTop = isContainerLargerThanImgY ? differenceBetweenContainerHeightAndImgHeight / 2 : differenceBetweenContainerHeightAndImgHeight;\n\n      if (this.el.parentElement === this.settings.inlineContainer) {\n        // This may be needed in the future to deal with browser event\n        // inconsistencies, but it's difficult to tell for sure.\n        // let scrollX = isTouch ? 0 : window.scrollX;\n        // let scrollY = isTouch ? 0 : window.scrollY;\n        var scrollX = window.pageXOffset;\n        var scrollY = window.pageYOffset;\n        var inlineLeft = triggerRect.left + percentageOffsetX * triggerRect.width - elWidth / 2 + this.settings.inlineOffsetX + scrollX;\n        var inlineTop = triggerRect.top + percentageOffsetY * triggerRect.height - elHeight / 2 + this.settings.inlineOffsetY + scrollY;\n\n        if (this.settings.containInline) {\n          if (inlineLeft < triggerRect.left + scrollX) {\n            inlineLeft = triggerRect.left + scrollX;\n          } else if (inlineLeft + elWidth > triggerRect.left + triggerRect.width + scrollX) {\n            inlineLeft = triggerRect.left + triggerRect.width - elWidth + scrollX;\n          }\n\n          if (inlineTop < triggerRect.top + scrollY) {\n            inlineTop = triggerRect.top + scrollY;\n          } else if (inlineTop + elHeight > triggerRect.top + triggerRect.height + scrollY) {\n            inlineTop = triggerRect.top + triggerRect.height - elHeight + scrollY;\n          }\n        }\n\n        this.el.style.left = \"\".concat(inlineLeft, \"px\");\n        this.el.style.top = \"\".concat(inlineTop, \"px\");\n      }\n\n      if (!this.settings.showWhitespaceAtEdges) {\n        if (left > minLeft) {\n          left = minLeft;\n        } else if (left < maxLeft) {\n          left = maxLeft;\n        }\n\n        if (top > minTop) {\n          top = minTop;\n        } else if (top < maxTop) {\n          top = maxTop;\n        }\n      }\n\n      this.imgEl.style.transform = \"translate(\".concat(left, \"px, \").concat(top, \"px)\");\n      this.imgEl.style.webkitTransform = \"translate(\".concat(left, \"px, \").concat(top, \"px)\");\n    }\n  }, {\n    key: \"_removeListenersAndResetClasses\",\n    value: function _removeListenersAndResetClasses() {\n      this.el.removeEventListener(\"animationend\", this._completeShow, false);\n      this.el.removeEventListener(\"animationend\", this._completeHide, false);\n      this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n      this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.openClasses);\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.closingClasses);\n    }\n  }, {\n    key: \"show\",\n    value: function show(imageURL, triggerWidth, triggerHeight) {\n      this._removeListenersAndResetClasses();\n\n      this.isShowing = true;\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(this.el, this.openClasses);\n\n      if (this.imgEl.getAttribute(\"src\") != imageURL) {\n        Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(this.el, this.loadingClasses);\n        this.imgEl.addEventListener(\"load\", this._handleLoad, false);\n\n        this._setImageURL(imageURL);\n      }\n\n      this._setImageSize(triggerWidth, triggerHeight);\n\n      if (this._isInline) {\n        this._showInline();\n      } else {\n        this._showInContainer();\n      }\n\n      if (HAS_ANIMATION) {\n        this.el.addEventListener(\"animationend\", this._completeShow, false);\n        this.el.addEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n        Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(this.el, this.openingClasses);\n      }\n    }\n  }, {\n    key: \"_showInline\",\n    value: function _showInline() {\n      this.settings.inlineContainer.appendChild(this.el);\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(this.el, this.inlineClasses);\n    }\n  }, {\n    key: \"_showInContainer\",\n    value: function _showInContainer() {\n      this.settings.container.appendChild(this.el);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this._removeListenersAndResetClasses();\n\n      this.isShowing = false;\n\n      if (HAS_ANIMATION) {\n        this.el.addEventListener(\"animationend\", this._completeHide, false);\n        this.el.addEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n        Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"addClasses\"])(this.el, this.closingClasses);\n      } else {\n        Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.openClasses);\n        Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.inlineClasses);\n      }\n    }\n  }, {\n    key: \"_completeShow\",\n    value: function _completeShow() {\n      this.el.removeEventListener(\"animationend\", this._completeShow, false);\n      this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.openingClasses);\n    }\n  }, {\n    key: \"_completeHide\",\n    value: function _completeHide() {\n      this.el.removeEventListener(\"animationend\", this._completeHide, false);\n      this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.openClasses);\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.closingClasses);\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.inlineClasses);\n      this.el.setAttribute(\"style\", \"\"); // The window could have been resized above or below `inline`\n      // limits since the ZoomPane was shown. Because of this, we\n      // can't rely on `this._isInline` here.\n\n      if (this.el.parentElement === this.settings.container) {\n        this.settings.container.removeChild(this.el);\n      } else if (this.el.parentElement === this.settings.inlineContainer) {\n        this.settings.inlineContainer.removeChild(this.el);\n      }\n    }\n  }, {\n    key: \"_handleLoad\",\n    value: function _handleLoad() {\n      this.imgEl.removeEventListener(\"load\", this._handleLoad, false);\n      Object(_util_dom__WEBPACK_IMPORTED_MODULE_1__[\"removeClasses\"])(this.el, this.loadingClasses);\n    }\n  }, {\n    key: \"_isInline\",\n    get: function get() {\n      var inline = this.settings.inline;\n      return inline === true || typeof inline === \"number\" && window.innerWidth <= inline;\n    }\n  }]);\n\n  return ZoomPane;\n}();\n\n\n//# sourceMappingURL=ZoomPane.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy9ab29tUGFuZS5qcz9mZmM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUU7O0FBRTNULDZEQUE2RCxzRUFBc0UsOERBQThELG9CQUFvQjs7QUFFbEs7QUFDSTtBQUN2RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsb0VBQWM7QUFDcEU7QUFDQSw4Q0FBOEMsb0VBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLG9FQUFjO0FBQ2pGO0FBQ0EsMkRBQTJELG9FQUFjO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLDREQUFVO0FBQ2hCO0FBQ0EsTUFBTSw0REFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtEQUFhO0FBQ25CLE1BQU0sK0RBQWE7QUFDbkI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSw0REFBVTs7QUFFaEI7QUFDQSxRQUFRLDREQUFVO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQVU7QUFDbEI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLDREQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFVO0FBQ2xCLE9BQU87QUFDUCxRQUFRLCtEQUFhO0FBQ3JCLFFBQVEsK0RBQWE7QUFDckI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sK0RBQWE7QUFDbkI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtEQUFhO0FBQ25CLE1BQU0sK0RBQWE7QUFDbkIsTUFBTSwrREFBYTtBQUNuQix3Q0FBd0M7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtEQUFhO0FBQ25CO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFOEI7QUFDL0IiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy9ab29tUGFuZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHRocm93SWZNaXNzaW5nIGZyb20gXCIuL3V0aWwvdGhyb3dJZk1pc3NpbmdcIjtcbmltcG9ydCB7IGFkZENsYXNzZXMsIHJlbW92ZUNsYXNzZXMgfSBmcm9tIFwiLi91dGlsL2RvbVwiOyAvLyBBbGwgb2ZmaWNpYWxseS1zdXBwb3J0ZWQgYnJvd3NlcnMgaGF2ZSB0aGlzLCBidXQgaXQncyBlYXN5IHRvXG4vLyBhY2NvdW50IGZvciwganVzdCBpbiBjYXNlLlxuXG52YXIgZGl2U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO1xudmFyIEhBU19BTklNQVRJT04gPSB0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIgPyBmYWxzZSA6IFwiYW5pbWF0aW9uXCIgaW4gZGl2U3R5bGUgfHwgXCJ3ZWJraXRBbmltYXRpb25cIiBpbiBkaXZTdHlsZTtcblxudmFyIFpvb21QYW5lID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gWm9vbVBhbmUoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFpvb21QYW5lKTtcblxuICAgIHRoaXMuX2NvbXBsZXRlU2hvdyA9IHRoaXMuX2NvbXBsZXRlU2hvdy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2NvbXBsZXRlSGlkZSA9IHRoaXMuX2NvbXBsZXRlSGlkZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUxvYWQgPSB0aGlzLl9oYW5kbGVMb2FkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTtcbiAgICB2YXIgX29wdGlvbnMkY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIsXG4gICAgICAgIGNvbnRhaW5lciA9IF9vcHRpb25zJGNvbnRhaW5lciA9PT0gdm9pZCAwID8gbnVsbCA6IF9vcHRpb25zJGNvbnRhaW5lcixcbiAgICAgICAgX29wdGlvbnMkem9vbUZhY3RvciA9IG9wdGlvbnMuem9vbUZhY3RvcixcbiAgICAgICAgem9vbUZhY3RvciA9IF9vcHRpb25zJHpvb21GYWN0b3IgPT09IHZvaWQgMCA/IHRocm93SWZNaXNzaW5nKCkgOiBfb3B0aW9ucyR6b29tRmFjdG9yLFxuICAgICAgICBfb3B0aW9ucyRpbmxpbmUgPSBvcHRpb25zLmlubGluZSxcbiAgICAgICAgaW5saW5lID0gX29wdGlvbnMkaW5saW5lID09PSB2b2lkIDAgPyB0aHJvd0lmTWlzc2luZygpIDogX29wdGlvbnMkaW5saW5lLFxuICAgICAgICBfb3B0aW9ucyRuYW1lc3BhY2UgPSBvcHRpb25zLm5hbWVzcGFjZSxcbiAgICAgICAgbmFtZXNwYWNlID0gX29wdGlvbnMkbmFtZXNwYWNlID09PSB2b2lkIDAgPyBudWxsIDogX29wdGlvbnMkbmFtZXNwYWNlLFxuICAgICAgICBfb3B0aW9ucyRzaG93V2hpdGVzcGEgPSBvcHRpb25zLnNob3dXaGl0ZXNwYWNlQXRFZGdlcyxcbiAgICAgICAgc2hvd1doaXRlc3BhY2VBdEVkZ2VzID0gX29wdGlvbnMkc2hvd1doaXRlc3BhID09PSB2b2lkIDAgPyB0aHJvd0lmTWlzc2luZygpIDogX29wdGlvbnMkc2hvd1doaXRlc3BhLFxuICAgICAgICBfb3B0aW9ucyRjb250YWluSW5saW4gPSBvcHRpb25zLmNvbnRhaW5JbmxpbmUsXG4gICAgICAgIGNvbnRhaW5JbmxpbmUgPSBfb3B0aW9ucyRjb250YWluSW5saW4gPT09IHZvaWQgMCA/IHRocm93SWZNaXNzaW5nKCkgOiBfb3B0aW9ucyRjb250YWluSW5saW4sXG4gICAgICAgIF9vcHRpb25zJGlubGluZU9mZnNldCA9IG9wdGlvbnMuaW5saW5lT2Zmc2V0WCxcbiAgICAgICAgaW5saW5lT2Zmc2V0WCA9IF9vcHRpb25zJGlubGluZU9mZnNldCA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJGlubGluZU9mZnNldCxcbiAgICAgICAgX29wdGlvbnMkaW5saW5lT2Zmc2V0MiA9IG9wdGlvbnMuaW5saW5lT2Zmc2V0WSxcbiAgICAgICAgaW5saW5lT2Zmc2V0WSA9IF9vcHRpb25zJGlubGluZU9mZnNldDIgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyRpbmxpbmVPZmZzZXQyLFxuICAgICAgICBfb3B0aW9ucyRpbmxpbmVDb250YWkgPSBvcHRpb25zLmlubGluZUNvbnRhaW5lcixcbiAgICAgICAgaW5saW5lQ29udGFpbmVyID0gX29wdGlvbnMkaW5saW5lQ29udGFpID09PSB2b2lkIDAgPyBkb2N1bWVudC5ib2R5IDogX29wdGlvbnMkaW5saW5lQ29udGFpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgIHpvb21GYWN0b3I6IHpvb21GYWN0b3IsXG4gICAgICBpbmxpbmU6IGlubGluZSxcbiAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlLFxuICAgICAgc2hvd1doaXRlc3BhY2VBdEVkZ2VzOiBzaG93V2hpdGVzcGFjZUF0RWRnZXMsXG4gICAgICBjb250YWluSW5saW5lOiBjb250YWluSW5saW5lLFxuICAgICAgaW5saW5lT2Zmc2V0WDogaW5saW5lT2Zmc2V0WCxcbiAgICAgIGlubGluZU9mZnNldFk6IGlubGluZU9mZnNldFksXG4gICAgICBpbmxpbmVDb250YWluZXI6IGlubGluZUNvbnRhaW5lclxuICAgIH07XG4gICAgdGhpcy5vcGVuQ2xhc3NlcyA9IHRoaXMuX2J1aWxkQ2xhc3NlcyhcIm9wZW5cIik7XG4gICAgdGhpcy5vcGVuaW5nQ2xhc3NlcyA9IHRoaXMuX2J1aWxkQ2xhc3NlcyhcIm9wZW5pbmdcIik7XG4gICAgdGhpcy5jbG9zaW5nQ2xhc3NlcyA9IHRoaXMuX2J1aWxkQ2xhc3NlcyhcImNsb3NpbmdcIik7XG4gICAgdGhpcy5pbmxpbmVDbGFzc2VzID0gdGhpcy5fYnVpbGRDbGFzc2VzKFwiaW5saW5lXCIpO1xuICAgIHRoaXMubG9hZGluZ0NsYXNzZXMgPSB0aGlzLl9idWlsZENsYXNzZXMoXCJsb2FkaW5nXCIpO1xuXG4gICAgdGhpcy5fYnVpbGRFbGVtZW50KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoWm9vbVBhbmUsIFt7XG4gICAga2V5OiBcIl9idWlsZENsYXNzZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2J1aWxkQ2xhc3NlcyhzdWZmaXgpIHtcbiAgICAgIHZhciBjbGFzc2VzID0gW1wiZHJpZnQtXCIuY29uY2F0KHN1ZmZpeCldO1xuICAgICAgdmFyIG5zID0gdGhpcy5zZXR0aW5ncy5uYW1lc3BhY2U7XG5cbiAgICAgIGlmIChucykge1xuICAgICAgICBjbGFzc2VzLnB1c2goXCJcIi5jb25jYXQobnMsIFwiLVwiKS5jb25jYXQoc3VmZml4KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjbGFzc2VzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfYnVpbGRFbGVtZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9idWlsZEVsZW1lbnQoKSB7XG4gICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzZXModGhpcy5lbCwgdGhpcy5fYnVpbGRDbGFzc2VzKFwiem9vbS1wYW5lXCIpKTtcbiAgICAgIHZhciBsb2FkZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhZGRDbGFzc2VzKGxvYWRlckVsLCB0aGlzLl9idWlsZENsYXNzZXMoXCJ6b29tLXBhbmUtbG9hZGVyXCIpKTtcbiAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQobG9hZGVyRWwpO1xuICAgICAgdGhpcy5pbWdFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuaW1nRWwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2V0SW1hZ2VVUkxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldEltYWdlVVJMKGltYWdlVVJMKSB7XG4gICAgICB0aGlzLmltZ0VsLnNldEF0dHJpYnV0ZShcInNyY1wiLCBpbWFnZVVSTCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZXRJbWFnZVNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldEltYWdlU2l6ZSh0cmlnZ2VyV2lkdGgsIHRyaWdnZXJIZWlnaHQpIHtcbiAgICAgIHRoaXMuaW1nRWwuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdCh0cmlnZ2VyV2lkdGggKiB0aGlzLnNldHRpbmdzLnpvb21GYWN0b3IsIFwicHhcIik7XG4gICAgICB0aGlzLmltZ0VsLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KHRyaWdnZXJIZWlnaHQgKiB0aGlzLnNldHRpbmdzLnpvb21GYWN0b3IsIFwicHhcIik7XG4gICAgfSAvLyBgcGVyY2VudGFnZU9mZnNldFhgIGFuZCBgcGVyY2VudGFnZU9mZnNldFlgIG11c3QgYmUgcGVyY2VudGFnZXNcbiAgICAvLyBleHByZXNzZWQgYXMgZmxvYXRzIGJldHdlZW4gYDAnIGFuZCBgMWAuXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQb3NpdGlvbihwZXJjZW50YWdlT2Zmc2V0WCwgcGVyY2VudGFnZU9mZnNldFksIHRyaWdnZXJSZWN0KSB7XG4gICAgICB2YXIgaW1nRWxXaWR0aCA9IHRoaXMuaW1nRWwub2Zmc2V0V2lkdGg7XG4gICAgICB2YXIgaW1nRWxIZWlnaHQgPSB0aGlzLmltZ0VsLm9mZnNldEhlaWdodDtcbiAgICAgIHZhciBlbFdpZHRoID0gdGhpcy5lbC5vZmZzZXRXaWR0aDtcbiAgICAgIHZhciBlbEhlaWdodCA9IHRoaXMuZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgdmFyIGNlbnRyZU9mQ29udGFpbmVyWCA9IGVsV2lkdGggLyAyO1xuICAgICAgdmFyIGNlbnRyZU9mQ29udGFpbmVyWSA9IGVsSGVpZ2h0IC8gMjtcbiAgICAgIHZhciB0YXJnZXRJbWdYVG9CZUNlbnRyZSA9IGltZ0VsV2lkdGggKiBwZXJjZW50YWdlT2Zmc2V0WDtcbiAgICAgIHZhciB0YXJnZXRJbWdZVG9CZUNlbnRyZSA9IGltZ0VsSGVpZ2h0ICogcGVyY2VudGFnZU9mZnNldFk7XG4gICAgICB2YXIgbGVmdCA9IGNlbnRyZU9mQ29udGFpbmVyWCAtIHRhcmdldEltZ1hUb0JlQ2VudHJlO1xuICAgICAgdmFyIHRvcCA9IGNlbnRyZU9mQ29udGFpbmVyWSAtIHRhcmdldEltZ1lUb0JlQ2VudHJlO1xuICAgICAgdmFyIGRpZmZlcmVuY2VCZXR3ZWVuQ29udGFpbmVyV2lkdGhBbmRJbWdXaWR0aCA9IGVsV2lkdGggLSBpbWdFbFdpZHRoO1xuICAgICAgdmFyIGRpZmZlcmVuY2VCZXR3ZWVuQ29udGFpbmVySGVpZ2h0QW5kSW1nSGVpZ2h0ID0gZWxIZWlnaHQgLSBpbWdFbEhlaWdodDtcbiAgICAgIHZhciBpc0NvbnRhaW5lckxhcmdlclRoYW5JbWdYID0gZGlmZmVyZW5jZUJldHdlZW5Db250YWluZXJXaWR0aEFuZEltZ1dpZHRoID4gMDtcbiAgICAgIHZhciBpc0NvbnRhaW5lckxhcmdlclRoYW5JbWdZID0gZGlmZmVyZW5jZUJldHdlZW5Db250YWluZXJIZWlnaHRBbmRJbWdIZWlnaHQgPiAwO1xuICAgICAgdmFyIG1pbkxlZnQgPSBpc0NvbnRhaW5lckxhcmdlclRoYW5JbWdYID8gZGlmZmVyZW5jZUJldHdlZW5Db250YWluZXJXaWR0aEFuZEltZ1dpZHRoIC8gMiA6IDA7XG4gICAgICB2YXIgbWluVG9wID0gaXNDb250YWluZXJMYXJnZXJUaGFuSW1nWSA/IGRpZmZlcmVuY2VCZXR3ZWVuQ29udGFpbmVySGVpZ2h0QW5kSW1nSGVpZ2h0IC8gMiA6IDA7XG4gICAgICB2YXIgbWF4TGVmdCA9IGlzQ29udGFpbmVyTGFyZ2VyVGhhbkltZ1ggPyBkaWZmZXJlbmNlQmV0d2VlbkNvbnRhaW5lcldpZHRoQW5kSW1nV2lkdGggLyAyIDogZGlmZmVyZW5jZUJldHdlZW5Db250YWluZXJXaWR0aEFuZEltZ1dpZHRoO1xuICAgICAgdmFyIG1heFRvcCA9IGlzQ29udGFpbmVyTGFyZ2VyVGhhbkltZ1kgPyBkaWZmZXJlbmNlQmV0d2VlbkNvbnRhaW5lckhlaWdodEFuZEltZ0hlaWdodCAvIDIgOiBkaWZmZXJlbmNlQmV0d2VlbkNvbnRhaW5lckhlaWdodEFuZEltZ0hlaWdodDtcblxuICAgICAgaWYgKHRoaXMuZWwucGFyZW50RWxlbWVudCA9PT0gdGhpcy5zZXR0aW5ncy5pbmxpbmVDb250YWluZXIpIHtcbiAgICAgICAgLy8gVGhpcyBtYXkgYmUgbmVlZGVkIGluIHRoZSBmdXR1cmUgdG8gZGVhbCB3aXRoIGJyb3dzZXIgZXZlbnRcbiAgICAgICAgLy8gaW5jb25zaXN0ZW5jaWVzLCBidXQgaXQncyBkaWZmaWN1bHQgdG8gdGVsbCBmb3Igc3VyZS5cbiAgICAgICAgLy8gbGV0IHNjcm9sbFggPSBpc1RvdWNoID8gMCA6IHdpbmRvdy5zY3JvbGxYO1xuICAgICAgICAvLyBsZXQgc2Nyb2xsWSA9IGlzVG91Y2ggPyAwIDogd2luZG93LnNjcm9sbFk7XG4gICAgICAgIHZhciBzY3JvbGxYID0gd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgICAgICB2YXIgc2Nyb2xsWSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgdmFyIGlubGluZUxlZnQgPSB0cmlnZ2VyUmVjdC5sZWZ0ICsgcGVyY2VudGFnZU9mZnNldFggKiB0cmlnZ2VyUmVjdC53aWR0aCAtIGVsV2lkdGggLyAyICsgdGhpcy5zZXR0aW5ncy5pbmxpbmVPZmZzZXRYICsgc2Nyb2xsWDtcbiAgICAgICAgdmFyIGlubGluZVRvcCA9IHRyaWdnZXJSZWN0LnRvcCArIHBlcmNlbnRhZ2VPZmZzZXRZICogdHJpZ2dlclJlY3QuaGVpZ2h0IC0gZWxIZWlnaHQgLyAyICsgdGhpcy5zZXR0aW5ncy5pbmxpbmVPZmZzZXRZICsgc2Nyb2xsWTtcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jb250YWluSW5saW5lKSB7XG4gICAgICAgICAgaWYgKGlubGluZUxlZnQgPCB0cmlnZ2VyUmVjdC5sZWZ0ICsgc2Nyb2xsWCkge1xuICAgICAgICAgICAgaW5saW5lTGVmdCA9IHRyaWdnZXJSZWN0LmxlZnQgKyBzY3JvbGxYO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5saW5lTGVmdCArIGVsV2lkdGggPiB0cmlnZ2VyUmVjdC5sZWZ0ICsgdHJpZ2dlclJlY3Qud2lkdGggKyBzY3JvbGxYKSB7XG4gICAgICAgICAgICBpbmxpbmVMZWZ0ID0gdHJpZ2dlclJlY3QubGVmdCArIHRyaWdnZXJSZWN0LndpZHRoIC0gZWxXaWR0aCArIHNjcm9sbFg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlubGluZVRvcCA8IHRyaWdnZXJSZWN0LnRvcCArIHNjcm9sbFkpIHtcbiAgICAgICAgICAgIGlubGluZVRvcCA9IHRyaWdnZXJSZWN0LnRvcCArIHNjcm9sbFk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpbmxpbmVUb3AgKyBlbEhlaWdodCA+IHRyaWdnZXJSZWN0LnRvcCArIHRyaWdnZXJSZWN0LmhlaWdodCArIHNjcm9sbFkpIHtcbiAgICAgICAgICAgIGlubGluZVRvcCA9IHRyaWdnZXJSZWN0LnRvcCArIHRyaWdnZXJSZWN0LmhlaWdodCAtIGVsSGVpZ2h0ICsgc2Nyb2xsWTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChpbmxpbmVMZWZ0LCBcInB4XCIpO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IFwiXCIuY29uY2F0KGlubGluZVRvcCwgXCJweFwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnNob3dXaGl0ZXNwYWNlQXRFZGdlcykge1xuICAgICAgICBpZiAobGVmdCA+IG1pbkxlZnQpIHtcbiAgICAgICAgICBsZWZ0ID0gbWluTGVmdDtcbiAgICAgICAgfSBlbHNlIGlmIChsZWZ0IDwgbWF4TGVmdCkge1xuICAgICAgICAgIGxlZnQgPSBtYXhMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRvcCA+IG1pblRvcCkge1xuICAgICAgICAgIHRvcCA9IG1pblRvcDtcbiAgICAgICAgfSBlbHNlIGlmICh0b3AgPCBtYXhUb3ApIHtcbiAgICAgICAgICB0b3AgPSBtYXhUb3A7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5pbWdFbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQobGVmdCwgXCJweCwgXCIpLmNvbmNhdCh0b3AsIFwicHgpXCIpO1xuICAgICAgdGhpcy5pbWdFbC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQobGVmdCwgXCJweCwgXCIpLmNvbmNhdCh0b3AsIFwicHgpXCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcmVtb3ZlTGlzdGVuZXJzQW5kUmVzZXRDbGFzc2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVMaXN0ZW5lcnNBbmRSZXNldENsYXNzZXMoKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5fY29tcGxldGVTaG93LCBmYWxzZSk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5fY29tcGxldGVIaWRlLCBmYWxzZSk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRBbmltYXRpb25FbmRcIiwgdGhpcy5fY29tcGxldGVTaG93LCBmYWxzZSk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRBbmltYXRpb25FbmRcIiwgdGhpcy5fY29tcGxldGVIaWRlLCBmYWxzZSk7XG4gICAgICByZW1vdmVDbGFzc2VzKHRoaXMuZWwsIHRoaXMub3BlbkNsYXNzZXMpO1xuICAgICAgcmVtb3ZlQ2xhc3Nlcyh0aGlzLmVsLCB0aGlzLmNsb3NpbmdDbGFzc2VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KGltYWdlVVJMLCB0cmlnZ2VyV2lkdGgsIHRyaWdnZXJIZWlnaHQpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyc0FuZFJlc2V0Q2xhc3NlcygpO1xuXG4gICAgICB0aGlzLmlzU2hvd2luZyA9IHRydWU7XG4gICAgICBhZGRDbGFzc2VzKHRoaXMuZWwsIHRoaXMub3BlbkNsYXNzZXMpO1xuXG4gICAgICBpZiAodGhpcy5pbWdFbC5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgIT0gaW1hZ2VVUkwpIHtcbiAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmVsLCB0aGlzLmxvYWRpbmdDbGFzc2VzKTtcbiAgICAgICAgdGhpcy5pbWdFbC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCB0aGlzLl9oYW5kbGVMb2FkLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fc2V0SW1hZ2VVUkwoaW1hZ2VVUkwpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZXRJbWFnZVNpemUodHJpZ2dlcldpZHRoLCB0cmlnZ2VySGVpZ2h0KTtcblxuICAgICAgaWYgKHRoaXMuX2lzSW5saW5lKSB7XG4gICAgICAgIHRoaXMuX3Nob3dJbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Nob3dJbkNvbnRhaW5lcigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoSEFTX0FOSU1BVElPTikge1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5fY29tcGxldGVTaG93LCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdEFuaW1hdGlvbkVuZFwiLCB0aGlzLl9jb21wbGV0ZVNob3csIGZhbHNlKTtcbiAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmVsLCB0aGlzLm9wZW5pbmdDbGFzc2VzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3Nob3dJbmxpbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Nob3dJbmxpbmUoKSB7XG4gICAgICB0aGlzLnNldHRpbmdzLmlubGluZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsKTtcbiAgICAgIGFkZENsYXNzZXModGhpcy5lbCwgdGhpcy5pbmxpbmVDbGFzc2VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3Nob3dJbkNvbnRhaW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hvd0luQ29udGFpbmVyKCkge1xuICAgICAgdGhpcy5zZXR0aW5ncy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhpZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyc0FuZFJlc2V0Q2xhc3NlcygpO1xuXG4gICAgICB0aGlzLmlzU2hvd2luZyA9IGZhbHNlO1xuXG4gICAgICBpZiAoSEFTX0FOSU1BVElPTikge1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5fY29tcGxldGVIaWRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdEFuaW1hdGlvbkVuZFwiLCB0aGlzLl9jb21wbGV0ZUhpZGUsIGZhbHNlKTtcbiAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmVsLCB0aGlzLmNsb3NpbmdDbGFzc2VzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUNsYXNzZXModGhpcy5lbCwgdGhpcy5vcGVuQ2xhc3Nlcyk7XG4gICAgICAgIHJlbW92ZUNsYXNzZXModGhpcy5lbCwgdGhpcy5pbmxpbmVDbGFzc2VzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NvbXBsZXRlU2hvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY29tcGxldGVTaG93KCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIHRoaXMuX2NvbXBsZXRlU2hvdywgZmFsc2UpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0QW5pbWF0aW9uRW5kXCIsIHRoaXMuX2NvbXBsZXRlU2hvdywgZmFsc2UpO1xuICAgICAgcmVtb3ZlQ2xhc3Nlcyh0aGlzLmVsLCB0aGlzLm9wZW5pbmdDbGFzc2VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NvbXBsZXRlSGlkZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY29tcGxldGVIaWRlKCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIHRoaXMuX2NvbXBsZXRlSGlkZSwgZmFsc2UpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0QW5pbWF0aW9uRW5kXCIsIHRoaXMuX2NvbXBsZXRlSGlkZSwgZmFsc2UpO1xuICAgICAgcmVtb3ZlQ2xhc3Nlcyh0aGlzLmVsLCB0aGlzLm9wZW5DbGFzc2VzKTtcbiAgICAgIHJlbW92ZUNsYXNzZXModGhpcy5lbCwgdGhpcy5jbG9zaW5nQ2xhc3Nlcyk7XG4gICAgICByZW1vdmVDbGFzc2VzKHRoaXMuZWwsIHRoaXMuaW5saW5lQ2xhc3Nlcyk7XG4gICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiXCIpOyAvLyBUaGUgd2luZG93IGNvdWxkIGhhdmUgYmVlbiByZXNpemVkIGFib3ZlIG9yIGJlbG93IGBpbmxpbmVgXG4gICAgICAvLyBsaW1pdHMgc2luY2UgdGhlIFpvb21QYW5lIHdhcyBzaG93bi4gQmVjYXVzZSBvZiB0aGlzLCB3ZVxuICAgICAgLy8gY2FuJ3QgcmVseSBvbiBgdGhpcy5faXNJbmxpbmVgIGhlcmUuXG5cbiAgICAgIGlmICh0aGlzLmVsLnBhcmVudEVsZW1lbnQgPT09IHRoaXMuc2V0dGluZ3MuY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZWwpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmVsLnBhcmVudEVsZW1lbnQgPT09IHRoaXMuc2V0dGluZ3MuaW5saW5lQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuaW5saW5lQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlTG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTG9hZCgpIHtcbiAgICAgIHRoaXMuaW1nRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgdGhpcy5faGFuZGxlTG9hZCwgZmFsc2UpO1xuICAgICAgcmVtb3ZlQ2xhc3Nlcyh0aGlzLmVsLCB0aGlzLmxvYWRpbmdDbGFzc2VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2lzSW5saW5lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgaW5saW5lID0gdGhpcy5zZXR0aW5ncy5pbmxpbmU7XG4gICAgICByZXR1cm4gaW5saW5lID09PSB0cnVlIHx8IHR5cGVvZiBpbmxpbmUgPT09IFwibnVtYmVyXCIgJiYgd2luZG93LmlubmVyV2lkdGggPD0gaW5saW5lO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBab29tUGFuZTtcbn0oKTtcblxuZXhwb3J0IHsgWm9vbVBhbmUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Wm9vbVBhbmUuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/drift-zoom/es/ZoomPane.js\n");

/***/ }),

/***/ "./node_modules/drift-zoom/es/injectBaseStylesheet.js":
/*!************************************************************!*\
  !*** ./node_modules/drift-zoom/es/injectBaseStylesheet.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectBaseStylesheet; });\n/* UNMINIFIED RULES\n\nconst RULES = `\n@keyframes noop {\n  0% { zoom: 1; }\n}\n\n@-webkit-keyframes noop {\n  0% { zoom: 1; }\n}\n\n.drift-zoom-pane.drift-open {\n  display: block;\n}\n\n.drift-zoom-pane.drift-opening, .drift-zoom-pane.drift-closing {\n  animation: noop 1ms;\n  -webkit-animation: noop 1ms;\n}\n\n.drift-zoom-pane {\n  position: absolute;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n\n.drift-zoom-pane-loader {\n  display: none;\n}\n\n.drift-zoom-pane img {\n  position: absolute;\n  display: block;\n  max-width: none;\n  max-height: none;\n}\n\n.drift-bounding-box {\n  position: absolute;\n  pointer-events: none;\n}\n`;\n\n*/\nvar RULES = \".drift-bounding-box,.drift-zoom-pane{position:absolute;pointer-events:none}@keyframes noop{0%{zoom:1}}@-webkit-keyframes noop{0%{zoom:1}}.drift-zoom-pane.drift-open{display:block}.drift-zoom-pane.drift-closing,.drift-zoom-pane.drift-opening{animation:noop 1ms;-webkit-animation:noop 1ms}.drift-zoom-pane{overflow:hidden;width:100%;height:100%;top:0;left:0}.drift-zoom-pane-loader{display:none}.drift-zoom-pane img{position:absolute;display:block;max-width:none;max-height:none}\";\nfunction injectBaseStylesheet() {\n  if (document.querySelector(\".drift-base-styles\")) {\n    return;\n  }\n\n  var styleEl = document.createElement(\"style\");\n  styleEl.type = \"text/css\";\n  styleEl.classList.add(\"drift-base-styles\");\n  styleEl.appendChild(document.createTextNode(RULES));\n  var head = document.head;\n  head.insertBefore(styleEl, head.firstChild);\n}\n//# sourceMappingURL=injectBaseStylesheet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy9pbmplY3RCYXNlU3R5bGVzaGVldC5qcz9mNTk4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxTQUFTO0FBQ2Y7O0FBRUE7QUFDQSxNQUFNLFNBQVM7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtEQUFrRCxrQkFBa0Isb0JBQW9CLGdCQUFnQixHQUFHLFFBQVEsd0JBQXdCLEdBQUcsUUFBUSw0QkFBNEIsY0FBYyw4REFBOEQsbUJBQW1CLDJCQUEyQixpQkFBaUIsZ0JBQWdCLFdBQVcsWUFBWSxNQUFNLE9BQU8sd0JBQXdCLGFBQWEscUJBQXFCLGtCQUFrQixjQUFjLGVBQWUsZ0JBQWdCO0FBQzNkO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy9pbmplY3RCYXNlU3R5bGVzaGVldC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFVOTUlOSUZJRUQgUlVMRVNcblxuY29uc3QgUlVMRVMgPSBgXG5Aa2V5ZnJhbWVzIG5vb3Age1xuICAwJSB7IHpvb206IDE7IH1cbn1cblxuQC13ZWJraXQta2V5ZnJhbWVzIG5vb3Age1xuICAwJSB7IHpvb206IDE7IH1cbn1cblxuLmRyaWZ0LXpvb20tcGFuZS5kcmlmdC1vcGVuIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbi5kcmlmdC16b29tLXBhbmUuZHJpZnQtb3BlbmluZywgLmRyaWZ0LXpvb20tcGFuZS5kcmlmdC1jbG9zaW5nIHtcbiAgYW5pbWF0aW9uOiBub29wIDFtcztcbiAgLXdlYmtpdC1hbmltYXRpb246IG5vb3AgMW1zO1xufVxuXG4uZHJpZnQtem9vbS1wYW5lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4uZHJpZnQtem9vbS1wYW5lLWxvYWRlciB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5kcmlmdC16b29tLXBhbmUgaW1nIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWF4LXdpZHRoOiBub25lO1xuICBtYXgtaGVpZ2h0OiBub25lO1xufVxuXG4uZHJpZnQtYm91bmRpbmctYm94IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cbmA7XG5cbiovXG52YXIgUlVMRVMgPSBcIi5kcmlmdC1ib3VuZGluZy1ib3gsLmRyaWZ0LXpvb20tcGFuZXtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lfUBrZXlmcmFtZXMgbm9vcHswJXt6b29tOjF9fUAtd2Via2l0LWtleWZyYW1lcyBub29wezAle3pvb206MX19LmRyaWZ0LXpvb20tcGFuZS5kcmlmdC1vcGVue2Rpc3BsYXk6YmxvY2t9LmRyaWZ0LXpvb20tcGFuZS5kcmlmdC1jbG9zaW5nLC5kcmlmdC16b29tLXBhbmUuZHJpZnQtb3BlbmluZ3thbmltYXRpb246bm9vcCAxbXM7LXdlYmtpdC1hbmltYXRpb246bm9vcCAxbXN9LmRyaWZ0LXpvb20tcGFuZXtvdmVyZmxvdzpoaWRkZW47d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0b3A6MDtsZWZ0OjB9LmRyaWZ0LXpvb20tcGFuZS1sb2FkZXJ7ZGlzcGxheTpub25lfS5kcmlmdC16b29tLXBhbmUgaW1ne3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7bWF4LXdpZHRoOm5vbmU7bWF4LWhlaWdodDpub25lfVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5qZWN0QmFzZVN0eWxlc2hlZXQoKSB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRyaWZ0LWJhc2Utc3R5bGVzXCIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIHN0eWxlRWwudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgc3R5bGVFbC5jbGFzc0xpc3QuYWRkKFwiZHJpZnQtYmFzZS1zdHlsZXNcIik7XG4gIHN0eWxlRWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoUlVMRVMpKTtcbiAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkO1xuICBoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsLCBoZWFkLmZpcnN0Q2hpbGQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5qZWN0QmFzZVN0eWxlc2hlZXQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/drift-zoom/es/injectBaseStylesheet.js\n");

/***/ }),

/***/ "./node_modules/drift-zoom/es/util/dom.js":
/*!************************************************!*\
  !*** ./node_modules/drift-zoom/es/util/dom.js ***!
  \************************************************/
/*! exports provided: isDOMElement, addClasses, removeClasses */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDOMElement\", function() { return isDOMElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addClasses\", function() { return addClasses; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeClasses\", function() { return removeClasses; });\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// This is not really a perfect check, but works fine.\n// From http://stackoverflow.com/questions/384286\nvar HAS_DOM_2 = (typeof HTMLElement === \"undefined\" ? \"undefined\" : _typeof(HTMLElement)) === \"object\";\nfunction isDOMElement(obj) {\n  return HAS_DOM_2 ? obj instanceof HTMLElement : obj && _typeof(obj) === \"object\" && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === \"string\";\n}\nfunction addClasses(el, classNames) {\n  classNames.forEach(function (className) {\n    el.classList.add(className);\n  });\n}\nfunction removeClasses(el, classNames) {\n  classNames.forEach(function (className) {\n    el.classList.remove(className);\n  });\n}\n//# sourceMappingURL=dom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy91dGlsL2RvbS5qcz83YmJjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBQXVCLDJFQUEyRSxrQ0FBa0MsbUJBQW1CLEdBQUcsRUFBRSxPQUFPLGtDQUFrQyw4SEFBOEgsR0FBRyxFQUFFLHFCQUFxQjs7QUFFN1Y7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ087QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy91dGlsL2RvbS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8vIFRoaXMgaXMgbm90IHJlYWxseSBhIHBlcmZlY3QgY2hlY2ssIGJ1dCB3b3JrcyBmaW5lLlxuLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM4NDI4NlxudmFyIEhBU19ET01fMiA9ICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihIVE1MRWxlbWVudCkpID09PSBcIm9iamVjdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzRE9NRWxlbWVudChvYmopIHtcbiAgcmV0dXJuIEhBU19ET01fMiA/IG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IDogb2JqICYmIF90eXBlb2Yob2JqKSA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgb2JqLm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiBvYmoubm9kZU5hbWUgPT09IFwic3RyaW5nXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3NlcyhlbCwgY2xhc3NOYW1lcykge1xuICBjbGFzc05hbWVzLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcyhlbCwgY2xhc3NOYW1lcykge1xuICBjbGFzc05hbWVzLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20uanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/drift-zoom/es/util/dom.js\n");

/***/ }),

/***/ "./node_modules/drift-zoom/es/util/throwIfMissing.js":
/*!***********************************************************!*\
  !*** ./node_modules/drift-zoom/es/util/throwIfMissing.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return throwIfMissing; });\nfunction throwIfMissing() {\n  throw new Error(\"Missing parameter\");\n}\n//# sourceMappingURL=throwIfMissing.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJpZnQtem9vbS9lcy91dGlsL3Rocm93SWZNaXNzaW5nLmpzPzVhNDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFlO0FBQ2Y7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2RyaWZ0LXpvb20vZXMvdXRpbC90aHJvd0lmTWlzc2luZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocm93SWZNaXNzaW5nKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHBhcmFtZXRlclwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93SWZNaXNzaW5nLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/drift-zoom/es/util/throwIfMissing.js\n");

/***/ }),

/***/ "./node_modules/ev-emitter/ev-emitter.js":
/*!***********************************************!*\
  !*** ./node_modules/ev-emitter/ev-emitter.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( true ) {\n    // AMD - RequireJS\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXYtZW1pdHRlci9ldi1lbWl0dGVyLmpzPzA5NDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQXlDO0FBQ2hEO0FBQ0EsSUFBSSxvQ0FBUSxPQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0dBQUU7QUFDckIsR0FBRyxNQUFNLEVBTU47O0FBRUgsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixzQkFBc0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9ldi1lbWl0dGVyL2V2LWVtaXR0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEV2RW1pdHRlciB2MS4xLjBcbiAqIExpbCcgZXZlbnQgZW1pdHRlclxuICogTUlUIExpY2Vuc2VcbiAqL1xuXG4vKiBqc2hpbnQgdW51c2VkOiB0cnVlLCB1bmRlZjogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qIGdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHdpbmRvdyAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuICAgIGRlZmluZSggZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIGdsb2JhbC5FdkVtaXR0ZXIgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCkge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gRXZFbWl0dGVyKCkge31cblxudmFyIHByb3RvID0gRXZFbWl0dGVyLnByb3RvdHlwZTtcblxucHJvdG8ub24gPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gc2V0IGV2ZW50cyBoYXNoXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIC8vIHNldCBsaXN0ZW5lcnMgYXJyYXlcbiAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHNbIGV2ZW50TmFtZSBdIHx8IFtdO1xuICAvLyBvbmx5IGFkZCBvbmNlXG4gIGlmICggbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICkgPT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnB1c2goIGxpc3RlbmVyICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9uY2UgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gYWRkIGV2ZW50XG4gIHRoaXMub24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgLy8gc2V0IG9uY2UgZmxhZ1xuICAvLyBzZXQgb25jZUV2ZW50cyBoYXNoXG4gIHZhciBvbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgfHwge307XG4gIC8vIHNldCBvbmNlTGlzdGVuZXJzIG9iamVjdFxuICB2YXIgb25jZUxpc3RlbmVycyA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gfHwge307XG4gIC8vIHNldCBmbGFnXG4gIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF0gPSB0cnVlO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub2ZmID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcbiAgaWYgKCAhbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZiggbGlzdGVuZXIgKTtcbiAgaWYgKCBpbmRleCAhPSAtMSApIHtcbiAgICBsaXN0ZW5lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBhcmdzICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gY29weSBvdmVyIHRvIGF2b2lkIGludGVyZmVyZW5jZSBpZiAub2ZmKCkgaW4gbGlzdGVuZXJcbiAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKDApO1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgLy8gb25jZSBzdHVmZlxuICB2YXIgb25jZUxpc3RlbmVycyA9IHRoaXMuX29uY2VFdmVudHMgJiYgdGhpcy5fb25jZUV2ZW50c1sgZXZlbnROYW1lIF07XG5cbiAgZm9yICggdmFyIGk9MDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV1cbiAgICB2YXIgaXNPbmNlID0gb25jZUxpc3RlbmVycyAmJiBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIGlmICggaXNPbmNlICkge1xuICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgICAvLyByZW1vdmUgYmVmb3JlIHRyaWdnZXIgdG8gcHJldmVudCByZWN1cnNpb25cbiAgICAgIHRoaXMub2ZmKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gICAgICAvLyB1bnNldCBvbmNlIGZsYWdcbiAgICAgIGRlbGV0ZSBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIH1cbiAgICAvLyB0cmlnZ2VyIGxpc3RlbmVyXG4gICAgbGlzdGVuZXIuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uYWxsT2ZmID0gZnVuY3Rpb24oKSB7XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHM7XG4gIGRlbGV0ZSB0aGlzLl9vbmNlRXZlbnRzO1xufTtcblxucmV0dXJuIEV2RW1pdHRlcjtcblxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/ev-emitter/ev-emitter.js\n");

/***/ }),

/***/ "./node_modules/eventemitter2/lib/eventemitter2.js":
/*!*********************************************************!*\
  !*** ./node_modules/eventemitter2/lib/eventemitter2.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*!\r\n * EventEmitter2\r\n * https://github.com/hij1nx/EventEmitter2\r\n *\r\n * Copyright (c) 2013 hij1nx\r\n * Licensed under the MIT license.\r\n */\r\n;!function(undefined) {\r\n\r\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\r\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n  };\r\n  var defaultMaxListeners = 10;\r\n\r\n  function init() {\r\n    this._events = {};\r\n    if (this._conf) {\r\n      configure.call(this, this._conf);\r\n    }\r\n  }\r\n\r\n  function configure(conf) {\r\n    if (conf) {\r\n      this._conf = conf;\r\n\r\n      conf.delimiter && (this.delimiter = conf.delimiter);\r\n      this._events.maxListeners = conf.maxListeners !== undefined ? conf.maxListeners : defaultMaxListeners;\r\n      conf.wildcard && (this.wildcard = conf.wildcard);\r\n      conf.newListener && (this.newListener = conf.newListener);\r\n      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);\r\n\r\n      if (this.wildcard) {\r\n        this.listenerTree = {};\r\n      }\r\n    } else {\r\n      this._events.maxListeners = defaultMaxListeners;\r\n    }\r\n  }\r\n\r\n  function logPossibleMemoryLeak(count, eventName) {\r\n    var errorMsg = '(node) warning: possible EventEmitter memory ' +\r\n        'leak detected. %d listeners added. ' +\r\n        'Use emitter.setMaxListeners() to increase limit.';\r\n\r\n    if(this.verboseMemoryLeak){\r\n      errorMsg += ' Event name: %s.';\r\n      console.error(errorMsg, count, eventName);\r\n    } else {\r\n      console.error(errorMsg, count);\r\n    }\r\n\r\n    if (console.trace){\r\n      console.trace();\r\n    }\r\n  }\r\n\r\n  function EventEmitter(conf) {\r\n    this._events = {};\r\n    this.newListener = false;\r\n    this.verboseMemoryLeak = false;\r\n    configure.call(this, conf);\r\n  }\r\n  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property\r\n\r\n  //\r\n  // Attention, function return type now is array, always !\r\n  // It has zero elements if no any matches found and one or more\r\n  // elements (leafs) if there are matches\r\n  //\r\n  function searchListenerTree(handlers, type, tree, i) {\r\n    if (!tree) {\r\n      return [];\r\n    }\r\n    var listeners=[], leaf, len, branch, xTree, xxTree, isolatedBranch, endReached,\r\n        typeLength = type.length, currentType = type[i], nextType = type[i+1];\r\n    if (i === typeLength && tree._listeners) {\r\n      //\r\n      // If at the end of the event(s) list and the tree has listeners\r\n      // invoke those listeners.\r\n      //\r\n      if (typeof tree._listeners === 'function') {\r\n        handlers && handlers.push(tree._listeners);\r\n        return [tree];\r\n      } else {\r\n        for (leaf = 0, len = tree._listeners.length; leaf < len; leaf++) {\r\n          handlers && handlers.push(tree._listeners[leaf]);\r\n        }\r\n        return [tree];\r\n      }\r\n    }\r\n\r\n    if ((currentType === '*' || currentType === '**') || tree[currentType]) {\r\n      //\r\n      // If the event emitted is '*' at this part\r\n      // or there is a concrete match at this patch\r\n      //\r\n      if (currentType === '*') {\r\n        for (branch in tree) {\r\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\r\n            listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+1));\r\n          }\r\n        }\r\n        return listeners;\r\n      } else if(currentType === '**') {\r\n        endReached = (i+1 === typeLength || (i+2 === typeLength && nextType === '*'));\r\n        if(endReached && tree._listeners) {\r\n          // The next element has a _listeners, add it to the handlers.\r\n          listeners = listeners.concat(searchListenerTree(handlers, type, tree, typeLength));\r\n        }\r\n\r\n        for (branch in tree) {\r\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\r\n            if(branch === '*' || branch === '**') {\r\n              if(tree[branch]._listeners && !endReached) {\r\n                listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], typeLength));\r\n              }\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\r\n            } else if(branch === nextType) {\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+2));\r\n            } else {\r\n              // No match on this one, shift into the tree but not in the type array.\r\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\r\n            }\r\n          }\r\n        }\r\n        return listeners;\r\n      }\r\n\r\n      listeners = listeners.concat(searchListenerTree(handlers, type, tree[currentType], i+1));\r\n    }\r\n\r\n    xTree = tree['*'];\r\n    if (xTree) {\r\n      //\r\n      // If the listener tree will allow any match for this part,\r\n      // then recursively explore all branches of the tree\r\n      //\r\n      searchListenerTree(handlers, type, xTree, i+1);\r\n    }\r\n\r\n    xxTree = tree['**'];\r\n    if(xxTree) {\r\n      if(i < typeLength) {\r\n        if(xxTree._listeners) {\r\n          // If we have a listener on a '**', it will catch all, so add its handler.\r\n          searchListenerTree(handlers, type, xxTree, typeLength);\r\n        }\r\n\r\n        // Build arrays of matching next branches and others.\r\n        for(branch in xxTree) {\r\n          if(branch !== '_listeners' && xxTree.hasOwnProperty(branch)) {\r\n            if(branch === nextType) {\r\n              // We know the next element will match, so jump twice.\r\n              searchListenerTree(handlers, type, xxTree[branch], i+2);\r\n            } else if(branch === currentType) {\r\n              // Current node matches, move into the tree.\r\n              searchListenerTree(handlers, type, xxTree[branch], i+1);\r\n            } else {\r\n              isolatedBranch = {};\r\n              isolatedBranch[branch] = xxTree[branch];\r\n              searchListenerTree(handlers, type, { '**': isolatedBranch }, i+1);\r\n            }\r\n          }\r\n        }\r\n      } else if(xxTree._listeners) {\r\n        // We have reached the end and still on a '**'\r\n        searchListenerTree(handlers, type, xxTree, typeLength);\r\n      } else if(xxTree['*'] && xxTree['*']._listeners) {\r\n        searchListenerTree(handlers, type, xxTree['*'], typeLength);\r\n      }\r\n    }\r\n\r\n    return listeners;\r\n  }\r\n\r\n  function growListenerTree(type, listener) {\r\n\r\n    type = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n\r\n    //\r\n    // Looks for two consecutive '**', if so, don't add the event at all.\r\n    //\r\n    for(var i = 0, len = type.length; i+1 < len; i++) {\r\n      if(type[i] === '**' && type[i+1] === '**') {\r\n        return;\r\n      }\r\n    }\r\n\r\n    var tree = this.listenerTree;\r\n    var name = type.shift();\r\n\r\n    while (name !== undefined) {\r\n\r\n      if (!tree[name]) {\r\n        tree[name] = {};\r\n      }\r\n\r\n      tree = tree[name];\r\n\r\n      if (type.length === 0) {\r\n\r\n        if (!tree._listeners) {\r\n          tree._listeners = listener;\r\n        }\r\n        else {\r\n          if (typeof tree._listeners === 'function') {\r\n            tree._listeners = [tree._listeners];\r\n          }\r\n\r\n          tree._listeners.push(listener);\r\n\r\n          if (\r\n            !tree._listeners.warned &&\r\n            this._events.maxListeners > 0 &&\r\n            tree._listeners.length > this._events.maxListeners\r\n          ) {\r\n            tree._listeners.warned = true;\r\n            logPossibleMemoryLeak.call(this, tree._listeners.length, name);\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n      name = type.shift();\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // By default EventEmitters will print a warning if more than\r\n  // 10 listeners are added to it. This is a useful default which\r\n  // helps finding memory leaks.\r\n  //\r\n  // Obviously not all Emitters should be limited to 10. This function allows\r\n  // that to be increased. Set to zero for unlimited.\r\n\r\n  EventEmitter.prototype.delimiter = '.';\r\n\r\n  EventEmitter.prototype.setMaxListeners = function(n) {\r\n    if (n !== undefined) {\r\n      this._events || init.call(this);\r\n      this._events.maxListeners = n;\r\n      if (!this._conf) this._conf = {};\r\n      this._conf.maxListeners = n;\r\n    }\r\n  };\r\n\r\n  EventEmitter.prototype.event = '';\r\n\r\n  EventEmitter.prototype.once = function(event, fn) {\r\n    this.many(event, 1, fn);\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.many = function(event, ttl, fn) {\r\n    var self = this;\r\n\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('many only accepts instances of Function');\r\n    }\r\n\r\n    function listener() {\r\n      if (--ttl === 0) {\r\n        self.off(event, listener);\r\n      }\r\n      return fn.apply(this, arguments);\r\n    }\r\n\r\n    listener._origin = fn;\r\n\r\n    this.on(event, listener);\r\n\r\n    return self;\r\n  };\r\n\r\n  EventEmitter.prototype.emit = function() {\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0];\r\n\r\n    if (type === 'newListener' && !this.newListener) {\r\n      if (!this._events.newListener) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    var al = arguments.length;\r\n    var args,l,i,j;\r\n    var handler;\r\n\r\n    if (this._all && this._all.length) {\r\n      handler = this._all.slice();\r\n      if (al > 3) {\r\n        args = new Array(al);\r\n        for (j = 0; j < al; j++) args[j] = arguments[j];\r\n      }\r\n\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this, type);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, type, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, type, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      handler = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n      if (typeof handler === 'function') {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler.call(this);\r\n          break;\r\n        case 2:\r\n          handler.call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler.call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          args = new Array(al - 1);\r\n          for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n          handler.apply(this, args);\r\n        }\r\n        return true;\r\n      } else if (handler) {\r\n        // need to make copy of handlers because list can change in the middle\r\n        // of emit call\r\n        handler = handler.slice();\r\n      }\r\n    }\r\n\r\n    if (handler && handler.length) {\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          handler[i].call(this);\r\n          break;\r\n        case 2:\r\n          handler[i].call(this, arguments[1]);\r\n          break;\r\n        case 3:\r\n          handler[i].call(this, arguments[1], arguments[2]);\r\n          break;\r\n        default:\r\n          handler[i].apply(this, args);\r\n        }\r\n      }\r\n      return true;\r\n    } else if (!this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        throw arguments[1]; // Unhandled 'error' event\r\n      } else {\r\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n      return false;\r\n    }\r\n\r\n    return !!this._all;\r\n  };\r\n\r\n  EventEmitter.prototype.emitAsync = function() {\r\n\r\n    this._events || init.call(this);\r\n\r\n    var type = arguments[0];\r\n\r\n    if (type === 'newListener' && !this.newListener) {\r\n        if (!this._events.newListener) { return Promise.resolve([false]); }\r\n    }\r\n\r\n    var promises= [];\r\n\r\n    var al = arguments.length;\r\n    var args,l,i,j;\r\n    var handler;\r\n\r\n    if (this._all) {\r\n      if (al > 3) {\r\n        args = new Array(al);\r\n        for (j = 1; j < al; j++) args[j] = arguments[j];\r\n      }\r\n      for (i = 0, l = this._all.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(this._all[i].call(this, type));\r\n          break;\r\n        case 2:\r\n          promises.push(this._all[i].call(this, type, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(this._all[i].apply(this, args));\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      handler = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\r\n    } else {\r\n      handler = this._events[type];\r\n    }\r\n\r\n    if (typeof handler === 'function') {\r\n      this.event = type;\r\n      switch (al) {\r\n      case 1:\r\n        promises.push(handler.call(this));\r\n        break;\r\n      case 2:\r\n        promises.push(handler.call(this, arguments[1]));\r\n        break;\r\n      case 3:\r\n        promises.push(handler.call(this, arguments[1], arguments[2]));\r\n        break;\r\n      default:\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n        promises.push(handler.apply(this, args));\r\n      }\r\n    } else if (handler && handler.length) {\r\n      handler = handler.slice();\r\n      if (al > 3) {\r\n        args = new Array(al - 1);\r\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\r\n      }\r\n      for (i = 0, l = handler.length; i < l; i++) {\r\n        this.event = type;\r\n        switch (al) {\r\n        case 1:\r\n          promises.push(handler[i].call(this));\r\n          break;\r\n        case 2:\r\n          promises.push(handler[i].call(this, arguments[1]));\r\n          break;\r\n        case 3:\r\n          promises.push(handler[i].call(this, arguments[1], arguments[2]));\r\n          break;\r\n        default:\r\n          promises.push(handler[i].apply(this, args));\r\n        }\r\n      }\r\n    } else if (!this._all && type === 'error') {\r\n      if (arguments[1] instanceof Error) {\r\n        return Promise.reject(arguments[1]); // Unhandled 'error' event\r\n      } else {\r\n        return Promise.reject(\"Uncaught, unspecified 'error' event.\");\r\n      }\r\n    }\r\n\r\n    return Promise.all(promises);\r\n  };\r\n\r\n  EventEmitter.prototype.on = function(type, listener) {\r\n    if (typeof type === 'function') {\r\n      this.onAny(type);\r\n      return this;\r\n    }\r\n\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('on only accepts instances of Function');\r\n    }\r\n    this._events || init.call(this);\r\n\r\n    // To avoid recursion in the case that type == \"newListeners\"! Before\r\n    // adding it to the listeners, first emit \"newListeners\".\r\n    this.emit('newListener', type, listener);\r\n\r\n    if (this.wildcard) {\r\n      growListenerTree.call(this, type, listener);\r\n      return this;\r\n    }\r\n\r\n    if (!this._events[type]) {\r\n      // Optimize the case of one listener. Don't need the extra array object.\r\n      this._events[type] = listener;\r\n    }\r\n    else {\r\n      if (typeof this._events[type] === 'function') {\r\n        // Change to array.\r\n        this._events[type] = [this._events[type]];\r\n      }\r\n\r\n      // If we've already got an array, just append.\r\n      this._events[type].push(listener);\r\n\r\n      // Check for listener leak\r\n      if (\r\n        !this._events[type].warned &&\r\n        this._events.maxListeners > 0 &&\r\n        this._events[type].length > this._events.maxListeners\r\n      ) {\r\n        this._events[type].warned = true;\r\n        logPossibleMemoryLeak.call(this, this._events[type].length, type);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.onAny = function(fn) {\r\n    if (typeof fn !== 'function') {\r\n      throw new Error('onAny only accepts instances of Function');\r\n    }\r\n\r\n    if (!this._all) {\r\n      this._all = [];\r\n    }\r\n\r\n    // Add the function to the event listener collection.\r\n    this._all.push(fn);\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n  EventEmitter.prototype.off = function(type, listener) {\r\n    if (typeof listener !== 'function') {\r\n      throw new Error('removeListener only takes instances of Function');\r\n    }\r\n\r\n    var handlers,leafs=[];\r\n\r\n    if(this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n    }\r\n    else {\r\n      // does not use listeners(), so no side effect of creating _events[type]\r\n      if (!this._events[type]) return this;\r\n      handlers = this._events[type];\r\n      leafs.push({_listeners:handlers});\r\n    }\r\n\r\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n      var leaf = leafs[iLeaf];\r\n      handlers = leaf._listeners;\r\n      if (isArray(handlers)) {\r\n\r\n        var position = -1;\r\n\r\n        for (var i = 0, length = handlers.length; i < length; i++) {\r\n          if (handlers[i] === listener ||\r\n            (handlers[i].listener && handlers[i].listener === listener) ||\r\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\r\n            position = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (position < 0) {\r\n          continue;\r\n        }\r\n\r\n        if(this.wildcard) {\r\n          leaf._listeners.splice(position, 1);\r\n        }\r\n        else {\r\n          this._events[type].splice(position, 1);\r\n        }\r\n\r\n        if (handlers.length === 0) {\r\n          if(this.wildcard) {\r\n            delete leaf._listeners;\r\n          }\r\n          else {\r\n            delete this._events[type];\r\n          }\r\n        }\r\n\r\n        this.emit(\"removeListener\", type, listener);\r\n\r\n        return this;\r\n      }\r\n      else if (handlers === listener ||\r\n        (handlers.listener && handlers.listener === listener) ||\r\n        (handlers._origin && handlers._origin === listener)) {\r\n        if(this.wildcard) {\r\n          delete leaf._listeners;\r\n        }\r\n        else {\r\n          delete this._events[type];\r\n        }\r\n\r\n        this.emit(\"removeListener\", type, listener);\r\n      }\r\n    }\r\n\r\n    function recursivelyGarbageCollect(root) {\r\n      if (root === undefined) {\r\n        return;\r\n      }\r\n      var keys = Object.keys(root);\r\n      for (var i in keys) {\r\n        var key = keys[i];\r\n        var obj = root[key];\r\n        if ((obj instanceof Function) || (typeof obj !== \"object\") || (obj === null))\r\n          continue;\r\n        if (Object.keys(obj).length > 0) {\r\n          recursivelyGarbageCollect(root[key]);\r\n        }\r\n        if (Object.keys(obj).length === 0) {\r\n          delete root[key];\r\n        }\r\n      }\r\n    }\r\n    recursivelyGarbageCollect(this.listenerTree);\r\n\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.offAny = function(fn) {\r\n    var i = 0, l = 0, fns;\r\n    if (fn && this._all && this._all.length > 0) {\r\n      fns = this._all;\r\n      for(i = 0, l = fns.length; i < l; i++) {\r\n        if(fn === fns[i]) {\r\n          fns.splice(i, 1);\r\n          this.emit(\"removeListenerAny\", fn);\r\n          return this;\r\n        }\r\n      }\r\n    } else {\r\n      fns = this._all;\r\n      for(i = 0, l = fns.length; i < l; i++)\r\n        this.emit(\"removeListenerAny\", fns[i]);\r\n      this._all = [];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\r\n\r\n  EventEmitter.prototype.removeAllListeners = function(type) {\r\n    if (arguments.length === 0) {\r\n      !this._events || init.call(this);\r\n      return this;\r\n    }\r\n\r\n    if (this.wildcard) {\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      var leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\r\n\r\n      for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\r\n        var leaf = leafs[iLeaf];\r\n        leaf._listeners = null;\r\n      }\r\n    }\r\n    else if (this._events) {\r\n      this._events[type] = null;\r\n    }\r\n    return this;\r\n  };\r\n\r\n  EventEmitter.prototype.listeners = function(type) {\r\n    if (this.wildcard) {\r\n      var handlers = [];\r\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\r\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\r\n      return handlers;\r\n    }\r\n\r\n    this._events || init.call(this);\r\n\r\n    if (!this._events[type]) this._events[type] = [];\r\n    if (!isArray(this._events[type])) {\r\n      this._events[type] = [this._events[type]];\r\n    }\r\n    return this._events[type];\r\n  };\r\n\r\n  EventEmitter.prototype.listenerCount = function(type) {\r\n    return this.listeners(type).length;\r\n  };\r\n\r\n  EventEmitter.prototype.listenersAny = function() {\r\n\r\n    if(this._all) {\r\n      return this._all;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n\r\n  };\r\n\r\n  if (true) {\r\n     // AMD. Register as an anonymous module.\r\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\r\n      return EventEmitter;\r\n    }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n  } else {}\r\n}();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMi9saWIvZXZlbnRlbWl0dGVyMi5qcz83MjMyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLG9EQUFvRCxZQUFZO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxrREFBa0QsdUJBQXVCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxXQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCOztBQUVBLHFDQUFxQyxPQUFPO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxNQUFNLElBQTBDO0FBQ2hEO0FBQ0EsSUFBSSxtQ0FBTztBQUNYO0FBQ0EsS0FBSztBQUFBLG9HQUFDO0FBQ04sR0FBRyxNQUFNLEVBT047QUFDSCxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjIvbGliL2V2ZW50ZW1pdHRlcjIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogRXZlbnRFbWl0dGVyMlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGlqMW54L0V2ZW50RW1pdHRlcjJcclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzIGhpajFueFxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiAqL1xyXG47IWZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgPyBBcnJheS5pc0FycmF5IDogZnVuY3Rpb24gX2lzQXJyYXkob2JqKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcclxuICB9O1xyXG4gIHZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XHJcblxyXG4gIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcclxuICAgIGlmICh0aGlzLl9jb25mKSB7XHJcbiAgICAgIGNvbmZpZ3VyZS5jYWxsKHRoaXMsIHRoaXMuX2NvbmYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29uZmlndXJlKGNvbmYpIHtcclxuICAgIGlmIChjb25mKSB7XHJcbiAgICAgIHRoaXMuX2NvbmYgPSBjb25mO1xyXG5cclxuICAgICAgY29uZi5kZWxpbWl0ZXIgJiYgKHRoaXMuZGVsaW1pdGVyID0gY29uZi5kZWxpbWl0ZXIpO1xyXG4gICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID0gY29uZi5tYXhMaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCA/IGNvbmYubWF4TGlzdGVuZXJzIDogZGVmYXVsdE1heExpc3RlbmVycztcclxuICAgICAgY29uZi53aWxkY2FyZCAmJiAodGhpcy53aWxkY2FyZCA9IGNvbmYud2lsZGNhcmQpO1xyXG4gICAgICBjb25mLm5ld0xpc3RlbmVyICYmICh0aGlzLm5ld0xpc3RlbmVyID0gY29uZi5uZXdMaXN0ZW5lcik7XHJcbiAgICAgIGNvbmYudmVyYm9zZU1lbW9yeUxlYWsgJiYgKHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBjb25mLnZlcmJvc2VNZW1vcnlMZWFrKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lclRyZWUgPSB7fTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IGRlZmF1bHRNYXhMaXN0ZW5lcnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBsb2dQb3NzaWJsZU1lbW9yeUxlYWsoY291bnQsIGV2ZW50TmFtZSkge1xyXG4gICAgdmFyIGVycm9yTXNnID0gJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xyXG4gICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xyXG4gICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nO1xyXG5cclxuICAgIGlmKHRoaXMudmVyYm9zZU1lbW9yeUxlYWspe1xyXG4gICAgICBlcnJvck1zZyArPSAnIEV2ZW50IG5hbWU6ICVzLic7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2csIGNvdW50LCBldmVudE5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvck1zZywgY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb25zb2xlLnRyYWNlKXtcclxuICAgICAgY29uc29sZS50cmFjZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKGNvbmYpIHtcclxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG4gICAgdGhpcy5uZXdMaXN0ZW5lciA9IGZhbHNlO1xyXG4gICAgdGhpcy52ZXJib3NlTWVtb3J5TGVhayA9IGZhbHNlO1xyXG4gICAgY29uZmlndXJlLmNhbGwodGhpcywgY29uZik7XHJcbiAgfVxyXG4gIEV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIyID0gRXZlbnRFbWl0dGVyOyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgZXhwb3J0aW5nIEV2ZW50RW1pdHRlciBwcm9wZXJ0eVxyXG5cclxuICAvL1xyXG4gIC8vIEF0dGVudGlvbiwgZnVuY3Rpb24gcmV0dXJuIHR5cGUgbm93IGlzIGFycmF5LCBhbHdheXMgIVxyXG4gIC8vIEl0IGhhcyB6ZXJvIGVsZW1lbnRzIGlmIG5vIGFueSBtYXRjaGVzIGZvdW5kIGFuZCBvbmUgb3IgbW9yZVxyXG4gIC8vIGVsZW1lbnRzIChsZWFmcykgaWYgdGhlcmUgYXJlIG1hdGNoZXNcclxuICAvL1xyXG4gIGZ1bmN0aW9uIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgaSkge1xyXG4gICAgaWYgKCF0cmVlKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHZhciBsaXN0ZW5lcnM9W10sIGxlYWYsIGxlbiwgYnJhbmNoLCB4VHJlZSwgeHhUcmVlLCBpc29sYXRlZEJyYW5jaCwgZW5kUmVhY2hlZCxcclxuICAgICAgICB0eXBlTGVuZ3RoID0gdHlwZS5sZW5ndGgsIGN1cnJlbnRUeXBlID0gdHlwZVtpXSwgbmV4dFR5cGUgPSB0eXBlW2krMV07XHJcbiAgICBpZiAoaSA9PT0gdHlwZUxlbmd0aCAmJiB0cmVlLl9saXN0ZW5lcnMpIHtcclxuICAgICAgLy9cclxuICAgICAgLy8gSWYgYXQgdGhlIGVuZCBvZiB0aGUgZXZlbnQocykgbGlzdCBhbmQgdGhlIHRyZWUgaGFzIGxpc3RlbmVyc1xyXG4gICAgICAvLyBpbnZva2UgdGhvc2UgbGlzdGVuZXJzLlxyXG4gICAgICAvL1xyXG4gICAgICBpZiAodHlwZW9mIHRyZWUuX2xpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2godHJlZS5fbGlzdGVuZXJzKTtcclxuICAgICAgICByZXR1cm4gW3RyZWVdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAobGVhZiA9IDAsIGxlbiA9IHRyZWUuX2xpc3RlbmVycy5sZW5ndGg7IGxlYWYgPCBsZW47IGxlYWYrKykge1xyXG4gICAgICAgICAgaGFuZGxlcnMgJiYgaGFuZGxlcnMucHVzaCh0cmVlLl9saXN0ZW5lcnNbbGVhZl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3RyZWVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKChjdXJyZW50VHlwZSA9PT0gJyonIHx8IGN1cnJlbnRUeXBlID09PSAnKionKSB8fCB0cmVlW2N1cnJlbnRUeXBlXSkge1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBJZiB0aGUgZXZlbnQgZW1pdHRlZCBpcyAnKicgYXQgdGhpcyBwYXJ0XHJcbiAgICAgIC8vIG9yIHRoZXJlIGlzIGEgY29uY3JldGUgbWF0Y2ggYXQgdGhpcyBwYXRjaFxyXG4gICAgICAvL1xyXG4gICAgICBpZiAoY3VycmVudFR5cGUgPT09ICcqJykge1xyXG4gICAgICAgIGZvciAoYnJhbmNoIGluIHRyZWUpIHtcclxuICAgICAgICAgIGlmIChicmFuY2ggIT09ICdfbGlzdGVuZXJzJyAmJiB0cmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSsxKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XHJcbiAgICAgIH0gZWxzZSBpZihjdXJyZW50VHlwZSA9PT0gJyoqJykge1xyXG4gICAgICAgIGVuZFJlYWNoZWQgPSAoaSsxID09PSB0eXBlTGVuZ3RoIHx8IChpKzIgPT09IHR5cGVMZW5ndGggJiYgbmV4dFR5cGUgPT09ICcqJykpO1xyXG4gICAgICAgIGlmKGVuZFJlYWNoZWQgJiYgdHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAvLyBUaGUgbmV4dCBlbGVtZW50IGhhcyBhIF9saXN0ZW5lcnMsIGFkZCBpdCB0byB0aGUgaGFuZGxlcnMuXHJcbiAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgdHlwZUxlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChicmFuY2ggaW4gdHJlZSkge1xyXG4gICAgICAgICAgaWYgKGJyYW5jaCAhPT0gJ19saXN0ZW5lcnMnICYmIHRyZWUuaGFzT3duUHJvcGVydHkoYnJhbmNoKSkge1xyXG4gICAgICAgICAgICBpZihicmFuY2ggPT09ICcqJyB8fCBicmFuY2ggPT09ICcqKicpIHtcclxuICAgICAgICAgICAgICBpZih0cmVlW2JyYW5jaF0uX2xpc3RlbmVycyAmJiAhZW5kUmVhY2hlZCkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgdHlwZUxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihicmFuY2ggPT09IG5leHRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSsyKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gTm8gbWF0Y2ggb24gdGhpcyBvbmUsIHNoaWZ0IGludG8gdGhlIHRyZWUgYnV0IG5vdCBpbiB0aGUgdHlwZSBhcnJheS5cclxuICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcclxuICAgICAgfVxyXG5cclxuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmNvbmNhdChzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbY3VycmVudFR5cGVdLCBpKzEpKTtcclxuICAgIH1cclxuXHJcbiAgICB4VHJlZSA9IHRyZWVbJyonXTtcclxuICAgIGlmICh4VHJlZSkge1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgdHJlZSB3aWxsIGFsbG93IGFueSBtYXRjaCBmb3IgdGhpcyBwYXJ0LFxyXG4gICAgICAvLyB0aGVuIHJlY3Vyc2l2ZWx5IGV4cGxvcmUgYWxsIGJyYW5jaGVzIG9mIHRoZSB0cmVlXHJcbiAgICAgIC8vXHJcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeFRyZWUsIGkrMSk7XHJcbiAgICB9XHJcblxyXG4gICAgeHhUcmVlID0gdHJlZVsnKionXTtcclxuICAgIGlmKHh4VHJlZSkge1xyXG4gICAgICBpZihpIDwgdHlwZUxlbmd0aCkge1xyXG4gICAgICAgIGlmKHh4VHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbGlzdGVuZXIgb24gYSAnKionLCBpdCB3aWxsIGNhdGNoIGFsbCwgc28gYWRkIGl0cyBoYW5kbGVyLlxyXG4gICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWUsIHR5cGVMZW5ndGgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQnVpbGQgYXJyYXlzIG9mIG1hdGNoaW5nIG5leHQgYnJhbmNoZXMgYW5kIG90aGVycy5cclxuICAgICAgICBmb3IoYnJhbmNoIGluIHh4VHJlZSkge1xyXG4gICAgICAgICAgaWYoYnJhbmNoICE9PSAnX2xpc3RlbmVycycgJiYgeHhUcmVlLmhhc093blByb3BlcnR5KGJyYW5jaCkpIHtcclxuICAgICAgICAgICAgaWYoYnJhbmNoID09PSBuZXh0VHlwZSkge1xyXG4gICAgICAgICAgICAgIC8vIFdlIGtub3cgdGhlIG5leHQgZWxlbWVudCB3aWxsIG1hdGNoLCBzbyBqdW1wIHR3aWNlLlxyXG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlW2JyYW5jaF0sIGkrMik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihicmFuY2ggPT09IGN1cnJlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgLy8gQ3VycmVudCBub2RlIG1hdGNoZXMsIG1vdmUgaW50byB0aGUgdHJlZS5cclxuICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVticmFuY2hdLCBpKzEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlzb2xhdGVkQnJhbmNoID0ge307XHJcbiAgICAgICAgICAgICAgaXNvbGF0ZWRCcmFuY2hbYnJhbmNoXSA9IHh4VHJlZVticmFuY2hdO1xyXG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeyAnKionOiBpc29sYXRlZEJyYW5jaCB9LCBpKzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYoeHhUcmVlLl9saXN0ZW5lcnMpIHtcclxuICAgICAgICAvLyBXZSBoYXZlIHJlYWNoZWQgdGhlIGVuZCBhbmQgc3RpbGwgb24gYSAnKionXHJcbiAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWUsIHR5cGVMZW5ndGgpO1xyXG4gICAgICB9IGVsc2UgaWYoeHhUcmVlWycqJ10gJiYgeHhUcmVlWycqJ10uX2xpc3RlbmVycykge1xyXG4gICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlWycqJ10sIHR5cGVMZW5ndGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxpc3RlbmVycztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdyb3dMaXN0ZW5lclRyZWUodHlwZSwgbGlzdGVuZXIpIHtcclxuXHJcbiAgICB0eXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIExvb2tzIGZvciB0d28gY29uc2VjdXRpdmUgJyoqJywgaWYgc28sIGRvbid0IGFkZCB0aGUgZXZlbnQgYXQgYWxsLlxyXG4gICAgLy9cclxuICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHR5cGUubGVuZ3RoOyBpKzEgPCBsZW47IGkrKykge1xyXG4gICAgICBpZih0eXBlW2ldID09PSAnKionICYmIHR5cGVbaSsxXSA9PT0gJyoqJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cmVlID0gdGhpcy5saXN0ZW5lclRyZWU7XHJcbiAgICB2YXIgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuXHJcbiAgICB3aGlsZSAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICBpZiAoIXRyZWVbbmFtZV0pIHtcclxuICAgICAgICB0cmVlW25hbWVdID0ge307XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyZWUgPSB0cmVlW25hbWVdO1xyXG5cclxuICAgICAgaWYgKHR5cGUubGVuZ3RoID09PSAwKSB7XHJcblxyXG4gICAgICAgIGlmICghdHJlZS5fbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBsaXN0ZW5lcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHRyZWUuX2xpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBbdHJlZS5fbGlzdGVuZXJzXTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcblxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdHJlZS5fbGlzdGVuZXJzLndhcm5lZCAmJlxyXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID4gMCAmJlxyXG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMubGVuZ3RoID4gdGhpcy5fZXZlbnRzLm1heExpc3RlbmVyc1xyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy53YXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBsb2dQb3NzaWJsZU1lbW9yeUxlYWsuY2FsbCh0aGlzLCB0cmVlLl9saXN0ZW5lcnMubGVuZ3RoLCBuYW1lKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgbmFtZSA9IHR5cGUuc2hpZnQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhblxyXG4gIC8vIDEwIGxpc3RlbmVycyBhcmUgYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaFxyXG4gIC8vIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxyXG4gIC8vXHJcbiAgLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXHJcbiAgLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZGVsaW1pdGVyID0gJy4nO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuICAgICAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IG47XHJcbiAgICAgIGlmICghdGhpcy5fY29uZikgdGhpcy5fY29uZiA9IHt9O1xyXG4gICAgICB0aGlzLl9jb25mLm1heExpc3RlbmVycyA9IG47XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudCA9ICcnO1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pIHtcclxuICAgIHRoaXMubWFueShldmVudCwgMSwgZm4pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5tYW55ID0gZnVuY3Rpb24oZXZlbnQsIHR0bCwgZm4pIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWFueSBvbmx5IGFjY2VwdHMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XHJcbiAgICAgIGlmICgtLXR0bCA9PT0gMCkge1xyXG4gICAgICAgIHNlbGYub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdGVuZXIuX29yaWdpbiA9IGZuO1xyXG5cclxuICAgIHRoaXMub24oZXZlbnQsIGxpc3RlbmVyKTtcclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xyXG5cclxuICAgIHZhciB0eXBlID0gYXJndW1lbnRzWzBdO1xyXG5cclxuICAgIGlmICh0eXBlID09PSAnbmV3TGlzdGVuZXInICYmICF0aGlzLm5ld0xpc3RlbmVyKSB7XHJcbiAgICAgIGlmICghdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFsID0gYXJndW1lbnRzLmxlbmd0aDtcclxuICAgIHZhciBhcmdzLGwsaSxqO1xyXG4gICAgdmFyIGhhbmRsZXI7XHJcblxyXG4gICAgaWYgKHRoaXMuX2FsbCAmJiB0aGlzLl9hbGwubGVuZ3RoKSB7XHJcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9hbGwuc2xpY2UoKTtcclxuICAgICAgaWYgKGFsID4gMykge1xyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwpO1xyXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBhbDsgaisrKSBhcmdzW2pdID0gYXJndW1lbnRzW2pdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuICAgICAgICBzd2l0Y2ggKGFsKSB7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIHR5cGUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgaGFuZGxlciA9IFtdO1xyXG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcclxuICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgaGFuZGxlciwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICAgIHN3aXRjaCAoYWwpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xyXG4gICAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xyXG4gICAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoaGFuZGxlcikge1xyXG4gICAgICAgIC8vIG5lZWQgdG8gbWFrZSBjb3B5IG9mIGhhbmRsZXJzIGJlY2F1c2UgbGlzdCBjYW4gY2hhbmdlIGluIHRoZSBtaWRkbGVcclxuICAgICAgICAvLyBvZiBlbWl0IGNhbGxcclxuICAgICAgICBoYW5kbGVyID0gaGFuZGxlci5zbGljZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGhhbmRsZXIgJiYgaGFuZGxlci5sZW5ndGgpIHtcclxuICAgICAgaWYgKGFsID4gMykge1xyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChpID0gMCwgbCA9IGhhbmRsZXIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XHJcbiAgICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuX2FsbCAmJiB0eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHRocm93IGFyZ3VtZW50c1sxXTsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmNhdWdodCwgdW5zcGVjaWZpZWQgJ2Vycm9yJyBldmVudC5cIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAhIXRoaXMuX2FsbDtcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXRBc3luYyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMubmV3TGlzdGVuZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtmYWxzZV0pOyB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHByb21pc2VzPSBbXTtcclxuXHJcbiAgICB2YXIgYWwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgdmFyIGFyZ3MsbCxpLGo7XHJcbiAgICB2YXIgaGFuZGxlcjtcclxuXHJcbiAgICBpZiAodGhpcy5fYWxsKSB7XHJcbiAgICAgIGlmIChhbCA+IDMpIHtcclxuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsKTtcclxuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqXSA9IGFyZ3VtZW50c1tqXTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5fYWxsLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICAgIHN3aXRjaCAoYWwpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUpKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uYXBwbHkodGhpcywgYXJncykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgIGhhbmRsZXIgPSBbXTtcclxuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIGhhbmRsZXIsIG5zLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcclxuICAgICAgc3dpdGNoIChhbCkge1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcykpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMzpcclxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcclxuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChoYW5kbGVyICYmIGhhbmRsZXIubGVuZ3RoKSB7XHJcbiAgICAgIGhhbmRsZXIgPSBoYW5kbGVyLnNsaWNlKCk7XHJcbiAgICAgIGlmIChhbCA+IDMpIHtcclxuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XHJcbiAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAoaSA9IDAsIGwgPSBoYW5kbGVyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xyXG4gICAgICAgIHN3aXRjaCAoYWwpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuX2FsbCAmJiB0eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChhcmd1bWVudHNbMV0pOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlVuY2F1Z2h0LCB1bnNwZWNpZmllZCAnZXJyb3InIGV2ZW50LlwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XHJcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhpcy5vbkFueSh0eXBlKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uIG9ubHkgYWNjZXB0cyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PSBcIm5ld0xpc3RlbmVyc1wiISBCZWZvcmVcclxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJzXCIuXHJcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xyXG5cclxuICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgIGdyb3dMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7XHJcbiAgICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxyXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2V2ZW50c1t0eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIC8vIENoYW5nZSB0byBhcnJheS5cclxuICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxyXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgJiZcclxuICAgICAgICB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzID4gMCAmJlxyXG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xyXG4gICAgICAgIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhay5jYWxsKHRoaXMsIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgsIHR5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbkFueSA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignb25Bbnkgb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5fYWxsKSB7XHJcbiAgICAgIHRoaXMuX2FsbCA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCB0aGUgZnVuY3Rpb24gdG8gdGhlIGV2ZW50IGxpc3RlbmVyIGNvbGxlY3Rpb24uXHJcbiAgICB0aGlzLl9hbGwucHVzaChmbik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xyXG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZUxpc3RlbmVyIG9ubHkgdGFrZXMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGhhbmRsZXJzLGxlYWZzPVtdO1xyXG5cclxuICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcbiAgICAgIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAvLyBkb2VzIG5vdCB1c2UgbGlzdGVuZXJzKCksIHNvIG5vIHNpZGUgZWZmZWN0IG9mIGNyZWF0aW5nIF9ldmVudHNbdHlwZV1cclxuICAgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHJldHVybiB0aGlzO1xyXG4gICAgICBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuICAgICAgbGVhZnMucHVzaCh7X2xpc3RlbmVyczpoYW5kbGVyc30pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGlMZWFmPTA7IGlMZWFmPGxlYWZzLmxlbmd0aDsgaUxlYWYrKykge1xyXG4gICAgICB2YXIgbGVhZiA9IGxlYWZzW2lMZWFmXTtcclxuICAgICAgaGFuZGxlcnMgPSBsZWFmLl9saXN0ZW5lcnM7XHJcbiAgICAgIGlmIChpc0FycmF5KGhhbmRsZXJzKSkge1xyXG5cclxuICAgICAgICB2YXIgcG9zaXRpb24gPSAtMTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGhhbmRsZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaGFuZGxlcnNbaV0gPT09IGxpc3RlbmVyIHx8XHJcbiAgICAgICAgICAgIChoYW5kbGVyc1tpXS5saXN0ZW5lciAmJiBoYW5kbGVyc1tpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHx8XHJcbiAgICAgICAgICAgIChoYW5kbGVyc1tpXS5fb3JpZ2luICYmIGhhbmRsZXJzW2ldLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLndpbGRjYXJkKSB7XHJcbiAgICAgICAgICBsZWFmLl9saXN0ZW5lcnMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0uc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoYW5kbGVycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGxlYWYuX2xpc3RlbmVycztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChoYW5kbGVycyA9PT0gbGlzdGVuZXIgfHxcclxuICAgICAgICAoaGFuZGxlcnMubGlzdGVuZXIgJiYgaGFuZGxlcnMubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB8fFxyXG4gICAgICAgIChoYW5kbGVycy5fb3JpZ2luICYmIGhhbmRsZXJzLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xyXG4gICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgICAgIGRlbGV0ZSBsZWFmLl9saXN0ZW5lcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsIHR5cGUsIGxpc3RlbmVyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5R2FyYmFnZUNvbGxlY3Qocm9vdCkge1xyXG4gICAgICBpZiAocm9vdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocm9vdCk7XHJcbiAgICAgIGZvciAodmFyIGkgaW4ga2V5cykge1xyXG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgIHZhciBvYmogPSByb290W2tleV07XHJcbiAgICAgICAgaWYgKChvYmogaW5zdGFuY2VvZiBGdW5jdGlvbikgfHwgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHx8IChvYmogPT09IG51bGwpKVxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdChyb290W2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGRlbGV0ZSByb290W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHRoaXMubGlzdGVuZXJUcmVlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZkFueSA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICB2YXIgaSA9IDAsIGwgPSAwLCBmbnM7XHJcbiAgICBpZiAoZm4gJiYgdGhpcy5fYWxsICYmIHRoaXMuX2FsbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZucyA9IHRoaXMuX2FsbDtcclxuICAgICAgZm9yKGkgPSAwLCBsID0gZm5zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmKGZuID09PSBmbnNbaV0pIHtcclxuICAgICAgICAgIGZucy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lckFueVwiLCBmbik7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZucyA9IHRoaXMuX2FsbDtcclxuICAgICAgZm9yKGkgPSAwLCBsID0gZm5zLmxlbmd0aDsgaSA8IGw7IGkrKylcclxuICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lckFueVwiLCBmbnNbaV0pO1xyXG4gICAgICB0aGlzLl9hbGwgPSBbXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZjtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAhdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XHJcbiAgICAgIHZhciBsZWFmcyA9IHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIG51bGwsIG5zLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBpTGVhZj0wOyBpTGVhZjxsZWFmcy5sZW5ndGg7IGlMZWFmKyspIHtcclxuICAgICAgICB2YXIgbGVhZiA9IGxlYWZzW2lMZWFmXTtcclxuICAgICAgICBsZWFmLl9saXN0ZW5lcnMgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHMpIHtcclxuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcclxuICAgICAgdmFyIGhhbmRsZXJzID0gW107XHJcbiAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xyXG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVycywgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcclxuICAgICAgcmV0dXJuIGhhbmRsZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFtdO1xyXG4gICAgaWYgKCFpc0FycmF5KHRoaXMuX2V2ZW50c1t0eXBlXSkpIHtcclxuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG4gIH07XHJcblxyXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgIHJldHVybiB0aGlzLmxpc3RlbmVycyh0eXBlKS5sZW5ndGg7XHJcbiAgfTtcclxuXHJcbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnNBbnkgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICBpZih0aGlzLl9hbGwpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2FsbDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XHJcbiAgICB9KTtcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG4gICAgLy8gQ29tbW9uSlNcclxuICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIC8vIEJyb3dzZXIgZ2xvYmFsLlxyXG4gICAgd2luZG93LkV2ZW50RW1pdHRlcjIgPSBFdmVudEVtaXR0ZXI7XHJcbiAgfVxyXG59KCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/eventemitter2/lib/eventemitter2.js\n");

/***/ }),

/***/ "./node_modules/fitvids/index.js":
/*!***************************************!*\
  !*** ./node_modules/fitvids/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var selectors = [\n  'iframe[src*=\"player.vimeo.com\"]',\n  'iframe[src*=\"youtube.com\"]',\n  'iframe[src*=\"youtube-nocookie.com\"]',\n  'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n  \"object\"\n];\n\nvar css =\n  \".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}\";\n\nmodule.exports = function(parentSelector, opts) {\n  parentSelector = parentSelector || \"body\";\n  opts = opts || {};\n\n  if (isObject(parentSelector)) {\n    opts = parentSelector;\n    parentSelector = \"body\";\n  }\n\n  opts.ignore = opts.ignore || \"\";\n  opts.players = opts.players || \"\";\n\n  var containers = queryAll(parentSelector);\n  if (!hasLength(containers)) return;\n\n  if (!document.getElementById(\"fit-vids-style\")) {\n    var head = document.head || document.getElementsByTagName(\"head\")[0];\n    head.appendChild(styles());\n  }\n\n  var custom = toSelectorArray(opts.players);\n  var ignored = toSelectorArray(opts.ignore);\n  var ignoredSelector = ignored.length > 0 ? ignored.join() : null;\n  var selector = selectors.concat(custom).join();\n\n  if (!hasLength(selector)) {\n    return;\n  }\n\n  containers.forEach(function(container) {\n    var videos = queryAll(container, selector);\n\n    videos.forEach(function(video) {\n      if (ignoredSelector && video.matches(ignoredSelector)) {\n        return;\n      }\n      wrap(video);\n    });\n  });\n}\n\nfunction queryAll(el, selector) {\n  if (typeof el === \"string\") {\n    selector = el;\n    el = document;\n  }\n  return Array.prototype.slice.call(el.querySelectorAll(selector));\n}\n\nfunction toSelectorArray(input) {\n  if (typeof input === \"string\") {\n    return input\n      .split(\",\")\n      .map(trim)\n      .filter(hasLength);\n  } else if (isArray(input)) {\n    return flatten(input.map(toSelectorArray).filter(hasLength));\n  }\n  return input || [];\n}\n\nfunction wrap(el) {\n  if (/fluid-width-video-wrapper/.test(el.parentNode.className)) {\n    return;\n  }\n\n  var widthAttr = parseInt(el.getAttribute(\"width\"), 10);\n  var heightAttr = parseInt(el.getAttribute(\"height\"), 10);\n\n  var width = !isNaN(widthAttr) ? widthAttr : el.clientWidth;\n  var height = !isNaN(heightAttr) ? heightAttr : el.clientHeight;\n  var aspect = height / width;\n\n  el.removeAttribute(\"width\");\n  el.removeAttribute(\"height\");\n\n  var wrapper = document.createElement(\"div\");\n  el.parentNode.insertBefore(wrapper, el);\n  wrapper.className = \"fluid-width-video-wrapper\";\n  wrapper.style.paddingTop = aspect * 100 + \"%\";\n  wrapper.appendChild(el);\n}\n\nfunction styles() {\n  var div = document.createElement(\"div\");\n  div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + \"</style>\";\n  return div.childNodes[1];\n}\n\nfunction hasLength(input) {\n  return input.length > 0;\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s+|\\s+$/g, \"\");\n}\n\nfunction flatten(input) {\n  return [].concat.apply([], input);\n}\n\nfunction isObject(input) {\n  return Object.prototype.toString.call(input) === \"[object Object]\";\n}\n\nfunction isArray(input) {\n  return Object.prototype.toString.call(input) === \"[object Array]\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZml0dmlkcy9pbmRleC5qcz80ZTlmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEJBQThCLFdBQVcsa0JBQWtCLFdBQVcsc0dBQXNHLGtCQUFrQixNQUFNLE9BQU8sV0FBVyxhQUFhOztBQUVuTztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZml0dmlkcy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBzZWxlY3RvcnMgPSBbXG4gICdpZnJhbWVbc3JjKj1cInBsYXllci52aW1lby5jb21cIl0nLFxuICAnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLmNvbVwiXScsXG4gICdpZnJhbWVbc3JjKj1cInlvdXR1YmUtbm9jb29raWUuY29tXCJdJyxcbiAgJ2lmcmFtZVtzcmMqPVwia2lja3N0YXJ0ZXIuY29tXCJdW3NyYyo9XCJ2aWRlby5odG1sXCJdJyxcbiAgXCJvYmplY3RcIlxuXTtcblxudmFyIGNzcyA9XG4gIFwiLmZsdWlkLXdpZHRoLXZpZGVvLXdyYXBwZXJ7d2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjA7fS5mbHVpZC13aWR0aC12aWRlby13cmFwcGVyIGlmcmFtZSwuZmx1aWQtd2lkdGgtdmlkZW8td3JhcHBlciBvYmplY3QsLmZsdWlkLXdpZHRoLXZpZGVvLXdyYXBwZXIgZW1iZWQge3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO31cIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihwYXJlbnRTZWxlY3Rvciwgb3B0cykge1xuICBwYXJlbnRTZWxlY3RvciA9IHBhcmVudFNlbGVjdG9yIHx8IFwiYm9keVwiO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBpZiAoaXNPYmplY3QocGFyZW50U2VsZWN0b3IpKSB7XG4gICAgb3B0cyA9IHBhcmVudFNlbGVjdG9yO1xuICAgIHBhcmVudFNlbGVjdG9yID0gXCJib2R5XCI7XG4gIH1cblxuICBvcHRzLmlnbm9yZSA9IG9wdHMuaWdub3JlIHx8IFwiXCI7XG4gIG9wdHMucGxheWVycyA9IG9wdHMucGxheWVycyB8fCBcIlwiO1xuXG4gIHZhciBjb250YWluZXJzID0gcXVlcnlBbGwocGFyZW50U2VsZWN0b3IpO1xuICBpZiAoIWhhc0xlbmd0aChjb250YWluZXJzKSkgcmV0dXJuO1xuXG4gIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXQtdmlkcy1zdHlsZVwiKSkge1xuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZXMoKSk7XG4gIH1cblxuICB2YXIgY3VzdG9tID0gdG9TZWxlY3RvckFycmF5KG9wdHMucGxheWVycyk7XG4gIHZhciBpZ25vcmVkID0gdG9TZWxlY3RvckFycmF5KG9wdHMuaWdub3JlKTtcbiAgdmFyIGlnbm9yZWRTZWxlY3RvciA9IGlnbm9yZWQubGVuZ3RoID4gMCA/IGlnbm9yZWQuam9pbigpIDogbnVsbDtcbiAgdmFyIHNlbGVjdG9yID0gc2VsZWN0b3JzLmNvbmNhdChjdXN0b20pLmpvaW4oKTtcblxuICBpZiAoIWhhc0xlbmd0aChzZWxlY3RvcikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb250YWluZXJzLmZvckVhY2goZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgdmFyIHZpZGVvcyA9IHF1ZXJ5QWxsKGNvbnRhaW5lciwgc2VsZWN0b3IpO1xuXG4gICAgdmlkZW9zLmZvckVhY2goZnVuY3Rpb24odmlkZW8pIHtcbiAgICAgIGlmIChpZ25vcmVkU2VsZWN0b3IgJiYgdmlkZW8ubWF0Y2hlcyhpZ25vcmVkU2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdyYXAodmlkZW8pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcXVlcnlBbGwoZWwsIHNlbGVjdG9yKSB7XG4gIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICBzZWxlY3RvciA9IGVsO1xuICAgIGVsID0gZG9jdW1lbnQ7XG4gIH1cbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cblxuZnVuY3Rpb24gdG9TZWxlY3RvckFycmF5KGlucHV0KSB7XG4gIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgIC5zcGxpdChcIixcIilcbiAgICAgIC5tYXAodHJpbSlcbiAgICAgIC5maWx0ZXIoaGFzTGVuZ3RoKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgIHJldHVybiBmbGF0dGVuKGlucHV0Lm1hcCh0b1NlbGVjdG9yQXJyYXkpLmZpbHRlcihoYXNMZW5ndGgpKTtcbiAgfVxuICByZXR1cm4gaW5wdXQgfHwgW107XG59XG5cbmZ1bmN0aW9uIHdyYXAoZWwpIHtcbiAgaWYgKC9mbHVpZC13aWR0aC12aWRlby13cmFwcGVyLy50ZXN0KGVsLnBhcmVudE5vZGUuY2xhc3NOYW1lKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB3aWR0aEF0dHIgPSBwYXJzZUludChlbC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSwgMTApO1xuICB2YXIgaGVpZ2h0QXR0ciA9IHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSwgMTApO1xuXG4gIHZhciB3aWR0aCA9ICFpc05hTih3aWR0aEF0dHIpID8gd2lkdGhBdHRyIDogZWwuY2xpZW50V2lkdGg7XG4gIHZhciBoZWlnaHQgPSAhaXNOYU4oaGVpZ2h0QXR0cikgPyBoZWlnaHRBdHRyIDogZWwuY2xpZW50SGVpZ2h0O1xuICB2YXIgYXNwZWN0ID0gaGVpZ2h0IC8gd2lkdGg7XG5cbiAgZWwucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gIGVsLnJlbW92ZUF0dHJpYnV0ZShcImhlaWdodFwiKTtcblxuICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGVsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIGVsKTtcbiAgd3JhcHBlci5jbGFzc05hbWUgPSBcImZsdWlkLXdpZHRoLXZpZGVvLXdyYXBwZXJcIjtcbiAgd3JhcHBlci5zdHlsZS5wYWRkaW5nVG9wID0gYXNwZWN0ICogMTAwICsgXCIlXCI7XG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWwpO1xufVxuXG5mdW5jdGlvbiBzdHlsZXMoKSB7XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkaXYuaW5uZXJIVE1MID0gJzxwPng8L3A+PHN0eWxlIGlkPVwiZml0LXZpZHMtc3R5bGVcIj4nICsgY3NzICsgXCI8L3N0eWxlPlwiO1xuICByZXR1cm4gZGl2LmNoaWxkTm9kZXNbMV07XG59XG5cbmZ1bmN0aW9uIGhhc0xlbmd0aChpbnB1dCkge1xuICByZXR1cm4gaW5wdXQubGVuZ3RoID4gMDtcbn1cblxuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbihpbnB1dCkge1xuICByZXR1cm4gW10uY29uY2F0LmFwcGx5KFtdLCBpbnB1dCk7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KGlucHV0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/fitvids/index.js\n");

/***/ }),

/***/ "./node_modules/fizzy-ui-utils/utils.js":
/*!**********************************************!*\
  !*** ./node_modules/fizzy-ui-utils/utils.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! desandro-matches-selector/matches-selector */ \"./node_modules/desandro-matches-selector/matches-selector.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZml6enktdWktdXRpbHMvdXRpbHMuanM/NjE1OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyxJQUF5QztBQUNoRDtBQUNBLElBQUksaUNBQVE7QUFDWixNQUFNLHFJQUE0QztBQUNsRCxLQUFLLG1DQUFFO0FBQ1A7QUFDQSxLQUFLO0FBQUEsb0dBQUM7QUFDTixHQUFHLE1BQU0sRUFZTjs7QUFFSCxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZml6enktdWktdXRpbHMvdXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZpenp5IFVJIHV0aWxzIHYyLjAuN1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLypqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvcidcbiAgICBdLCBmdW5jdGlvbiggbWF0Y2hlc1NlbGVjdG9yICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgbWF0Y2hlc1NlbGVjdG9yICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LmZpenp5VUlVdGlscyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cubWF0Y2hlc1NlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgbWF0Y2hlc1NlbGVjdG9yICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHt9O1xuXG4vLyAtLS0tLSBleHRlbmQgLS0tLS0gLy9cblxuLy8gZXh0ZW5kcyBvYmplY3RzXG51dGlscy5leHRlbmQgPSBmdW5jdGlvbiggYSwgYiApIHtcbiAgZm9yICggdmFyIHByb3AgaW4gYiApIHtcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XG4gIH1cbiAgcmV0dXJuIGE7XG59O1xuXG4vLyAtLS0tLSBtb2R1bG8gLS0tLS0gLy9cblxudXRpbHMubW9kdWxvID0gZnVuY3Rpb24oIG51bSwgZGl2ICkge1xuICByZXR1cm4gKCAoIG51bSAlIGRpdiApICsgZGl2ICkgJSBkaXY7XG59O1xuXG4vLyAtLS0tLSBtYWtlQXJyYXkgLS0tLS0gLy9cblxudmFyIGFycmF5U2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8vIHR1cm4gZWxlbWVudCBvciBub2RlTGlzdCBpbnRvIGFuIGFycmF5XG51dGlscy5tYWtlQXJyYXkgPSBmdW5jdGlvbiggb2JqICkge1xuICBpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkge1xuICAgIC8vIHVzZSBvYmplY3QgaWYgYWxyZWFkeSBhbiBhcnJheVxuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgLy8gcmV0dXJuIGVtcHR5IGFycmF5IGlmIHVuZGVmaW5lZCBvciBudWxsLiAjNlxuICBpZiAoIG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHVuZGVmaW5lZCApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgaXNBcnJheUxpa2UgPSB0eXBlb2Ygb2JqID09ICdvYmplY3QnICYmIHR5cGVvZiBvYmoubGVuZ3RoID09ICdudW1iZXInO1xuICBpZiAoIGlzQXJyYXlMaWtlICkge1xuICAgIC8vIGNvbnZlcnQgbm9kZUxpc3QgdG8gYXJyYXlcbiAgICByZXR1cm4gYXJyYXlTbGljZS5jYWxsKCBvYmogKTtcbiAgfVxuXG4gIC8vIGFycmF5IG9mIHNpbmdsZSBpbmRleFxuICByZXR1cm4gWyBvYmogXTtcbn07XG5cbi8vIC0tLS0tIHJlbW92ZUZyb20gLS0tLS0gLy9cblxudXRpbHMucmVtb3ZlRnJvbSA9IGZ1bmN0aW9uKCBhcnksIG9iaiApIHtcbiAgdmFyIGluZGV4ID0gYXJ5LmluZGV4T2YoIG9iaiApO1xuICBpZiAoIGluZGV4ICE9IC0xICkge1xuICAgIGFyeS5zcGxpY2UoIGluZGV4LCAxICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIGdldFBhcmVudCAtLS0tLSAvL1xuXG51dGlscy5nZXRQYXJlbnQgPSBmdW5jdGlvbiggZWxlbSwgc2VsZWN0b3IgKSB7XG4gIHdoaWxlICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0gIT0gZG9jdW1lbnQuYm9keSApIHtcbiAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuICAgIGlmICggbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApICkge1xuICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuICB9XG59O1xuXG4vLyAtLS0tLSBnZXRRdWVyeUVsZW1lbnQgLS0tLS0gLy9cblxuLy8gdXNlIGVsZW1lbnQgYXMgc2VsZWN0b3Igc3RyaW5nXG51dGlscy5nZXRRdWVyeUVsZW1lbnQgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxlbSApO1xuICB9XG4gIHJldHVybiBlbGVtO1xufTtcblxuLy8gLS0tLS0gaGFuZGxlRXZlbnQgLS0tLS0gLy9cblxuLy8gZW5hYmxlIC5vbnR5cGUgdG8gdHJpZ2dlciBmcm9tIC5hZGRFdmVudExpc3RlbmVyKCBlbGVtLCAndHlwZScgKVxudXRpbHMuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gZmlsdGVyRmluZEVsZW1lbnRzIC0tLS0tIC8vXG5cbnV0aWxzLmZpbHRlckZpbmRFbGVtZW50cyA9IGZ1bmN0aW9uKCBlbGVtcywgc2VsZWN0b3IgKSB7XG4gIC8vIG1ha2UgYXJyYXkgb2YgZWxlbXNcbiAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gIHZhciBmZkVsZW1zID0gW107XG5cbiAgZWxlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgLy8gY2hlY2sgdGhhdCBlbGVtIGlzIGFuIGFjdHVhbCBlbGVtZW50XG4gICAgaWYgKCAhKCBlbGVtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgKSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gYWRkIGVsZW0gaWYgbm8gc2VsZWN0b3JcbiAgICBpZiAoICFzZWxlY3RvciApIHtcbiAgICAgIGZmRWxlbXMucHVzaCggZWxlbSApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYSBzZWxlY3RvclxuICAgIC8vIGZpbHRlclxuICAgIGlmICggbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApICkge1xuICAgICAgZmZFbGVtcy5wdXNoKCBlbGVtICk7XG4gICAgfVxuICAgIC8vIGZpbmQgY2hpbGRyZW5cbiAgICB2YXIgY2hpbGRFbGVtcyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggc2VsZWN0b3IgKTtcbiAgICAvLyBjb25jYXQgY2hpbGRFbGVtcyB0byBmaWx0ZXJGb3VuZCBhcnJheVxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBjaGlsZEVsZW1zLmxlbmd0aDsgaSsrICkge1xuICAgICAgZmZFbGVtcy5wdXNoKCBjaGlsZEVsZW1zW2ldICk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZmZFbGVtcztcbn07XG5cbi8vIC0tLS0tIGRlYm91bmNlTWV0aG9kIC0tLS0tIC8vXG5cbnV0aWxzLmRlYm91bmNlTWV0aG9kID0gZnVuY3Rpb24oIF9jbGFzcywgbWV0aG9kTmFtZSwgdGhyZXNob2xkICkge1xuICB0aHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgMTAwO1xuICAvLyBvcmlnaW5hbCBtZXRob2RcbiAgdmFyIG1ldGhvZCA9IF9jbGFzcy5wcm90b3R5cGVbIG1ldGhvZE5hbWUgXTtcbiAgdmFyIHRpbWVvdXROYW1lID0gbWV0aG9kTmFtZSArICdUaW1lb3V0JztcblxuICBfY2xhc3MucHJvdG90eXBlWyBtZXRob2ROYW1lIF0gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGltZW91dCA9IHRoaXNbIHRpbWVvdXROYW1lIF07XG4gICAgY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXNbIHRpbWVvdXROYW1lIF0gPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIG1ldGhvZC5hcHBseSggX3RoaXMsIGFyZ3MgKTtcbiAgICAgIGRlbGV0ZSBfdGhpc1sgdGltZW91dE5hbWUgXTtcbiAgICB9LCB0aHJlc2hvbGQgKTtcbiAgfTtcbn07XG5cbi8vIC0tLS0tIGRvY1JlYWR5IC0tLS0tIC8vXG5cbnV0aWxzLmRvY1JlYWR5ID0gZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuICB2YXIgcmVhZHlTdGF0ZSA9IGRvY3VtZW50LnJlYWR5U3RhdGU7XG4gIGlmICggcmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnIHx8IHJlYWR5U3RhdGUgPT0gJ2ludGVyYWN0aXZlJyApIHtcbiAgICAvLyBkbyBhc3luYyB0byBhbGxvdyBmb3Igb3RoZXIgc2NyaXB0cyB0byBydW4uIG1ldGFmaXp6eS9mbGlja2l0eSM0NDFcbiAgICBzZXRUaW1lb3V0KCBjYWxsYmFjayApO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdET01Db250ZW50TG9hZGVkJywgY2FsbGJhY2sgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gaHRtbEluaXQgLS0tLS0gLy9cblxuLy8gaHR0cDovL2phbWVzcm9iZXJ0cy5uYW1lL2Jsb2cvMjAxMC8wMi8yMi9zdHJpbmctZnVuY3Rpb25zLWZvci1qYXZhc2NyaXB0LXRyaW0tdG8tY2FtZWwtY2FzZS10by1kYXNoZWQtYW5kLXRvLXVuZGVyc2NvcmUvXG51dGlscy50b0Rhc2hlZCA9IGZ1bmN0aW9uKCBzdHIgKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSggLyguKShbQS1aXSkvZywgZnVuY3Rpb24oIG1hdGNoLCAkMSwgJDIgKSB7XG4gICAgcmV0dXJuICQxICsgJy0nICsgJDI7XG4gIH0pLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xuLyoqXG4gKiBhbGxvdyB1c2VyIHRvIGluaXRpYWxpemUgY2xhc3NlcyB2aWEgW2RhdGEtbmFtZXNwYWNlXSBvciAuanMtbmFtZXNwYWNlIGNsYXNzXG4gKiBodG1sSW5pdCggV2lkZ2V0LCAnd2lkZ2V0TmFtZScgKVxuICogb3B0aW9ucyBhcmUgcGFyc2VkIGZyb20gZGF0YS1uYW1lc3BhY2Utb3B0aW9uc1xuICovXG51dGlscy5odG1sSW5pdCA9IGZ1bmN0aW9uKCBXaWRnZXRDbGFzcywgbmFtZXNwYWNlICkge1xuICB1dGlscy5kb2NSZWFkeSggZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhc2hlZE5hbWVzcGFjZSA9IHV0aWxzLnRvRGFzaGVkKCBuYW1lc3BhY2UgKTtcbiAgICB2YXIgZGF0YUF0dHIgPSAnZGF0YS0nICsgZGFzaGVkTmFtZXNwYWNlO1xuICAgIHZhciBkYXRhQXR0ckVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJ1snICsgZGF0YUF0dHIgKyAnXScgKTtcbiAgICB2YXIganNEYXNoRWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmpzLScgKyBkYXNoZWROYW1lc3BhY2UgKTtcbiAgICB2YXIgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGRhdGFBdHRyRWxlbXMgKVxuICAgICAgLmNvbmNhdCggdXRpbHMubWFrZUFycmF5KCBqc0Rhc2hFbGVtcyApICk7XG4gICAgdmFyIGRhdGFPcHRpb25zQXR0ciA9IGRhdGFBdHRyICsgJy1vcHRpb25zJztcbiAgICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeTtcblxuICAgIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgdmFyIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSggZGF0YUF0dHIgKSB8fFxuICAgICAgICBlbGVtLmdldEF0dHJpYnV0ZSggZGF0YU9wdGlvbnNBdHRyICk7XG4gICAgICB2YXIgb3B0aW9ucztcbiAgICAgIHRyeSB7XG4gICAgICAgIG9wdGlvbnMgPSBhdHRyICYmIEpTT04ucGFyc2UoIGF0dHIgKTtcbiAgICAgIH0gY2F0Y2ggKCBlcnJvciApIHtcbiAgICAgICAgLy8gbG9nIGVycm9yLCBkbyBub3QgaW5pdGlhbGl6ZVxuICAgICAgICBpZiAoIGNvbnNvbGUgKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvciggJ0Vycm9yIHBhcnNpbmcgJyArIGRhdGFBdHRyICsgJyBvbiAnICsgZWxlbS5jbGFzc05hbWUgK1xuICAgICAgICAgICc6ICcgKyBlcnJvciApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBXaWRnZXRDbGFzcyggZWxlbSwgb3B0aW9ucyApO1xuICAgICAgLy8gbWFrZSBhdmFpbGFibGUgdmlhICQoKS5kYXRhKCduYW1lc3BhY2UnKVxuICAgICAgaWYgKCBqUXVlcnkgKSB7XG4gICAgICAgIGpRdWVyeS5kYXRhKCBlbGVtLCBuYW1lc3BhY2UsIGluc3RhbmNlICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxucmV0dXJuIHV0aWxzO1xuXG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/fizzy-ui-utils/utils.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/add-remove-cell.js":
/*!*****************************************************!*\
  !*** ./node_modules/flickity/js/add-remove-cell.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ./flickity */ \"./node_modules/flickity/js/flickity.js\"),\n      __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, Flickity, utils ) {\n\n'use strict';\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  });\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {Element, Array, NodeList} elems\n * @param {Integer} index\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {Element, Array, NodeList} elems\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvYWRkLXJlbW92ZS1jZWxsLmpzP2JkN2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQXlDO0FBQ2hEO0FBQ0EsSUFBSSxpQ0FBUTtBQUNaLE1BQU0sK0VBQVk7QUFDbEIsTUFBTSx5RkFBc0I7QUFDNUIsS0FBSyxtQ0FBRTtBQUNQO0FBQ0EsS0FBSztBQUFBLG9HQUFDO0FBQ04sR0FBRyxNQUFNLEVBY047O0FBRUgsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVcseUJBQXlCO0FBQ3BDLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyx5QkFBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2ZsaWNraXR5L2pzL2FkZC1yZW1vdmUtY2VsbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGFkZCwgcmVtb3ZlIGNlbGxcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnLi9mbGlja2l0eScsXG4gICAgICAnZml6enktdWktdXRpbHMvdXRpbHMnXG4gICAgXSwgZnVuY3Rpb24oIEZsaWNraXR5LCB1dGlscyApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEZsaWNraXR5LCB1dGlscyApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnLi9mbGlja2l0eScpLFxuICAgICAgcmVxdWlyZSgnZml6enktdWktdXRpbHMnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkZsaWNraXR5LFxuICAgICAgd2luZG93LmZpenp5VUlVdGlsc1xuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEZsaWNraXR5LCB1dGlscyApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBhcHBlbmQgY2VsbHMgdG8gYSBkb2N1bWVudCBmcmFnbWVudFxuZnVuY3Rpb24gZ2V0Q2VsbHNGcmFnbWVudCggY2VsbHMgKSB7XG4gIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgY2VsbHMuZm9yRWFjaCggZnVuY3Rpb24oIGNlbGwgKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNlbGwuZWxlbWVudCApO1xuICB9KTtcbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBhZGQvcmVtb3ZlIGNlbGwgcHJvdG90eXBlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciBwcm90byA9IEZsaWNraXR5LnByb3RvdHlwZTtcblxuLyoqXG4gKiBJbnNlcnQsIHByZXBlbmQsIG9yIGFwcGVuZCBjZWxsc1xuICogQHBhcmFtIHtFbGVtZW50LCBBcnJheSwgTm9kZUxpc3R9IGVsZW1zXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGluZGV4XG4gKi9cbnByb3RvLmluc2VydCA9IGZ1bmN0aW9uKCBlbGVtcywgaW5kZXggKSB7XG4gIHZhciBjZWxscyA9IHRoaXMuX21ha2VDZWxscyggZWxlbXMgKTtcbiAgaWYgKCAhY2VsbHMgfHwgIWNlbGxzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGxlbiA9IHRoaXMuY2VsbHMubGVuZ3RoO1xuICAvLyBkZWZhdWx0IHRvIGFwcGVuZFxuICBpbmRleCA9IGluZGV4ID09PSB1bmRlZmluZWQgPyBsZW4gOiBpbmRleDtcbiAgLy8gYWRkIGNlbGxzIHdpdGggZG9jdW1lbnQgZnJhZ21lbnRcbiAgdmFyIGZyYWdtZW50ID0gZ2V0Q2VsbHNGcmFnbWVudCggY2VsbHMgKTtcbiAgLy8gYXBwZW5kIHRvIHNsaWRlclxuICB2YXIgaXNBcHBlbmQgPSBpbmRleCA9PSBsZW47XG4gIGlmICggaXNBcHBlbmQgKSB7XG4gICAgdGhpcy5zbGlkZXIuYXBwZW5kQ2hpbGQoIGZyYWdtZW50ICk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGluc2VydENlbGxFbGVtZW50ID0gdGhpcy5jZWxsc1sgaW5kZXggXS5lbGVtZW50O1xuICAgIHRoaXMuc2xpZGVyLmluc2VydEJlZm9yZSggZnJhZ21lbnQsIGluc2VydENlbGxFbGVtZW50ICk7XG4gIH1cbiAgLy8gYWRkIHRvIHRoaXMuY2VsbHNcbiAgaWYgKCBpbmRleCA9PT0gMCApIHtcbiAgICAvLyBwcmVwZW5kLCBhZGQgdG8gc3RhcnRcbiAgICB0aGlzLmNlbGxzID0gY2VsbHMuY29uY2F0KCB0aGlzLmNlbGxzICk7XG4gIH0gZWxzZSBpZiAoIGlzQXBwZW5kICkge1xuICAgIC8vIGFwcGVuZCwgYWRkIHRvIGVuZFxuICAgIHRoaXMuY2VsbHMgPSB0aGlzLmNlbGxzLmNvbmNhdCggY2VsbHMgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpbnNlcnQgaW4gdGhpcy5jZWxsc1xuICAgIHZhciBlbmRDZWxscyA9IHRoaXMuY2VsbHMuc3BsaWNlKCBpbmRleCwgbGVuIC0gaW5kZXggKTtcbiAgICB0aGlzLmNlbGxzID0gdGhpcy5jZWxscy5jb25jYXQoIGNlbGxzICkuY29uY2F0KCBlbmRDZWxscyApO1xuICB9XG5cbiAgdGhpcy5fc2l6ZUNlbGxzKCBjZWxscyApO1xuICB0aGlzLmNlbGxDaGFuZ2UoIGluZGV4LCB0cnVlICk7XG59O1xuXG5wcm90by5hcHBlbmQgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHRoaXMuaW5zZXJ0KCBlbGVtcywgdGhpcy5jZWxscy5sZW5ndGggKTtcbn07XG5cbnByb3RvLnByZXBlbmQgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHRoaXMuaW5zZXJ0KCBlbGVtcywgMCApO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgY2VsbHNcbiAqIEBwYXJhbSB7RWxlbWVudCwgQXJyYXksIE5vZGVMaXN0fSBlbGVtc1xuICovXG5wcm90by5yZW1vdmUgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHZhciBjZWxscyA9IHRoaXMuZ2V0Q2VsbHMoIGVsZW1zICk7XG4gIGlmICggIWNlbGxzIHx8ICFjZWxscy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1pbkNlbGxJbmRleCA9IHRoaXMuY2VsbHMubGVuZ3RoIC0gMTtcbiAgLy8gcmVtb3ZlIGNlbGxzIGZyb20gY29sbGVjdGlvbiAmIERPTVxuICBjZWxscy5mb3JFYWNoKCBmdW5jdGlvbiggY2VsbCApIHtcbiAgICBjZWxsLnJlbW92ZSgpO1xuICAgIHZhciBpbmRleCA9IHRoaXMuY2VsbHMuaW5kZXhPZiggY2VsbCApO1xuICAgIG1pbkNlbGxJbmRleCA9IE1hdGgubWluKCBpbmRleCwgbWluQ2VsbEluZGV4ICk7XG4gICAgdXRpbHMucmVtb3ZlRnJvbSggdGhpcy5jZWxscywgY2VsbCApO1xuICB9LCB0aGlzICk7XG5cbiAgdGhpcy5jZWxsQ2hhbmdlKCBtaW5DZWxsSW5kZXgsIHRydWUgKTtcbn07XG5cbi8qKlxuICogbG9naWMgdG8gYmUgcnVuIGFmdGVyIGEgY2VsbCdzIHNpemUgY2hhbmdlc1xuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtIC0gY2VsbCdzIGVsZW1lbnRcbiAqL1xucHJvdG8uY2VsbFNpemVDaGFuZ2UgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgdmFyIGNlbGwgPSB0aGlzLmdldENlbGwoIGVsZW0gKTtcbiAgaWYgKCAhY2VsbCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY2VsbC5nZXRTaXplKCk7XG5cbiAgdmFyIGluZGV4ID0gdGhpcy5jZWxscy5pbmRleE9mKCBjZWxsICk7XG4gIHRoaXMuY2VsbENoYW5nZSggaW5kZXggKTtcbn07XG5cbi8qKlxuICogbG9naWMgYW55IHRpbWUgYSBjZWxsIGlzIGNoYW5nZWQ6IGFkZGVkLCByZW1vdmVkLCBvciBzaXplIGNoYW5nZWRcbiAqIEBwYXJhbSB7SW50ZWdlcn0gY2hhbmdlZENlbGxJbmRleCAtIGluZGV4IG9mIHRoZSBjaGFuZ2VkIGNlbGwsIG9wdGlvbmFsXG4gKi9cbnByb3RvLmNlbGxDaGFuZ2UgPSBmdW5jdGlvbiggY2hhbmdlZENlbGxJbmRleCwgaXNQb3NpdGlvbmluZ1NsaWRlciApIHtcbiAgdmFyIHByZXZTZWxlY3RlZEVsZW0gPSB0aGlzLnNlbGVjdGVkRWxlbWVudDtcbiAgdGhpcy5fcG9zaXRpb25DZWxscyggY2hhbmdlZENlbGxJbmRleCApO1xuICB0aGlzLl9nZXRXcmFwU2hpZnRDZWxscygpO1xuICB0aGlzLnNldEdhbGxlcnlTaXplKCk7XG4gIC8vIHVwZGF0ZSBzZWxlY3RlZEluZGV4XG4gIC8vIHRyeSB0byBtYWludGFpbiBwb3NpdGlvbiAmIHNlbGVjdCBwcmV2aW91cyBzZWxlY3RlZCBlbGVtZW50XG4gIHZhciBjZWxsID0gdGhpcy5nZXRDZWxsKCBwcmV2U2VsZWN0ZWRFbGVtICk7XG4gIGlmICggY2VsbCApIHtcbiAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLmdldENlbGxTbGlkZUluZGV4KCBjZWxsICk7XG4gIH1cbiAgdGhpcy5zZWxlY3RlZEluZGV4ID0gTWF0aC5taW4oIHRoaXMuc2xpZGVzLmxlbmd0aCAtIDEsIHRoaXMuc2VsZWN0ZWRJbmRleCApO1xuXG4gIHRoaXMuZW1pdEV2ZW50KCAnY2VsbENoYW5nZScsIFsgY2hhbmdlZENlbGxJbmRleCBdICk7XG4gIC8vIHBvc2l0aW9uIHNsaWRlclxuICB0aGlzLnNlbGVjdCggdGhpcy5zZWxlY3RlZEluZGV4ICk7XG4gIC8vIGRvIG5vdCBwb3NpdGlvbiBzbGlkZXIgYWZ0ZXIgbGF6eSBsb2FkXG4gIGlmICggaXNQb3NpdGlvbmluZ1NsaWRlciApIHtcbiAgICB0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpO1xuICB9XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxucmV0dXJuIEZsaWNraXR5O1xuXG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/add-remove-cell.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/animate.js":
/*!*********************************************!*\
  !*** ./node_modules/flickity/js/animate.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// animate\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( utils ) {\n      return factory( window, utils );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, utils ) {\n\n'use strict';\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    });\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x = x - this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  this.setTranslateX( x, this.isAnimating );\n  this.dispatchScrollEvent();\n};\n\nproto.setTranslateX = function( x, is3d ) {\n  x += this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var translateX = this.getPositionValue( x );\n  // use 3D tranforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = is3d ?\n    'translate3d(' + translateX + ',0,0)' : 'translateX(' + translateX + ')';\n};\n\nproto.dispatchScrollEvent = function() {\n  var firstSlide = this.slides[0];\n  if ( !firstSlide ) {\n    return;\n  }\n  var positionX = -this.x - firstSlide.target;\n  var progress = positionX / this.slidesWidth;\n  this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i=0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i=0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvYW5pbWF0ZS5qcz8wMTUwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUF5QztBQUNoRDtBQUNBLElBQUksaUNBQVE7QUFDWixNQUFNLHlGQUFzQjtBQUM1QixLQUFLLG1DQUFFO0FBQ1A7QUFDQSxLQUFLO0FBQUEsb0dBQUM7QUFDTixHQUFHLE1BQU0sRUFhTjs7QUFFSCxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvYW5pbWF0ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGFuaW1hdGVcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnZml6enktdWktdXRpbHMvdXRpbHMnXG4gICAgXSwgZnVuY3Rpb24oIHV0aWxzICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgdXRpbHMgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LkZsaWNraXR5ID0gd2luZG93LkZsaWNraXR5IHx8IHt9O1xuICAgIHdpbmRvdy5GbGlja2l0eS5hbmltYXRlUHJvdG90eXBlID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHNcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCB1dGlscyApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBhbmltYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciBwcm90byA9IHt9O1xuXG5wcm90by5zdGFydEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIHRoaXMuaXNBbmltYXRpbmcgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XG4gIHRoaXMucmVzdGluZ0ZyYW1lcyA9IDA7XG4gIHRoaXMuYW5pbWF0ZSgpO1xufTtcblxucHJvdG8uYW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmFwcGx5RHJhZ0ZvcmNlKCk7XG4gIHRoaXMuYXBwbHlTZWxlY3RlZEF0dHJhY3Rpb24oKTtcblxuICB2YXIgcHJldmlvdXNYID0gdGhpcy54O1xuXG4gIHRoaXMuaW50ZWdyYXRlUGh5c2ljcygpO1xuICB0aGlzLnBvc2l0aW9uU2xpZGVyKCk7XG4gIHRoaXMuc2V0dGxlKCBwcmV2aW91c1ggKTtcbiAgLy8gYW5pbWF0ZSBuZXh0IGZyYW1lXG4gIGlmICggdGhpcy5pc0FuaW1hdGluZyApIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggZnVuY3Rpb24gYW5pbWF0ZUZyYW1lKCkge1xuICAgICAgX3RoaXMuYW5pbWF0ZSgpO1xuICAgIH0pO1xuICB9XG59O1xuXG5wcm90by5wb3NpdGlvblNsaWRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgeCA9IHRoaXMueDtcbiAgLy8gd3JhcCBwb3NpdGlvbiBhcm91bmRcbiAgaWYgKCB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCAmJiB0aGlzLmNlbGxzLmxlbmd0aCA+IDEgKSB7XG4gICAgeCA9IHV0aWxzLm1vZHVsbyggeCwgdGhpcy5zbGlkZWFibGVXaWR0aCApO1xuICAgIHggPSB4IC0gdGhpcy5zbGlkZWFibGVXaWR0aDtcbiAgICB0aGlzLnNoaWZ0V3JhcENlbGxzKCB4ICk7XG4gIH1cblxuICB0aGlzLnNldFRyYW5zbGF0ZVgoIHgsIHRoaXMuaXNBbmltYXRpbmcgKTtcbiAgdGhpcy5kaXNwYXRjaFNjcm9sbEV2ZW50KCk7XG59O1xuXG5wcm90by5zZXRUcmFuc2xhdGVYID0gZnVuY3Rpb24oIHgsIGlzM2QgKSB7XG4gIHggKz0gdGhpcy5jdXJzb3JQb3NpdGlvbjtcbiAgLy8gcmV2ZXJzZSBpZiByaWdodC10by1sZWZ0IGFuZCB1c2luZyB0cmFuc2Zvcm1cbiAgeCA9IHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCA/IC14IDogeDtcbiAgdmFyIHRyYW5zbGF0ZVggPSB0aGlzLmdldFBvc2l0aW9uVmFsdWUoIHggKTtcbiAgLy8gdXNlIDNEIHRyYW5mb3JtcyBmb3IgaGFyZHdhcmUgYWNjZWxlcmF0aW9uIG9uIGlPU1xuICAvLyBidXQgdXNlIDJEIHdoZW4gc2V0dGxlZCwgZm9yIGJldHRlciBmb250LXJlbmRlcmluZ1xuICB0aGlzLnNsaWRlci5zdHlsZS50cmFuc2Zvcm0gPSBpczNkID9cbiAgICAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAnLDAsMCknIDogJ3RyYW5zbGF0ZVgoJyArIHRyYW5zbGF0ZVggKyAnKSc7XG59O1xuXG5wcm90by5kaXNwYXRjaFNjcm9sbEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBmaXJzdFNsaWRlID0gdGhpcy5zbGlkZXNbMF07XG4gIGlmICggIWZpcnN0U2xpZGUgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBwb3NpdGlvblggPSAtdGhpcy54IC0gZmlyc3RTbGlkZS50YXJnZXQ7XG4gIHZhciBwcm9ncmVzcyA9IHBvc2l0aW9uWCAvIHRoaXMuc2xpZGVzV2lkdGg7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudCggJ3Njcm9sbCcsIG51bGwsIFsgcHJvZ3Jlc3MsIHBvc2l0aW9uWCBdICk7XG59O1xuXG5wcm90by5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5jZWxscy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMueCA9IC10aGlzLnNlbGVjdGVkU2xpZGUudGFyZ2V0O1xuICB0aGlzLnZlbG9jaXR5ID0gMDsgLy8gc3RvcCB3b2JibGVcbiAgdGhpcy5wb3NpdGlvblNsaWRlcigpO1xufTtcblxucHJvdG8uZ2V0UG9zaXRpb25WYWx1ZSA9IGZ1bmN0aW9uKCBwb3NpdGlvbiApIHtcbiAgaWYgKCB0aGlzLm9wdGlvbnMucGVyY2VudFBvc2l0aW9uICkge1xuICAgIC8vIHBlcmNlbnQgcG9zaXRpb24sIHJvdW5kIHRvIDIgZGlnaXRzLCBsaWtlIDEyLjM0JVxuICAgIHJldHVybiAoIE1hdGgucm91bmQoICggcG9zaXRpb24gLyB0aGlzLnNpemUuaW5uZXJXaWR0aCApICogMTAwMDAgKSAqIDAuMDEgKSsgJyUnO1xuICB9IGVsc2Uge1xuICAgIC8vIHBpeGVsIHBvc2l0aW9uaW5nXG4gICAgcmV0dXJuIE1hdGgucm91bmQoIHBvc2l0aW9uICkgKyAncHgnO1xuICB9XG59O1xuXG5wcm90by5zZXR0bGUgPSBmdW5jdGlvbiggcHJldmlvdXNYICkge1xuICAvLyBrZWVwIHRyYWNrIG9mIGZyYW1lcyB3aGVyZSB4IGhhc24ndCBtb3ZlZFxuICBpZiAoICF0aGlzLmlzUG9pbnRlckRvd24gJiYgTWF0aC5yb3VuZCggdGhpcy54ICogMTAwICkgPT0gTWF0aC5yb3VuZCggcHJldmlvdXNYICogMTAwICkgKSB7XG4gICAgdGhpcy5yZXN0aW5nRnJhbWVzKys7XG4gIH1cbiAgLy8gc3RvcCBhbmltYXRpbmcgaWYgcmVzdGluZyBmb3IgMyBvciBtb3JlIGZyYW1lc1xuICBpZiAoIHRoaXMucmVzdGluZ0ZyYW1lcyA+IDIgKSB7XG4gICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgIGRlbGV0ZSB0aGlzLmlzRnJlZVNjcm9sbGluZztcbiAgICAvLyByZW5kZXIgcG9zaXRpb24gd2l0aCB0cmFuc2xhdGVYIHdoZW4gc2V0dGxlZFxuICAgIHRoaXMucG9zaXRpb25TbGlkZXIoKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoICdzZXR0bGUnLCBudWxsLCBbIHRoaXMuc2VsZWN0ZWRJbmRleCBdICk7XG4gIH1cbn07XG5cbnByb3RvLnNoaWZ0V3JhcENlbGxzID0gZnVuY3Rpb24oIHggKSB7XG4gIC8vIHNoaWZ0IGJlZm9yZSBjZWxsc1xuICB2YXIgYmVmb3JlR2FwID0gdGhpcy5jdXJzb3JQb3NpdGlvbiArIHg7XG4gIHRoaXMuX3NoaWZ0Q2VsbHMoIHRoaXMuYmVmb3JlU2hpZnRDZWxscywgYmVmb3JlR2FwLCAtMSApO1xuICAvLyBzaGlmdCBhZnRlciBjZWxsc1xuICB2YXIgYWZ0ZXJHYXAgPSB0aGlzLnNpemUuaW5uZXJXaWR0aCAtICggeCArIHRoaXMuc2xpZGVhYmxlV2lkdGggKyB0aGlzLmN1cnNvclBvc2l0aW9uICk7XG4gIHRoaXMuX3NoaWZ0Q2VsbHMoIHRoaXMuYWZ0ZXJTaGlmdENlbGxzLCBhZnRlckdhcCwgMSApO1xufTtcblxucHJvdG8uX3NoaWZ0Q2VsbHMgPSBmdW5jdGlvbiggY2VsbHMsIGdhcCwgc2hpZnQgKSB7XG4gIGZvciAoIHZhciBpPTA7IGkgPCBjZWxscy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgY2VsbCA9IGNlbGxzW2ldO1xuICAgIHZhciBjZWxsU2hpZnQgPSBnYXAgPiAwID8gc2hpZnQgOiAwO1xuICAgIGNlbGwud3JhcFNoaWZ0KCBjZWxsU2hpZnQgKTtcbiAgICBnYXAgLT0gY2VsbC5zaXplLm91dGVyV2lkdGg7XG4gIH1cbn07XG5cbnByb3RvLl91bnNoaWZ0Q2VsbHMgPSBmdW5jdGlvbiggY2VsbHMgKSB7XG4gIGlmICggIWNlbGxzIHx8ICFjZWxscy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoIHZhciBpPTA7IGkgPCBjZWxscy5sZW5ndGg7IGkrKyApIHtcbiAgICBjZWxsc1tpXS53cmFwU2hpZnQoIDAgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcGh5c2ljcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5wcm90by5pbnRlZ3JhdGVQaHlzaWNzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMueCArPSB0aGlzLnZlbG9jaXR5O1xuICB0aGlzLnZlbG9jaXR5ICo9IHRoaXMuZ2V0RnJpY3Rpb25GYWN0b3IoKTtcbn07XG5cbnByb3RvLmFwcGx5Rm9yY2UgPSBmdW5jdGlvbiggZm9yY2UgKSB7XG4gIHRoaXMudmVsb2NpdHkgKz0gZm9yY2U7XG59O1xuXG5wcm90by5nZXRGcmljdGlvbkZhY3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMSAtIHRoaXMub3B0aW9uc1sgdGhpcy5pc0ZyZWVTY3JvbGxpbmcgPyAnZnJlZVNjcm9sbEZyaWN0aW9uJyA6ICdmcmljdGlvbicgXTtcbn07XG5cbnByb3RvLmdldFJlc3RpbmdQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAvLyBteSB0aGFua3MgdG8gU3RldmVuIFdpdHRlbnMsIHdobyBzaW1wbGlmaWVkIHRoaXMgbWF0aCBncmVhdGx5XG4gIHJldHVybiB0aGlzLnggKyB0aGlzLnZlbG9jaXR5IC8gKCAxIC0gdGhpcy5nZXRGcmljdGlvbkZhY3RvcigpICk7XG59O1xuXG5wcm90by5hcHBseURyYWdGb3JjZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLmlzRHJhZ2dhYmxlIHx8ICF0aGlzLmlzUG9pbnRlckRvd24gKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGNoYW5nZSB0aGUgcG9zaXRpb24gdG8gZHJhZyBwb3NpdGlvbiBieSBhcHBseWluZyBmb3JjZVxuICB2YXIgZHJhZ1ZlbG9jaXR5ID0gdGhpcy5kcmFnWCAtIHRoaXMueDtcbiAgdmFyIGRyYWdGb3JjZSA9IGRyYWdWZWxvY2l0eSAtIHRoaXMudmVsb2NpdHk7XG4gIHRoaXMuYXBwbHlGb3JjZSggZHJhZ0ZvcmNlICk7XG59O1xuXG5wcm90by5hcHBseVNlbGVjdGVkQXR0cmFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAvLyBkbyBub3QgYXR0cmFjdCBpZiBwb2ludGVyIGRvd24gb3Igbm8gc2xpZGVzXG4gIHZhciBkcmFnRG93biA9IHRoaXMuaXNEcmFnZ2FibGUgJiYgdGhpcy5pc1BvaW50ZXJEb3duO1xuICBpZiAoIGRyYWdEb3duIHx8IHRoaXMuaXNGcmVlU2Nyb2xsaW5nIHx8ICF0aGlzLnNsaWRlcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBkaXN0YW5jZSA9IHRoaXMuc2VsZWN0ZWRTbGlkZS50YXJnZXQgKiAtMSAtIHRoaXMueDtcbiAgdmFyIGZvcmNlID0gZGlzdGFuY2UgKiB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRBdHRyYWN0aW9uO1xuICB0aGlzLmFwcGx5Rm9yY2UoIGZvcmNlICk7XG59O1xuXG5yZXR1cm4gcHJvdG87XG5cbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/animate.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/cell.js":
/*!******************************************!*\
  !*** ./node_modules/flickity/js/cell.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! get-size/get-size */ \"./node_modules/get-size/get-size.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( getSize ) {\n      return factory( window, getSize );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, getSize ) {\n\n'use strict';\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-hidden', 'true' );\n  this.x = 0;\n  this.shift = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.unselect();\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.style[ side ] = '';\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var side = this.parent.originSide;\n  this.element.style[ side ] = this.parent.getPositionValue( x );\n};\n\nproto.select = function() {\n  this.element.classList.add('is-selected');\n  this.element.removeAttribute('aria-hidden');\n};\n\nproto.unselect = function() {\n  this.element.classList.remove('is-selected');\n  this.element.setAttribute( 'aria-hidden', 'true' );\n};\n\n/**\n * @param {Integer} factor - 0, 1, or -1\n**/\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvY2VsbC5qcz9jOGRjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUF5QztBQUNoRDtBQUNBLElBQUksaUNBQVE7QUFDWixNQUFNLG1GQUFtQjtBQUN6QixLQUFLLG1DQUFFO0FBQ1A7QUFDQSxLQUFLO0FBQUEsb0dBQUM7QUFDTixHQUFHLE1BQU0sRUFhTjs7QUFFSCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2ZsaWNraXR5L2pzL2NlbGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGbGlja2l0eS5DZWxsXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ2dldC1zaXplL2dldC1zaXplJ1xuICAgIF0sIGZ1bmN0aW9uKCBnZXRTaXplICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgZ2V0U2l6ZSApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuRmxpY2tpdHkgPSB3aW5kb3cuRmxpY2tpdHkgfHwge307XG4gICAgd2luZG93LkZsaWNraXR5LkNlbGwgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LmdldFNpemVcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBnZXRTaXplICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIENlbGwoIGVsZW0sIHBhcmVudCApIHtcbiAgdGhpcy5lbGVtZW50ID0gZWxlbTtcbiAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgdGhpcy5jcmVhdGUoKTtcbn1cblxudmFyIHByb3RvID0gQ2VsbC5wcm90b3R5cGU7XG5cbnByb3RvLmNyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScgKTtcbiAgdGhpcy54ID0gMDtcbiAgdGhpcy5zaGlmdCA9IDA7XG59O1xuXG5wcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIC8vIHJlc2V0IHN0eWxlXG4gIHRoaXMudW5zZWxlY3QoKTtcbiAgdGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gIHZhciBzaWRlID0gdGhpcy5wYXJlbnQub3JpZ2luU2lkZTtcbiAgdGhpcy5lbGVtZW50LnN0eWxlWyBzaWRlIF0gPSAnJztcbn07XG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG59O1xuXG5wcm90by5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCB4ICkge1xuICB0aGlzLnggPSB4O1xuICB0aGlzLnVwZGF0ZVRhcmdldCgpO1xuICB0aGlzLnJlbmRlclBvc2l0aW9uKCB4ICk7XG59O1xuXG4vLyBzZXREZWZhdWx0VGFyZ2V0IHYxIG1ldGhvZCwgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIHJlbW92ZSBpbiB2M1xucHJvdG8udXBkYXRlVGFyZ2V0ID0gcHJvdG8uc2V0RGVmYXVsdFRhcmdldCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbWFyZ2luUHJvcGVydHkgPSB0aGlzLnBhcmVudC5vcmlnaW5TaWRlID09ICdsZWZ0JyA/ICdtYXJnaW5MZWZ0JyA6ICdtYXJnaW5SaWdodCc7XG4gIHRoaXMudGFyZ2V0ID0gdGhpcy54ICsgdGhpcy5zaXplWyBtYXJnaW5Qcm9wZXJ0eSBdICtcbiAgICB0aGlzLnNpemUud2lkdGggKiB0aGlzLnBhcmVudC5jZWxsQWxpZ247XG59O1xuXG5wcm90by5yZW5kZXJQb3NpdGlvbiA9IGZ1bmN0aW9uKCB4ICkge1xuICAvLyByZW5kZXIgcG9zaXRpb24gb2YgY2VsbCB3aXRoIGluIHNsaWRlclxuICB2YXIgc2lkZSA9IHRoaXMucGFyZW50Lm9yaWdpblNpZGU7XG4gIHRoaXMuZWxlbWVudC5zdHlsZVsgc2lkZSBdID0gdGhpcy5wYXJlbnQuZ2V0UG9zaXRpb25WYWx1ZSggeCApO1xufTtcblxucHJvdG8uc2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1zZWxlY3RlZCcpO1xuICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xufTtcblxucHJvdG8udW5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXNlbGVjdGVkJyk7XG4gIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdhcmlhLWhpZGRlbicsICd0cnVlJyApO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGZhY3RvciAtIDAsIDEsIG9yIC0xXG4qKi9cbnByb3RvLndyYXBTaGlmdCA9IGZ1bmN0aW9uKCBzaGlmdCApIHtcbiAgdGhpcy5zaGlmdCA9IHNoaWZ0O1xuICB0aGlzLnJlbmRlclBvc2l0aW9uKCB0aGlzLnggKyB0aGlzLnBhcmVudC5zbGlkZWFibGVXaWR0aCAqIHNoaWZ0ICk7XG59O1xuXG5wcm90by5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRoaXMuZWxlbWVudCApO1xufTtcblxucmV0dXJuIENlbGw7XG5cbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/cell.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/drag.js":
/*!******************************************!*\
  !*** ./node_modules/flickity/js/drag.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// drag\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ./flickity */ \"./node_modules/flickity/js/flickity.js\"),\n      __webpack_require__(/*! unidragger/unidragger */ \"./node_modules/unidragger/unidragger.js\"),\n      __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n'use strict';\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n});\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nvar isTouch = 'createTouch' in document;\nvar isTouchmoveScrollCanceled = false;\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'deactivate', this.onDeactivateDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n  // #457, RubaXa/Sortable#973\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\n    window.addEventListener( 'touchmove', function() {});\n    isTouchmoveScrollCanceled = true;\n  }\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. #779\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x = moveVector.x % this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x\n * @param {Integer} index - slide index\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvZHJhZy5qcz80OTY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUF5QztBQUNoRDtBQUNBLElBQUksaUNBQVE7QUFDWixNQUFNLCtFQUFZO0FBQ2xCLE1BQU0sMkZBQXVCO0FBQzdCLE1BQU0seUZBQXNCO0FBQzVCLEtBQUssbUNBQUU7QUFDUDtBQUNBLEtBQUs7QUFBQSxvR0FBQztBQUNOLEdBQUcsTUFBTSxFQWdCTjs7QUFFSCxDQUFDOztBQUVEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTyxJQUFJLFlBQVksT0FBTyxVQUFVLFFBQVE7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQixFQUFFLHNCQUFzQixlQUFlO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9mbGlja2l0eS9qcy9kcmFnLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZHJhZ1xuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICcuL2ZsaWNraXR5JyxcbiAgICAgICd1bmlkcmFnZ2VyL3VuaWRyYWdnZXInLFxuICAgICAgJ2Zpenp5LXVpLXV0aWxzL3V0aWxzJ1xuICAgIF0sIGZ1bmN0aW9uKCBGbGlja2l0eSwgVW5pZHJhZ2dlciwgdXRpbHMgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBGbGlja2l0eSwgVW5pZHJhZ2dlciwgdXRpbHMgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJy4vZmxpY2tpdHknKSxcbiAgICAgIHJlcXVpcmUoJ3VuaWRyYWdnZXInKSxcbiAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LkZsaWNraXR5ID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5GbGlja2l0eSxcbiAgICAgIHdpbmRvdy5VbmlkcmFnZ2VyLFxuICAgICAgd2luZG93LmZpenp5VUlVdGlsc1xuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEZsaWNraXR5LCBVbmlkcmFnZ2VyLCB1dGlscyApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLSBkZWZhdWx0cyAtLS0tLSAvL1xuXG51dGlscy5leHRlbmQoIEZsaWNraXR5LmRlZmF1bHRzLCB7XG4gIGRyYWdnYWJsZTogJz4xJyxcbiAgZHJhZ1RocmVzaG9sZDogMyxcbn0pO1xuXG4vLyAtLS0tLSBjcmVhdGUgLS0tLS0gLy9cblxuRmxpY2tpdHkuY3JlYXRlTWV0aG9kcy5wdXNoKCdfY3JlYXRlRHJhZycpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkcmFnIHByb3RvdHlwZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG52YXIgcHJvdG8gPSBGbGlja2l0eS5wcm90b3R5cGU7XG51dGlscy5leHRlbmQoIHByb3RvLCBVbmlkcmFnZ2VyLnByb3RvdHlwZSApO1xucHJvdG8uX3RvdWNoQWN0aW9uVmFsdWUgPSAncGFuLXknO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudmFyIGlzVG91Y2ggPSAnY3JlYXRlVG91Y2gnIGluIGRvY3VtZW50O1xudmFyIGlzVG91Y2htb3ZlU2Nyb2xsQ2FuY2VsZWQgPSBmYWxzZTtcblxucHJvdG8uX2NyZWF0ZURyYWcgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5vbiggJ2FjdGl2YXRlJywgdGhpcy5vbkFjdGl2YXRlRHJhZyApO1xuICB0aGlzLm9uKCAndWlDaGFuZ2UnLCB0aGlzLl91aUNoYW5nZURyYWcgKTtcbiAgdGhpcy5vbiggJ2RlYWN0aXZhdGUnLCB0aGlzLm9uRGVhY3RpdmF0ZURyYWcgKTtcbiAgdGhpcy5vbiggJ2NlbGxDaGFuZ2UnLCB0aGlzLnVwZGF0ZURyYWdnYWJsZSApO1xuICAvLyBUT0RPIHVwZGF0ZURyYWdnYWJsZSBvbiByZXNpemU/IGlmIGdyb3VwQ2VsbHMgJiBzbGlkZXMgY2hhbmdlXG4gIC8vIEhBQ0sgLSBhZGQgc2VlbWluZ2x5IGlubm9jdW91cyBoYW5kbGVyIHRvIGZpeCBpT1MgMTAgc2Nyb2xsIGJlaGF2aW9yXG4gIC8vICM0NTcsIFJ1YmFYYS9Tb3J0YWJsZSM5NzNcbiAgaWYgKCBpc1RvdWNoICYmICFpc1RvdWNobW92ZVNjcm9sbENhbmNlbGVkICkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAndG91Y2htb3ZlJywgZnVuY3Rpb24oKSB7fSk7XG4gICAgaXNUb3VjaG1vdmVTY3JvbGxDYW5jZWxlZCA9IHRydWU7XG4gIH1cbn07XG5cbnByb3RvLm9uQWN0aXZhdGVEcmFnID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaGFuZGxlcyA9IFsgdGhpcy52aWV3cG9ydCBdO1xuICB0aGlzLmJpbmRIYW5kbGVzKCk7XG4gIHRoaXMudXBkYXRlRHJhZ2dhYmxlKCk7XG59O1xuXG5wcm90by5vbkRlYWN0aXZhdGVEcmFnID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudW5iaW5kSGFuZGxlcygpO1xuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtZHJhZ2dhYmxlJyk7XG59O1xuXG5wcm90by51cGRhdGVEcmFnZ2FibGUgPSBmdW5jdGlvbigpIHtcbiAgLy8gZGlzYWJsZSBkcmFnZ2luZyBpZiBsZXNzIHRoYW4gMiBzbGlkZXMuICMyNzhcbiAgaWYgKCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlID09ICc+MScgKSB7XG4gICAgdGhpcy5pc0RyYWdnYWJsZSA9IHRoaXMuc2xpZGVzLmxlbmd0aCA+IDE7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pc0RyYWdnYWJsZSA9IHRoaXMub3B0aW9ucy5kcmFnZ2FibGU7XG4gIH1cbiAgaWYgKCB0aGlzLmlzRHJhZ2dhYmxlICkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1kcmFnZ2FibGUnKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtZHJhZ2dhYmxlJyk7XG4gIH1cbn07XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5wcm90by5iaW5kRHJhZyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgdGhpcy51cGRhdGVEcmFnZ2FibGUoKTtcbn07XG5cbnByb3RvLnVuYmluZERyYWcgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSA9IGZhbHNlO1xuICB0aGlzLnVwZGF0ZURyYWdnYWJsZSgpO1xufTtcblxucHJvdG8uX3VpQ2hhbmdlRHJhZyA9IGZ1bmN0aW9uKCkge1xuICBkZWxldGUgdGhpcy5pc0ZyZWVTY3JvbGxpbmc7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBwb2ludGVyIGV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5wcm90by5wb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHtcbiAgICB0aGlzLl9wb2ludGVyRG93bkRlZmF1bHQoIGV2ZW50LCBwb2ludGVyICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBpc09rYXkgPSB0aGlzLm9rYXlQb2ludGVyRG93biggZXZlbnQgKTtcbiAgaWYgKCAhaXNPa2F5ICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX3BvaW50ZXJEb3duUHJldmVudERlZmF1bHQoIGV2ZW50ICk7XG4gIHRoaXMucG9pbnRlckRvd25Gb2N1cyggZXZlbnQgKTtcbiAgLy8gYmx1clxuICBpZiAoIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT0gdGhpcy5lbGVtZW50ICkge1xuICAgIC8vIGRvIG5vdCBibHVyIGlmIGFscmVhZHkgZm9jdXNlZFxuICAgIHRoaXMucG9pbnRlckRvd25CbHVyKCk7XG4gIH1cblxuICAvLyBzdG9wIGlmIGl0IHdhcyBtb3ZpbmdcbiAgdGhpcy5kcmFnWCA9IHRoaXMueDtcbiAgdGhpcy52aWV3cG9ydC5jbGFzc0xpc3QuYWRkKCdpcy1wb2ludGVyLWRvd24nKTtcbiAgLy8gdHJhY2sgc2Nyb2xsaW5nXG4gIHRoaXMucG9pbnRlckRvd25TY3JvbGwgPSBnZXRTY3JvbGxQb3NpdGlvbigpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMgKTtcblxuICB0aGlzLl9wb2ludGVyRG93bkRlZmF1bHQoIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG4vLyBkZWZhdWx0IHBvaW50ZXJEb3duIGxvZ2ljLCB1c2VkIGZvciBzdGF0aWNDbGlja1xucHJvdG8uX3BvaW50ZXJEb3duRGVmYXVsdCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgLy8gdHJhY2sgc3RhcnQgZXZlbnQgcG9zaXRpb25cbiAgLy8gU2FmYXJpIDkgb3ZlcnJpZGVzIHBhZ2VYIGFuZCBwYWdlWS4gVGhlc2UgdmFsdWVzIG5lZWRzIHRvIGJlIGNvcGllZC4gIzc3OVxuICB0aGlzLnBvaW50ZXJEb3duUG9pbnRlciA9IHtcbiAgICBwYWdlWDogcG9pbnRlci5wYWdlWCxcbiAgICBwYWdlWTogcG9pbnRlci5wYWdlWSxcbiAgfTtcbiAgLy8gYmluZCBtb3ZlIGFuZCBlbmQgZXZlbnRzXG4gIHRoaXMuX2JpbmRQb3N0U3RhcnRFdmVudHMoIGV2ZW50ICk7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudCggJ3BvaW50ZXJEb3duJywgZXZlbnQsIFsgcG9pbnRlciBdICk7XG59O1xuXG52YXIgZm9jdXNOb2RlcyA9IHtcbiAgSU5QVVQ6IHRydWUsXG4gIFRFWFRBUkVBOiB0cnVlLFxuICBTRUxFQ1Q6IHRydWUsXG59O1xuXG5wcm90by5wb2ludGVyRG93bkZvY3VzID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgaXNGb2N1c05vZGUgPSBmb2N1c05vZGVzWyBldmVudC50YXJnZXQubm9kZU5hbWUgXTtcbiAgaWYgKCAhaXNGb2N1c05vZGUgKSB7XG4gICAgdGhpcy5mb2N1cygpO1xuICB9XG59O1xuXG5wcm90by5fcG9pbnRlckRvd25QcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIGlzVG91Y2hTdGFydCA9IGV2ZW50LnR5cGUgPT0gJ3RvdWNoc3RhcnQnO1xuICB2YXIgaXNUb3VjaFBvaW50ZXIgPSBldmVudC5wb2ludGVyVHlwZSA9PSAndG91Y2gnO1xuICB2YXIgaXNGb2N1c05vZGUgPSBmb2N1c05vZGVzWyBldmVudC50YXJnZXQubm9kZU5hbWUgXTtcbiAgaWYgKCAhaXNUb3VjaFN0YXJ0ICYmICFpc1RvdWNoUG9pbnRlciAmJiAhaXNGb2N1c05vZGUgKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gbW92ZSAtLS0tLSAvL1xuXG5wcm90by5oYXNEcmFnU3RhcnRlZCA9IGZ1bmN0aW9uKCBtb3ZlVmVjdG9yICkge1xuICByZXR1cm4gTWF0aC5hYnMoIG1vdmVWZWN0b3IueCApID4gdGhpcy5vcHRpb25zLmRyYWdUaHJlc2hvbGQ7XG59O1xuXG4vLyAtLS0tLSB1cCAtLS0tLSAvL1xuXG5wcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIGRlbGV0ZSB0aGlzLmlzVG91Y2hTY3JvbGxpbmc7XG4gIHRoaXMudmlld3BvcnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtcG9pbnRlci1kb3duJyk7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudCggJ3BvaW50ZXJVcCcsIGV2ZW50LCBbIHBvaW50ZXIgXSApO1xuICB0aGlzLl9kcmFnUG9pbnRlclVwKCBldmVudCwgcG9pbnRlciApO1xufTtcblxucHJvdG8ucG9pbnRlckRvbmUgPSBmdW5jdGlvbigpIHtcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aGlzICk7XG4gIGRlbGV0ZSB0aGlzLnBvaW50ZXJEb3duU2Nyb2xsO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZHJhZ2dpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucHJvdG8uZHJhZ1N0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICBpZiAoICF0aGlzLmlzRHJhZ2dhYmxlICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmRyYWdTdGFydFBvc2l0aW9uID0gdGhpcy54O1xuICB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgdGhpcyApO1xuICB0aGlzLmRpc3BhdGNoRXZlbnQoICdkcmFnU3RhcnQnLCBldmVudCwgWyBwb2ludGVyIF0gKTtcbn07XG5cbnByb3RvLnBvaW50ZXJNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB2YXIgbW92ZVZlY3RvciA9IHRoaXMuX2RyYWdQb2ludGVyTW92ZSggZXZlbnQsIHBvaW50ZXIgKTtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KCAncG9pbnRlck1vdmUnLCBldmVudCwgWyBwb2ludGVyLCBtb3ZlVmVjdG9yIF0gKTtcbiAgdGhpcy5fZHJhZ01vdmUoIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICk7XG59O1xuXG5wcm90by5kcmFnTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICB0aGlzLnByZXZpb3VzRHJhZ1ggPSB0aGlzLmRyYWdYO1xuICAvLyByZXZlcnNlIGlmIHJpZ2h0LXRvLWxlZnRcbiAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCA/IC0xIDogMTtcbiAgaWYgKCB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCApIHtcbiAgICAvLyB3cmFwIGFyb3VuZCBtb3ZlLiAjNTg5XG4gICAgbW92ZVZlY3Rvci54ID0gbW92ZVZlY3Rvci54ICUgdGhpcy5zbGlkZWFibGVXaWR0aDtcbiAgfVxuICB2YXIgZHJhZ1ggPSB0aGlzLmRyYWdTdGFydFBvc2l0aW9uICsgbW92ZVZlY3Rvci54ICogZGlyZWN0aW9uO1xuXG4gIGlmICggIXRoaXMub3B0aW9ucy53cmFwQXJvdW5kICYmIHRoaXMuc2xpZGVzLmxlbmd0aCApIHtcbiAgICAvLyBzbG93IGRyYWdcbiAgICB2YXIgb3JpZ2luQm91bmQgPSBNYXRoLm1heCggLXRoaXMuc2xpZGVzWzBdLnRhcmdldCwgdGhpcy5kcmFnU3RhcnRQb3NpdGlvbiApO1xuICAgIGRyYWdYID0gZHJhZ1ggPiBvcmlnaW5Cb3VuZCA/ICggZHJhZ1ggKyBvcmlnaW5Cb3VuZCApICogMC41IDogZHJhZ1g7XG4gICAgdmFyIGVuZEJvdW5kID0gTWF0aC5taW4oIC10aGlzLmdldExhc3RTbGlkZSgpLnRhcmdldCwgdGhpcy5kcmFnU3RhcnRQb3NpdGlvbiApO1xuICAgIGRyYWdYID0gZHJhZ1ggPCBlbmRCb3VuZCA/ICggZHJhZ1ggKyBlbmRCb3VuZCApICogMC41IDogZHJhZ1g7XG4gIH1cblxuICB0aGlzLmRyYWdYID0gZHJhZ1g7XG5cbiAgdGhpcy5kcmFnTW92ZVRpbWUgPSBuZXcgRGF0ZSgpO1xuICB0aGlzLmRpc3BhdGNoRXZlbnQoICdkcmFnTW92ZScsIGV2ZW50LCBbIHBvaW50ZXIsIG1vdmVWZWN0b3IgXSApO1xufTtcblxucHJvdG8uZHJhZ0VuZCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCB0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCApIHtcbiAgICB0aGlzLmlzRnJlZVNjcm9sbGluZyA9IHRydWU7XG4gIH1cbiAgLy8gc2V0IHNlbGVjdGVkSW5kZXggYmFzZWQgb24gd2hlcmUgZmxpY2sgd2lsbCBlbmQgdXBcbiAgdmFyIGluZGV4ID0gdGhpcy5kcmFnRW5kUmVzdGluZ1NlbGVjdCgpO1xuXG4gIGlmICggdGhpcy5vcHRpb25zLmZyZWVTY3JvbGwgJiYgIXRoaXMub3B0aW9ucy53cmFwQXJvdW5kICkge1xuICAgIC8vIGlmIGZyZWUtc2Nyb2xsICYgbm90IHdyYXAgYXJvdW5kXG4gICAgLy8gZG8gbm90IGZyZWUtc2Nyb2xsIGlmIGdvaW5nIG91dHNpZGUgb2YgYm91bmRpbmcgc2xpZGVzXG4gICAgLy8gc28gYm91bmRpbmcgc2xpZGVzIGNhbiBhdHRyYWN0IHNsaWRlciwgYW5kIGtlZXAgaXQgaW4gYm91bmRzXG4gICAgdmFyIHJlc3RpbmdYID0gdGhpcy5nZXRSZXN0aW5nUG9zaXRpb24oKTtcbiAgICB0aGlzLmlzRnJlZVNjcm9sbGluZyA9IC1yZXN0aW5nWCA+IHRoaXMuc2xpZGVzWzBdLnRhcmdldCAmJlxuICAgICAgLXJlc3RpbmdYIDwgdGhpcy5nZXRMYXN0U2xpZGUoKS50YXJnZXQ7XG4gIH0gZWxzZSBpZiAoICF0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCAmJiBpbmRleCA9PSB0aGlzLnNlbGVjdGVkSW5kZXggKSB7XG4gICAgLy8gYm9vc3Qgc2VsZWN0aW9uIGlmIHNlbGVjdGVkIGluZGV4IGhhcyBub3QgY2hhbmdlZFxuICAgIGluZGV4ICs9IHRoaXMuZHJhZ0VuZEJvb3N0U2VsZWN0KCk7XG4gIH1cbiAgZGVsZXRlIHRoaXMucHJldmlvdXNEcmFnWDtcbiAgLy8gYXBwbHkgc2VsZWN0aW9uXG4gIC8vIFRPRE8gcmVmYWN0b3IgdGhpcywgc2VsZWN0aW5nIGhlcmUgZmVlbHMgd2VpcmRcbiAgLy8gSEFDSywgc2V0IGZsYWcgc28gZHJhZ2dpbmcgc3RheXMgaW4gY29ycmVjdCBkaXJlY3Rpb25cbiAgdGhpcy5pc0RyYWdTZWxlY3QgPSB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZDtcbiAgdGhpcy5zZWxlY3QoIGluZGV4ICk7XG4gIGRlbGV0ZSB0aGlzLmlzRHJhZ1NlbGVjdDtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnZHJhZ0VuZCcsIGV2ZW50LCBbIHBvaW50ZXIgXSApO1xufTtcblxucHJvdG8uZHJhZ0VuZFJlc3RpbmdTZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3RpbmdYID0gdGhpcy5nZXRSZXN0aW5nUG9zaXRpb24oKTtcbiAgLy8gaG93IGZhciBhd2F5IGZyb20gc2VsZWN0ZWQgc2xpZGVcbiAgdmFyIGRpc3RhbmNlID0gTWF0aC5hYnMoIHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSggLXJlc3RpbmdYLCB0aGlzLnNlbGVjdGVkSW5kZXggKSApO1xuICAvLyBnZXQgY2xvc2V0IHJlc3RpbmcgZ29pbmcgdXAgYW5kIGdvaW5nIGRvd25cbiAgdmFyIHBvc2l0aXZlUmVzdGluZyA9IHRoaXMuX2dldENsb3Nlc3RSZXN0aW5nKCByZXN0aW5nWCwgZGlzdGFuY2UsIDEgKTtcbiAgdmFyIG5lZ2F0aXZlUmVzdGluZyA9IHRoaXMuX2dldENsb3Nlc3RSZXN0aW5nKCByZXN0aW5nWCwgZGlzdGFuY2UsIC0xICk7XG4gIC8vIHVzZSBjbG9zZXIgcmVzdGluZyBmb3Igd3JhcC1hcm91bmRcbiAgdmFyIGluZGV4ID0gcG9zaXRpdmVSZXN0aW5nLmRpc3RhbmNlIDwgbmVnYXRpdmVSZXN0aW5nLmRpc3RhbmNlID9cbiAgICBwb3NpdGl2ZVJlc3RpbmcuaW5kZXggOiBuZWdhdGl2ZVJlc3RpbmcuaW5kZXg7XG4gIHJldHVybiBpbmRleDtcbn07XG5cbi8qKlxuICogZ2l2ZW4gcmVzdGluZyBYIGFuZCBkaXN0YW5jZSB0byBzZWxlY3RlZCBjZWxsXG4gKiBnZXQgdGhlIGRpc3RhbmNlIGFuZCBpbmRleCBvZiB0aGUgY2xvc2VzdCBjZWxsXG4gKiBAcGFyYW0ge051bWJlcn0gcmVzdGluZ1ggLSBlc3RpbWF0ZWQgcG9zdC1mbGljayByZXN0aW5nIHBvc2l0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2UgLSBkaXN0YW5jZSB0byBzZWxlY3RlZCBjZWxsXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGluY3JlbWVudCAtICsxIG9yIC0xLCBnb2luZyB1cCBvciBkb3duXG4gKiBAcmV0dXJucyB7T2JqZWN0fSAtIHsgZGlzdGFuY2U6IHtOdW1iZXJ9LCBpbmRleDoge0ludGVnZXJ9IH1cbiAqL1xucHJvdG8uX2dldENsb3Nlc3RSZXN0aW5nID0gZnVuY3Rpb24oIHJlc3RpbmdYLCBkaXN0YW5jZSwgaW5jcmVtZW50ICkge1xuICB2YXIgaW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gIHZhciBtaW5EaXN0YW5jZSA9IEluZmluaXR5O1xuICB2YXIgY29uZGl0aW9uID0gdGhpcy5vcHRpb25zLmNvbnRhaW4gJiYgIXRoaXMub3B0aW9ucy53cmFwQXJvdW5kID9cbiAgICAvLyBpZiBjb250YWluLCBrZWVwIGdvaW5nIGlmIGRpc3RhbmNlIGlzIGVxdWFsIHRvIG1pbkRpc3RhbmNlXG4gICAgZnVuY3Rpb24oIGQsIG1kICkgeyByZXR1cm4gZCA8PSBtZDsgfSA6IGZ1bmN0aW9uKCBkLCBtZCApIHsgcmV0dXJuIGQgPCBtZDsgfTtcbiAgd2hpbGUgKCBjb25kaXRpb24oIGRpc3RhbmNlLCBtaW5EaXN0YW5jZSApICkge1xuICAgIC8vIG1lYXN1cmUgZGlzdGFuY2UgdG8gbmV4dCBjZWxsXG4gICAgaW5kZXggKz0gaW5jcmVtZW50O1xuICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgZGlzdGFuY2UgPSB0aGlzLmdldFNsaWRlRGlzdGFuY2UoIC1yZXN0aW5nWCwgaW5kZXggKTtcbiAgICBpZiAoIGRpc3RhbmNlID09PSBudWxsICkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoIGRpc3RhbmNlICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkaXN0YW5jZTogbWluRGlzdGFuY2UsXG4gICAgLy8gc2VsZWN0ZWQgd2FzIHByZXZpb3VzIGluZGV4XG4gICAgaW5kZXg6IGluZGV4IC0gaW5jcmVtZW50XG4gIH07XG59O1xuXG4vKipcbiAqIG1lYXN1cmUgZGlzdGFuY2UgYmV0d2VlbiB4IGFuZCBhIHNsaWRlIHRhcmdldFxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7SW50ZWdlcn0gaW5kZXggLSBzbGlkZSBpbmRleFxuICovXG5wcm90by5nZXRTbGlkZURpc3RhbmNlID0gZnVuY3Rpb24oIHgsIGluZGV4ICkge1xuICB2YXIgbGVuID0gdGhpcy5zbGlkZXMubGVuZ3RoO1xuICAvLyB3cmFwIGFyb3VuZCBpZiBhdCBsZWFzdCAyIHNsaWRlc1xuICB2YXIgaXNXcmFwQXJvdW5kID0gdGhpcy5vcHRpb25zLndyYXBBcm91bmQgJiYgbGVuID4gMTtcbiAgdmFyIHNsaWRlSW5kZXggPSBpc1dyYXBBcm91bmQgPyB1dGlscy5tb2R1bG8oIGluZGV4LCBsZW4gKSA6IGluZGV4O1xuICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1sgc2xpZGVJbmRleCBdO1xuICBpZiAoICFzbGlkZSApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBhZGQgZGlzdGFuY2UgZm9yIHdyYXAtYXJvdW5kIHNsaWRlc1xuICB2YXIgd3JhcCA9IGlzV3JhcEFyb3VuZCA/IHRoaXMuc2xpZGVhYmxlV2lkdGggKiBNYXRoLmZsb29yKCBpbmRleCAvIGxlbiApIDogMDtcbiAgcmV0dXJuIHggLSAoIHNsaWRlLnRhcmdldCArIHdyYXAgKTtcbn07XG5cbnByb3RvLmRyYWdFbmRCb29zdFNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAvLyBkbyBub3QgYm9vc3QgaWYgbm8gcHJldmlvdXNEcmFnWCBvciBkcmFnTW92ZVRpbWVcbiAgaWYgKCB0aGlzLnByZXZpb3VzRHJhZ1ggPT09IHVuZGVmaW5lZCB8fCAhdGhpcy5kcmFnTW92ZVRpbWUgfHxcbiAgICAvLyBvciBpZiBkcmFnIHdhcyBoZWxkIGZvciAxMDAgbXNcbiAgICBuZXcgRGF0ZSgpIC0gdGhpcy5kcmFnTW92ZVRpbWUgPiAxMDAgKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgZGlzdGFuY2UgPSB0aGlzLmdldFNsaWRlRGlzdGFuY2UoIC10aGlzLmRyYWdYLCB0aGlzLnNlbGVjdGVkSW5kZXggKTtcbiAgdmFyIGRlbHRhID0gdGhpcy5wcmV2aW91c0RyYWdYIC0gdGhpcy5kcmFnWDtcbiAgaWYgKCBkaXN0YW5jZSA+IDAgJiYgZGVsdGEgPiAwICkge1xuICAgIC8vIGJvb3N0IHRvIG5leHQgaWYgbW92aW5nIHRvd2FyZHMgdGhlIHJpZ2h0LCBhbmQgcG9zaXRpdmUgdmVsb2NpdHlcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIGlmICggZGlzdGFuY2UgPCAwICYmIGRlbHRhIDwgMCApIHtcbiAgICAvLyBib29zdCB0byBwcmV2aW91cyBpZiBtb3ZpbmcgdG93YXJkcyB0aGUgbGVmdCwgYW5kIG5lZ2F0aXZlIHZlbG9jaXR5XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuLy8gLS0tLS0gc3RhdGljQ2xpY2sgLS0tLS0gLy9cblxucHJvdG8uc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIGdldCBjbGlja2VkQ2VsbCwgaWYgY2VsbCB3YXMgY2xpY2tlZFxuICB2YXIgY2xpY2tlZENlbGwgPSB0aGlzLmdldFBhcmVudENlbGwoIGV2ZW50LnRhcmdldCApO1xuICB2YXIgY2VsbEVsZW0gPSBjbGlja2VkQ2VsbCAmJiBjbGlja2VkQ2VsbC5lbGVtZW50O1xuICB2YXIgY2VsbEluZGV4ID0gY2xpY2tlZENlbGwgJiYgdGhpcy5jZWxscy5pbmRleE9mKCBjbGlja2VkQ2VsbCApO1xuICB0aGlzLmRpc3BhdGNoRXZlbnQoICdzdGF0aWNDbGljaycsIGV2ZW50LCBbIHBvaW50ZXIsIGNlbGxFbGVtLCBjZWxsSW5kZXggXSApO1xufTtcblxuLy8gLS0tLS0gc2Nyb2xsIC0tLS0tIC8vXG5cbnByb3RvLm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzY3JvbGwgPSBnZXRTY3JvbGxQb3NpdGlvbigpO1xuICB2YXIgc2Nyb2xsTW92ZVggPSB0aGlzLnBvaW50ZXJEb3duU2Nyb2xsLnggLSBzY3JvbGwueDtcbiAgdmFyIHNjcm9sbE1vdmVZID0gdGhpcy5wb2ludGVyRG93blNjcm9sbC55IC0gc2Nyb2xsLnk7XG4gIC8vIGNhbmNlbCBjbGljay90YXAgaWYgc2Nyb2xsIGlzIHRvbyBtdWNoXG4gIGlmICggTWF0aC5hYnMoIHNjcm9sbE1vdmVYICkgPiAzIHx8IE1hdGguYWJzKCBzY3JvbGxNb3ZlWSApID4gMyApIHtcbiAgICB0aGlzLl9wb2ludGVyRG9uZSgpO1xuICB9XG59O1xuXG4vLyAtLS0tLSB1dGlscyAtLS0tLSAvL1xuXG5mdW5jdGlvbiBnZXRTY3JvbGxQb3NpdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0XG4gIH07XG59XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5yZXR1cm4gRmxpY2tpdHk7XG5cbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/drag.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/flickity.js":
/*!**********************************************!*\
  !*** ./node_modules/flickity/js/flickity.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Flickity main\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ev-emitter/ev-emitter */ \"./node_modules/ev-emitter/ev-emitter.js\"),\n      __webpack_require__(/*! get-size/get-size */ \"./node_modules/get-size/get-size.js\"),\n      __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\"),\n      __webpack_require__(/*! ./cell */ \"./node_modules/flickity/js/cell.js\"),\n      __webpack_require__(/*! ./slide */ \"./node_modules/flickity/js/slide.js\"),\n      __webpack_require__(/*! ./animate */ \"./node_modules/flickity/js/animate.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var _Flickity; }\n\n}( window, function factory( window, EvEmitter, getSize,\n  utils, Cell, Slide, animatePrototype ) {\n\n'use strict';\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n  this.selectInitialIndex();\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i=index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  });\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match(/^(\\d+)%$/);\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5\n  },\n  left: {\n    left: 0,\n    right: 1\n  },\n  right: {\n    right: 0,\n    left: 1\n  }\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\nproto.selectInitialIndex = function() {\n  var initialIndex = this.options.initialIndex;\n  // already activated, select previous selectedIndex\n  if ( this.isInitActivated ) {\n    this.select( this.selectedIndex, false, true );\n    return;\n  }\n  // select with selector string\n  if ( initialIndex && typeof initialIndex == 'string' ) {\n    var cell = this.queryCell( initialIndex );\n    if ( cell ) {\n      this.selectCell( initialIndex, false, true );\n      return;\n    }\n  }\n\n  var index = 0;\n  // select with number\n  if ( initialIndex && this.slides[ initialIndex ] ) {\n    index = initialIndex;\n  }\n  // select instantly\n  this.select( index, false, true );\n};\n\n/**\n * select slide from number or cell element\n * @param {Element or Number} elem\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i=0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem\n * @returns {Flickity.Cell} item\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i=0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {Element, Array, NodeList} elems\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem\n * @returns {Flickit.Cell} cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {Element, Selector String, or Number} selector\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // do not select invalid selectors from hash: #123, #/. #791\n    if ( selector.match(/^[#\\.]?[\\d\\/]/) ) {\n      return;\n    }\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\n// keep focus on element when child UI elements are clicked\nproto.childUIPointerDown = function( event ) {\n  // HACK iOS does not allow touch events to bubble up?!\n  if ( event.type != 'touchstart' ) {\n    event.preventDefault();\n  }\n  this.focus();\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility ||isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  // TODO remove scrollTo once focus options gets more support\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus#Browser_compatibility\n  var prevScrollY = window.pageYOffset;\n  this.element.focus({ preventScroll: true });\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  });\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.allOff();\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {Element} elem\n * @returns {Flickity}\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\nFlickity.Slide = Slide;\n\nreturn Flickity;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvZmxpY2tpdHkuanM/MTM4NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBeUM7QUFDaEQ7QUFDQSxJQUFJLGlDQUFRO0FBQ1osTUFBTSwyRkFBdUI7QUFDN0IsTUFBTSxtRkFBbUI7QUFDekIsTUFBTSx5RkFBc0I7QUFDNUIsTUFBTSx1RUFBUTtBQUNkLE1BQU0seUVBQVM7QUFDZixNQUFNLDZFQUFXO0FBQ2pCLEtBQUssbUNBQUU7QUFDUDtBQUNBLEtBQUs7QUFBQSxvR0FBQztBQUNOLEdBQUcsTUFBTSxrQkF3Qk47O0FBRUgsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE1BQU07QUFDakIsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvZmxpY2tpdHkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGbGlja2l0eSBtYWluXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ2V2LWVtaXR0ZXIvZXYtZW1pdHRlcicsXG4gICAgICAnZ2V0LXNpemUvZ2V0LXNpemUnLFxuICAgICAgJ2Zpenp5LXVpLXV0aWxzL3V0aWxzJyxcbiAgICAgICcuL2NlbGwnLFxuICAgICAgJy4vc2xpZGUnLFxuICAgICAgJy4vYW5pbWF0ZSdcbiAgICBdLCBmdW5jdGlvbiggRXZFbWl0dGVyLCBnZXRTaXplLCB1dGlscywgQ2VsbCwgU2xpZGUsIGFuaW1hdGVQcm90b3R5cGUgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIsIGdldFNpemUsIHV0aWxzLCBDZWxsLCBTbGlkZSwgYW5pbWF0ZVByb3RvdHlwZSApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnZXYtZW1pdHRlcicpLFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKSxcbiAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJyksXG4gICAgICByZXF1aXJlKCcuL2NlbGwnKSxcbiAgICAgIHJlcXVpcmUoJy4vc2xpZGUnKSxcbiAgICAgIHJlcXVpcmUoJy4vYW5pbWF0ZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHZhciBfRmxpY2tpdHkgPSB3aW5kb3cuRmxpY2tpdHk7XG5cbiAgICB3aW5kb3cuRmxpY2tpdHkgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkV2RW1pdHRlcixcbiAgICAgIHdpbmRvdy5nZXRTaXplLFxuICAgICAgd2luZG93LmZpenp5VUlVdGlscyxcbiAgICAgIF9GbGlja2l0eS5DZWxsLFxuICAgICAgX0ZsaWNraXR5LlNsaWRlLFxuICAgICAgX0ZsaWNraXR5LmFuaW1hdGVQcm90b3R5cGVcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIsIGdldFNpemUsXG4gIHV0aWxzLCBDZWxsLCBTbGlkZSwgYW5pbWF0ZVByb3RvdHlwZSApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyB2YXJzXG52YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeTtcbnZhciBnZXRDb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGU7XG52YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xuXG5mdW5jdGlvbiBtb3ZlRWxlbWVudHMoIGVsZW1zLCB0b0VsZW0gKSB7XG4gIGVsZW1zID0gdXRpbHMubWFrZUFycmF5KCBlbGVtcyApO1xuICB3aGlsZSAoIGVsZW1zLmxlbmd0aCApIHtcbiAgICB0b0VsZW0uYXBwZW5kQ2hpbGQoIGVsZW1zLnNoaWZ0KCkgKTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGbGlja2l0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBnbG9iYWxseSB1bmlxdWUgaWRlbnRpZmllcnNcbnZhciBHVUlEID0gMDtcbi8vIGludGVybmFsIHN0b3JlIG9mIGFsbCBGbGlja2l0eSBpbnRhbmNlc1xudmFyIGluc3RhbmNlcyA9IHt9O1xuXG5mdW5jdGlvbiBGbGlja2l0eSggZWxlbWVudCwgb3B0aW9ucyApIHtcbiAgdmFyIHF1ZXJ5RWxlbWVudCA9IHV0aWxzLmdldFF1ZXJ5RWxlbWVudCggZWxlbWVudCApO1xuICBpZiAoICFxdWVyeUVsZW1lbnQgKSB7XG4gICAgaWYgKCBjb25zb2xlICkge1xuICAgICAgY29uc29sZS5lcnJvciggJ0JhZCBlbGVtZW50IGZvciBGbGlja2l0eTogJyArICggcXVlcnlFbGVtZW50IHx8IGVsZW1lbnQgKSApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5lbGVtZW50ID0gcXVlcnlFbGVtZW50O1xuICAvLyBkbyBub3QgaW5pdGlhbGl6ZSB0d2ljZSBvbiBzYW1lIGVsZW1lbnRcbiAgaWYgKCB0aGlzLmVsZW1lbnQuZmxpY2tpdHlHVUlEICkge1xuICAgIHZhciBpbnN0YW5jZSA9IGluc3RhbmNlc1sgdGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRCBdO1xuICAgIGluc3RhbmNlLm9wdGlvbiggb3B0aW9ucyApO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIC8vIGFkZCBqUXVlcnlcbiAgaWYgKCBqUXVlcnkgKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9IGpRdWVyeSggdGhpcy5lbGVtZW50ICk7XG4gIH1cbiAgLy8gb3B0aW9uc1xuICB0aGlzLm9wdGlvbnMgPSB1dGlscy5leHRlbmQoIHt9LCB0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzICk7XG4gIHRoaXMub3B0aW9uKCBvcHRpb25zICk7XG5cbiAgLy8ga2ljayB0aGluZ3Mgb2ZmXG4gIHRoaXMuX2NyZWF0ZSgpO1xufVxuXG5GbGlja2l0eS5kZWZhdWx0cyA9IHtcbiAgYWNjZXNzaWJpbGl0eTogdHJ1ZSxcbiAgLy8gYWRhcHRpdmVIZWlnaHQ6IGZhbHNlLFxuICBjZWxsQWxpZ246ICdjZW50ZXInLFxuICAvLyBjZWxsU2VsZWN0b3I6IHVuZGVmaW5lZCxcbiAgLy8gY29udGFpbjogZmFsc2UsXG4gIGZyZWVTY3JvbGxGcmljdGlvbjogMC4wNzUsIC8vIGZyaWN0aW9uIHdoZW4gZnJlZS1zY3JvbGxpbmdcbiAgZnJpY3Rpb246IDAuMjgsIC8vIGZyaWN0aW9uIHdoZW4gc2VsZWN0aW5nXG4gIG5hbWVzcGFjZUpRdWVyeUV2ZW50czogdHJ1ZSxcbiAgLy8gaW5pdGlhbEluZGV4OiAwLFxuICBwZXJjZW50UG9zaXRpb246IHRydWUsXG4gIHJlc2l6ZTogdHJ1ZSxcbiAgc2VsZWN0ZWRBdHRyYWN0aW9uOiAwLjAyNSxcbiAgc2V0R2FsbGVyeVNpemU6IHRydWVcbiAgLy8gd2F0Y2hDU1M6IGZhbHNlLFxuICAvLyB3cmFwQXJvdW5kOiBmYWxzZVxufTtcblxuLy8gaGFzaCBvZiBtZXRob2RzIHRyaWdnZXJlZCBvbiBfY3JlYXRlKClcbkZsaWNraXR5LmNyZWF0ZU1ldGhvZHMgPSBbXTtcblxudmFyIHByb3RvID0gRmxpY2tpdHkucHJvdG90eXBlO1xuLy8gaW5oZXJpdCBFdmVudEVtaXR0ZXJcbnV0aWxzLmV4dGVuZCggcHJvdG8sIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblxucHJvdG8uX2NyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBhZGQgaWQgZm9yIEZsaWNraXR5LmRhdGFcbiAgdmFyIGlkID0gdGhpcy5ndWlkID0gKytHVUlEO1xuICB0aGlzLmVsZW1lbnQuZmxpY2tpdHlHVUlEID0gaWQ7IC8vIGV4cGFuZG9cbiAgaW5zdGFuY2VzWyBpZCBdID0gdGhpczsgLy8gYXNzb2NpYXRlIHZpYSBpZFxuICAvLyBpbml0aWFsIHByb3BlcnRpZXNcbiAgdGhpcy5zZWxlY3RlZEluZGV4ID0gMDtcbiAgLy8gaG93IG1hbnkgZnJhbWVzIHNsaWRlciBoYXMgYmVlbiBpbiBzYW1lIHBvc2l0aW9uXG4gIHRoaXMucmVzdGluZ0ZyYW1lcyA9IDA7XG4gIC8vIGluaXRpYWwgcGh5c2ljcyBwcm9wZXJ0aWVzXG4gIHRoaXMueCA9IDA7XG4gIHRoaXMudmVsb2NpdHkgPSAwO1xuICB0aGlzLm9yaWdpblNpZGUgPSB0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAvLyBjcmVhdGUgdmlld3BvcnQgJiBzbGlkZXJcbiAgdGhpcy52aWV3cG9ydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aGlzLnZpZXdwb3J0LmNsYXNzTmFtZSA9ICdmbGlja2l0eS12aWV3cG9ydCc7XG4gIHRoaXMuX2NyZWF0ZVNsaWRlcigpO1xuXG4gIGlmICggdGhpcy5vcHRpb25zLnJlc2l6ZSB8fCB0aGlzLm9wdGlvbnMud2F0Y2hDU1MgKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB0aGlzICk7XG4gIH1cblxuICAvLyBhZGQgbGlzdGVuZXJzIGZyb20gb24gb3B0aW9uXG4gIGZvciAoIHZhciBldmVudE5hbWUgaW4gdGhpcy5vcHRpb25zLm9uICkge1xuICAgIHZhciBsaXN0ZW5lciA9IHRoaXMub3B0aW9ucy5vblsgZXZlbnROYW1lIF07XG4gICAgdGhpcy5vbiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICB9XG5cbiAgRmxpY2tpdHkuY3JlYXRlTWV0aG9kcy5mb3JFYWNoKCBmdW5jdGlvbiggbWV0aG9kICkge1xuICAgIHRoaXNbIG1ldGhvZCBdKCk7XG4gIH0sIHRoaXMgKTtcblxuICBpZiAoIHRoaXMub3B0aW9ucy53YXRjaENTUyApIHtcbiAgICB0aGlzLndhdGNoQ1NTKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hY3RpdmF0ZSgpO1xuICB9XG5cbn07XG5cbi8qKlxuICogc2V0IG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKi9cbnByb3RvLm9wdGlvbiA9IGZ1bmN0aW9uKCBvcHRzICkge1xuICB1dGlscy5leHRlbmQoIHRoaXMub3B0aW9ucywgb3B0cyApO1xufTtcblxucHJvdG8uYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCB0aGlzLmlzQWN0aXZlICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZsaWNraXR5LWVuYWJsZWQnKTtcbiAgaWYgKCB0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQgKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZsaWNraXR5LXJ0bCcpO1xuICB9XG5cbiAgdGhpcy5nZXRTaXplKCk7XG4gIC8vIG1vdmUgaW5pdGlhbCBjZWxsIGVsZW1lbnRzIHNvIHRoZXkgY2FuIGJlIGxvYWRlZCBhcyBjZWxsc1xuICB2YXIgY2VsbEVsZW1zID0gdGhpcy5fZmlsdGVyRmluZENlbGxFbGVtZW50cyggdGhpcy5lbGVtZW50LmNoaWxkcmVuICk7XG4gIG1vdmVFbGVtZW50cyggY2VsbEVsZW1zLCB0aGlzLnNsaWRlciApO1xuICB0aGlzLnZpZXdwb3J0LmFwcGVuZENoaWxkKCB0aGlzLnNsaWRlciApO1xuICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoIHRoaXMudmlld3BvcnQgKTtcbiAgLy8gZ2V0IGNlbGxzIGZyb20gY2hpbGRyZW5cbiAgdGhpcy5yZWxvYWRDZWxscygpO1xuXG4gIGlmICggdGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgKSB7XG4gICAgLy8gYWxsb3cgZWxlbWVudCB0byBmb2N1c2FibGVcbiAgICB0aGlzLmVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgIC8vIGxpc3RlbiBmb3Iga2V5IHByZXNzZXNcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCB0aGlzICk7XG4gIH1cblxuICB0aGlzLmVtaXRFdmVudCgnYWN0aXZhdGUnKTtcbiAgdGhpcy5zZWxlY3RJbml0aWFsSW5kZXgoKTtcbiAgLy8gZmxhZyBmb3IgaW5pdGlhbCBhY3RpdmF0aW9uLCBmb3IgdXNpbmcgaW5pdGlhbEluZGV4XG4gIHRoaXMuaXNJbml0QWN0aXZhdGVkID0gdHJ1ZTtcbiAgLy8gcmVhZHkgZXZlbnQuICM0OTNcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KCdyZWFkeScpO1xufTtcblxuLy8gc2xpZGVyIHBvc2l0aW9ucyB0aGUgY2VsbHNcbnByb3RvLl9jcmVhdGVTbGlkZXIgPSBmdW5jdGlvbigpIHtcbiAgLy8gc2xpZGVyIGVsZW1lbnQgZG9lcyBhbGwgdGhlIHBvc2l0aW9uaW5nXG4gIHZhciBzbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2xpZGVyLmNsYXNzTmFtZSA9ICdmbGlja2l0eS1zbGlkZXInO1xuICBzbGlkZXIuc3R5bGVbIHRoaXMub3JpZ2luU2lkZSBdID0gMDtcbiAgdGhpcy5zbGlkZXIgPSBzbGlkZXI7XG59O1xuXG5wcm90by5fZmlsdGVyRmluZENlbGxFbGVtZW50cyA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgcmV0dXJuIHV0aWxzLmZpbHRlckZpbmRFbGVtZW50cyggZWxlbXMsIHRoaXMub3B0aW9ucy5jZWxsU2VsZWN0b3IgKTtcbn07XG5cbi8vIGdvZXMgdGhyb3VnaCBhbGwgY2hpbGRyZW5cbnByb3RvLnJlbG9hZENlbGxzID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNvbGxlY3Rpb24gb2YgaXRlbSBlbGVtZW50c1xuICB0aGlzLmNlbGxzID0gdGhpcy5fbWFrZUNlbGxzKCB0aGlzLnNsaWRlci5jaGlsZHJlbiApO1xuICB0aGlzLnBvc2l0aW9uQ2VsbHMoKTtcbiAgdGhpcy5fZ2V0V3JhcFNoaWZ0Q2VsbHMoKTtcbiAgdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpO1xufTtcblxuLyoqXG4gKiB0dXJuIGVsZW1lbnRzIGludG8gRmxpY2tpdHkuQ2VsbHNcbiAqIEBwYXJhbSB7QXJyYXkgb3IgTm9kZUxpc3Qgb3IgSFRNTEVsZW1lbnR9IGVsZW1zXG4gKiBAcmV0dXJucyB7QXJyYXl9IGl0ZW1zIC0gY29sbGVjdGlvbiBvZiBuZXcgRmxpY2tpdHkgQ2VsbHNcbiAqL1xucHJvdG8uX21ha2VDZWxscyA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdmFyIGNlbGxFbGVtcyA9IHRoaXMuX2ZpbHRlckZpbmRDZWxsRWxlbWVudHMoIGVsZW1zICk7XG5cbiAgLy8gY3JlYXRlIG5ldyBGbGlja2l0eSBmb3IgY29sbGVjdGlvblxuICB2YXIgY2VsbHMgPSBjZWxsRWxlbXMubWFwKCBmdW5jdGlvbiggY2VsbEVsZW0gKSB7XG4gICAgcmV0dXJuIG5ldyBDZWxsKCBjZWxsRWxlbSwgdGhpcyApO1xuICB9LCB0aGlzICk7XG5cbiAgcmV0dXJuIGNlbGxzO1xufTtcblxucHJvdG8uZ2V0TGFzdENlbGwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2VsbHNbIHRoaXMuY2VsbHMubGVuZ3RoIC0gMSBdO1xufTtcblxucHJvdG8uZ2V0TGFzdFNsaWRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnNsaWRlc1sgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSBdO1xufTtcblxuLy8gcG9zaXRpb25zIGFsbCBjZWxsc1xucHJvdG8ucG9zaXRpb25DZWxscyA9IGZ1bmN0aW9uKCkge1xuICAvLyBzaXplIGFsbCBjZWxsc1xuICB0aGlzLl9zaXplQ2VsbHMoIHRoaXMuY2VsbHMgKTtcbiAgLy8gcG9zaXRpb24gYWxsIGNlbGxzXG4gIHRoaXMuX3Bvc2l0aW9uQ2VsbHMoIDAgKTtcbn07XG5cbi8qKlxuICogcG9zaXRpb24gY2VydGFpbiBjZWxsc1xuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIHdoaWNoIGNlbGwgdG8gc3RhcnQgd2l0aFxuICovXG5wcm90by5fcG9zaXRpb25DZWxscyA9IGZ1bmN0aW9uKCBpbmRleCApIHtcbiAgaW5kZXggPSBpbmRleCB8fCAwO1xuICAvLyBhbHNvIG1lYXN1cmUgbWF4Q2VsbEhlaWdodFxuICAvLyBzdGFydCAwIGlmIHBvc2l0aW9uaW5nIGFsbCBjZWxsc1xuICB0aGlzLm1heENlbGxIZWlnaHQgPSBpbmRleCA/IHRoaXMubWF4Q2VsbEhlaWdodCB8fCAwIDogMDtcbiAgdmFyIGNlbGxYID0gMDtcbiAgLy8gZ2V0IGNlbGxYXG4gIGlmICggaW5kZXggPiAwICkge1xuICAgIHZhciBzdGFydENlbGwgPSB0aGlzLmNlbGxzWyBpbmRleCAtIDEgXTtcbiAgICBjZWxsWCA9IHN0YXJ0Q2VsbC54ICsgc3RhcnRDZWxsLnNpemUub3V0ZXJXaWR0aDtcbiAgfVxuICB2YXIgbGVuID0gdGhpcy5jZWxscy5sZW5ndGg7XG4gIGZvciAoIHZhciBpPWluZGV4OyBpIDwgbGVuOyBpKysgKSB7XG4gICAgdmFyIGNlbGwgPSB0aGlzLmNlbGxzW2ldO1xuICAgIGNlbGwuc2V0UG9zaXRpb24oIGNlbGxYICk7XG4gICAgY2VsbFggKz0gY2VsbC5zaXplLm91dGVyV2lkdGg7XG4gICAgdGhpcy5tYXhDZWxsSGVpZ2h0ID0gTWF0aC5tYXgoIGNlbGwuc2l6ZS5vdXRlckhlaWdodCwgdGhpcy5tYXhDZWxsSGVpZ2h0ICk7XG4gIH1cbiAgLy8ga2VlcCB0cmFjayBvZiBjZWxsWCBmb3Igd3JhcC1hcm91bmRcbiAgdGhpcy5zbGlkZWFibGVXaWR0aCA9IGNlbGxYO1xuICAvLyBzbGlkZXNcbiAgdGhpcy51cGRhdGVTbGlkZXMoKTtcbiAgLy8gY29udGFpbiBzbGlkZXMgdGFyZ2V0XG4gIHRoaXMuX2NvbnRhaW5TbGlkZXMoKTtcbiAgLy8gdXBkYXRlIHNsaWRlc1dpZHRoXG4gIHRoaXMuc2xpZGVzV2lkdGggPSBsZW4gPyB0aGlzLmdldExhc3RTbGlkZSgpLnRhcmdldCAtIHRoaXMuc2xpZGVzWzBdLnRhcmdldCA6IDA7XG59O1xuXG4vKipcbiAqIGNlbGwuZ2V0U2l6ZSgpIG9uIG11bHRpcGxlIGNlbGxzXG4gKiBAcGFyYW0ge0FycmF5fSBjZWxsc1xuICovXG5wcm90by5fc2l6ZUNlbGxzID0gZnVuY3Rpb24oIGNlbGxzICkge1xuICBjZWxscy5mb3JFYWNoKCBmdW5jdGlvbiggY2VsbCApIHtcbiAgICBjZWxsLmdldFNpemUoKTtcbiAgfSk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucHJvdG8udXBkYXRlU2xpZGVzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc2xpZGVzID0gW107XG4gIGlmICggIXRoaXMuY2VsbHMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzbGlkZSA9IG5ldyBTbGlkZSggdGhpcyApO1xuICB0aGlzLnNsaWRlcy5wdXNoKCBzbGlkZSApO1xuICB2YXIgaXNPcmlnaW5MZWZ0ID0gdGhpcy5vcmlnaW5TaWRlID09ICdsZWZ0JztcbiAgdmFyIG5leHRNYXJnaW4gPSBpc09yaWdpbkxlZnQgPyAnbWFyZ2luUmlnaHQnIDogJ21hcmdpbkxlZnQnO1xuXG4gIHZhciBjYW5DZWxsRml0ID0gdGhpcy5fZ2V0Q2FuQ2VsbEZpdCgpO1xuXG4gIHRoaXMuY2VsbHMuZm9yRWFjaCggZnVuY3Rpb24oIGNlbGwsIGkgKSB7XG4gICAgLy8ganVzdCBhZGQgY2VsbCBpZiBmaXJzdCBjZWxsIGluIHNsaWRlXG4gICAgaWYgKCAhc2xpZGUuY2VsbHMubGVuZ3RoICkge1xuICAgICAgc2xpZGUuYWRkQ2VsbCggY2VsbCApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzbGlkZVdpZHRoID0gKCBzbGlkZS5vdXRlcldpZHRoIC0gc2xpZGUuZmlyc3RNYXJnaW4gKSArXG4gICAgICAoIGNlbGwuc2l6ZS5vdXRlcldpZHRoIC0gY2VsbC5zaXplWyBuZXh0TWFyZ2luIF0gKTtcblxuICAgIGlmICggY2FuQ2VsbEZpdC5jYWxsKCB0aGlzLCBpLCBzbGlkZVdpZHRoICkgKSB7XG4gICAgICBzbGlkZS5hZGRDZWxsKCBjZWxsICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvZXNuJ3QgZml0LCBuZXcgc2xpZGVcbiAgICAgIHNsaWRlLnVwZGF0ZVRhcmdldCgpO1xuXG4gICAgICBzbGlkZSA9IG5ldyBTbGlkZSggdGhpcyApO1xuICAgICAgdGhpcy5zbGlkZXMucHVzaCggc2xpZGUgKTtcbiAgICAgIHNsaWRlLmFkZENlbGwoIGNlbGwgKTtcbiAgICB9XG4gIH0sIHRoaXMgKTtcbiAgLy8gbGFzdCBzbGlkZVxuICBzbGlkZS51cGRhdGVUYXJnZXQoKTtcbiAgLy8gdXBkYXRlIC5zZWxlY3RlZFNsaWRlXG4gIHRoaXMudXBkYXRlU2VsZWN0ZWRTbGlkZSgpO1xufTtcblxucHJvdG8uX2dldENhbkNlbGxGaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGdyb3VwQ2VsbHMgPSB0aGlzLm9wdGlvbnMuZ3JvdXBDZWxscztcbiAgaWYgKCAhZ3JvdXBDZWxscyApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIGdyb3VwQ2VsbHMgPT0gJ251bWJlcicgKSB7XG4gICAgLy8gZ3JvdXAgYnkgbnVtYmVyLiAzIC0+IFswLDEsMl0sIFszLDQsNV0sIC4uLlxuICAgIHZhciBudW1iZXIgPSBwYXJzZUludCggZ3JvdXBDZWxscywgMTAgKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oIGkgKSB7XG4gICAgICByZXR1cm4gKCBpICUgbnVtYmVyICkgIT09IDA7XG4gICAgfTtcbiAgfVxuICAvLyBkZWZhdWx0LCBncm91cCBieSB3aWR0aCBvZiBzbGlkZVxuICAvLyBwYXJzZSAnNzUlXG4gIHZhciBwZXJjZW50TWF0Y2ggPSB0eXBlb2YgZ3JvdXBDZWxscyA9PSAnc3RyaW5nJyAmJlxuICAgIGdyb3VwQ2VsbHMubWF0Y2goL14oXFxkKyklJC8pO1xuICB2YXIgcGVyY2VudCA9IHBlcmNlbnRNYXRjaCA/IHBhcnNlSW50KCBwZXJjZW50TWF0Y2hbMV0sIDEwICkgLyAxMDAgOiAxO1xuICByZXR1cm4gZnVuY3Rpb24oIGksIHNsaWRlV2lkdGggKSB7XG4gICAgcmV0dXJuIHNsaWRlV2lkdGggPD0gKCB0aGlzLnNpemUuaW5uZXJXaWR0aCArIDEgKSAqIHBlcmNlbnQ7XG4gIH07XG59O1xuXG4vLyBhbGlhcyBfaW5pdCBmb3IgalF1ZXJ5IHBsdWdpbiAuZmxpY2tpdHkoKVxucHJvdG8uX2luaXQgPVxucHJvdG8ucmVwb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBvc2l0aW9uQ2VsbHMoKTtcbiAgdGhpcy5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKTtcbn07XG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG4gIHRoaXMuc2V0Q2VsbEFsaWduKCk7XG4gIHRoaXMuY3Vyc29yUG9zaXRpb24gPSB0aGlzLnNpemUuaW5uZXJXaWR0aCAqIHRoaXMuY2VsbEFsaWduO1xufTtcblxudmFyIGNlbGxBbGlnblNob3J0aGFuZHMgPSB7XG4gIC8vIGNlbGwgYWxpZ24sIHRoZW4gYmFzZWQgb24gb3JpZ2luIHNpZGVcbiAgY2VudGVyOiB7XG4gICAgbGVmdDogMC41LFxuICAgIHJpZ2h0OiAwLjVcbiAgfSxcbiAgbGVmdDoge1xuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDFcbiAgfSxcbiAgcmlnaHQ6IHtcbiAgICByaWdodDogMCxcbiAgICBsZWZ0OiAxXG4gIH1cbn07XG5cbnByb3RvLnNldENlbGxBbGlnbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2hvcnRoYW5kID0gY2VsbEFsaWduU2hvcnRoYW5kc1sgdGhpcy5vcHRpb25zLmNlbGxBbGlnbiBdO1xuICB0aGlzLmNlbGxBbGlnbiA9IHNob3J0aGFuZCA/IHNob3J0aGFuZFsgdGhpcy5vcmlnaW5TaWRlIF0gOiB0aGlzLm9wdGlvbnMuY2VsbEFsaWduO1xufTtcblxucHJvdG8uc2V0R2FsbGVyeVNpemUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCB0aGlzLm9wdGlvbnMuc2V0R2FsbGVyeVNpemUgKSB7XG4gICAgdmFyIGhlaWdodCA9IHRoaXMub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCAmJiB0aGlzLnNlbGVjdGVkU2xpZGUgP1xuICAgICAgdGhpcy5zZWxlY3RlZFNsaWRlLmhlaWdodCA6IHRoaXMubWF4Q2VsbEhlaWdodDtcbiAgICB0aGlzLnZpZXdwb3J0LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gIH1cbn07XG5cbnByb3RvLl9nZXRXcmFwU2hpZnRDZWxscyA9IGZ1bmN0aW9uKCkge1xuICAvLyBvbmx5IGZvciB3cmFwLWFyb3VuZFxuICBpZiAoICF0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gdW5zaGlmdCBwcmV2aW91cyBjZWxsc1xuICB0aGlzLl91bnNoaWZ0Q2VsbHMoIHRoaXMuYmVmb3JlU2hpZnRDZWxscyApO1xuICB0aGlzLl91bnNoaWZ0Q2VsbHMoIHRoaXMuYWZ0ZXJTaGlmdENlbGxzICk7XG4gIC8vIGdldCBiZWZvcmUgY2VsbHNcbiAgLy8gaW5pdGlhbCBnYXBcbiAgdmFyIGdhcFggPSB0aGlzLmN1cnNvclBvc2l0aW9uO1xuICB2YXIgY2VsbEluZGV4ID0gdGhpcy5jZWxscy5sZW5ndGggLSAxO1xuICB0aGlzLmJlZm9yZVNoaWZ0Q2VsbHMgPSB0aGlzLl9nZXRHYXBDZWxscyggZ2FwWCwgY2VsbEluZGV4LCAtMSApO1xuICAvLyBnZXQgYWZ0ZXIgY2VsbHNcbiAgLy8gZW5kaW5nIGdhcCBiZXR3ZWVuIGxhc3QgY2VsbCBhbmQgZW5kIG9mIGdhbGxlcnkgdmlld3BvcnRcbiAgZ2FwWCA9IHRoaXMuc2l6ZS5pbm5lcldpZHRoIC0gdGhpcy5jdXJzb3JQb3NpdGlvbjtcbiAgLy8gc3RhcnQgY2xvbmluZyBhdCBmaXJzdCBjZWxsLCB3b3JraW5nIGZvcndhcmRzXG4gIHRoaXMuYWZ0ZXJTaGlmdENlbGxzID0gdGhpcy5fZ2V0R2FwQ2VsbHMoIGdhcFgsIDAsIDEgKTtcbn07XG5cbnByb3RvLl9nZXRHYXBDZWxscyA9IGZ1bmN0aW9uKCBnYXBYLCBjZWxsSW5kZXgsIGluY3JlbWVudCApIHtcbiAgLy8ga2VlcCBhZGRpbmcgY2VsbHMgdW50aWwgdGhlIGNvdmVyIHRoZSBpbml0aWFsIGdhcFxuICB2YXIgY2VsbHMgPSBbXTtcbiAgd2hpbGUgKCBnYXBYID4gMCApIHtcbiAgICB2YXIgY2VsbCA9IHRoaXMuY2VsbHNbIGNlbGxJbmRleCBdO1xuICAgIGlmICggIWNlbGwgKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2VsbHMucHVzaCggY2VsbCApO1xuICAgIGNlbGxJbmRleCArPSBpbmNyZW1lbnQ7XG4gICAgZ2FwWCAtPSBjZWxsLnNpemUub3V0ZXJXaWR0aDtcbiAgfVxuICByZXR1cm4gY2VsbHM7XG59O1xuXG4vLyAtLS0tLSBjb250YWluIC0tLS0tIC8vXG5cbi8vIGNvbnRhaW4gY2VsbCB0YXJnZXRzIHNvIG5vIGV4Y2VzcyBzbGlkaW5nXG5wcm90by5fY29udGFpblNsaWRlcyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLm9wdGlvbnMuY29udGFpbiB8fCB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCB8fCAhdGhpcy5jZWxscy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBpc1JpZ2h0VG9MZWZ0ID0gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0O1xuICB2YXIgYmVnaW5NYXJnaW4gPSBpc1JpZ2h0VG9MZWZ0ID8gJ21hcmdpblJpZ2h0JyA6ICdtYXJnaW5MZWZ0JztcbiAgdmFyIGVuZE1hcmdpbiA9IGlzUmlnaHRUb0xlZnQgPyAnbWFyZ2luTGVmdCcgOiAnbWFyZ2luUmlnaHQnO1xuICB2YXIgY29udGVudFdpZHRoID0gdGhpcy5zbGlkZWFibGVXaWR0aCAtIHRoaXMuZ2V0TGFzdENlbGwoKS5zaXplWyBlbmRNYXJnaW4gXTtcbiAgLy8gY29udGVudCBpcyBsZXNzIHRoYW4gZ2FsbGVyeSBzaXplXG4gIHZhciBpc0NvbnRlbnRTbWFsbGVyID0gY29udGVudFdpZHRoIDwgdGhpcy5zaXplLmlubmVyV2lkdGg7XG4gIC8vIGJvdW5kc1xuICB2YXIgYmVnaW5Cb3VuZCA9IHRoaXMuY3Vyc29yUG9zaXRpb24gKyB0aGlzLmNlbGxzWzBdLnNpemVbIGJlZ2luTWFyZ2luIF07XG4gIHZhciBlbmRCb3VuZCA9IGNvbnRlbnRXaWR0aCAtIHRoaXMuc2l6ZS5pbm5lcldpZHRoICogKCAxIC0gdGhpcy5jZWxsQWxpZ24gKTtcbiAgLy8gY29udGFpbiBlYWNoIGNlbGwgdGFyZ2V0XG4gIHRoaXMuc2xpZGVzLmZvckVhY2goIGZ1bmN0aW9uKCBzbGlkZSApIHtcbiAgICBpZiAoIGlzQ29udGVudFNtYWxsZXIgKSB7XG4gICAgICAvLyBhbGwgY2VsbHMgZml0IGluc2lkZSBnYWxsZXJ5XG4gICAgICBzbGlkZS50YXJnZXQgPSBjb250ZW50V2lkdGggKiB0aGlzLmNlbGxBbGlnbjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY29udGFpbiB0byBib3VuZHNcbiAgICAgIHNsaWRlLnRhcmdldCA9IE1hdGgubWF4KCBzbGlkZS50YXJnZXQsIGJlZ2luQm91bmQgKTtcbiAgICAgIHNsaWRlLnRhcmdldCA9IE1hdGgubWluKCBzbGlkZS50YXJnZXQsIGVuZEJvdW5kICk7XG4gICAgfVxuICB9LCB0aGlzICk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxuLyoqXG4gKiBlbWl0cyBldmVudHMgdmlhIGV2ZW50RW1pdHRlciBhbmQgalF1ZXJ5IGV2ZW50c1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBuYW1lIG9mIGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIG9yaWdpbmFsIGV2ZW50XG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIC0gZXh0cmEgYXJndW1lbnRzXG4gKi9cbnByb3RvLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGFyZ3MgKSB7XG4gIHZhciBlbWl0QXJncyA9IGV2ZW50ID8gWyBldmVudCBdLmNvbmNhdCggYXJncyApIDogYXJncztcbiAgdGhpcy5lbWl0RXZlbnQoIHR5cGUsIGVtaXRBcmdzICk7XG5cbiAgaWYgKCBqUXVlcnkgJiYgdGhpcy4kZWxlbWVudCApIHtcbiAgICAvLyBkZWZhdWx0IHRyaWdnZXIgd2l0aCB0eXBlIGlmIG5vIGV2ZW50XG4gICAgdHlwZSArPSB0aGlzLm9wdGlvbnMubmFtZXNwYWNlSlF1ZXJ5RXZlbnRzID8gJy5mbGlja2l0eScgOiAnJztcbiAgICB2YXIgJGV2ZW50ID0gdHlwZTtcbiAgICBpZiAoIGV2ZW50ICkge1xuICAgICAgLy8gY3JlYXRlIGpRdWVyeSBldmVudFxuICAgICAgdmFyIGpRRXZlbnQgPSBqUXVlcnkuRXZlbnQoIGV2ZW50ICk7XG4gICAgICBqUUV2ZW50LnR5cGUgPSB0eXBlO1xuICAgICAgJGV2ZW50ID0galFFdmVudDtcbiAgICB9XG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCAkZXZlbnQsIGFyZ3MgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gc2VsZWN0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIGluZGV4IG9mIHRoZSBzbGlkZVxuICogQHBhcmFtIHtCb29sZWFufSBpc1dyYXAgLSB3aWxsIHdyYXAtYXJvdW5kIHRvIGxhc3QvZmlyc3QgaWYgYXQgdGhlIGVuZFxuICogQHBhcmFtIHtCb29sZWFufSBpc0luc3RhbnQgLSB3aWxsIGltbWVkaWF0ZWx5IHNldCBwb3NpdGlvbiBhdCBzZWxlY3RlZCBjZWxsXG4gKi9cbnByb3RvLnNlbGVjdCA9IGZ1bmN0aW9uKCBpbmRleCwgaXNXcmFwLCBpc0luc3RhbnQgKSB7XG4gIGlmICggIXRoaXMuaXNBY3RpdmUgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGluZGV4ID0gcGFyc2VJbnQoIGluZGV4LCAxMCApO1xuICB0aGlzLl93cmFwU2VsZWN0KCBpbmRleCApO1xuXG4gIGlmICggdGhpcy5vcHRpb25zLndyYXBBcm91bmQgfHwgaXNXcmFwICkge1xuICAgIGluZGV4ID0gdXRpbHMubW9kdWxvKCBpbmRleCwgdGhpcy5zbGlkZXMubGVuZ3RoICk7XG4gIH1cbiAgLy8gYmFpbCBpZiBpbnZhbGlkIGluZGV4XG4gIGlmICggIXRoaXMuc2xpZGVzWyBpbmRleCBdICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgcHJldkluZGV4ID0gdGhpcy5zZWxlY3RlZEluZGV4O1xuICB0aGlzLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgdGhpcy51cGRhdGVTZWxlY3RlZFNsaWRlKCk7XG4gIGlmICggaXNJbnN0YW50ICkge1xuICAgIHRoaXMucG9zaXRpb25TbGlkZXJBdFNlbGVjdGVkKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGFydEFuaW1hdGlvbigpO1xuICB9XG4gIGlmICggdGhpcy5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0ICkge1xuICAgIHRoaXMuc2V0R2FsbGVyeVNpemUoKTtcbiAgfVxuICAvLyBldmVudHNcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnc2VsZWN0JywgbnVsbCwgWyBpbmRleCBdICk7XG4gIC8vIGNoYW5nZSBldmVudCBpZiBuZXcgaW5kZXhcbiAgaWYgKCBpbmRleCAhPSBwcmV2SW5kZXggKSB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnY2hhbmdlJywgbnVsbCwgWyBpbmRleCBdICk7XG4gIH1cbiAgLy8gb2xkIHYxIGV2ZW50IG5hbWUsIHJlbW92ZSBpbiB2M1xuICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2NlbGxTZWxlY3QnKTtcbn07XG5cbi8vIHdyYXBzIHBvc2l0aW9uIGZvciB3cmFwQXJvdW5kLCB0byBtb3ZlIHRvIGNsb3Nlc3Qgc2xpZGUuICMxMTNcbnByb3RvLl93cmFwU2VsZWN0ID0gZnVuY3Rpb24oIGluZGV4ICkge1xuICB2YXIgbGVuID0gdGhpcy5zbGlkZXMubGVuZ3RoO1xuICB2YXIgaXNXcmFwcGluZyA9IHRoaXMub3B0aW9ucy53cmFwQXJvdW5kICYmIGxlbiA+IDE7XG4gIGlmICggIWlzV3JhcHBpbmcgKSB7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG4gIHZhciB3cmFwSW5kZXggPSB1dGlscy5tb2R1bG8oIGluZGV4LCBsZW4gKTtcbiAgLy8gZ28gdG8gc2hvcnRlc3RcbiAgdmFyIGRlbHRhID0gTWF0aC5hYnMoIHdyYXBJbmRleCAtIHRoaXMuc2VsZWN0ZWRJbmRleCApO1xuICB2YXIgYmFja1dyYXBEZWx0YSA9IE1hdGguYWJzKCAoIHdyYXBJbmRleCArIGxlbiApIC0gdGhpcy5zZWxlY3RlZEluZGV4ICk7XG4gIHZhciBmb3Jld2FyZFdyYXBEZWx0YSA9IE1hdGguYWJzKCAoIHdyYXBJbmRleCAtIGxlbiApIC0gdGhpcy5zZWxlY3RlZEluZGV4ICk7XG4gIGlmICggIXRoaXMuaXNEcmFnU2VsZWN0ICYmIGJhY2tXcmFwRGVsdGEgPCBkZWx0YSApIHtcbiAgICBpbmRleCArPSBsZW47XG4gIH0gZWxzZSBpZiAoICF0aGlzLmlzRHJhZ1NlbGVjdCAmJiBmb3Jld2FyZFdyYXBEZWx0YSA8IGRlbHRhICkge1xuICAgIGluZGV4IC09IGxlbjtcbiAgfVxuICAvLyB3cmFwIHBvc2l0aW9uIHNvIHNsaWRlciBpcyB3aXRoaW4gbm9ybWFsIGFyZWFcbiAgaWYgKCBpbmRleCA8IDAgKSB7XG4gICAgdGhpcy54IC09IHRoaXMuc2xpZGVhYmxlV2lkdGg7XG4gIH0gZWxzZSBpZiAoIGluZGV4ID49IGxlbiApIHtcbiAgICB0aGlzLnggKz0gdGhpcy5zbGlkZWFibGVXaWR0aDtcbiAgfVxufTtcblxucHJvdG8ucHJldmlvdXMgPSBmdW5jdGlvbiggaXNXcmFwLCBpc0luc3RhbnQgKSB7XG4gIHRoaXMuc2VsZWN0KCB0aGlzLnNlbGVjdGVkSW5kZXggLSAxLCBpc1dyYXAsIGlzSW5zdGFudCApO1xufTtcblxucHJvdG8ubmV4dCA9IGZ1bmN0aW9uKCBpc1dyYXAsIGlzSW5zdGFudCApIHtcbiAgdGhpcy5zZWxlY3QoIHRoaXMuc2VsZWN0ZWRJbmRleCArIDEsIGlzV3JhcCwgaXNJbnN0YW50ICk7XG59O1xuXG5wcm90by51cGRhdGVTZWxlY3RlZFNsaWRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzWyB0aGlzLnNlbGVjdGVkSW5kZXggXTtcbiAgLy8gc2VsZWN0ZWRJbmRleCBjb3VsZCBiZSBvdXRzaWRlIG9mIHNsaWRlcywgaWYgdHJpZ2dlcmVkIGJlZm9yZSByZXNpemUoKVxuICBpZiAoICFzbGlkZSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gdW5zZWxlY3QgcHJldmlvdXMgc2VsZWN0ZWQgc2xpZGVcbiAgdGhpcy51bnNlbGVjdFNlbGVjdGVkU2xpZGUoKTtcbiAgLy8gdXBkYXRlIG5ldyBzZWxlY3RlZCBzbGlkZVxuICB0aGlzLnNlbGVjdGVkU2xpZGUgPSBzbGlkZTtcbiAgc2xpZGUuc2VsZWN0KCk7XG4gIHRoaXMuc2VsZWN0ZWRDZWxscyA9IHNsaWRlLmNlbGxzO1xuICB0aGlzLnNlbGVjdGVkRWxlbWVudHMgPSBzbGlkZS5nZXRDZWxsRWxlbWVudHMoKTtcbiAgLy8gSEFDSzogc2VsZWN0ZWRDZWxsICYgc2VsZWN0ZWRFbGVtZW50IGlzIGZpcnN0IGNlbGwgaW4gc2xpZGUsIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIC8vIFJlbW92ZSBpbiB2Mz9cbiAgdGhpcy5zZWxlY3RlZENlbGwgPSBzbGlkZS5jZWxsc1swXTtcbiAgdGhpcy5zZWxlY3RlZEVsZW1lbnQgPSB0aGlzLnNlbGVjdGVkRWxlbWVudHNbMF07XG59O1xuXG5wcm90by51bnNlbGVjdFNlbGVjdGVkU2xpZGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCB0aGlzLnNlbGVjdGVkU2xpZGUgKSB7XG4gICAgdGhpcy5zZWxlY3RlZFNsaWRlLnVuc2VsZWN0KCk7XG4gIH1cbn07XG5cbnByb3RvLnNlbGVjdEluaXRpYWxJbmRleCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaW5pdGlhbEluZGV4ID0gdGhpcy5vcHRpb25zLmluaXRpYWxJbmRleDtcbiAgLy8gYWxyZWFkeSBhY3RpdmF0ZWQsIHNlbGVjdCBwcmV2aW91cyBzZWxlY3RlZEluZGV4XG4gIGlmICggdGhpcy5pc0luaXRBY3RpdmF0ZWQgKSB7XG4gICAgdGhpcy5zZWxlY3QoIHRoaXMuc2VsZWN0ZWRJbmRleCwgZmFsc2UsIHRydWUgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gc2VsZWN0IHdpdGggc2VsZWN0b3Igc3RyaW5nXG4gIGlmICggaW5pdGlhbEluZGV4ICYmIHR5cGVvZiBpbml0aWFsSW5kZXggPT0gJ3N0cmluZycgKSB7XG4gICAgdmFyIGNlbGwgPSB0aGlzLnF1ZXJ5Q2VsbCggaW5pdGlhbEluZGV4ICk7XG4gICAgaWYgKCBjZWxsICkge1xuICAgICAgdGhpcy5zZWxlY3RDZWxsKCBpbml0aWFsSW5kZXgsIGZhbHNlLCB0cnVlICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgdmFyIGluZGV4ID0gMDtcbiAgLy8gc2VsZWN0IHdpdGggbnVtYmVyXG4gIGlmICggaW5pdGlhbEluZGV4ICYmIHRoaXMuc2xpZGVzWyBpbml0aWFsSW5kZXggXSApIHtcbiAgICBpbmRleCA9IGluaXRpYWxJbmRleDtcbiAgfVxuICAvLyBzZWxlY3QgaW5zdGFudGx5XG4gIHRoaXMuc2VsZWN0KCBpbmRleCwgZmFsc2UsIHRydWUgKTtcbn07XG5cbi8qKlxuICogc2VsZWN0IHNsaWRlIGZyb20gbnVtYmVyIG9yIGNlbGwgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50IG9yIE51bWJlcn0gZWxlbVxuICovXG5wcm90by5zZWxlY3RDZWxsID0gZnVuY3Rpb24oIHZhbHVlLCBpc1dyYXAsIGlzSW5zdGFudCApIHtcbiAgLy8gZ2V0IGNlbGxcbiAgdmFyIGNlbGwgPSB0aGlzLnF1ZXJ5Q2VsbCggdmFsdWUgKTtcbiAgaWYgKCAhY2VsbCApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaW5kZXggPSB0aGlzLmdldENlbGxTbGlkZUluZGV4KCBjZWxsICk7XG4gIHRoaXMuc2VsZWN0KCBpbmRleCwgaXNXcmFwLCBpc0luc3RhbnQgKTtcbn07XG5cbnByb3RvLmdldENlbGxTbGlkZUluZGV4ID0gZnVuY3Rpb24oIGNlbGwgKSB7XG4gIC8vIGdldCBpbmRleCBvZiBzbGlkZXMgdGhhdCBoYXMgY2VsbFxuICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbaV07XG4gICAgdmFyIGluZGV4ID0gc2xpZGUuY2VsbHMuaW5kZXhPZiggY2VsbCApO1xuICAgIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGdldCBjZWxscyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGdldCBGbGlja2l0eS5DZWxsLCBnaXZlbiBhbiBFbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cbiAqIEByZXR1cm5zIHtGbGlja2l0eS5DZWxsfSBpdGVtXG4gKi9cbnByb3RvLmdldENlbGwgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgLy8gbG9vcCB0aHJvdWdoIGNlbGxzIHRvIGdldCB0aGUgb25lIHRoYXQgbWF0Y2hlc1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5jZWxscy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgY2VsbCA9IHRoaXMuY2VsbHNbaV07XG4gICAgaWYgKCBjZWxsLmVsZW1lbnQgPT0gZWxlbSApIHtcbiAgICAgIHJldHVybiBjZWxsO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBnZXQgY29sbGVjdGlvbiBvZiBGbGlja2l0eS5DZWxscywgZ2l2ZW4gRWxlbWVudHNcbiAqIEBwYXJhbSB7RWxlbWVudCwgQXJyYXksIE5vZGVMaXN0fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBjZWxscyAtIEZsaWNraXR5LkNlbGxzXG4gKi9cbnByb3RvLmdldENlbGxzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcbiAgdmFyIGNlbGxzID0gW107XG4gIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHZhciBjZWxsID0gdGhpcy5nZXRDZWxsKCBlbGVtICk7XG4gICAgaWYgKCBjZWxsICkge1xuICAgICAgY2VsbHMucHVzaCggY2VsbCApO1xuICAgIH1cbiAgfSwgdGhpcyApO1xuICByZXR1cm4gY2VsbHM7XG59O1xuXG4vKipcbiAqIGdldCBjZWxsIGVsZW1lbnRzXG4gKiBAcmV0dXJucyB7QXJyYXl9IGNlbGxFbGVtc1xuICovXG5wcm90by5nZXRDZWxsRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2VsbHMubWFwKCBmdW5jdGlvbiggY2VsbCApIHtcbiAgICByZXR1cm4gY2VsbC5lbGVtZW50O1xuICB9KTtcbn07XG5cbi8qKlxuICogZ2V0IHBhcmVudCBjZWxsIGZyb20gYW4gZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKiBAcmV0dXJucyB7RmxpY2tpdC5DZWxsfSBjZWxsXG4gKi9cbnByb3RvLmdldFBhcmVudENlbGwgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgLy8gZmlyc3QgY2hlY2sgaWYgZWxlbSBpcyBjZWxsXG4gIHZhciBjZWxsID0gdGhpcy5nZXRDZWxsKCBlbGVtICk7XG4gIGlmICggY2VsbCApIHtcbiAgICByZXR1cm4gY2VsbDtcbiAgfVxuICAvLyB0cnkgdG8gZ2V0IHBhcmVudCBjZWxsIGVsZW1cbiAgZWxlbSA9IHV0aWxzLmdldFBhcmVudCggZWxlbSwgJy5mbGlja2l0eS1zbGlkZXIgPiAqJyApO1xuICByZXR1cm4gdGhpcy5nZXRDZWxsKCBlbGVtICk7XG59O1xuXG4vKipcbiAqIGdldCBjZWxscyBhZGphY2VudCB0byBhIHNsaWRlXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGFkakNvdW50IC0gbnVtYmVyIG9mIGFkamFjZW50IHNsaWRlc1xuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIGluZGV4IG9mIHNsaWRlIHRvIHN0YXJ0XG4gKiBAcmV0dXJucyB7QXJyYXl9IGNlbGxzIC0gYXJyYXkgb2YgRmxpY2tpdHkuQ2VsbHNcbiAqL1xucHJvdG8uZ2V0QWRqYWNlbnRDZWxsRWxlbWVudHMgPSBmdW5jdGlvbiggYWRqQ291bnQsIGluZGV4ICkge1xuICBpZiAoICFhZGpDb3VudCApIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFNsaWRlLmdldENlbGxFbGVtZW50cygpO1xuICB9XG4gIGluZGV4ID0gaW5kZXggPT09IHVuZGVmaW5lZCA/IHRoaXMuc2VsZWN0ZWRJbmRleCA6IGluZGV4O1xuXG4gIHZhciBsZW4gPSB0aGlzLnNsaWRlcy5sZW5ndGg7XG4gIGlmICggMSArICggYWRqQ291bnQgKiAyICkgPj0gbGVuICkge1xuICAgIHJldHVybiB0aGlzLmdldENlbGxFbGVtZW50cygpO1xuICB9XG5cbiAgdmFyIGNlbGxFbGVtcyA9IFtdO1xuICBmb3IgKCB2YXIgaSA9IGluZGV4IC0gYWRqQ291bnQ7IGkgPD0gaW5kZXggKyBhZGpDb3VudCA7IGkrKyApIHtcbiAgICB2YXIgc2xpZGVJbmRleCA9IHRoaXMub3B0aW9ucy53cmFwQXJvdW5kID8gdXRpbHMubW9kdWxvKCBpLCBsZW4gKSA6IGk7XG4gICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbIHNsaWRlSW5kZXggXTtcbiAgICBpZiAoIHNsaWRlICkge1xuICAgICAgY2VsbEVsZW1zID0gY2VsbEVsZW1zLmNvbmNhdCggc2xpZGUuZ2V0Q2VsbEVsZW1lbnRzKCkgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNlbGxFbGVtcztcbn07XG5cbi8qKlxuICogc2VsZWN0IHNsaWRlIGZyb20gbnVtYmVyIG9yIGNlbGwgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50LCBTZWxlY3RvciBTdHJpbmcsIG9yIE51bWJlcn0gc2VsZWN0b3JcbiAqL1xucHJvdG8ucXVlcnlDZWxsID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuICBpZiAoIHR5cGVvZiBzZWxlY3RvciA9PSAnbnVtYmVyJyApIHtcbiAgICAvLyB1c2UgbnVtYmVyIGFzIGluZGV4XG4gICAgcmV0dXJuIHRoaXMuY2VsbHNbIHNlbGVjdG9yIF07XG4gIH1cbiAgaWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT0gJ3N0cmluZycgKSB7XG4gICAgLy8gZG8gbm90IHNlbGVjdCBpbnZhbGlkIHNlbGVjdG9ycyBmcm9tIGhhc2g6ICMxMjMsICMvLiAjNzkxXG4gICAgaWYgKCBzZWxlY3Rvci5tYXRjaCgvXlsjXFwuXT9bXFxkXFwvXS8pICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB1c2Ugc3RyaW5nIGFzIHNlbGVjdG9yLCBnZXQgZWxlbWVudFxuICAgIHNlbGVjdG9yID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICk7XG4gIH1cbiAgLy8gZ2V0IGNlbGwgZnJvbSBlbGVtZW50XG4gIHJldHVybiB0aGlzLmdldENlbGwoIHNlbGVjdG9yICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBldmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucHJvdG8udWlDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbWl0RXZlbnQoJ3VpQ2hhbmdlJyk7XG59O1xuXG4vLyBrZWVwIGZvY3VzIG9uIGVsZW1lbnQgd2hlbiBjaGlsZCBVSSBlbGVtZW50cyBhcmUgY2xpY2tlZFxucHJvdG8uY2hpbGRVSVBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAvLyBIQUNLIGlPUyBkb2VzIG5vdCBhbGxvdyB0b3VjaCBldmVudHMgdG8gYnViYmxlIHVwPyFcbiAgaWYgKCBldmVudC50eXBlICE9ICd0b3VjaHN0YXJ0JyApIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIHRoaXMuZm9jdXMoKTtcbn07XG5cbi8vIC0tLS0tIHJlc2l6ZSAtLS0tLSAvL1xuXG5wcm90by5vbnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLndhdGNoQ1NTKCk7XG4gIHRoaXMucmVzaXplKCk7XG59O1xuXG51dGlscy5kZWJvdW5jZU1ldGhvZCggRmxpY2tpdHksICdvbnJlc2l6ZScsIDE1MCApO1xuXG5wcm90by5yZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5pc0FjdGl2ZSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5nZXRTaXplKCk7XG4gIC8vIHdyYXAgdmFsdWVzXG4gIGlmICggdGhpcy5vcHRpb25zLndyYXBBcm91bmQgKSB7XG4gICAgdGhpcy54ID0gdXRpbHMubW9kdWxvKCB0aGlzLngsIHRoaXMuc2xpZGVhYmxlV2lkdGggKTtcbiAgfVxuICB0aGlzLnBvc2l0aW9uQ2VsbHMoKTtcbiAgdGhpcy5fZ2V0V3JhcFNoaWZ0Q2VsbHMoKTtcbiAgdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpO1xuICB0aGlzLmVtaXRFdmVudCgncmVzaXplJyk7XG4gIC8vIHVwZGF0ZSBzZWxlY3RlZCBpbmRleCBmb3IgZ3JvdXAgc2xpZGVzLCBpbnN0YW50XG4gIC8vIFRPRE86IHBvc2l0aW9uIGNhbiBiZSBsb3N0IGJldHdlZW4gZ3JvdXBzIG9mIHZhcmlvdXMgbnVtYmVyc1xuICB2YXIgc2VsZWN0ZWRFbGVtZW50ID0gdGhpcy5zZWxlY3RlZEVsZW1lbnRzICYmIHRoaXMuc2VsZWN0ZWRFbGVtZW50c1swXTtcbiAgdGhpcy5zZWxlY3RDZWxsKCBzZWxlY3RlZEVsZW1lbnQsIGZhbHNlLCB0cnVlICk7XG59O1xuXG4vLyB3YXRjaGVzIHRoZSA6YWZ0ZXIgcHJvcGVydHksIGFjdGl2YXRlcy9kZWFjdGl2YXRlc1xucHJvdG8ud2F0Y2hDU1MgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHdhdGNoT3B0aW9uID0gdGhpcy5vcHRpb25zLndhdGNoQ1NTO1xuICBpZiAoICF3YXRjaE9wdGlvbiApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYWZ0ZXJDb250ZW50ID0gZ2V0Q29tcHV0ZWRTdHlsZSggdGhpcy5lbGVtZW50LCAnOmFmdGVyJyApLmNvbnRlbnQ7XG4gIC8vIGFjdGl2YXRlIGlmIDphZnRlciB7IGNvbnRlbnQ6ICdmbGlja2l0eScgfVxuICBpZiAoIGFmdGVyQ29udGVudC5pbmRleE9mKCdmbGlja2l0eScpICE9IC0xICkge1xuICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgfVxufTtcblxuLy8gLS0tLS0ga2V5ZG93biAtLS0tLSAvL1xuXG4vLyBnbyBwcmV2aW91cy9uZXh0IGlmIGxlZnQvcmlnaHQga2V5cyBwcmVzc2VkXG5wcm90by5vbmtleWRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIC8vIG9ubHkgd29yayBpZiBlbGVtZW50IGlzIGluIGZvY3VzXG4gIHZhciBpc05vdEZvY3VzZWQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT0gdGhpcy5lbGVtZW50O1xuICBpZiAoICF0aGlzLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSB8fGlzTm90Rm9jdXNlZCApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IEZsaWNraXR5LmtleWJvYXJkSGFuZGxlcnNbIGV2ZW50LmtleUNvZGUgXTtcbiAgaWYgKCBoYW5kbGVyICkge1xuICAgIGhhbmRsZXIuY2FsbCggdGhpcyApO1xuICB9XG59O1xuXG5GbGlja2l0eS5rZXlib2FyZEhhbmRsZXJzID0ge1xuICAvLyBsZWZ0IGFycm93XG4gIDM3OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdE1ldGhvZCA9IHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCA/ICduZXh0JyA6ICdwcmV2aW91cyc7XG4gICAgdGhpcy51aUNoYW5nZSgpO1xuICAgIHRoaXNbIGxlZnRNZXRob2QgXSgpO1xuICB9LFxuICAvLyByaWdodCBhcnJvd1xuICAzOTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJpZ2h0TWV0aG9kID0gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0ID8gJ3ByZXZpb3VzJyA6ICduZXh0JztcbiAgICB0aGlzLnVpQ2hhbmdlKCk7XG4gICAgdGhpc1sgcmlnaHRNZXRob2QgXSgpO1xuICB9LFxufTtcblxuLy8gLS0tLS0gZm9jdXMgLS0tLS0gLy9cblxucHJvdG8uZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgLy8gVE9ETyByZW1vdmUgc2Nyb2xsVG8gb25jZSBmb2N1cyBvcHRpb25zIGdldHMgbW9yZSBzdXBwb3J0XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MRWxlbWVudC9mb2N1cyNCcm93c2VyX2NvbXBhdGliaWxpdHlcbiAgdmFyIHByZXZTY3JvbGxZID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICB0aGlzLmVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAvLyBoYWNrIHRvIGZpeCBzY3JvbGwganVtcCBhZnRlciBmb2N1cywgIzc2XG4gIGlmICggd2luZG93LnBhZ2VZT2Zmc2V0ICE9IHByZXZTY3JvbGxZICkge1xuICAgIHdpbmRvdy5zY3JvbGxUbyggd2luZG93LnBhZ2VYT2Zmc2V0LCBwcmV2U2Nyb2xsWSApO1xuICB9XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkZXN0cm95IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGRlYWN0aXZhdGUgYWxsIEZsaWNraXR5IGZ1bmN0aW9uYWxpdHksIGJ1dCBrZWVwIHN0dWZmIGF2YWlsYWJsZVxucHJvdG8uZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLmlzQWN0aXZlICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZmxpY2tpdHktZW5hYmxlZCcpO1xuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZmxpY2tpdHktcnRsJyk7XG4gIHRoaXMudW5zZWxlY3RTZWxlY3RlZFNsaWRlKCk7XG4gIC8vIGRlc3Ryb3kgY2VsbHNcbiAgdGhpcy5jZWxscy5mb3JFYWNoKCBmdW5jdGlvbiggY2VsbCApIHtcbiAgICBjZWxsLmRlc3Ryb3koKTtcbiAgfSk7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZCggdGhpcy52aWV3cG9ydCApO1xuICAvLyBtb3ZlIGNoaWxkIGVsZW1lbnRzIGJhY2sgaW50byBlbGVtZW50XG4gIG1vdmVFbGVtZW50cyggdGhpcy5zbGlkZXIuY2hpbGRyZW4sIHRoaXMuZWxlbWVudCApO1xuICBpZiAoIHRoaXMub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ICkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYkluZGV4Jyk7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgdGhpcyApO1xuICB9XG4gIC8vIHNldCBmbGFnc1xuICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gIHRoaXMuZW1pdEV2ZW50KCdkZWFjdGl2YXRlJyk7XG59O1xuXG5wcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMgKTtcbiAgdGhpcy5hbGxPZmYoKTtcbiAgdGhpcy5lbWl0RXZlbnQoJ2Rlc3Ryb3knKTtcbiAgaWYgKCBqUXVlcnkgJiYgdGhpcy4kZWxlbWVudCApIHtcbiAgICBqUXVlcnkucmVtb3ZlRGF0YSggdGhpcy5lbGVtZW50LCAnZmxpY2tpdHknICk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuZWxlbWVudC5mbGlja2l0eUdVSUQ7XG4gIGRlbGV0ZSBpbnN0YW5jZXNbIHRoaXMuZ3VpZCBdO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcHJvdG90eXBlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnV0aWxzLmV4dGVuZCggcHJvdG8sIGFuaW1hdGVQcm90b3R5cGUgKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZXh0cmFzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogZ2V0IEZsaWNraXR5IGluc3RhbmNlIGZyb20gZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKiBAcmV0dXJucyB7RmxpY2tpdHl9XG4gKi9cbkZsaWNraXR5LmRhdGEgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgZWxlbSA9IHV0aWxzLmdldFF1ZXJ5RWxlbWVudCggZWxlbSApO1xuICB2YXIgaWQgPSBlbGVtICYmIGVsZW0uZmxpY2tpdHlHVUlEO1xuICByZXR1cm4gaWQgJiYgaW5zdGFuY2VzWyBpZCBdO1xufTtcblxudXRpbHMuaHRtbEluaXQoIEZsaWNraXR5LCAnZmxpY2tpdHknICk7XG5cbmlmICggalF1ZXJ5ICYmIGpRdWVyeS5icmlkZ2V0ICkge1xuICBqUXVlcnkuYnJpZGdldCggJ2ZsaWNraXR5JywgRmxpY2tpdHkgKTtcbn1cblxuLy8gc2V0IGludGVybmFsIGpRdWVyeSwgZm9yIFdlYnBhY2sgKyBqUXVlcnkgdjMsICM0NzhcbkZsaWNraXR5LnNldEpRdWVyeSA9IGZ1bmN0aW9uKCBqcSApIHtcbiAgalF1ZXJ5ID0ganE7XG59O1xuXG5GbGlja2l0eS5DZWxsID0gQ2VsbDtcbkZsaWNraXR5LlNsaWRlID0gU2xpZGU7XG5cbnJldHVybiBGbGlja2l0eTtcblxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/flickity.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/index.js":
/*!*******************************************!*\
  !*** ./node_modules/flickity/js/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Flickity v2.2.0\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ./flickity */ \"./node_modules/flickity/js/flickity.js\"),\n      __webpack_require__(/*! ./drag */ \"./node_modules/flickity/js/drag.js\"),\n      __webpack_require__(/*! ./prev-next-button */ \"./node_modules/flickity/js/prev-next-button.js\"),\n      __webpack_require__(/*! ./page-dots */ \"./node_modules/flickity/js/page-dots.js\"),\n      __webpack_require__(/*! ./player */ \"./node_modules/flickity/js/player.js\"),\n      __webpack_require__(/*! ./add-remove-cell */ \"./node_modules/flickity/js/add-remove-cell.js\"),\n      __webpack_require__(/*! ./lazyload */ \"./node_modules/flickity/js/lazyload.js\")\n    ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n})( window, function factory( Flickity ) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvaW5kZXguanM/MjE3YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQXlDO0FBQ2hEO0FBQ0EsSUFBSSxpQ0FBUTtBQUNaLE1BQU0sK0VBQVk7QUFDbEIsTUFBTSx1RUFBUTtBQUNkLE1BQU0sK0ZBQW9CO0FBQzFCLE1BQU0saUZBQWE7QUFDbkIsTUFBTSwyRUFBVTtBQUNoQixNQUFNLDZGQUFtQjtBQUN6QixNQUFNLCtFQUFZO0FBQ2xCLEtBQUssb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FBRTtBQUNoQixHQUFHLE1BQU0sRUFXTjs7QUFFSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEZsaWNraXR5IHYyLjIuMFxuICogVG91Y2gsIHJlc3BvbnNpdmUsIGZsaWNrYWJsZSBjYXJvdXNlbHNcbiAqXG4gKiBMaWNlbnNlZCBHUEx2MyBmb3Igb3BlbiBzb3VyY2UgdXNlXG4gKiBvciBGbGlja2l0eSBDb21tZXJjaWFsIExpY2Vuc2UgZm9yIGNvbW1lcmNpYWwgdXNlXG4gKlxuICogaHR0cHM6Ly9mbGlja2l0eS5tZXRhZml6enkuY29cbiAqIENvcHlyaWdodCAyMDE1LTIwMTggTWV0YWZpenp5XG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICcuL2ZsaWNraXR5JyxcbiAgICAgICcuL2RyYWcnLFxuICAgICAgJy4vcHJldi1uZXh0LWJ1dHRvbicsXG4gICAgICAnLi9wYWdlLWRvdHMnLFxuICAgICAgJy4vcGxheWVyJyxcbiAgICAgICcuL2FkZC1yZW1vdmUtY2VsbCcsXG4gICAgICAnLi9sYXp5bG9hZCdcbiAgICBdLCBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCcuL2ZsaWNraXR5JyksXG4gICAgICByZXF1aXJlKCcuL2RyYWcnKSxcbiAgICAgIHJlcXVpcmUoJy4vcHJldi1uZXh0LWJ1dHRvbicpLFxuICAgICAgcmVxdWlyZSgnLi9wYWdlLWRvdHMnKSxcbiAgICAgIHJlcXVpcmUoJy4vcGxheWVyJyksXG4gICAgICByZXF1aXJlKCcuL2FkZC1yZW1vdmUtY2VsbCcpLFxuICAgICAgcmVxdWlyZSgnLi9sYXp5bG9hZCcpXG4gICAgKTtcbiAgfVxuXG59KSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBGbGlja2l0eSApIHtcbiAgLypqc2hpbnQgc3RyaWN0OiBmYWxzZSovXG4gIHJldHVybiBGbGlja2l0eTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/index.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/lazyload.js":
/*!**********************************************!*\
  !*** ./node_modules/flickity/js/lazyload.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// lazyload\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ./flickity */ \"./node_modules/flickity/js/flickity.js\"),\n      __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  });\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvbGF6eWxvYWQuanM/OGExNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBeUM7QUFDaEQ7QUFDQSxJQUFJLGlDQUFRO0FBQ1osTUFBTSwrRUFBWTtBQUNsQixNQUFNLHlGQUFzQjtBQUM1QixLQUFLLG1DQUFFO0FBQ1A7QUFDQSxLQUFLO0FBQUEsb0dBQUM7QUFDTixHQUFHLE1BQU0sRUFjTjs7QUFFSCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9mbGlja2l0eS9qcy9sYXp5bG9hZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGxhenlsb2FkXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJy4vZmxpY2tpdHknLFxuICAgICAgJ2Zpenp5LXVpLXV0aWxzL3V0aWxzJ1xuICAgIF0sIGZ1bmN0aW9uKCBGbGlja2l0eSwgdXRpbHMgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBGbGlja2l0eSwgdXRpbHMgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJy4vZmxpY2tpdHknKSxcbiAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5GbGlja2l0eSxcbiAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHNcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBGbGlja2l0eSwgdXRpbHMgKSB7XG4ndXNlIHN0cmljdCc7XG5cbkZsaWNraXR5LmNyZWF0ZU1ldGhvZHMucHVzaCgnX2NyZWF0ZUxhenlsb2FkJyk7XG52YXIgcHJvdG8gPSBGbGlja2l0eS5wcm90b3R5cGU7XG5cbnByb3RvLl9jcmVhdGVMYXp5bG9hZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9uKCAnc2VsZWN0JywgdGhpcy5sYXp5TG9hZCApO1xufTtcblxucHJvdG8ubGF6eUxvYWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGxhenlMb2FkID0gdGhpcy5vcHRpb25zLmxhenlMb2FkO1xuICBpZiAoICFsYXp5TG9hZCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZ2V0IGFkamFjZW50IGNlbGxzLCB1c2UgbGF6eUxvYWQgb3B0aW9uIGZvciBhZGphY2VudCBjb3VudFxuICB2YXIgYWRqQ291bnQgPSB0eXBlb2YgbGF6eUxvYWQgPT0gJ251bWJlcicgPyBsYXp5TG9hZCA6IDA7XG4gIHZhciBjZWxsRWxlbXMgPSB0aGlzLmdldEFkamFjZW50Q2VsbEVsZW1lbnRzKCBhZGpDb3VudCApO1xuICAvLyBnZXQgbGF6eSBpbWFnZXMgaW4gdGhvc2UgY2VsbHNcbiAgdmFyIGxhenlJbWFnZXMgPSBbXTtcbiAgY2VsbEVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBjZWxsRWxlbSApIHtcbiAgICB2YXIgbGF6eUNlbGxJbWFnZXMgPSBnZXRDZWxsTGF6eUltYWdlcyggY2VsbEVsZW0gKTtcbiAgICBsYXp5SW1hZ2VzID0gbGF6eUltYWdlcy5jb25jYXQoIGxhenlDZWxsSW1hZ2VzICk7XG4gIH0pO1xuICAvLyBsb2FkIGxhenkgaW1hZ2VzXG4gIGxhenlJbWFnZXMuZm9yRWFjaCggZnVuY3Rpb24oIGltZyApIHtcbiAgICBuZXcgTGF6eUxvYWRlciggaW1nLCB0aGlzICk7XG4gIH0sIHRoaXMgKTtcbn07XG5cbmZ1bmN0aW9uIGdldENlbGxMYXp5SW1hZ2VzKCBjZWxsRWxlbSApIHtcbiAgLy8gY2hlY2sgaWYgY2VsbCBlbGVtZW50IGlzIGxhenkgaW1hZ2VcbiAgaWYgKCBjZWxsRWxlbS5ub2RlTmFtZSA9PSAnSU1HJyApIHtcbiAgICB2YXIgbGF6eWxvYWRBdHRyID0gY2VsbEVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWZsaWNraXR5LWxhenlsb2FkJyk7XG4gICAgdmFyIHNyY0F0dHIgPSBjZWxsRWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmxpY2tpdHktbGF6eWxvYWQtc3JjJyk7XG4gICAgdmFyIHNyY3NldEF0dHIgPSBjZWxsRWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmxpY2tpdHktbGF6eWxvYWQtc3Jjc2V0Jyk7XG4gICAgaWYgKCBsYXp5bG9hZEF0dHIgfHwgc3JjQXR0ciB8fCBzcmNzZXRBdHRyICkge1xuICAgICAgcmV0dXJuIFsgY2VsbEVsZW0gXTtcbiAgICB9XG4gIH1cbiAgLy8gc2VsZWN0IGxhenkgaW1hZ2VzIGluIGNlbGxcbiAgdmFyIGxhenlTZWxlY3RvciA9ICdpbWdbZGF0YS1mbGlja2l0eS1sYXp5bG9hZF0sICcgK1xuICAgICdpbWdbZGF0YS1mbGlja2l0eS1sYXp5bG9hZC1zcmNdLCBpbWdbZGF0YS1mbGlja2l0eS1sYXp5bG9hZC1zcmNzZXRdJztcbiAgdmFyIGltZ3MgPSBjZWxsRWxlbS5xdWVyeVNlbGVjdG9yQWxsKCBsYXp5U2VsZWN0b3IgKTtcbiAgcmV0dXJuIHV0aWxzLm1ha2VBcnJheSggaW1ncyApO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBMYXp5TG9hZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogY2xhc3MgdG8gaGFuZGxlIGxvYWRpbmcgaW1hZ2VzXG4gKi9cbmZ1bmN0aW9uIExhenlMb2FkZXIoIGltZywgZmxpY2tpdHkgKSB7XG4gIHRoaXMuaW1nID0gaW1nO1xuICB0aGlzLmZsaWNraXR5ID0gZmxpY2tpdHk7XG4gIHRoaXMubG9hZCgpO1xufVxuXG5MYXp5TG9hZGVyLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IHV0aWxzLmhhbmRsZUV2ZW50O1xuXG5MYXp5TG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIC8vIGdldCBzcmMgJiBzcmNzZXRcbiAgdmFyIHNyYyA9IHRoaXMuaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1mbGlja2l0eS1sYXp5bG9hZCcpIHx8XG4gICAgdGhpcy5pbWcuZ2V0QXR0cmlidXRlKCdkYXRhLWZsaWNraXR5LWxhenlsb2FkLXNyYycpO1xuICB2YXIgc3Jjc2V0ID0gdGhpcy5pbWcuZ2V0QXR0cmlidXRlKCdkYXRhLWZsaWNraXR5LWxhenlsb2FkLXNyY3NldCcpO1xuICAvLyBzZXQgc3JjICYgc2Vyc2V0XG4gIHRoaXMuaW1nLnNyYyA9IHNyYztcbiAgaWYgKCBzcmNzZXQgKSB7XG4gICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKCAnc3Jjc2V0Jywgc3Jjc2V0ICk7XG4gIH1cbiAgLy8gcmVtb3ZlIGF0dHJcbiAgdGhpcy5pbWcucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZsaWNraXR5LWxhenlsb2FkJyk7XG4gIHRoaXMuaW1nLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mbGlja2l0eS1sYXp5bG9hZC1zcmMnKTtcbiAgdGhpcy5pbWcucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWZsaWNraXR5LWxhenlsb2FkLXNyY3NldCcpO1xufTtcblxuTGF6eUxvYWRlci5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLmNvbXBsZXRlKCBldmVudCwgJ2ZsaWNraXR5LWxhenlsb2FkZWQnICk7XG59O1xuXG5MYXp5TG9hZGVyLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLmNvbXBsZXRlKCBldmVudCwgJ2ZsaWNraXR5LWxhenllcnJvcicgKTtcbn07XG5cbkxhenlMb2FkZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oIGV2ZW50LCBjbGFzc05hbWUgKSB7XG4gIC8vIHVuYmluZCBldmVudHNcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcblxuICB2YXIgY2VsbCA9IHRoaXMuZmxpY2tpdHkuZ2V0UGFyZW50Q2VsbCggdGhpcy5pbWcgKTtcbiAgdmFyIGNlbGxFbGVtID0gY2VsbCAmJiBjZWxsLmVsZW1lbnQ7XG4gIHRoaXMuZmxpY2tpdHkuY2VsbFNpemVDaGFuZ2UoIGNlbGxFbGVtICk7XG5cbiAgdGhpcy5pbWcuY2xhc3NMaXN0LmFkZCggY2xhc3NOYW1lICk7XG4gIHRoaXMuZmxpY2tpdHkuZGlzcGF0Y2hFdmVudCggJ2xhenlMb2FkJywgZXZlbnQsIGNlbGxFbGVtICk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxuRmxpY2tpdHkuTGF6eUxvYWRlciA9IExhenlMb2FkZXI7XG5cbnJldHVybiBGbGlja2l0eTtcblxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/lazyload.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/page-dots.js":
/*!***********************************************!*\
  !*** ./node_modules/flickity/js/page-dots.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// page dots\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ./flickity */ \"./node_modules/flickity/js/flickity.js\"),\n      __webpack_require__(/*! unipointer/unipointer */ \"./node_modules/unipointer/unipointer.js\"),\n      __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n'use strict';\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = Object.create( Unipointer.prototype );\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.handleClick = this.onClick.bind( this );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.holder.addEventListener( 'click', this.handleClick );\n  this.bindStartEvent( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  this.holder.removeEventListener( 'click', this.handleClick );\n  this.unbindStartEvent( this.holder );\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = // old method name, backwards-compatible\nPageDots.prototype.onClick = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true\n});\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvcGFnZS1kb3RzLmpzPzA2MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQXlDO0FBQ2hEO0FBQ0EsSUFBSSxpQ0FBUTtBQUNaLE1BQU0sK0VBQVk7QUFDbEIsTUFBTSwyRkFBdUI7QUFDN0IsTUFBTSx5RkFBc0I7QUFDNUIsS0FBSyxtQ0FBRTtBQUNQO0FBQ0EsS0FBSztBQUFBLG9HQUFDO0FBQ04sR0FBRyxNQUFNLEVBZ0JOOztBQUVILENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLFNBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvcGFnZS1kb3RzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZSBkb3RzXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJy4vZmxpY2tpdHknLFxuICAgICAgJ3VuaXBvaW50ZXIvdW5pcG9pbnRlcicsXG4gICAgICAnZml6enktdWktdXRpbHMvdXRpbHMnXG4gICAgXSwgZnVuY3Rpb24oIEZsaWNraXR5LCBVbmlwb2ludGVyLCB1dGlscyApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEZsaWNraXR5LCBVbmlwb2ludGVyLCB1dGlscyApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnLi9mbGlja2l0eScpLFxuICAgICAgcmVxdWlyZSgndW5pcG9pbnRlcicpLFxuICAgICAgcmVxdWlyZSgnZml6enktdWktdXRpbHMnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkZsaWNraXR5LFxuICAgICAgd2luZG93LlVuaXBvaW50ZXIsXG4gICAgICB3aW5kb3cuZml6enlVSVV0aWxzXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRmxpY2tpdHksIFVuaXBvaW50ZXIsIHV0aWxzICkge1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQYWdlRG90cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFBhZ2VEb3RzKCBwYXJlbnQgKSB7XG4gIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICB0aGlzLl9jcmVhdGUoKTtcbn1cblxuUGFnZURvdHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVW5pcG9pbnRlci5wcm90b3R5cGUgKTtcblxuUGFnZURvdHMucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgLy8gY3JlYXRlIGhvbGRlciBlbGVtZW50XG4gIHRoaXMuaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb2wnKTtcbiAgdGhpcy5ob2xkZXIuY2xhc3NOYW1lID0gJ2ZsaWNraXR5LXBhZ2UtZG90cyc7XG4gIC8vIGNyZWF0ZSBkb3RzLCBhcnJheSBvZiBlbGVtZW50c1xuICB0aGlzLmRvdHMgPSBbXTtcbiAgLy8gZXZlbnRzXG4gIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCggdGhpcyApO1xuICB0aGlzLm9uKCAncG9pbnRlckRvd24nLCB0aGlzLnBhcmVudC5jaGlsZFVJUG9pbnRlckRvd24uYmluZCggdGhpcy5wYXJlbnQgKSApO1xufTtcblxuUGFnZURvdHMucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc2V0RG90cygpO1xuICB0aGlzLmhvbGRlci5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrICk7XG4gIHRoaXMuYmluZFN0YXJ0RXZlbnQoIHRoaXMuaG9sZGVyICk7XG4gIC8vIGFkZCB0byBET01cbiAgdGhpcy5wYXJlbnQuZWxlbWVudC5hcHBlbmRDaGlsZCggdGhpcy5ob2xkZXIgKTtcbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaG9sZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2sgKTtcbiAgdGhpcy51bmJpbmRTdGFydEV2ZW50KCB0aGlzLmhvbGRlciApO1xuICAvLyByZW1vdmUgZnJvbSBET01cbiAgdGhpcy5wYXJlbnQuZWxlbWVudC5yZW1vdmVDaGlsZCggdGhpcy5ob2xkZXIgKTtcbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS5zZXREb3RzID0gZnVuY3Rpb24oKSB7XG4gIC8vIGdldCBkaWZmZXJlbmNlIGJldHdlZW4gbnVtYmVyIG9mIHNsaWRlcyBhbmQgbnVtYmVyIG9mIGRvdHNcbiAgdmFyIGRlbHRhID0gdGhpcy5wYXJlbnQuc2xpZGVzLmxlbmd0aCAtIHRoaXMuZG90cy5sZW5ndGg7XG4gIGlmICggZGVsdGEgPiAwICkge1xuICAgIHRoaXMuYWRkRG90cyggZGVsdGEgKTtcbiAgfSBlbHNlIGlmICggZGVsdGEgPCAwICkge1xuICAgIHRoaXMucmVtb3ZlRG90cyggLWRlbHRhICk7XG4gIH1cbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS5hZGREb3RzID0gZnVuY3Rpb24oIGNvdW50ICkge1xuICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIHZhciBuZXdEb3RzID0gW107XG4gIHZhciBsZW5ndGggPSB0aGlzLmRvdHMubGVuZ3RoO1xuICB2YXIgbWF4ID0gbGVuZ3RoICsgY291bnQ7XG5cbiAgZm9yICggdmFyIGkgPSBsZW5ndGg7IGkgPCBtYXg7IGkrKyApIHtcbiAgICB2YXIgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBkb3QuY2xhc3NOYW1lID0gJ2RvdCc7XG4gICAgZG90LnNldEF0dHJpYnV0ZSggJ2FyaWEtbGFiZWwnLCAnUGFnZSBkb3QgJyArICggaSArIDEgKSApO1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb3QgKTtcbiAgICBuZXdEb3RzLnB1c2goIGRvdCApO1xuICB9XG5cbiAgdGhpcy5ob2xkZXIuYXBwZW5kQ2hpbGQoIGZyYWdtZW50ICk7XG4gIHRoaXMuZG90cyA9IHRoaXMuZG90cy5jb25jYXQoIG5ld0RvdHMgKTtcbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS5yZW1vdmVEb3RzID0gZnVuY3Rpb24oIGNvdW50ICkge1xuICAvLyByZW1vdmUgZnJvbSB0aGlzLmRvdHMgY29sbGVjdGlvblxuICB2YXIgcmVtb3ZlRG90cyA9IHRoaXMuZG90cy5zcGxpY2UoIHRoaXMuZG90cy5sZW5ndGggLSBjb3VudCwgY291bnQgKTtcbiAgLy8gcmVtb3ZlIGZyb20gRE9NXG4gIHJlbW92ZURvdHMuZm9yRWFjaCggZnVuY3Rpb24oIGRvdCApIHtcbiAgICB0aGlzLmhvbGRlci5yZW1vdmVDaGlsZCggZG90ICk7XG4gIH0sIHRoaXMgKTtcbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS51cGRhdGVTZWxlY3RlZCA9IGZ1bmN0aW9uKCkge1xuICAvLyByZW1vdmUgc2VsZWN0ZWQgY2xhc3Mgb24gcHJldmlvdXNcbiAgaWYgKCB0aGlzLnNlbGVjdGVkRG90ICkge1xuICAgIHRoaXMuc2VsZWN0ZWREb3QuY2xhc3NOYW1lID0gJ2RvdCc7XG4gICAgdGhpcy5zZWxlY3RlZERvdC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICB9XG4gIC8vIGRvbid0IHByb2NlZWQgaWYgbm8gZG90c1xuICBpZiAoICF0aGlzLmRvdHMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnNlbGVjdGVkRG90ID0gdGhpcy5kb3RzWyB0aGlzLnBhcmVudC5zZWxlY3RlZEluZGV4IF07XG4gIHRoaXMuc2VsZWN0ZWREb3QuY2xhc3NOYW1lID0gJ2RvdCBpcy1zZWxlY3RlZCc7XG4gIHRoaXMuc2VsZWN0ZWREb3Quc2V0QXR0cmlidXRlKCAnYXJpYS1jdXJyZW50JywgJ3N0ZXAnICk7XG59O1xuXG5QYWdlRG90cy5wcm90b3R5cGUub25UYXAgPSAvLyBvbGQgbWV0aG9kIG5hbWUsIGJhY2t3YXJkcy1jb21wYXRpYmxlXG5QYWdlRG90cy5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgLy8gb25seSBjYXJlIGFib3V0IGRvdCBjbGlja3NcbiAgaWYgKCB0YXJnZXQubm9kZU5hbWUgIT0gJ0xJJyApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnBhcmVudC51aUNoYW5nZSgpO1xuICB2YXIgaW5kZXggPSB0aGlzLmRvdHMuaW5kZXhPZiggdGFyZ2V0ICk7XG4gIHRoaXMucGFyZW50LnNlbGVjdCggaW5kZXggKTtcbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICB0aGlzLmFsbE9mZigpO1xufTtcblxuRmxpY2tpdHkuUGFnZURvdHMgPSBQYWdlRG90cztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRmxpY2tpdHkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudXRpbHMuZXh0ZW5kKCBGbGlja2l0eS5kZWZhdWx0cywge1xuICBwYWdlRG90czogdHJ1ZVxufSk7XG5cbkZsaWNraXR5LmNyZWF0ZU1ldGhvZHMucHVzaCgnX2NyZWF0ZVBhZ2VEb3RzJyk7XG5cbnZhciBwcm90byA9IEZsaWNraXR5LnByb3RvdHlwZTtcblxucHJvdG8uX2NyZWF0ZVBhZ2VEb3RzID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMub3B0aW9ucy5wYWdlRG90cyApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5wYWdlRG90cyA9IG5ldyBQYWdlRG90cyggdGhpcyApO1xuICAvLyBldmVudHNcbiAgdGhpcy5vbiggJ2FjdGl2YXRlJywgdGhpcy5hY3RpdmF0ZVBhZ2VEb3RzICk7XG4gIHRoaXMub24oICdzZWxlY3QnLCB0aGlzLnVwZGF0ZVNlbGVjdGVkUGFnZURvdHMgKTtcbiAgdGhpcy5vbiggJ2NlbGxDaGFuZ2UnLCB0aGlzLnVwZGF0ZVBhZ2VEb3RzICk7XG4gIHRoaXMub24oICdyZXNpemUnLCB0aGlzLnVwZGF0ZVBhZ2VEb3RzICk7XG4gIHRoaXMub24oICdkZWFjdGl2YXRlJywgdGhpcy5kZWFjdGl2YXRlUGFnZURvdHMgKTtcbn07XG5cbnByb3RvLmFjdGl2YXRlUGFnZURvdHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wYWdlRG90cy5hY3RpdmF0ZSgpO1xufTtcblxucHJvdG8udXBkYXRlU2VsZWN0ZWRQYWdlRG90cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhZ2VEb3RzLnVwZGF0ZVNlbGVjdGVkKCk7XG59O1xuXG5wcm90by51cGRhdGVQYWdlRG90cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhZ2VEb3RzLnNldERvdHMoKTtcbn07XG5cbnByb3RvLmRlYWN0aXZhdGVQYWdlRG90cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhZ2VEb3RzLmRlYWN0aXZhdGUoKTtcbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5GbGlja2l0eS5QYWdlRG90cyA9IFBhZ2VEb3RzO1xuXG5yZXR1cm4gRmxpY2tpdHk7XG5cbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/page-dots.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/player.js":
/*!********************************************!*\
  !*** ./node_modules/flickity/js/player.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ev-emitter/ev-emitter */ \"./node_modules/ev-emitter/ev-emitter.js\"),\n      __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\"),\n      __webpack_require__(/*! ./flickity */ \"./node_modules/flickity/js/flickity.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n'use strict';\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true\n});\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvcGxheWVyLmpzP2IxOGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQXlDO0FBQ2hEO0FBQ0EsSUFBSSxpQ0FBUTtBQUNaLE1BQU0sMkZBQXVCO0FBQzdCLE1BQU0seUZBQXNCO0FBQzVCLE1BQU0sK0VBQVk7QUFDbEIsS0FBSyxtQ0FBRTtBQUNQO0FBQ0EsS0FBSztBQUFBLG9HQUFDO0FBQ04sR0FBRyxNQUFNLEVBY047O0FBRUgsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvcGxheWVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcGxheWVyICYgYXV0b1BsYXlcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnZXYtZW1pdHRlci9ldi1lbWl0dGVyJyxcbiAgICAgICdmaXp6eS11aS11dGlscy91dGlscycsXG4gICAgICAnLi9mbGlja2l0eSdcbiAgICBdLCBmdW5jdGlvbiggRXZFbWl0dGVyLCB1dGlscywgRmxpY2tpdHkgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggRXZFbWl0dGVyLCB1dGlscywgRmxpY2tpdHkgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJyksXG4gICAgICByZXF1aXJlKCcuL2ZsaWNraXR5JylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeShcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXIsXG4gICAgICB3aW5kb3cuZml6enlVSVV0aWxzLFxuICAgICAgd2luZG93LkZsaWNraXR5XG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIEV2RW1pdHRlciwgdXRpbHMsIEZsaWNraXR5ICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFBsYXllciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBQbGF5ZXIoIHBhcmVudCApIHtcbiAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gIHRoaXMuc3RhdGUgPSAnc3RvcHBlZCc7XG4gIC8vIHZpc2liaWxpdHkgY2hhbmdlIGV2ZW50IGhhbmRsZXJcbiAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLnZpc2liaWxpdHlDaGFuZ2UuYmluZCggdGhpcyApO1xuICB0aGlzLm9uVmlzaWJpbGl0eVBsYXkgPSB0aGlzLnZpc2liaWxpdHlQbGF5LmJpbmQoIHRoaXMgKTtcbn1cblxuUGxheWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblxuLy8gc3RhcnQgcGxheVxuUGxheWVyLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5zdGF0ZSA9PSAncGxheWluZycgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGRvIG5vdCBwbGF5IGlmIHBhZ2UgaXMgaGlkZGVuLCBzdGFydCBwbGF5aW5nIHdoZW4gcGFnZSBpcyB2aXNpYmxlXG4gIHZhciBpc1BhZ2VIaWRkZW4gPSBkb2N1bWVudC5oaWRkZW47XG4gIGlmICggaXNQYWdlSGlkZGVuICkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlQbGF5ICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5zdGF0ZSA9ICdwbGF5aW5nJztcbiAgLy8gbGlzdGVuIHRvIHZpc2liaWxpdHkgY2hhbmdlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgKTtcbiAgLy8gc3RhcnQgdGlja2luZ1xuICB0aGlzLnRpY2soKTtcbn07XG5cblBsYXllci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uKCkge1xuICAvLyBkbyBub3QgdGljayBpZiBub3QgcGxheWluZ1xuICBpZiAoIHRoaXMuc3RhdGUgIT0gJ3BsYXlpbmcnICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0aW1lID0gdGhpcy5wYXJlbnQub3B0aW9ucy5hdXRvUGxheTtcbiAgLy8gZGVmYXVsdCB0byAzIHNlY29uZHNcbiAgdGltZSA9IHR5cGVvZiB0aW1lID09ICdudW1iZXInID8gdGltZSA6IDMwMDA7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIC8vIEhBQ0s6IHJlc2V0IHRpY2tzIGlmIHN0b3BwZWQgYW5kIHN0YXJ0ZWQgd2l0aGluIGludGVydmFsXG4gIHRoaXMuY2xlYXIoKTtcbiAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgX3RoaXMucGFyZW50Lm5leHQoIHRydWUgKTtcbiAgICBfdGhpcy50aWNrKCk7XG4gIH0sIHRpbWUgKTtcbn07XG5cblBsYXllci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnN0YXRlID0gJ3N0b3BwZWQnO1xuICB0aGlzLmNsZWFyKCk7XG4gIC8vIHJlbW92ZSB2aXNpYmlsaXR5IGNoYW5nZSBldmVudFxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlICk7XG59O1xuXG5QbGF5ZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIGNsZWFyVGltZW91dCggdGhpcy50aW1lb3V0ICk7XG59O1xuXG5QbGF5ZXIucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5zdGF0ZSA9PSAncGxheWluZycgKSB7XG4gICAgdGhpcy5zdGF0ZSA9ICdwYXVzZWQnO1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgfVxufTtcblxuUGxheWVyLnByb3RvdHlwZS51bnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gIC8vIHJlLXN0YXJ0IHBsYXkgaWYgcGF1c2VkXG4gIGlmICggdGhpcy5zdGF0ZSA9PSAncGF1c2VkJyApIHtcbiAgICB0aGlzLnBsYXkoKTtcbiAgfVxufTtcblxuLy8gcGF1c2UgaWYgcGFnZSB2aXNpYmlsaXR5IGlzIGhpZGRlbiwgdW5wYXVzZSBpZiB2aXNpYmxlXG5QbGF5ZXIucHJvdG90eXBlLnZpc2liaWxpdHlDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGlzUGFnZUhpZGRlbiA9IGRvY3VtZW50LmhpZGRlbjtcbiAgdGhpc1sgaXNQYWdlSGlkZGVuID8gJ3BhdXNlJyA6ICd1bnBhdXNlJyBdKCk7XG59O1xuXG5QbGF5ZXIucHJvdG90eXBlLnZpc2liaWxpdHlQbGF5ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucGxheSgpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMub25WaXNpYmlsaXR5UGxheSApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRmxpY2tpdHkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudXRpbHMuZXh0ZW5kKCBGbGlja2l0eS5kZWZhdWx0cywge1xuICBwYXVzZUF1dG9QbGF5T25Ib3ZlcjogdHJ1ZVxufSk7XG5cbkZsaWNraXR5LmNyZWF0ZU1ldGhvZHMucHVzaCgnX2NyZWF0ZVBsYXllcicpO1xudmFyIHByb3RvID0gRmxpY2tpdHkucHJvdG90eXBlO1xuXG5wcm90by5fY3JlYXRlUGxheWVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucGxheWVyID0gbmV3IFBsYXllciggdGhpcyApO1xuXG4gIHRoaXMub24oICdhY3RpdmF0ZScsIHRoaXMuYWN0aXZhdGVQbGF5ZXIgKTtcbiAgdGhpcy5vbiggJ3VpQ2hhbmdlJywgdGhpcy5zdG9wUGxheWVyICk7XG4gIHRoaXMub24oICdwb2ludGVyRG93bicsIHRoaXMuc3RvcFBsYXllciApO1xuICB0aGlzLm9uKCAnZGVhY3RpdmF0ZScsIHRoaXMuZGVhY3RpdmF0ZVBsYXllciApO1xufTtcblxucHJvdG8uYWN0aXZhdGVQbGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5vcHRpb25zLmF1dG9QbGF5ICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnBsYXllci5wbGF5KCk7XG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2VlbnRlcicsIHRoaXMgKTtcbn07XG5cbi8vIFBsYXllciBBUEksIGRvbid0IGhhdGUgdGhlIC4uLiB0aGFua3MgSSBrbm93IHdoZXJlIHRoZSBkb29yIGlzXG5cbnByb3RvLnBsYXlQbGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wbGF5ZXIucGxheSgpO1xufTtcblxucHJvdG8uc3RvcFBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci5zdG9wKCk7XG59O1xuXG5wcm90by5wYXVzZVBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci5wYXVzZSgpO1xufTtcblxucHJvdG8udW5wYXVzZVBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci51bnBhdXNlKCk7XG59O1xuXG5wcm90by5kZWFjdGl2YXRlUGxheWVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucGxheWVyLnN0b3AoKTtcbiAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZWVudGVyJywgdGhpcyApO1xufTtcblxuLy8gLS0tLS0gbW91c2VlbnRlci9sZWF2ZSAtLS0tLSAvL1xuXG4vLyBwYXVzZSBhdXRvLXBsYXkgb24gaG92ZXJcbnByb3RvLm9ubW91c2VlbnRlciA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLm9wdGlvbnMucGF1c2VBdXRvUGxheU9uSG92ZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMucGxheWVyLnBhdXNlKCk7XG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2VsZWF2ZScsIHRoaXMgKTtcbn07XG5cbi8vIHJlc3VtZSBhdXRvLXBsYXkgb24gaG92ZXIgb2ZmXG5wcm90by5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wbGF5ZXIudW5wYXVzZSgpO1xuICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNlbGVhdmUnLCB0aGlzICk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxuRmxpY2tpdHkuUGxheWVyID0gUGxheWVyO1xuXG5yZXR1cm4gRmxpY2tpdHk7XG5cbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/player.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/prev-next-button.js":
/*!******************************************************!*\
  !*** ./node_modules/flickity/js/prev-next-button.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ./flickity */ \"./node_modules/flickity/js/flickity.js\"),\n      __webpack_require__(/*! unipointer/unipointer */ \"./node_modules/unipointer/unipointer.js\"),\n      __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( Unipointer.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindStartEvent( this.element );\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // click events\n  this.unbindStartEvent( this.element );\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg');\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path');\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30\n  }\n});\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvcHJldi1uZXh0LWJ1dHRvbi5qcz9jZmI2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUF5QztBQUNoRDtBQUNBLElBQUksaUNBQVE7QUFDWixNQUFNLCtFQUFZO0FBQ2xCLE1BQU0sMkZBQXVCO0FBQzdCLE1BQU0seUZBQXNCO0FBQzVCLEtBQUssbUNBQUU7QUFDUDtBQUNBLEtBQUs7QUFBQSxvR0FBQztBQUNOLEdBQUcsTUFBTSxFQWdCTjs7QUFFSCxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9mbGlja2l0eS9qcy9wcmV2LW5leHQtYnV0dG9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcHJldi9uZXh0IGJ1dHRvbnNcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnLi9mbGlja2l0eScsXG4gICAgICAndW5pcG9pbnRlci91bmlwb2ludGVyJyxcbiAgICAgICdmaXp6eS11aS11dGlscy91dGlscydcbiAgICBdLCBmdW5jdGlvbiggRmxpY2tpdHksIFVuaXBvaW50ZXIsIHV0aWxzICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgRmxpY2tpdHksIFVuaXBvaW50ZXIsIHV0aWxzICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCcuL2ZsaWNraXR5JyksXG4gICAgICByZXF1aXJlKCd1bmlwb2ludGVyJyksXG4gICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cuRmxpY2tpdHksXG4gICAgICB3aW5kb3cuVW5pcG9pbnRlcixcbiAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHNcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBGbGlja2l0eSwgVW5pcG9pbnRlciwgdXRpbHMgKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdmdVUkkgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQcmV2TmV4dEJ1dHRvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBQcmV2TmV4dEJ1dHRvbiggZGlyZWN0aW9uLCBwYXJlbnQgKSB7XG4gIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fY3JlYXRlKCk7XG59XG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFVuaXBvaW50ZXIucHJvdG90eXBlICk7XG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIHByb3BlcnRpZXNcbiAgdGhpcy5pc0VuYWJsZWQgPSB0cnVlO1xuICB0aGlzLmlzUHJldmlvdXMgPSB0aGlzLmRpcmVjdGlvbiA9PSAtMTtcbiAgdmFyIGxlZnREaXJlY3Rpb24gPSB0aGlzLnBhcmVudC5vcHRpb25zLnJpZ2h0VG9MZWZ0ID8gMSA6IC0xO1xuICB0aGlzLmlzTGVmdCA9IHRoaXMuZGlyZWN0aW9uID09IGxlZnREaXJlY3Rpb247XG5cbiAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgZWxlbWVudC5jbGFzc05hbWUgPSAnZmxpY2tpdHktYnV0dG9uIGZsaWNraXR5LXByZXYtbmV4dC1idXR0b24nO1xuICBlbGVtZW50LmNsYXNzTmFtZSArPSB0aGlzLmlzUHJldmlvdXMgPyAnIHByZXZpb3VzJyA6ICcgbmV4dCc7XG4gIC8vIHByZXZlbnQgYnV0dG9uIGZyb20gc3VibWl0dGluZyBmb3JtIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwODM2MDc2LzE4MjE4M1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZSggJ3R5cGUnLCAnYnV0dG9uJyApO1xuICAvLyBpbml0IGFzIGRpc2FibGVkXG4gIHRoaXMuZGlzYWJsZSgpO1xuXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnYXJpYS1sYWJlbCcsIHRoaXMuaXNQcmV2aW91cyA/ICdQcmV2aW91cycgOiAnTmV4dCcgKTtcblxuICAvLyBjcmVhdGUgYXJyb3dcbiAgdmFyIHN2ZyA9IHRoaXMuY3JlYXRlU1ZHKCk7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoIHN2ZyApO1xuICAvLyBldmVudHNcbiAgdGhpcy5wYXJlbnQub24oICdzZWxlY3QnLCB0aGlzLnVwZGF0ZS5iaW5kKCB0aGlzICkgKTtcbiAgdGhpcy5vbiggJ3BvaW50ZXJEb3duJywgdGhpcy5wYXJlbnQuY2hpbGRVSVBvaW50ZXJEb3duLmJpbmQoIHRoaXMucGFyZW50ICkgKTtcbn07XG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmJpbmRTdGFydEV2ZW50KCB0aGlzLmVsZW1lbnQgKTtcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIHRoaXMgKTtcbiAgLy8gYWRkIHRvIERPTVxuICB0aGlzLnBhcmVudC5lbGVtZW50LmFwcGVuZENoaWxkKCB0aGlzLmVsZW1lbnQgKTtcbn07XG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIHJlbW92ZSBmcm9tIERPTVxuICB0aGlzLnBhcmVudC5lbGVtZW50LnJlbW92ZUNoaWxkKCB0aGlzLmVsZW1lbnQgKTtcbiAgLy8gY2xpY2sgZXZlbnRzXG4gIHRoaXMudW5iaW5kU3RhcnRFdmVudCggdGhpcy5lbGVtZW50ICk7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnY2xpY2snLCB0aGlzICk7XG59O1xuXG5QcmV2TmV4dEJ1dHRvbi5wcm90b3R5cGUuY3JlYXRlU1ZHID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoIHN2Z1VSSSwgJ3N2ZycpO1xuICBzdmcuc2V0QXR0cmlidXRlKCAnY2xhc3MnLCAnZmxpY2tpdHktYnV0dG9uLWljb24nICk7XG4gIHN2Zy5zZXRBdHRyaWJ1dGUoICd2aWV3Qm94JywgJzAgMCAxMDAgMTAwJyApO1xuICB2YXIgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyggc3ZnVVJJLCAncGF0aCcpO1xuICB2YXIgcGF0aE1vdmVtZW50cyA9IGdldEFycm93TW92ZW1lbnRzKCB0aGlzLnBhcmVudC5vcHRpb25zLmFycm93U2hhcGUgKTtcbiAgcGF0aC5zZXRBdHRyaWJ1dGUoICdkJywgcGF0aE1vdmVtZW50cyApO1xuICBwYXRoLnNldEF0dHJpYnV0ZSggJ2NsYXNzJywgJ2Fycm93JyApO1xuICAvLyByb3RhdGUgYXJyb3dcbiAgaWYgKCAhdGhpcy5pc0xlZnQgKSB7XG4gICAgcGF0aC5zZXRBdHRyaWJ1dGUoICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDEwMCwgMTAwKSByb3RhdGUoMTgwKSAnICk7XG4gIH1cbiAgc3ZnLmFwcGVuZENoaWxkKCBwYXRoICk7XG4gIHJldHVybiBzdmc7XG59O1xuXG4vLyBnZXQgU1ZHIHBhdGggbW92bWVtZW50XG5mdW5jdGlvbiBnZXRBcnJvd01vdmVtZW50cyggc2hhcGUgKSB7XG4gIC8vIHVzZSBzaGFwZSBhcyBtb3ZlbWVudCBpZiBzdHJpbmdcbiAgaWYgKCB0eXBlb2Ygc2hhcGUgPT0gJ3N0cmluZycgKSB7XG4gICAgcmV0dXJuIHNoYXBlO1xuICB9XG4gIC8vIGNyZWF0ZSBtb3ZlbWVudCBzdHJpbmdcbiAgcmV0dXJuICdNICcgKyBzaGFwZS54MCArICcsNTAnICtcbiAgICAnIEwgJyArIHNoYXBlLngxICsgJywnICsgKCBzaGFwZS55MSArIDUwICkgK1xuICAgICcgTCAnICsgc2hhcGUueDIgKyAnLCcgKyAoIHNoYXBlLnkyICsgNTAgKSArXG4gICAgJyBMICcgKyBzaGFwZS54MyArICcsNTAgJyArXG4gICAgJyBMICcgKyBzaGFwZS54MiArICcsJyArICggNTAgLSBzaGFwZS55MiApICtcbiAgICAnIEwgJyArIHNoYXBlLngxICsgJywnICsgKCA1MCAtIHNoYXBlLnkxICkgK1xuICAgICcgWic7XG59XG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IHV0aWxzLmhhbmRsZUV2ZW50O1xuXG5QcmV2TmV4dEJ1dHRvbi5wcm90b3R5cGUub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLmlzRW5hYmxlZCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5wYXJlbnQudWlDaGFuZ2UoKTtcbiAgdmFyIG1ldGhvZCA9IHRoaXMuaXNQcmV2aW91cyA/ICdwcmV2aW91cycgOiAnbmV4dCc7XG4gIHRoaXMucGFyZW50WyBtZXRob2QgXSgpO1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCB0aGlzLmlzRW5hYmxlZCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gIHRoaXMuaXNFbmFibGVkID0gdHJ1ZTtcbn07XG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMuaXNFbmFibGVkICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB0aGlzLmlzRW5hYmxlZCA9IGZhbHNlO1xufTtcblxuUHJldk5leHRCdXR0b24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBpbmRleCBvZiBmaXJzdCBvciBsYXN0IHNsaWRlLCBpZiBwcmV2aW91cyBvciBuZXh0XG4gIHZhciBzbGlkZXMgPSB0aGlzLnBhcmVudC5zbGlkZXM7XG4gIC8vIGVuYWJsZSBpcyB3cmFwQXJvdW5kIGFuZCBhdCBsZWFzdCAyIHNsaWRlc1xuICBpZiAoIHRoaXMucGFyZW50Lm9wdGlvbnMud3JhcEFyb3VuZCAmJiBzbGlkZXMubGVuZ3RoID4gMSApIHtcbiAgICB0aGlzLmVuYWJsZSgpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gc2xpZGVzLmxlbmd0aCA/IHNsaWRlcy5sZW5ndGggLSAxIDogMDtcbiAgdmFyIGJvdW5kSW5kZXggPSB0aGlzLmlzUHJldmlvdXMgPyAwIDogbGFzdEluZGV4O1xuICB2YXIgbWV0aG9kID0gdGhpcy5wYXJlbnQuc2VsZWN0ZWRJbmRleCA9PSBib3VuZEluZGV4ID8gJ2Rpc2FibGUnIDogJ2VuYWJsZSc7XG4gIHRoaXNbIG1ldGhvZCBdKCk7XG59O1xuXG5QcmV2TmV4dEJ1dHRvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgdGhpcy5hbGxPZmYoKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZsaWNraXR5IHByb3RvdHlwZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG51dGlscy5leHRlbmQoIEZsaWNraXR5LmRlZmF1bHRzLCB7XG4gIHByZXZOZXh0QnV0dG9uczogdHJ1ZSxcbiAgYXJyb3dTaGFwZToge1xuICAgIHgwOiAxMCxcbiAgICB4MTogNjAsIHkxOiA1MCxcbiAgICB4MjogNzAsIHkyOiA0MCxcbiAgICB4MzogMzBcbiAgfVxufSk7XG5cbkZsaWNraXR5LmNyZWF0ZU1ldGhvZHMucHVzaCgnX2NyZWF0ZVByZXZOZXh0QnV0dG9ucycpO1xudmFyIHByb3RvID0gRmxpY2tpdHkucHJvdG90eXBlO1xuXG5wcm90by5fY3JlYXRlUHJldk5leHRCdXR0b25zID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMub3B0aW9ucy5wcmV2TmV4dEJ1dHRvbnMgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5wcmV2QnV0dG9uID0gbmV3IFByZXZOZXh0QnV0dG9uKCAtMSwgdGhpcyApO1xuICB0aGlzLm5leHRCdXR0b24gPSBuZXcgUHJldk5leHRCdXR0b24oIDEsIHRoaXMgKTtcblxuICB0aGlzLm9uKCAnYWN0aXZhdGUnLCB0aGlzLmFjdGl2YXRlUHJldk5leHRCdXR0b25zICk7XG59O1xuXG5wcm90by5hY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnByZXZCdXR0b24uYWN0aXZhdGUoKTtcbiAgdGhpcy5uZXh0QnV0dG9uLmFjdGl2YXRlKCk7XG4gIHRoaXMub24oICdkZWFjdGl2YXRlJywgdGhpcy5kZWFjdGl2YXRlUHJldk5leHRCdXR0b25zICk7XG59O1xuXG5wcm90by5kZWFjdGl2YXRlUHJldk5leHRCdXR0b25zID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJldkJ1dHRvbi5kZWFjdGl2YXRlKCk7XG4gIHRoaXMubmV4dEJ1dHRvbi5kZWFjdGl2YXRlKCk7XG4gIHRoaXMub2ZmKCAnZGVhY3RpdmF0ZScsIHRoaXMuZGVhY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbkZsaWNraXR5LlByZXZOZXh0QnV0dG9uID0gUHJldk5leHRCdXR0b247XG5cbnJldHVybiBGbGlja2l0eTtcblxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/prev-next-button.js\n");

/***/ }),

/***/ "./node_modules/flickity/js/slide.js":
/*!*******************************************!*\
  !*** ./node_modules/flickity/js/slide.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;// slide\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.cells.forEach( function( cell ) {\n    cell.select();\n  });\n};\n\nproto.unselect = function() {\n  this.cells.forEach( function( cell ) {\n    cell.unselect();\n  });\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\nreturn Slide;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvc2xpZGUuanM/NzY1MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBeUM7QUFDaEQ7QUFDQSxJQUFJLG9DQUFRLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQSxvR0FBRTtBQUNyQixHQUFHLE1BQU0sRUFPTjs7QUFFSCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2ZsaWNraXR5L2pzL3NsaWRlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc2xpZGVcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5GbGlja2l0eSA9IHdpbmRvdy5GbGlja2l0eSB8fCB7fTtcbiAgICB3aW5kb3cuRmxpY2tpdHkuU2xpZGUgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBTbGlkZSggcGFyZW50ICkge1xuICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5pc09yaWdpbkxlZnQgPSBwYXJlbnQub3JpZ2luU2lkZSA9PSAnbGVmdCc7XG4gIHRoaXMuY2VsbHMgPSBbXTtcbiAgdGhpcy5vdXRlcldpZHRoID0gMDtcbiAgdGhpcy5oZWlnaHQgPSAwO1xufVxuXG52YXIgcHJvdG8gPSBTbGlkZS5wcm90b3R5cGU7XG5cbnByb3RvLmFkZENlbGwgPSBmdW5jdGlvbiggY2VsbCApIHtcbiAgdGhpcy5jZWxscy5wdXNoKCBjZWxsICk7XG4gIHRoaXMub3V0ZXJXaWR0aCArPSBjZWxsLnNpemUub3V0ZXJXaWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCggY2VsbC5zaXplLm91dGVySGVpZ2h0LCB0aGlzLmhlaWdodCApO1xuICAvLyBmaXJzdCBjZWxsIHN0dWZmXG4gIGlmICggdGhpcy5jZWxscy5sZW5ndGggPT0gMSApIHtcbiAgICB0aGlzLnggPSBjZWxsLng7IC8vIHggY29tZXMgZnJvbSBmaXJzdCBjZWxsXG4gICAgdmFyIGJlZ2luTWFyZ2luID0gdGhpcy5pc09yaWdpbkxlZnQgPyAnbWFyZ2luTGVmdCcgOiAnbWFyZ2luUmlnaHQnO1xuICAgIHRoaXMuZmlyc3RNYXJnaW4gPSBjZWxsLnNpemVbIGJlZ2luTWFyZ2luIF07XG4gIH1cbn07XG5cbnByb3RvLnVwZGF0ZVRhcmdldCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZW5kTWFyZ2luID0gdGhpcy5pc09yaWdpbkxlZnQgPyAnbWFyZ2luUmlnaHQnIDogJ21hcmdpbkxlZnQnO1xuICB2YXIgbGFzdENlbGwgPSB0aGlzLmdldExhc3RDZWxsKCk7XG4gIHZhciBsYXN0TWFyZ2luID0gbGFzdENlbGwgPyBsYXN0Q2VsbC5zaXplWyBlbmRNYXJnaW4gXSA6IDA7XG4gIHZhciBzbGlkZVdpZHRoID0gdGhpcy5vdXRlcldpZHRoIC0gKCB0aGlzLmZpcnN0TWFyZ2luICsgbGFzdE1hcmdpbiApO1xuICB0aGlzLnRhcmdldCA9IHRoaXMueCArIHRoaXMuZmlyc3RNYXJnaW4gKyBzbGlkZVdpZHRoICogdGhpcy5wYXJlbnQuY2VsbEFsaWduO1xufTtcblxucHJvdG8uZ2V0TGFzdENlbGwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2VsbHNbIHRoaXMuY2VsbHMubGVuZ3RoIC0gMSBdO1xufTtcblxucHJvdG8uc2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY2VsbHMuZm9yRWFjaCggZnVuY3Rpb24oIGNlbGwgKSB7XG4gICAgY2VsbC5zZWxlY3QoKTtcbiAgfSk7XG59O1xuXG5wcm90by51bnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNlbGxzLmZvckVhY2goIGZ1bmN0aW9uKCBjZWxsICkge1xuICAgIGNlbGwudW5zZWxlY3QoKTtcbiAgfSk7XG59O1xuXG5wcm90by5nZXRDZWxsRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2VsbHMubWFwKCBmdW5jdGlvbiggY2VsbCApIHtcbiAgICByZXR1cm4gY2VsbC5lbGVtZW50O1xuICB9KTtcbn07XG5cbnJldHVybiBTbGlkZTtcblxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/flickity/js/slide.js\n");

/***/ }),

/***/ "./node_modules/get-size/get-size.js":
/*!*******************************************!*\
  !*** ./node_modules/get-size/get-size.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ2V0LXNpemUvZ2V0LXNpemUuanM/NDBhZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU8sSUFBeUM7QUFDaEQ7QUFDQSxJQUFJLG9DQUFRLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQSxvR0FBRTtBQUNyQixHQUFHLE1BQU0sRUFNTjs7QUFFSCxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0JBQXdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGdCQUFnQix3QkFBd0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZXQtc2l6ZS9nZXQtc2l6ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogZ2V0U2l6ZSB2Mi4wLjNcbiAqIG1lYXN1cmUgc2l6ZSBvZiBlbGVtZW50c1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgc3RyaWN0OiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlICovXG4vKiBnbG9iYWxzIGNvbnNvbGU6IGZhbHNlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuZ2V0U2l6ZSA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGdldCBhIG51bWJlciBmcm9tIGEgc3RyaW5nLCBub3QgYSBwZXJjZW50YWdlXG5mdW5jdGlvbiBnZXRTdHlsZVNpemUoIHZhbHVlICkge1xuICB2YXIgbnVtID0gcGFyc2VGbG9hdCggdmFsdWUgKTtcbiAgLy8gbm90IGEgcGVyY2VudCBsaWtlICcxMDAlJywgYW5kIGEgbnVtYmVyXG4gIHZhciBpc1ZhbGlkID0gdmFsdWUuaW5kZXhPZignJScpID09IC0xICYmICFpc05hTiggbnVtICk7XG4gIHJldHVybiBpc1ZhbGlkICYmIG51bTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBsb2dFcnJvciA9IHR5cGVvZiBjb25zb2xlID09ICd1bmRlZmluZWQnID8gbm9vcCA6XG4gIGZ1bmN0aW9uKCBtZXNzYWdlICkge1xuICAgIGNvbnNvbGUuZXJyb3IoIG1lc3NhZ2UgKTtcbiAgfTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbWVhc3VyZW1lbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciBtZWFzdXJlbWVudHMgPSBbXG4gICdwYWRkaW5nTGVmdCcsXG4gICdwYWRkaW5nUmlnaHQnLFxuICAncGFkZGluZ1RvcCcsXG4gICdwYWRkaW5nQm90dG9tJyxcbiAgJ21hcmdpbkxlZnQnLFxuICAnbWFyZ2luUmlnaHQnLFxuICAnbWFyZ2luVG9wJyxcbiAgJ21hcmdpbkJvdHRvbScsXG4gICdib3JkZXJMZWZ0V2lkdGgnLFxuICAnYm9yZGVyUmlnaHRXaWR0aCcsXG4gICdib3JkZXJUb3BXaWR0aCcsXG4gICdib3JkZXJCb3R0b21XaWR0aCdcbl07XG5cbnZhciBtZWFzdXJlbWVudHNMZW5ndGggPSBtZWFzdXJlbWVudHMubGVuZ3RoO1xuXG5mdW5jdGlvbiBnZXRaZXJvU2l6ZSgpIHtcbiAgdmFyIHNpemUgPSB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIGlubmVyV2lkdGg6IDAsXG4gICAgaW5uZXJIZWlnaHQ6IDAsXG4gICAgb3V0ZXJXaWR0aDogMCxcbiAgICBvdXRlckhlaWdodDogMFxuICB9O1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgbWVhc3VyZW1lbnRzTGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHNpemVbIG1lYXN1cmVtZW50IF0gPSAwO1xuICB9XG4gIHJldHVybiBzaXplO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBnZXRTdHlsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGdldFN0eWxlLCBnZXQgc3R5bGUgb2YgZWxlbWVudCwgY2hlY2sgZm9yIEZpcmVmb3ggYnVnXG4gKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NDgzOTdcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGUoIGVsZW0gKSB7XG4gIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcbiAgaWYgKCAhc3R5bGUgKSB7XG4gICAgbG9nRXJyb3IoICdTdHlsZSByZXR1cm5lZCAnICsgc3R5bGUgK1xuICAgICAgJy4gQXJlIHlvdSBydW5uaW5nIHRoaXMgY29kZSBpbiBhIGhpZGRlbiBpZnJhbWUgb24gRmlyZWZveD8gJyArXG4gICAgICAnU2VlIGh0dHBzOi8vYml0Lmx5L2dldHNpemVidWcxJyApO1xuICB9XG4gIHJldHVybiBzdHlsZTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gc2V0dXAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudmFyIGlzU2V0dXAgPSBmYWxzZTtcblxudmFyIGlzQm94U2l6ZU91dGVyO1xuXG4vKipcbiAqIHNldHVwXG4gKiBjaGVjayBpc0JveFNpemVyT3V0ZXJcbiAqIGRvIG9uIGZpcnN0IGdldFNpemUoKSByYXRoZXIgdGhhbiBvbiBwYWdlIGxvYWQgZm9yIEZpcmVmb3ggYnVnXG4gKi9cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAvLyBzZXR1cCBvbmNlXG4gIGlmICggaXNTZXR1cCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaXNTZXR1cCA9IHRydWU7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYm94IHNpemluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8qKlxuICAgKiBDaHJvbWUgJiBTYWZhcmkgbWVhc3VyZSB0aGUgb3V0ZXItd2lkdGggb24gc3R5bGUud2lkdGggb24gYm9yZGVyLWJveCBlbGVtc1xuICAgKiBJRTExICYgRmlyZWZveDwyOSBtZWFzdXJlcyB0aGUgaW5uZXItd2lkdGhcbiAgICovXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMXB4IDJweCAzcHggNHB4JztcbiAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcbiAgZGl2LnN0eWxlLmJvcmRlcldpZHRoID0gJzFweCAycHggM3B4IDRweCc7XG4gIGRpdi5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7XG5cbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgYm9keS5hcHBlbmRDaGlsZCggZGl2ICk7XG4gIHZhciBzdHlsZSA9IGdldFN0eWxlKCBkaXYgKTtcbiAgLy8gcm91bmQgdmFsdWUgZm9yIGJyb3dzZXIgem9vbS4gZGVzYW5kcm8vbWFzb25yeSM5MjhcbiAgaXNCb3hTaXplT3V0ZXIgPSBNYXRoLnJvdW5kKCBnZXRTdHlsZVNpemUoIHN0eWxlLndpZHRoICkgKSA9PSAyMDA7XG4gIGdldFNpemUuaXNCb3hTaXplT3V0ZXIgPSBpc0JveFNpemVPdXRlcjtcblxuICBib2R5LnJlbW92ZUNoaWxkKCBkaXYgKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZ2V0U2l6ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBnZXRTaXplKCBlbGVtICkge1xuICBzZXR1cCgpO1xuXG4gIC8vIHVzZSBxdWVyeVNlbGV0b3IgaWYgZWxlbSBpcyBzdHJpbmdcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxlbSApO1xuICB9XG5cbiAgLy8gZG8gbm90IHByb2NlZWQgb24gbm9uLW9iamVjdHNcbiAgaWYgKCAhZWxlbSB8fCB0eXBlb2YgZWxlbSAhPSAnb2JqZWN0JyB8fCAhZWxlbS5ub2RlVHlwZSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc3R5bGUgPSBnZXRTdHlsZSggZWxlbSApO1xuXG4gIC8vIGlmIGhpZGRlbiwgZXZlcnl0aGluZyBpcyAwXG4gIGlmICggc3R5bGUuZGlzcGxheSA9PSAnbm9uZScgKSB7XG4gICAgcmV0dXJuIGdldFplcm9TaXplKCk7XG4gIH1cblxuICB2YXIgc2l6ZSA9IHt9O1xuICBzaXplLndpZHRoID0gZWxlbS5vZmZzZXRXaWR0aDtcbiAgc2l6ZS5oZWlnaHQgPSBlbGVtLm9mZnNldEhlaWdodDtcblxuICB2YXIgaXNCb3JkZXJCb3ggPSBzaXplLmlzQm9yZGVyQm94ID0gc3R5bGUuYm94U2l6aW5nID09ICdib3JkZXItYm94JztcblxuICAvLyBnZXQgYWxsIG1lYXN1cmVtZW50c1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgbWVhc3VyZW1lbnRzTGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlWyBtZWFzdXJlbWVudCBdO1xuICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KCB2YWx1ZSApO1xuICAgIC8vIGFueSAnYXV0bycsICdtZWRpdW0nIHZhbHVlIHdpbGwgYmUgMFxuICAgIHNpemVbIG1lYXN1cmVtZW50IF0gPSAhaXNOYU4oIG51bSApID8gbnVtIDogMDtcbiAgfVxuXG4gIHZhciBwYWRkaW5nV2lkdGggPSBzaXplLnBhZGRpbmdMZWZ0ICsgc2l6ZS5wYWRkaW5nUmlnaHQ7XG4gIHZhciBwYWRkaW5nSGVpZ2h0ID0gc2l6ZS5wYWRkaW5nVG9wICsgc2l6ZS5wYWRkaW5nQm90dG9tO1xuICB2YXIgbWFyZ2luV2lkdGggPSBzaXplLm1hcmdpbkxlZnQgKyBzaXplLm1hcmdpblJpZ2h0O1xuICB2YXIgbWFyZ2luSGVpZ2h0ID0gc2l6ZS5tYXJnaW5Ub3AgKyBzaXplLm1hcmdpbkJvdHRvbTtcbiAgdmFyIGJvcmRlcldpZHRoID0gc2l6ZS5ib3JkZXJMZWZ0V2lkdGggKyBzaXplLmJvcmRlclJpZ2h0V2lkdGg7XG4gIHZhciBib3JkZXJIZWlnaHQgPSBzaXplLmJvcmRlclRvcFdpZHRoICsgc2l6ZS5ib3JkZXJCb3R0b21XaWR0aDtcblxuICB2YXIgaXNCb3JkZXJCb3hTaXplT3V0ZXIgPSBpc0JvcmRlckJveCAmJiBpc0JveFNpemVPdXRlcjtcblxuICAvLyBvdmVyd3JpdGUgd2lkdGggYW5kIGhlaWdodCBpZiB3ZSBjYW4gZ2V0IGl0IGZyb20gc3R5bGVcbiAgdmFyIHN0eWxlV2lkdGggPSBnZXRTdHlsZVNpemUoIHN0eWxlLndpZHRoICk7XG4gIGlmICggc3R5bGVXaWR0aCAhPT0gZmFsc2UgKSB7XG4gICAgc2l6ZS53aWR0aCA9IHN0eWxlV2lkdGggK1xuICAgICAgLy8gYWRkIHBhZGRpbmcgYW5kIGJvcmRlciB1bmxlc3MgaXQncyBhbHJlYWR5IGluY2x1ZGluZyBpdFxuICAgICAgKCBpc0JvcmRlckJveFNpemVPdXRlciA/IDAgOiBwYWRkaW5nV2lkdGggKyBib3JkZXJXaWR0aCApO1xuICB9XG5cbiAgdmFyIHN0eWxlSGVpZ2h0ID0gZ2V0U3R5bGVTaXplKCBzdHlsZS5oZWlnaHQgKTtcbiAgaWYgKCBzdHlsZUhlaWdodCAhPT0gZmFsc2UgKSB7XG4gICAgc2l6ZS5oZWlnaHQgPSBzdHlsZUhlaWdodCArXG4gICAgICAvLyBhZGQgcGFkZGluZyBhbmQgYm9yZGVyIHVubGVzcyBpdCdzIGFscmVhZHkgaW5jbHVkaW5nIGl0XG4gICAgICAoIGlzQm9yZGVyQm94U2l6ZU91dGVyID8gMCA6IHBhZGRpbmdIZWlnaHQgKyBib3JkZXJIZWlnaHQgKTtcbiAgfVxuXG4gIHNpemUuaW5uZXJXaWR0aCA9IHNpemUud2lkdGggLSAoIHBhZGRpbmdXaWR0aCArIGJvcmRlcldpZHRoICk7XG4gIHNpemUuaW5uZXJIZWlnaHQgPSBzaXplLmhlaWdodCAtICggcGFkZGluZ0hlaWdodCArIGJvcmRlckhlaWdodCApO1xuXG4gIHNpemUub3V0ZXJXaWR0aCA9IHNpemUud2lkdGggKyBtYXJnaW5XaWR0aDtcbiAgc2l6ZS5vdXRlckhlaWdodCA9IHNpemUuaGVpZ2h0ICsgbWFyZ2luSGVpZ2h0O1xuXG4gIHJldHVybiBzaXplO1xufVxuXG5yZXR1cm4gZ2V0U2l6ZTtcblxufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/get-size/get-size.js\n");

/***/ }),

/***/ "./node_modules/intersection-observer/intersection-observer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/intersection-observer/intersection-observer.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n\n(function(window, document) {\n'use strict';\n\n\n// Exits early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = entry.rootBounds;\n  this.boundingClientRect = entry.boundingClientRect;\n  this.intersectionRect = entry.intersectionRect || getEmptyRect();\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections();\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n\n    return item.element != target;\n  });\n  if (!this._observationTargets.length) {\n    this._unmonitorIntersections();\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function() {\n  if (!this._monitoringIntersections) {\n    this._monitoringIntersections = true;\n\n    // If a poll interval is set, use polling instead of listening to\n    // resize and scroll events or DOM mutations.\n    if (this.POLL_INTERVAL) {\n      this._monitoringInterval = setInterval(\n          this._checkForIntersections, this.POLL_INTERVAL);\n    }\n    else {\n      addEvent(window, 'resize', this._checkForIntersections, true);\n      addEvent(document, 'scroll', this._checkForIntersections, true);\n\n      if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\n        this._domObserver = new MutationObserver(this._checkForIntersections);\n        this._domObserver.observe(document, {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n      }\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function() {\n  if (this._monitoringIntersections) {\n    this._monitoringIntersections = false;\n\n    clearInterval(this._monitoringInterval);\n    this._monitoringInterval = null;\n\n    removeEvent(window, 'resize', this._checkForIntersections, true);\n    removeEvent(document, 'scroll', this._checkForIntersections, true);\n\n    if (this._domObserver) {\n      this._domObserver.disconnect();\n      this._domObserver = null;\n    }\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, rootRect) {\n\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var targetRect = getBoundingClientRect(target);\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return;\n\n    if (parent == this.root || parent == document) {\n      atRoot = true;\n      parentRect = rootRect;\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      if (parent != document.body &&\n          parent != document.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n      if (!intersectionRect) break;\n    }\n    parent = getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {Object} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {Object} rect The rect object to expand.\n * @return {Object} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object} The intersection rect or undefined if no intersection\n *     is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {Object} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {Object} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n  return parent;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}(window, document));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW50ZXJzZWN0aW9uLW9ic2VydmVyL2ludGVyc2VjdGlvbi1vYnNlcnZlci5qcz81YWJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDLDZCQUE2QjtBQUM5RDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsS0FBSztBQUNoQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIvaW50ZXJzZWN0aW9uLW9ic2VydmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBXM0MgU09GVFdBUkUgQU5EIERPQ1VNRU5UIE5PVElDRSBBTkQgTElDRU5TRS5cbiAqXG4gKiAgaHR0cHM6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvMjAxNS9jb3B5cmlnaHQtc29mdHdhcmUtYW5kLWRvY3VtZW50XG4gKlxuICovXG5cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50KSB7XG4ndXNlIHN0cmljdCc7XG5cblxuLy8gRXhpdHMgZWFybHkgaWYgYWxsIEludGVyc2VjdGlvbk9ic2VydmVyIGFuZCBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5XG4vLyBmZWF0dXJlcyBhcmUgbmF0aXZlbHkgc3VwcG9ydGVkLlxuaWYgKCdJbnRlcnNlY3Rpb25PYnNlcnZlcicgaW4gd2luZG93ICYmXG4gICAgJ0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnknIGluIHdpbmRvdyAmJlxuICAgICdpbnRlcnNlY3Rpb25SYXRpbycgaW4gd2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkucHJvdG90eXBlKSB7XG5cbiAgLy8gTWluaW1hbCBwb2x5ZmlsbCBmb3IgRWRnZSAxNSdzIGxhY2sgb2YgYGlzSW50ZXJzZWN0aW5nYFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvaXNzdWVzLzIxMVxuICBpZiAoISgnaXNJbnRlcnNlY3RpbmcnIGluIHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5LnByb3RvdHlwZSkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkucHJvdG90eXBlLFxuICAgICAgJ2lzSW50ZXJzZWN0aW5nJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVyc2VjdGlvblJhdGlvID4gMDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm47XG59XG5cblxuLyoqXG4gKiBBbiBJbnRlcnNlY3Rpb25PYnNlcnZlciByZWdpc3RyeS4gVGhpcyByZWdpc3RyeSBleGlzdHMgdG8gaG9sZCBhIHN0cm9uZ1xuICogcmVmZXJlbmNlIHRvIEludGVyc2VjdGlvbk9ic2VydmVyIGluc3RhbmNlcyBjdXJyZW50bHkgb2JzZXJ2aW5nIGEgdGFyZ2V0XG4gKiBlbGVtZW50LiBXaXRob3V0IHRoaXMgcmVnaXN0cnksIGluc3RhbmNlcyB3aXRob3V0IGFub3RoZXIgcmVmZXJlbmNlIG1heSBiZVxuICogZ2FyYmFnZSBjb2xsZWN0ZWQuXG4gKi9cbnZhciByZWdpc3RyeSA9IFtdO1xuXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZ2xvYmFsIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkgY29uc3RydWN0b3IuXG4gKiBodHRwczovL3czYy5naXRodWIuaW8vSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvI2ludGVyc2VjdGlvbi1vYnNlcnZlci1lbnRyeVxuICogQHBhcmFtIHtPYmplY3R9IGVudHJ5IEEgZGljdGlvbmFyeSBvZiBpbnN0YW5jZSBwcm9wZXJ0aWVzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkoZW50cnkpIHtcbiAgdGhpcy50aW1lID0gZW50cnkudGltZTtcbiAgdGhpcy50YXJnZXQgPSBlbnRyeS50YXJnZXQ7XG4gIHRoaXMucm9vdEJvdW5kcyA9IGVudHJ5LnJvb3RCb3VuZHM7XG4gIHRoaXMuYm91bmRpbmdDbGllbnRSZWN0ID0gZW50cnkuYm91bmRpbmdDbGllbnRSZWN0O1xuICB0aGlzLmludGVyc2VjdGlvblJlY3QgPSBlbnRyeS5pbnRlcnNlY3Rpb25SZWN0IHx8IGdldEVtcHR5UmVjdCgpO1xuICB0aGlzLmlzSW50ZXJzZWN0aW5nID0gISFlbnRyeS5pbnRlcnNlY3Rpb25SZWN0O1xuXG4gIC8vIENhbGN1bGF0ZXMgdGhlIGludGVyc2VjdGlvbiByYXRpby5cbiAgdmFyIHRhcmdldFJlY3QgPSB0aGlzLmJvdW5kaW5nQ2xpZW50UmVjdDtcbiAgdmFyIHRhcmdldEFyZWEgPSB0YXJnZXRSZWN0LndpZHRoICogdGFyZ2V0UmVjdC5oZWlnaHQ7XG4gIHZhciBpbnRlcnNlY3Rpb25SZWN0ID0gdGhpcy5pbnRlcnNlY3Rpb25SZWN0O1xuICB2YXIgaW50ZXJzZWN0aW9uQXJlYSA9IGludGVyc2VjdGlvblJlY3Qud2lkdGggKiBpbnRlcnNlY3Rpb25SZWN0LmhlaWdodDtcblxuICAvLyBTZXRzIGludGVyc2VjdGlvbiByYXRpby5cbiAgaWYgKHRhcmdldEFyZWEpIHtcbiAgICAvLyBSb3VuZCB0aGUgaW50ZXJzZWN0aW9uIHJhdGlvIHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IG1hdGggaXNzdWVzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvaXNzdWVzLzMyNFxuICAgIHRoaXMuaW50ZXJzZWN0aW9uUmF0aW8gPSBOdW1iZXIoKGludGVyc2VjdGlvbkFyZWEgLyB0YXJnZXRBcmVhKS50b0ZpeGVkKDQpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBhcmVhIGlzIHplcm8gYW5kIGlzIGludGVyc2VjdGluZywgc2V0cyB0byAxLCBvdGhlcndpc2UgdG8gMFxuICAgIHRoaXMuaW50ZXJzZWN0aW9uUmF0aW8gPSB0aGlzLmlzSW50ZXJzZWN0aW5nID8gMSA6IDA7XG4gIH1cbn1cblxuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGdsb2JhbCBJbnRlcnNlY3Rpb25PYnNlcnZlciBjb25zdHJ1Y3Rvci5cbiAqIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9JbnRlcnNlY3Rpb25PYnNlcnZlci8jaW50ZXJzZWN0aW9uLW9ic2VydmVyLWludGVyZmFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYWZ0ZXIgaW50ZXJzZWN0aW9uXG4gKiAgICAgY2hhbmdlcyBoYXZlIHF1ZXVlZC4gVGhlIGZ1bmN0aW9uIGlzIG5vdCBpbnZva2VkIGlmIHRoZSBxdWV1ZSBoYXNcbiAqICAgICBiZWVuIGVtcHRpZWQgYnkgY2FsbGluZyB0aGUgYHRha2VSZWNvcmRzYCBtZXRob2QuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9vcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgb3B0X29wdGlvbnMpIHtcblxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5yb290ICYmIG9wdGlvbnMucm9vdC5ub2RlVHlwZSAhPSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyb290IG11c3QgYmUgYW4gRWxlbWVudCcpO1xuICB9XG5cbiAgLy8gQmluZHMgYW5kIHRocm90dGxlcyBgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zYC5cbiAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zID0gdGhyb3R0bGUoXG4gICAgICB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMuYmluZCh0aGlzKSwgdGhpcy5USFJPVFRMRV9USU1FT1VUKTtcblxuICAvLyBQcml2YXRlIHByb3BlcnRpZXMuXG4gIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICB0aGlzLl9xdWV1ZWRFbnRyaWVzID0gW107XG4gIHRoaXMuX3Jvb3RNYXJnaW5WYWx1ZXMgPSB0aGlzLl9wYXJzZVJvb3RNYXJnaW4ob3B0aW9ucy5yb290TWFyZ2luKTtcblxuICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgdGhpcy50aHJlc2hvbGRzID0gdGhpcy5faW5pdFRocmVzaG9sZHMob3B0aW9ucy50aHJlc2hvbGQpO1xuICB0aGlzLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgbnVsbDtcbiAgdGhpcy5yb290TWFyZ2luID0gdGhpcy5fcm9vdE1hcmdpblZhbHVlcy5tYXAoZnVuY3Rpb24obWFyZ2luKSB7XG4gICAgcmV0dXJuIG1hcmdpbi52YWx1ZSArIG1hcmdpbi51bml0O1xuICB9KS5qb2luKCcgJyk7XG59XG5cblxuLyoqXG4gKiBUaGUgbWluaW11bSBpbnRlcnZhbCB3aXRoaW4gd2hpY2ggdGhlIGRvY3VtZW50IHdpbGwgYmUgY2hlY2tlZCBmb3JcbiAqIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuVEhST1RUTEVfVElNRU9VVCA9IDEwMDtcblxuXG4vKipcbiAqIFRoZSBmcmVxdWVuY3kgaW4gd2hpY2ggdGhlIHBvbHlmaWxsIHBvbGxzIGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqIHRoaXMgY2FuIGJlIHVwZGF0ZWQgb24gYSBwZXIgaW5zdGFuY2UgYmFzaXMgYW5kIG11c3QgYmUgc2V0IHByaW9yIHRvXG4gKiBjYWxsaW5nIGBvYnNlcnZlYCBvbiB0aGUgZmlyc3QgdGFyZ2V0LlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuUE9MTF9JTlRFUlZBTCA9IG51bGw7XG5cbi8qKlxuICogVXNlIGEgbXV0YXRpb24gb2JzZXJ2ZXIgb24gdGhlIHJvb3QgZWxlbWVudFxuICogdG8gZGV0ZWN0IGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuVVNFX01VVEFUSU9OX09CU0VSVkVSID0gdHJ1ZTtcblxuXG4vKipcbiAqIFN0YXJ0cyBvYnNlcnZpbmcgYSB0YXJnZXQgZWxlbWVudCBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMgYmFzZWQgb25cbiAqIHRoZSB0aHJlc2hvbGRzIHZhbHVlcy5cbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IFRoZSBET00gZWxlbWVudCB0byBvYnNlcnZlLlxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgaXNUYXJnZXRBbHJlYWR5T2JzZXJ2ZWQgPSB0aGlzLl9vYnNlcnZhdGlvblRhcmdldHMuc29tZShmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudCA9PSB0YXJnZXQ7XG4gIH0pO1xuXG4gIGlmIChpc1RhcmdldEFscmVhZHlPYnNlcnZlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIEVsZW1lbnQnKTtcbiAgfVxuXG4gIHRoaXMuX3JlZ2lzdGVySW5zdGFuY2UoKTtcbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLnB1c2goe2VsZW1lbnQ6IHRhcmdldCwgZW50cnk6IG51bGx9KTtcbiAgdGhpcy5fbW9uaXRvckludGVyc2VjdGlvbnMoKTtcbiAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zKCk7XG59O1xuXG5cbi8qKlxuICogU3RvcHMgb2JzZXJ2aW5nIGEgdGFyZ2V0IGVsZW1lbnQgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzLlxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIERPTSBlbGVtZW50IHRvIG9ic2VydmUuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzID1cbiAgICAgIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuXG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudCAhPSB0YXJnZXQ7XG4gIH0pO1xuICBpZiAoIXRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGgpIHtcbiAgICB0aGlzLl91bm1vbml0b3JJbnRlcnNlY3Rpb25zKCk7XG4gICAgdGhpcy5fdW5yZWdpc3Rlckluc3RhbmNlKCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBTdG9wcyBvYnNlcnZpbmcgYWxsIHRhcmdldCBlbGVtZW50cyBmb3IgaW50ZXJzZWN0aW9uIGNoYW5nZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX29ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICB0aGlzLl91bm1vbml0b3JJbnRlcnNlY3Rpb25zKCk7XG4gIHRoaXMuX3VucmVnaXN0ZXJJbnN0YW5jZSgpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgYW55IHF1ZXVlIGVudHJpZXMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiByZXBvcnRlZCB0byB0aGVcbiAqIGNhbGxiYWNrIGFuZCBjbGVhcnMgdGhlIHF1ZXVlLiBUaGlzIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlXG4gKiBjYWxsYmFjayB0byBvYnRhaW4gdGhlIGFic29sdXRlIG1vc3QgdXAtdG8tZGF0ZSBpbnRlcnNlY3Rpb24gaW5mb3JtYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheX0gVGhlIGN1cnJlbnRseSBxdWV1ZWQgZW50cmllcy5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLnRha2VSZWNvcmRzID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZWNvcmRzID0gdGhpcy5fcXVldWVkRW50cmllcy5zbGljZSgpO1xuICB0aGlzLl9xdWV1ZWRFbnRyaWVzID0gW107XG4gIHJldHVybiByZWNvcmRzO1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgdGhlIHRocmVzaG9sZCB2YWx1ZSBmcm9tIHRoZSB1c2VyIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGFuZFxuICogcmV0dXJucyBhIHNvcnRlZCBhcnJheSBvZiB1bmlxdWUgdGhyZXNob2xkIHZhbHVlcy4gSWYgYSB2YWx1ZSBpcyBub3RcbiAqIGJldHdlZW4gMCBhbmQgMSBhbmQgZXJyb3IgaXMgdGhyb3duLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8bnVtYmVyPX0gb3B0X3RocmVzaG9sZCBBbiBvcHRpb25hbCB0aHJlc2hvbGQgdmFsdWUgb3JcbiAqICAgICBhIGxpc3Qgb2YgdGhyZXNob2xkIHZhbHVlcywgZGVmYXVsdGluZyB0byBbMF0uXG4gKiBAcmV0dXJuIHtBcnJheX0gQSBzb3J0ZWQgbGlzdCBvZiB1bmlxdWUgYW5kIHZhbGlkIHRocmVzaG9sZCB2YWx1ZXMuXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5faW5pdFRocmVzaG9sZHMgPSBmdW5jdGlvbihvcHRfdGhyZXNob2xkKSB7XG4gIHZhciB0aHJlc2hvbGQgPSBvcHRfdGhyZXNob2xkIHx8IFswXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHRocmVzaG9sZCkpIHRocmVzaG9sZCA9IFt0aHJlc2hvbGRdO1xuXG4gIHJldHVybiB0aHJlc2hvbGQuc29ydCgpLmZpbHRlcihmdW5jdGlvbih0LCBpLCBhKSB7XG4gICAgaWYgKHR5cGVvZiB0ICE9ICdudW1iZXInIHx8IGlzTmFOKHQpIHx8IHQgPCAwIHx8IHQgPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RocmVzaG9sZCBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMSBpbmNsdXNpdmVseScpO1xuICAgIH1cbiAgICByZXR1cm4gdCAhPT0gYVtpIC0gMV07XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgdGhlIHJvb3RNYXJnaW4gdmFsdWUgZnJvbSB0aGUgdXNlciBjb25maWd1cmF0aW9uIG9iamVjdFxuICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGZvdXIgbWFyZ2luIHZhbHVlcyBhcyBhbiBvYmplY3QgY29udGFpbmluZ1xuICogdGhlIHZhbHVlIGFuZCB1bml0IHByb3BlcnRpZXMuIElmIGFueSBvZiB0aGUgdmFsdWVzIGFyZSBub3QgcHJvcGVybHlcbiAqIGZvcm1hdHRlZCBvciB1c2UgYSB1bml0IG90aGVyIHRoYW4gcHggb3IgJSwgYW5kIGVycm9yIGlzIHRocm93bi5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdF9yb290TWFyZ2luIEFuIG9wdGlvbmFsIHJvb3RNYXJnaW4gdmFsdWUsXG4gKiAgICAgZGVmYXVsdGluZyB0byAnMHB4Jy5cbiAqIEByZXR1cm4ge0FycmF5PE9iamVjdD59IEFuIGFycmF5IG9mIG1hcmdpbiBvYmplY3RzIHdpdGggdGhlIGtleXNcbiAqICAgICB2YWx1ZSBhbmQgdW5pdC5cbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9wYXJzZVJvb3RNYXJnaW4gPSBmdW5jdGlvbihvcHRfcm9vdE1hcmdpbikge1xuICB2YXIgbWFyZ2luU3RyaW5nID0gb3B0X3Jvb3RNYXJnaW4gfHwgJzBweCc7XG4gIHZhciBtYXJnaW5zID0gbWFyZ2luU3RyaW5nLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKG1hcmdpbikge1xuICAgIHZhciBwYXJ0cyA9IC9eKC0/XFxkKlxcLj9cXGQrKShweHwlKSQvLmV4ZWMobWFyZ2luKTtcbiAgICBpZiAoIXBhcnRzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jvb3RNYXJnaW4gbXVzdCBiZSBzcGVjaWZpZWQgaW4gcGl4ZWxzIG9yIHBlcmNlbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHt2YWx1ZTogcGFyc2VGbG9hdChwYXJ0c1sxXSksIHVuaXQ6IHBhcnRzWzJdfTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlcyBzaG9ydGhhbmQuXG4gIG1hcmdpbnNbMV0gPSBtYXJnaW5zWzFdIHx8IG1hcmdpbnNbMF07XG4gIG1hcmdpbnNbMl0gPSBtYXJnaW5zWzJdIHx8IG1hcmdpbnNbMF07XG4gIG1hcmdpbnNbM10gPSBtYXJnaW5zWzNdIHx8IG1hcmdpbnNbMV07XG5cbiAgcmV0dXJuIG1hcmdpbnM7XG59O1xuXG5cbi8qKlxuICogU3RhcnRzIHBvbGxpbmcgZm9yIGludGVyc2VjdGlvbiBjaGFuZ2VzIGlmIHRoZSBwb2xsaW5nIGlzIG5vdCBhbHJlYWR5XG4gKiBoYXBwZW5pbmcsIGFuZCBpZiB0aGUgcGFnZSdzIHZpc2liaWxpdHkgc3RhdGUgaXMgdmlzaWJsZS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fbW9uaXRvckludGVyc2VjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLl9tb25pdG9yaW5nSW50ZXJzZWN0aW9ucykge1xuICAgIHRoaXMuX21vbml0b3JpbmdJbnRlcnNlY3Rpb25zID0gdHJ1ZTtcblxuICAgIC8vIElmIGEgcG9sbCBpbnRlcnZhbCBpcyBzZXQsIHVzZSBwb2xsaW5nIGluc3RlYWQgb2YgbGlzdGVuaW5nIHRvXG4gICAgLy8gcmVzaXplIGFuZCBzY3JvbGwgZXZlbnRzIG9yIERPTSBtdXRhdGlvbnMuXG4gICAgaWYgKHRoaXMuUE9MTF9JTlRFUlZBTCkge1xuICAgICAgdGhpcy5fbW9uaXRvcmluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoXG4gICAgICAgICAgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zLCB0aGlzLlBPTExfSU5URVJWQUwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFkZEV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucywgdHJ1ZSk7XG4gICAgICBhZGRFdmVudChkb2N1bWVudCwgJ3Njcm9sbCcsIHRoaXMuX2NoZWNrRm9ySW50ZXJzZWN0aW9ucywgdHJ1ZSk7XG5cbiAgICAgIGlmICh0aGlzLlVTRV9NVVRBVElPTl9PQlNFUlZFUiAmJiAnTXV0YXRpb25PYnNlcnZlcicgaW4gd2luZG93KSB7XG4gICAgICAgIHRoaXMuX2RvbU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zKTtcbiAgICAgICAgdGhpcy5fZG9tT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBTdG9wcyBwb2xsaW5nIGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcy5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fdW5tb25pdG9ySW50ZXJzZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fbW9uaXRvcmluZ0ludGVyc2VjdGlvbnMpIHtcbiAgICB0aGlzLl9tb25pdG9yaW5nSW50ZXJzZWN0aW9ucyA9IGZhbHNlO1xuXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9tb25pdG9yaW5nSW50ZXJ2YWwpO1xuICAgIHRoaXMuX21vbml0b3JpbmdJbnRlcnZhbCA9IG51bGw7XG5cbiAgICByZW1vdmVFdmVudCh3aW5kb3csICdyZXNpemUnLCB0aGlzLl9jaGVja0ZvckludGVyc2VjdGlvbnMsIHRydWUpO1xuICAgIHJlbW92ZUV2ZW50KGRvY3VtZW50LCAnc2Nyb2xsJywgdGhpcy5fY2hlY2tGb3JJbnRlcnNlY3Rpb25zLCB0cnVlKTtcblxuICAgIGlmICh0aGlzLl9kb21PYnNlcnZlcikge1xuICAgICAgdGhpcy5fZG9tT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5fZG9tT2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIFNjYW5zIGVhY2ggb2JzZXJ2YXRpb24gdGFyZ2V0IGZvciBpbnRlcnNlY3Rpb24gY2hhbmdlcyBhbmQgYWRkcyB0aGVtXG4gKiB0byB0aGUgaW50ZXJuYWwgZW50cmllcyBxdWV1ZS4gSWYgbmV3IGVudHJpZXMgYXJlIGZvdW5kLCBpdFxuICogc2NoZWR1bGVzIHRoZSBjYWxsYmFjayB0byBiZSBpbnZva2VkLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9jaGVja0ZvckludGVyc2VjdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJvb3RJc0luRG9tID0gdGhpcy5fcm9vdElzSW5Eb20oKTtcbiAgdmFyIHJvb3RSZWN0ID0gcm9vdElzSW5Eb20gPyB0aGlzLl9nZXRSb290UmVjdCgpIDogZ2V0RW1wdHlSZWN0KCk7XG5cbiAgdGhpcy5fb2JzZXJ2YXRpb25UYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIHZhciB0YXJnZXQgPSBpdGVtLmVsZW1lbnQ7XG4gICAgdmFyIHRhcmdldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGFyZ2V0KTtcbiAgICB2YXIgcm9vdENvbnRhaW5zVGFyZ2V0ID0gdGhpcy5fcm9vdENvbnRhaW5zVGFyZ2V0KHRhcmdldCk7XG4gICAgdmFyIG9sZEVudHJ5ID0gaXRlbS5lbnRyeTtcbiAgICB2YXIgaW50ZXJzZWN0aW9uUmVjdCA9IHJvb3RJc0luRG9tICYmIHJvb3RDb250YWluc1RhcmdldCAmJlxuICAgICAgICB0aGlzLl9jb21wdXRlVGFyZ2V0QW5kUm9vdEludGVyc2VjdGlvbih0YXJnZXQsIHJvb3RSZWN0KTtcblxuICAgIHZhciBuZXdFbnRyeSA9IGl0ZW0uZW50cnkgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSh7XG4gICAgICB0aW1lOiBub3coKSxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgYm91bmRpbmdDbGllbnRSZWN0OiB0YXJnZXRSZWN0LFxuICAgICAgcm9vdEJvdW5kczogcm9vdFJlY3QsXG4gICAgICBpbnRlcnNlY3Rpb25SZWN0OiBpbnRlcnNlY3Rpb25SZWN0XG4gICAgfSk7XG5cbiAgICBpZiAoIW9sZEVudHJ5KSB7XG4gICAgICB0aGlzLl9xdWV1ZWRFbnRyaWVzLnB1c2gobmV3RW50cnkpO1xuICAgIH0gZWxzZSBpZiAocm9vdElzSW5Eb20gJiYgcm9vdENvbnRhaW5zVGFyZ2V0KSB7XG4gICAgICAvLyBJZiB0aGUgbmV3IGVudHJ5IGludGVyc2VjdGlvbiByYXRpbyBoYXMgY3Jvc3NlZCBhbnkgb2YgdGhlXG4gICAgICAvLyB0aHJlc2hvbGRzLCBhZGQgYSBuZXcgZW50cnkuXG4gICAgICBpZiAodGhpcy5faGFzQ3Jvc3NlZFRocmVzaG9sZChvbGRFbnRyeSwgbmV3RW50cnkpKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlZEVudHJpZXMucHVzaChuZXdFbnRyeSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZSByb290IGlzIG5vdCBpbiB0aGUgRE9NIG9yIHRhcmdldCBpcyBub3QgY29udGFpbmVkIHdpdGhpblxuICAgICAgLy8gcm9vdCBidXQgdGhlIHByZXZpb3VzIGVudHJ5IGZvciB0aGlzIHRhcmdldCBoYWQgYW4gaW50ZXJzZWN0aW9uLFxuICAgICAgLy8gYWRkIGEgbmV3IHJlY29yZCBpbmRpY2F0aW5nIHJlbW92YWwuXG4gICAgICBpZiAob2xkRW50cnkgJiYgb2xkRW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgdGhpcy5fcXVldWVkRW50cmllcy5wdXNoKG5ld0VudHJ5KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHRoaXMpO1xuXG4gIGlmICh0aGlzLl9xdWV1ZWRFbnRyaWVzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrKHRoaXMudGFrZVJlY29yZHMoKSwgdGhpcyk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBBY2NlcHRzIGEgdGFyZ2V0IGFuZCByb290IHJlY3QgY29tcHV0ZXMgdGhlIGludGVyc2VjdGlvbiBiZXR3ZWVuIHRoZW5cbiAqIGZvbGxvd2luZyB0aGUgYWxnb3JpdGhtIGluIHRoZSBzcGVjLlxuICogVE9ETyhwaGlsaXB3YWx0b24pOiBhdCB0aGlzIHRpbWUgY2xpcC1wYXRoIGlzIG5vdCBjb25zaWRlcmVkLlxuICogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL0ludGVyc2VjdGlvbk9ic2VydmVyLyNjYWxjdWxhdGUtaW50ZXJzZWN0aW9uLXJlY3QtYWxnb1xuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIHRhcmdldCBET00gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHJvb3RSZWN0IFRoZSBib3VuZGluZyByZWN0IG9mIHRoZSByb290IGFmdGVyIGJlaW5nXG4gKiAgICAgZXhwYW5kZWQgYnkgdGhlIHJvb3RNYXJnaW4gdmFsdWUuXG4gKiBAcmV0dXJuIHs/T2JqZWN0fSBUaGUgZmluYWwgaW50ZXJzZWN0aW9uIHJlY3Qgb2JqZWN0IG9yIHVuZGVmaW5lZCBpZiBub1xuICogICAgIGludGVyc2VjdGlvbiBpcyBmb3VuZC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fY29tcHV0ZVRhcmdldEFuZFJvb3RJbnRlcnNlY3Rpb24gPVxuICAgIGZ1bmN0aW9uKHRhcmdldCwgcm9vdFJlY3QpIHtcblxuICAvLyBJZiB0aGUgZWxlbWVudCBpc24ndCBkaXNwbGF5ZWQsIGFuIGludGVyc2VjdGlvbiBjYW4ndCBoYXBwZW4uXG4gIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT0gJ25vbmUnKSByZXR1cm47XG5cbiAgdmFyIHRhcmdldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGFyZ2V0KTtcbiAgdmFyIGludGVyc2VjdGlvblJlY3QgPSB0YXJnZXRSZWN0O1xuICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50Tm9kZSh0YXJnZXQpO1xuICB2YXIgYXRSb290ID0gZmFsc2U7XG5cbiAgd2hpbGUgKCFhdFJvb3QpIHtcbiAgICB2YXIgcGFyZW50UmVjdCA9IG51bGw7XG4gICAgdmFyIHBhcmVudENvbXB1dGVkU3R5bGUgPSBwYXJlbnQubm9kZVR5cGUgPT0gMSA/XG4gICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudCkgOiB7fTtcblxuICAgIC8vIElmIHRoZSBwYXJlbnQgaXNuJ3QgZGlzcGxheWVkLCBhbiBpbnRlcnNlY3Rpb24gY2FuJ3QgaGFwcGVuLlxuICAgIGlmIChwYXJlbnRDb21wdXRlZFN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSByZXR1cm47XG5cbiAgICBpZiAocGFyZW50ID09IHRoaXMucm9vdCB8fCBwYXJlbnQgPT0gZG9jdW1lbnQpIHtcbiAgICAgIGF0Um9vdCA9IHRydWU7XG4gICAgICBwYXJlbnRSZWN0ID0gcm9vdFJlY3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIG5vbi12aXNpYmxlIG92ZXJmbG93LCBhbmQgaXQncyBub3QgdGhlIDxib2R5PlxuICAgICAgLy8gb3IgPGh0bWw+IGVsZW1lbnQsIHVwZGF0ZSB0aGUgaW50ZXJzZWN0aW9uIHJlY3QuXG4gICAgICAvLyBOb3RlOiA8Ym9keT4gYW5kIDxodG1sPiBjYW5ub3QgYmUgY2xpcHBlZCB0byBhIHJlY3QgdGhhdCdzIG5vdCBhbHNvXG4gICAgICAvLyB0aGUgZG9jdW1lbnQgcmVjdCwgc28gbm8gbmVlZCB0byBjb21wdXRlIGEgbmV3IGludGVyc2VjdGlvbi5cbiAgICAgIGlmIChwYXJlbnQgIT0gZG9jdW1lbnQuYm9keSAmJlxuICAgICAgICAgIHBhcmVudCAhPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiZcbiAgICAgICAgICBwYXJlbnRDb21wdXRlZFN0eWxlLm92ZXJmbG93ICE9ICd2aXNpYmxlJykge1xuICAgICAgICBwYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgZWl0aGVyIG9mIHRoZSBhYm92ZSBjb25kaXRpb25hbHMgc2V0IGEgbmV3IHBhcmVudFJlY3QsXG4gICAgLy8gY2FsY3VsYXRlIG5ldyBpbnRlcnNlY3Rpb24gZGF0YS5cbiAgICBpZiAocGFyZW50UmVjdCkge1xuICAgICAgaW50ZXJzZWN0aW9uUmVjdCA9IGNvbXB1dGVSZWN0SW50ZXJzZWN0aW9uKHBhcmVudFJlY3QsIGludGVyc2VjdGlvblJlY3QpO1xuXG4gICAgICBpZiAoIWludGVyc2VjdGlvblJlY3QpIGJyZWFrO1xuICAgIH1cbiAgICBwYXJlbnQgPSBnZXRQYXJlbnROb2RlKHBhcmVudCk7XG4gIH1cbiAgcmV0dXJuIGludGVyc2VjdGlvblJlY3Q7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcm9vdCByZWN0IGFmdGVyIGJlaW5nIGV4cGFuZGVkIGJ5IHRoZSByb290TWFyZ2luIHZhbHVlLlxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXhwYW5kZWQgcm9vdCByZWN0LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9nZXRSb290UmVjdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcm9vdFJlY3Q7XG4gIGlmICh0aGlzLnJvb3QpIHtcbiAgICByb290UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLnJvb3QpO1xuICB9IGVsc2Uge1xuICAgIC8vIFVzZSA8aHRtbD4vPGJvZHk+IGluc3RlYWQgb2Ygd2luZG93IHNpbmNlIHNjcm9sbCBiYXJzIGFmZmVjdCBzaXplLlxuICAgIHZhciBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICByb290UmVjdCA9IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogaHRtbC5jbGllbnRXaWR0aCB8fCBib2R5LmNsaWVudFdpZHRoLFxuICAgICAgd2lkdGg6IGh0bWwuY2xpZW50V2lkdGggfHwgYm9keS5jbGllbnRXaWR0aCxcbiAgICAgIGJvdHRvbTogaHRtbC5jbGllbnRIZWlnaHQgfHwgYm9keS5jbGllbnRIZWlnaHQsXG4gICAgICBoZWlnaHQ6IGh0bWwuY2xpZW50SGVpZ2h0IHx8IGJvZHkuY2xpZW50SGVpZ2h0XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdGhpcy5fZXhwYW5kUmVjdEJ5Um9vdE1hcmdpbihyb290UmVjdCk7XG59O1xuXG5cbi8qKlxuICogQWNjZXB0cyBhIHJlY3QgYW5kIGV4cGFuZHMgaXQgYnkgdGhlIHJvb3RNYXJnaW4gdmFsdWUuXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCBUaGUgcmVjdCBvYmplY3QgdG8gZXhwYW5kLlxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXhwYW5kZWQgcmVjdC5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVyc2VjdGlvbk9ic2VydmVyLnByb3RvdHlwZS5fZXhwYW5kUmVjdEJ5Um9vdE1hcmdpbiA9IGZ1bmN0aW9uKHJlY3QpIHtcbiAgdmFyIG1hcmdpbnMgPSB0aGlzLl9yb290TWFyZ2luVmFsdWVzLm1hcChmdW5jdGlvbihtYXJnaW4sIGkpIHtcbiAgICByZXR1cm4gbWFyZ2luLnVuaXQgPT0gJ3B4JyA/IG1hcmdpbi52YWx1ZSA6XG4gICAgICAgIG1hcmdpbi52YWx1ZSAqIChpICUgMiA/IHJlY3Qud2lkdGggOiByZWN0LmhlaWdodCkgLyAxMDA7XG4gIH0pO1xuICB2YXIgbmV3UmVjdCA9IHtcbiAgICB0b3A6IHJlY3QudG9wIC0gbWFyZ2luc1swXSxcbiAgICByaWdodDogcmVjdC5yaWdodCArIG1hcmdpbnNbMV0sXG4gICAgYm90dG9tOiByZWN0LmJvdHRvbSArIG1hcmdpbnNbMl0sXG4gICAgbGVmdDogcmVjdC5sZWZ0IC0gbWFyZ2luc1szXVxuICB9O1xuICBuZXdSZWN0LndpZHRoID0gbmV3UmVjdC5yaWdodCAtIG5ld1JlY3QubGVmdDtcbiAgbmV3UmVjdC5oZWlnaHQgPSBuZXdSZWN0LmJvdHRvbSAtIG5ld1JlY3QudG9wO1xuXG4gIHJldHVybiBuZXdSZWN0O1xufTtcblxuXG4vKipcbiAqIEFjY2VwdHMgYW4gb2xkIGFuZCBuZXcgZW50cnkgYW5kIHJldHVybnMgdHJ1ZSBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlXG4gKiB0aHJlc2hvbGQgdmFsdWVzIGhhcyBiZWVuIGNyb3NzZWQuXG4gKiBAcGFyYW0gez9JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5fSBvbGRFbnRyeSBUaGUgcHJldmlvdXMgZW50cnkgZm9yIGFcbiAqICAgIHBhcnRpY3VsYXIgdGFyZ2V0IGVsZW1lbnQgb3IgbnVsbCBpZiBubyBwcmV2aW91cyBlbnRyeSBleGlzdHMuXG4gKiBAcGFyYW0ge0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnl9IG5ld0VudHJ5IFRoZSBjdXJyZW50IGVudHJ5IGZvciBhXG4gKiAgICBwYXJ0aWN1bGFyIHRhcmdldCBlbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGEgYW55IHRocmVzaG9sZCBoYXMgYmVlbiBjcm9zc2VkLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9oYXNDcm9zc2VkVGhyZXNob2xkID1cbiAgICBmdW5jdGlvbihvbGRFbnRyeSwgbmV3RW50cnkpIHtcblxuICAvLyBUbyBtYWtlIGNvbXBhcmluZyBlYXNpZXIsIGFuIGVudHJ5IHRoYXQgaGFzIGEgcmF0aW8gb2YgMFxuICAvLyBidXQgZG9lcyBub3QgYWN0dWFsbHkgaW50ZXJzZWN0IGlzIGdpdmVuIGEgdmFsdWUgb2YgLTFcbiAgdmFyIG9sZFJhdGlvID0gb2xkRW50cnkgJiYgb2xkRW50cnkuaXNJbnRlcnNlY3RpbmcgP1xuICAgICAgb2xkRW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gfHwgMCA6IC0xO1xuICB2YXIgbmV3UmF0aW8gPSBuZXdFbnRyeS5pc0ludGVyc2VjdGluZyA/XG4gICAgICBuZXdFbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyB8fCAwIDogLTE7XG5cbiAgLy8gSWdub3JlIHVuY2hhbmdlZCByYXRpb3NcbiAgaWYgKG9sZFJhdGlvID09PSBuZXdSYXRpbykgcmV0dXJuO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50aHJlc2hvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRocmVzaG9sZCA9IHRoaXMudGhyZXNob2xkc1tpXTtcblxuICAgIC8vIFJldHVybiB0cnVlIGlmIGFuIGVudHJ5IG1hdGNoZXMgYSB0aHJlc2hvbGQgb3IgaWYgdGhlIG5ldyByYXRpb1xuICAgIC8vIGFuZCB0aGUgb2xkIHJhdGlvIGFyZSBvbiB0aGUgb3Bwb3NpdGUgc2lkZXMgb2YgYSB0aHJlc2hvbGQuXG4gICAgaWYgKHRocmVzaG9sZCA9PSBvbGRSYXRpbyB8fCB0aHJlc2hvbGQgPT0gbmV3UmF0aW8gfHxcbiAgICAgICAgdGhyZXNob2xkIDwgb2xkUmF0aW8gIT09IHRocmVzaG9sZCA8IG5ld1JhdGlvKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSByb290IGVsZW1lbnQgaXMgYW4gZWxlbWVudCBhbmQgaXMgaW4gdGhlIERPTS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHJvb3QgZWxlbWVudCBpcyBhbiBlbGVtZW50IGFuZCBpcyBpbiB0aGUgRE9NLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9yb290SXNJbkRvbSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMucm9vdCB8fCBjb250YWluc0RlZXAoZG9jdW1lbnQsIHRoaXMucm9vdCk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYSBjaGlsZCBvZiByb290LlxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgVGhlIHRhcmdldCBlbGVtZW50IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYSBjaGlsZCBvZiByb290LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9yb290Q29udGFpbnNUYXJnZXQgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgcmV0dXJuIGNvbnRhaW5zRGVlcCh0aGlzLnJvb3QgfHwgZG9jdW1lbnQsIHRhcmdldCk7XG59O1xuXG5cbi8qKlxuICogQWRkcyB0aGUgaW5zdGFuY2UgdG8gdGhlIGdsb2JhbCBJbnRlcnNlY3Rpb25PYnNlcnZlciByZWdpc3RyeSBpZiBpdCBpc24ndFxuICogYWxyZWFkeSBwcmVzZW50LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlLl9yZWdpc3Rlckluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIGlmIChyZWdpc3RyeS5pbmRleE9mKHRoaXMpIDwgMCkge1xuICAgIHJlZ2lzdHJ5LnB1c2godGhpcyk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBpbnN0YW5jZSBmcm9tIHRoZSBnbG9iYWwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgcmVnaXN0cnkuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnNlY3Rpb25PYnNlcnZlci5wcm90b3R5cGUuX3VucmVnaXN0ZXJJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaW5kZXggPSByZWdpc3RyeS5pbmRleE9mKHRoaXMpO1xuICBpZiAoaW5kZXggIT0gLTEpIHJlZ2lzdHJ5LnNwbGljZShpbmRleCwgMSk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBwZXJmb3JtYW5jZS5ub3coKSBtZXRob2Qgb3IgbnVsbCBpbiBicm93c2Vyc1xuICogdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBBUEkuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBlbGFwc2VkIHRpbWUgc2luY2UgdGhlIHBhZ2Ugd2FzIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gbm93KCkge1xuICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlLm5vdyAmJiBwZXJmb3JtYW5jZS5ub3coKTtcbn1cblxuXG4vKipcbiAqIFRocm90dGxlcyBhIGZ1bmN0aW9uIGFuZCBkZWxheXMgaXRzIGV4ZWN1dGlvbiwgc28gaXQncyBvbmx5IGNhbGxlZCBhdCBtb3N0XG4gKiBvbmNlIHdpdGhpbiBhIGdpdmVuIHRpbWUgcGVyaW9kLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgVGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgbXVzdCBwYXNzIGJlZm9yZSB0aGVcbiAqICAgICBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGFnYWluLlxuICogQHJldHVybiB7RnVuY3Rpb259IFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCB0aW1lb3V0KSB7XG4gIHZhciB0aW1lciA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aW1lcikge1xuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBmbigpO1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICB9XG4gIH07XG59XG5cblxuLyoqXG4gKiBBZGRzIGFuIGV2ZW50IGhhbmRsZXIgdG8gYSBET00gbm9kZSBlbnN1cmluZyBjcm9zcy1icm93c2VyIGNvbXBhdGliaWxpdHkuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIERPTSBub2RlIHRvIGFkZCB0aGUgZXZlbnQgaGFuZGxlciB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBldmVudCBoYW5kbGVyIHRvIGFkZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X3VzZUNhcHR1cmUgT3B0aW9uYWxseSBhZGRzIHRoZSBldmVuIHRvIHRoZSBjYXB0dXJlXG4gKiAgICAgcGhhc2UuIE5vdGU6IHRoaXMgb25seSB3b3JrcyBpbiBtb2Rlcm4gYnJvd3NlcnMuXG4gKi9cbmZ1bmN0aW9uIGFkZEV2ZW50KG5vZGUsIGV2ZW50LCBmbiwgb3B0X3VzZUNhcHR1cmUpIHtcbiAgaWYgKHR5cGVvZiBub2RlLmFkZEV2ZW50TGlzdGVuZXIgPT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIG9wdF91c2VDYXB0dXJlIHx8IGZhbHNlKTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2Ygbm9kZS5hdHRhY2hFdmVudCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgbm9kZS5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGZuKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmVtb3ZlcyBhIHByZXZpb3VzbHkgYWRkZWQgZXZlbnQgaGFuZGxlciBmcm9tIGEgRE9NIG5vZGUuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIERPTSBub2RlIHRvIHJlbW92ZSB0aGUgZXZlbnQgaGFuZGxlciBmcm9tLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGV2ZW50IGhhbmRsZXIgdG8gcmVtb3ZlLlxuICogQHBhcmFtIHtib29sZWFufSBvcHRfdXNlQ2FwdHVyZSBJZiB0aGUgZXZlbnQgaGFuZGxlciB3YXMgYWRkZWQgd2l0aCB0aGlzXG4gKiAgICAgZmxhZyBzZXQgdG8gdHJ1ZSwgaXQgc2hvdWxkIGJlIHNldCB0byB0cnVlIGhlcmUgaW4gb3JkZXIgdG8gcmVtb3ZlIGl0LlxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudChub2RlLCBldmVudCwgZm4sIG9wdF91c2VDYXB0dXJlKSB7XG4gIGlmICh0eXBlb2Ygbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyID09ICdmdW5jdGlvbicpIHtcbiAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBvcHRfdXNlQ2FwdHVyZSB8fCBmYWxzZSk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIG5vZGUuZGV0YXRjaEV2ZW50ID09ICdmdW5jdGlvbicpIHtcbiAgICBub2RlLmRldGF0Y2hFdmVudCgnb24nICsgZXZlbnQsIGZuKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIHJlY3Qgb2JqZWN0cy5cbiAqIEBwYXJhbSB7T2JqZWN0fSByZWN0MSBUaGUgZmlyc3QgcmVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSByZWN0MiBUaGUgc2Vjb25kIHJlY3QuXG4gKiBAcmV0dXJuIHs/T2JqZWN0fSBUaGUgaW50ZXJzZWN0aW9uIHJlY3Qgb3IgdW5kZWZpbmVkIGlmIG5vIGludGVyc2VjdGlvblxuICogICAgIGlzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBjb21wdXRlUmVjdEludGVyc2VjdGlvbihyZWN0MSwgcmVjdDIpIHtcbiAgdmFyIHRvcCA9IE1hdGgubWF4KHJlY3QxLnRvcCwgcmVjdDIudG9wKTtcbiAgdmFyIGJvdHRvbSA9IE1hdGgubWluKHJlY3QxLmJvdHRvbSwgcmVjdDIuYm90dG9tKTtcbiAgdmFyIGxlZnQgPSBNYXRoLm1heChyZWN0MS5sZWZ0LCByZWN0Mi5sZWZ0KTtcbiAgdmFyIHJpZ2h0ID0gTWF0aC5taW4ocmVjdDEucmlnaHQsIHJlY3QyLnJpZ2h0KTtcbiAgdmFyIHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICB2YXIgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuXG4gIHJldHVybiAod2lkdGggPj0gMCAmJiBoZWlnaHQgPj0gMCkgJiYge1xuICAgIHRvcDogdG9wLFxuICAgIGJvdHRvbTogYm90dG9tLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgcmlnaHQ6IHJpZ2h0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufVxuXG5cbi8qKlxuICogU2hpbXMgdGhlIG5hdGl2ZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciBJRS5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWwgVGhlIGVsZW1lbnQgd2hvc2UgYm91bmRpbmcgcmVjdCB0byBnZXQuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSAocG9zc2libHkgc2hpbW1lZCkgcmVjdCBvZiB0aGUgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsKSB7XG4gIHZhciByZWN0O1xuXG4gIHRyeSB7XG4gICAgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJZ25vcmUgV2luZG93cyA3IElFMTEgXCJVbnNwZWNpZmllZCBlcnJvclwiXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci9wdWxsLzIwNVxuICB9XG5cbiAgaWYgKCFyZWN0KSByZXR1cm4gZ2V0RW1wdHlSZWN0KCk7XG5cbiAgLy8gT2xkZXIgSUVcbiAgaWYgKCEocmVjdC53aWR0aCAmJiByZWN0LmhlaWdodCkpIHtcbiAgICByZWN0ID0ge1xuICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0LFxuICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgICAgaGVpZ2h0OiByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcmVjdDtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYW4gZW1wdHkgcmVjdCBvYmplY3QuIEFuIGVtcHR5IHJlY3QgaXMgcmV0dXJuZWQgd2hlbiBhbiBlbGVtZW50XG4gKiBpcyBub3QgaW4gdGhlIERPTS5cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGVtcHR5IHJlY3QuXG4gKi9cbmZ1bmN0aW9uIGdldEVtcHR5UmVjdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwXG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpZiBhIHBhcmVudCBlbGVtZW50IGNvbnRhaW5zIGEgY2hpbGQgZWxlbWVudCAoaW5jbHVkaW5nIGluc2lkZVxuICogc2hhZG93IERPTSkuXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcGFyYW0ge05vZGV9IGNoaWxkIFRoZSBjaGlsZCBlbGVtZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGFyZW50IG5vZGUgY29udGFpbnMgdGhlIGNoaWxkIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zRGVlcChwYXJlbnQsIGNoaWxkKSB7XG4gIHZhciBub2RlID0gY2hpbGQ7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUgPT0gcGFyZW50KSByZXR1cm4gdHJ1ZTtcblxuICAgIG5vZGUgPSBnZXRQYXJlbnROb2RlKG5vZGUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIHBhcmVudCBub2RlIG9mIGFuIGVsZW1lbnQgb3IgaXRzIGhvc3QgZWxlbWVudCBpZiB0aGUgcGFyZW50IG5vZGVcbiAqIGlzIGEgc2hhZG93IHJvb3QuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgd2hvc2UgcGFyZW50IHRvIGdldC5cbiAqIEByZXR1cm4ge05vZGV8bnVsbH0gVGhlIHBhcmVudCBub2RlIG9yIG51bGwgaWYgbm8gcGFyZW50IGV4aXN0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShub2RlKSB7XG4gIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG5cbiAgaWYgKHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgPT0gMTEgJiYgcGFyZW50Lmhvc3QpIHtcbiAgICAvLyBJZiB0aGUgcGFyZW50IGlzIGEgc2hhZG93IHJvb3QsIHJldHVybiB0aGUgaG9zdCBlbGVtZW50LlxuICAgIHJldHVybiBwYXJlbnQuaG9zdDtcbiAgfVxuICByZXR1cm4gcGFyZW50O1xufVxuXG5cbi8vIEV4cG9zZXMgdGhlIGNvbnN0cnVjdG9ycyBnbG9iYWxseS5cbndpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlciA9IEludGVyc2VjdGlvbk9ic2VydmVyO1xud2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkgPSBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5O1xuXG59KHdpbmRvdywgZG9jdW1lbnQpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/intersection-observer/intersection-observer.js\n");

/***/ }),

/***/ "./node_modules/jquery-revealer/jquery.revealer.js":
/*!*********************************************************!*\
  !*** ./node_modules/jquery-revealer/jquery.revealer.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*!\n * Revealer 2.0.1\n *\n * Copyright 2015, Pixel Union - http://pixelunion.net\n * Released under the MIT license\n */\n(function($){\n  // check for trend event (make sure jquery.trend is included)\n  if (typeof $.event.special.trend !== \"object\") {\n    console.warn(\"Please make sure jquery.trend is included! Otherwise revealer won't work.\");\n  }\n\n  // Simple requestAnimationFrame polyfill\n  var raf = window.requestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    function(fn) { window.setTimeout(fn, 1000/60); }\n\n\n  // Public API\n  var methods = {\n    isVisible: function(el) {\n      return !!el.data(\"revealer-visible\");\n    },\n\n    show: function(el, force) {\n      // Check state\n      if (methods.isVisible(el)) {\n        el.removeClass(\"animating animating-in\");\n        el.off(\"revealer-animating revealer-show\");\n        return;\n      }\n\n      // Remove previous event listeners\n      el.data(\"revealer-visible\", true);\n      el.off(\"trend\");\n\n      if (force) {\n        el.addClass(\"visible\");\n        raf(function(){\n          el.trigger(\"revealer-animating\");\n          el.trigger(\"revealer-show\");\n        });\n        return;\n      }\n\n      raf(function(){\n        // Start animation state transition\n        el.addClass(\"animating animating-in\");\n        el.trigger(\"revealer-animating\");\n\n        raf(function(){\n          el.addClass(\"visible\");\n\n          el.one(\"trend\", function(){\n            el.removeClass(\"animating animating-in\");\n            el.trigger(\"revealer-show\");\n          });\n        });\n      });\n    },\n\n    hide: function(el, force) {\n      // Check state\n      if (!methods.isVisible(el)) {\n        el.removeClass(\"animating animating-out visible\");\n        el.off(\"revealer-animating revealer-hide\");\n        return;\n      }\n\n      // Remove previous event listeners\n      el.data(\"revealer-visible\", false);\n      el.off(\"trend\");\n\n      if (force) {\n        el.removeClass(\"visible\");\n        raf(function(){\n          el.trigger(\"revealer-animating\");\n          el.trigger(\"revealer-hide\");\n        });\n        return;\n      }\n\n      raf(function(){\n        el.addClass(\"animating animating-out\");\n        el.trigger(\"revealer-animating\");\n\n        raf(function(){\n          el.removeClass(\"visible\");\n\n          el.one(\"trend\", function(){\n            el.removeClass(\"animating animating-in animating-out\");\n            el.trigger(\"revealer-hide\");\n          });\n        });\n      });\n    },\n\n    toggle: function(el, force) {\n      if (methods.isVisible(el)) {\n        methods.hide(el, force);\n      } else {\n        methods.show(el, force);\n      }\n    }\n  };\n\n  // jQuery plugin\n  $.fn.revealer = function(method, force) {\n    // Get action\n    var action = methods[method || \"toggle\"];\n    if (!action) return this;\n\n    // Run action\n    if (method === \"isVisible\") {\n      return action(this);\n    }\n\n    return this.each(function(){\n      action($(this), force);\n    });\n  };\n})(jQuery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXJldmVhbGVyL2pxdWVyeS5yZXZlYWxlci5qcz9jN2NiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0NBQWdDOzs7QUFHbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9qcXVlcnktcmV2ZWFsZXIvanF1ZXJ5LnJldmVhbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBSZXZlYWxlciAyLjAuMVxuICpcbiAqIENvcHlyaWdodCAyMDE1LCBQaXhlbCBVbmlvbiAtIGh0dHA6Ly9waXhlbHVuaW9uLm5ldFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbihmdW5jdGlvbigkKXtcbiAgLy8gY2hlY2sgZm9yIHRyZW5kIGV2ZW50IChtYWtlIHN1cmUganF1ZXJ5LnRyZW5kIGlzIGluY2x1ZGVkKVxuICBpZiAodHlwZW9mICQuZXZlbnQuc3BlY2lhbC50cmVuZCAhPT0gXCJvYmplY3RcIikge1xuICAgIGNvbnNvbGUud2FybihcIlBsZWFzZSBtYWtlIHN1cmUganF1ZXJ5LnRyZW5kIGlzIGluY2x1ZGVkISBPdGhlcndpc2UgcmV2ZWFsZXIgd29uJ3Qgd29yay5cIik7XG4gIH1cblxuICAvLyBTaW1wbGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBvbHlmaWxsXG4gIHZhciByYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICBmdW5jdGlvbihmbikgeyB3aW5kb3cuc2V0VGltZW91dChmbiwgMTAwMC82MCk7IH1cblxuXG4gIC8vIFB1YmxpYyBBUElcbiAgdmFyIG1ldGhvZHMgPSB7XG4gICAgaXNWaXNpYmxlOiBmdW5jdGlvbihlbCkge1xuICAgICAgcmV0dXJuICEhZWwuZGF0YShcInJldmVhbGVyLXZpc2libGVcIik7XG4gICAgfSxcblxuICAgIHNob3c6IGZ1bmN0aW9uKGVsLCBmb3JjZSkge1xuICAgICAgLy8gQ2hlY2sgc3RhdGVcbiAgICAgIGlmIChtZXRob2RzLmlzVmlzaWJsZShlbCkpIHtcbiAgICAgICAgZWwucmVtb3ZlQ2xhc3MoXCJhbmltYXRpbmcgYW5pbWF0aW5nLWluXCIpO1xuICAgICAgICBlbC5vZmYoXCJyZXZlYWxlci1hbmltYXRpbmcgcmV2ZWFsZXItc2hvd1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzXG4gICAgICBlbC5kYXRhKFwicmV2ZWFsZXItdmlzaWJsZVwiLCB0cnVlKTtcbiAgICAgIGVsLm9mZihcInRyZW5kXCIpO1xuXG4gICAgICBpZiAoZm9yY2UpIHtcbiAgICAgICAgZWwuYWRkQ2xhc3MoXCJ2aXNpYmxlXCIpO1xuICAgICAgICByYWYoZnVuY3Rpb24oKXtcbiAgICAgICAgICBlbC50cmlnZ2VyKFwicmV2ZWFsZXItYW5pbWF0aW5nXCIpO1xuICAgICAgICAgIGVsLnRyaWdnZXIoXCJyZXZlYWxlci1zaG93XCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByYWYoZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gU3RhcnQgYW5pbWF0aW9uIHN0YXRlIHRyYW5zaXRpb25cbiAgICAgICAgZWwuYWRkQ2xhc3MoXCJhbmltYXRpbmcgYW5pbWF0aW5nLWluXCIpO1xuICAgICAgICBlbC50cmlnZ2VyKFwicmV2ZWFsZXItYW5pbWF0aW5nXCIpO1xuXG4gICAgICAgIHJhZihmdW5jdGlvbigpe1xuICAgICAgICAgIGVsLmFkZENsYXNzKFwidmlzaWJsZVwiKTtcblxuICAgICAgICAgIGVsLm9uZShcInRyZW5kXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBlbC5yZW1vdmVDbGFzcyhcImFuaW1hdGluZyBhbmltYXRpbmctaW5cIik7XG4gICAgICAgICAgICBlbC50cmlnZ2VyKFwicmV2ZWFsZXItc2hvd1wiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGlkZTogZnVuY3Rpb24oZWwsIGZvcmNlKSB7XG4gICAgICAvLyBDaGVjayBzdGF0ZVxuICAgICAgaWYgKCFtZXRob2RzLmlzVmlzaWJsZShlbCkpIHtcbiAgICAgICAgZWwucmVtb3ZlQ2xhc3MoXCJhbmltYXRpbmcgYW5pbWF0aW5nLW91dCB2aXNpYmxlXCIpO1xuICAgICAgICBlbC5vZmYoXCJyZXZlYWxlci1hbmltYXRpbmcgcmV2ZWFsZXItaGlkZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzXG4gICAgICBlbC5kYXRhKFwicmV2ZWFsZXItdmlzaWJsZVwiLCBmYWxzZSk7XG4gICAgICBlbC5vZmYoXCJ0cmVuZFwiKTtcblxuICAgICAgaWYgKGZvcmNlKSB7XG4gICAgICAgIGVsLnJlbW92ZUNsYXNzKFwidmlzaWJsZVwiKTtcbiAgICAgICAgcmFmKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgZWwudHJpZ2dlcihcInJldmVhbGVyLWFuaW1hdGluZ1wiKTtcbiAgICAgICAgICBlbC50cmlnZ2VyKFwicmV2ZWFsZXItaGlkZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmFmKGZ1bmN0aW9uKCl7XG4gICAgICAgIGVsLmFkZENsYXNzKFwiYW5pbWF0aW5nIGFuaW1hdGluZy1vdXRcIik7XG4gICAgICAgIGVsLnRyaWdnZXIoXCJyZXZlYWxlci1hbmltYXRpbmdcIik7XG5cbiAgICAgICAgcmFmKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgZWwucmVtb3ZlQ2xhc3MoXCJ2aXNpYmxlXCIpO1xuXG4gICAgICAgICAgZWwub25lKFwidHJlbmRcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGVsLnJlbW92ZUNsYXNzKFwiYW5pbWF0aW5nIGFuaW1hdGluZy1pbiBhbmltYXRpbmctb3V0XCIpO1xuICAgICAgICAgICAgZWwudHJpZ2dlcihcInJldmVhbGVyLWhpZGVcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHRvZ2dsZTogZnVuY3Rpb24oZWwsIGZvcmNlKSB7XG4gICAgICBpZiAobWV0aG9kcy5pc1Zpc2libGUoZWwpKSB7XG4gICAgICAgIG1ldGhvZHMuaGlkZShlbCwgZm9yY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWV0aG9kcy5zaG93KGVsLCBmb3JjZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIGpRdWVyeSBwbHVnaW5cbiAgJC5mbi5yZXZlYWxlciA9IGZ1bmN0aW9uKG1ldGhvZCwgZm9yY2UpIHtcbiAgICAvLyBHZXQgYWN0aW9uXG4gICAgdmFyIGFjdGlvbiA9IG1ldGhvZHNbbWV0aG9kIHx8IFwidG9nZ2xlXCJdO1xuICAgIGlmICghYWN0aW9uKSByZXR1cm4gdGhpcztcblxuICAgIC8vIFJ1biBhY3Rpb25cbiAgICBpZiAobWV0aG9kID09PSBcImlzVmlzaWJsZVwiKSB7XG4gICAgICByZXR1cm4gYWN0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIGFjdGlvbigkKHRoaXMpLCBmb3JjZSk7XG4gICAgfSk7XG4gIH07XG59KShqUXVlcnkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/jquery-revealer/jquery.revealer.js\n");

/***/ }),

/***/ "./node_modules/jquery-trend/jquery.trend.js":
/*!***************************************************!*\
  !*** ./node_modules/jquery-trend/jquery.trend.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*!\n * Trend 0.2.0\n *\n * Fail-safe TransitionEnd event for jQuery.\n *\n * Adds a new \"trend\" event that can be used in browsers that don't\n * support \"transitionend\".\n *\n * NOTE: Only supports being bound with \"jQuery.one\".\n *\n * Copyright 2014, Pixel Union - http://pixelunion.net\n * Released under the MIT license\n */\n;(function($){\n\n  // Prefixed transitionend event names\n  var transitionEndEvents =\n    \"webkitTransitionEnd \" +\n    \"otransitionend \" +\n    \"oTransitionEnd \" +\n    \"msTransitionEnd \" +\n    \"transitionend\";\n\n  // Prefixed transition duration property names\n  var transitionDurationProperties = [\n    \"transition-duration\",\n    \"-moz-transition-duration\",\n    \"-webkit-transition-duration\",\n    \"-ms-transition-duration\",\n    \"-o-transition-duration\",\n    \"-khtml-transition-duration\"\n  ];\n\n  // Prefixed transition delay property names\n  var transitionDelayProperties = [\n    \"transition-delay\",\n    \"-moz-transition-delay\",\n    \"-webkit-transition-delay\",\n    \"-ms-transition-delay\",\n    \"-o-transition-delay\",\n    \"-khtml-transition-delay\"\n  ];\n\n  // Parses a CSS time value into milliseconds.\n  var parseTime = function(s) {\n    s = s.replace(/\\s/, \"\");\n    var v = window.parseFloat(s);\n\n    return s.match(/[^m]s$/i)\n      ? v * 1000\n      : v;\n  };\n\n  // Parses the longest time unit found in a series of CSS properties.\n  // Returns a value in milliseconds.\n  var parseProperties = function(el, properties) {\n    var duration = 0;\n\n    for (var i = 0; i < properties.length; i++) {\n      // Get raw CSS value\n      var value = el.css(properties[i]);\n      if (!value) continue;\n\n      // Multiple transitions--pick the longest\n      if (value.indexOf(\",\") !== -1) {\n        var values = value.split(\",\");\n        var durations = (function(){\n          var results = [];\n          for (var i = 0; i < values.length; i++) {\n            var duration = parseTime(values[i]);\n            results.push(duration);\n          }\n          return results;\n        })();\n\n        duration = Math.max.apply(Math, durations);\n      }\n\n      // Single transition\n      else {\n        duration = parseTime(value);\n      }\n\n      // Accept first vaue\n      break;\n    }\n\n    return duration;\n  };\n\n  $.event.special.trend = {\n    // Triggers an event handler when an element is done transitioning.\n    //\n    // Handles browsers that don't support transitionend by adding a\n    // timeout with the transition duration.\n    add: function(handleObj) {\n      var el = $(this);\n      var fired = false;\n\n      // Mark element as being in transition\n      el.data(\"trend\", true);\n\n      // Calculate a fallback duration. + 20 because some browsers fire\n      // timeouts faster than transitionend.\n      var time =\n        parseProperties(el, transitionDurationProperties) +\n        parseProperties(el, transitionDelayProperties) +\n        20;\n\n      var cb = function(e) {\n        // transitionend events can be sent for each property. Let's just\n        // skip all but the first. Also handles the timeout callback.\n        if (fired) return;\n\n        // Child elements that also have transitions can be fired before we\n        // complete. This will catch and ignore those. Unfortunately, we'll\n        // have to rely on the timeout in these cases.\n        if (e && e.srcElement !== el[0]) return;\n\n        // Mark element has not being in transition\n        el.data(\"trend\", false);\n\n        // Callback\n        fired = true;\n        if (handleObj.handler) handleObj.handler();\n      };\n\n      el.one(transitionEndEvents, cb);\n      el.data(\"trend-timeout\", window.setTimeout(cb, time));\n    },\n\n    remove: function(handleObj) {\n      var el = $(this);\n      el.off(transitionEndEvents);\n      window.clearTimeout(el.data(\"trend-timeout\"));\n    }\n  };\n\n})(jQuery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXRyZW5kL2pxdWVyeS50cmVuZC5qcz9jMDQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUJBQW1CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9qcXVlcnktdHJlbmQvanF1ZXJ5LnRyZW5kLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBUcmVuZCAwLjIuMFxuICpcbiAqIEZhaWwtc2FmZSBUcmFuc2l0aW9uRW5kIGV2ZW50IGZvciBqUXVlcnkuXG4gKlxuICogQWRkcyBhIG5ldyBcInRyZW5kXCIgZXZlbnQgdGhhdCBjYW4gYmUgdXNlZCBpbiBicm93c2VycyB0aGF0IGRvbid0XG4gKiBzdXBwb3J0IFwidHJhbnNpdGlvbmVuZFwiLlxuICpcbiAqIE5PVEU6IE9ubHkgc3VwcG9ydHMgYmVpbmcgYm91bmQgd2l0aCBcImpRdWVyeS5vbmVcIi5cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNCwgUGl4ZWwgVW5pb24gLSBodHRwOi8vcGl4ZWx1bmlvbi5uZXRcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG47KGZ1bmN0aW9uKCQpe1xuXG4gIC8vIFByZWZpeGVkIHRyYW5zaXRpb25lbmQgZXZlbnQgbmFtZXNcbiAgdmFyIHRyYW5zaXRpb25FbmRFdmVudHMgPVxuICAgIFwid2Via2l0VHJhbnNpdGlvbkVuZCBcIiArXG4gICAgXCJvdHJhbnNpdGlvbmVuZCBcIiArXG4gICAgXCJvVHJhbnNpdGlvbkVuZCBcIiArXG4gICAgXCJtc1RyYW5zaXRpb25FbmQgXCIgK1xuICAgIFwidHJhbnNpdGlvbmVuZFwiO1xuXG4gIC8vIFByZWZpeGVkIHRyYW5zaXRpb24gZHVyYXRpb24gcHJvcGVydHkgbmFtZXNcbiAgdmFyIHRyYW5zaXRpb25EdXJhdGlvblByb3BlcnRpZXMgPSBbXG4gICAgXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsXG4gICAgXCItbW96LXRyYW5zaXRpb24tZHVyYXRpb25cIixcbiAgICBcIi13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvblwiLFxuICAgIFwiLW1zLXRyYW5zaXRpb24tZHVyYXRpb25cIixcbiAgICBcIi1vLXRyYW5zaXRpb24tZHVyYXRpb25cIixcbiAgICBcIi1raHRtbC10cmFuc2l0aW9uLWR1cmF0aW9uXCJcbiAgXTtcblxuICAvLyBQcmVmaXhlZCB0cmFuc2l0aW9uIGRlbGF5IHByb3BlcnR5IG5hbWVzXG4gIHZhciB0cmFuc2l0aW9uRGVsYXlQcm9wZXJ0aWVzID0gW1xuICAgIFwidHJhbnNpdGlvbi1kZWxheVwiLFxuICAgIFwiLW1vei10cmFuc2l0aW9uLWRlbGF5XCIsXG4gICAgXCItd2Via2l0LXRyYW5zaXRpb24tZGVsYXlcIixcbiAgICBcIi1tcy10cmFuc2l0aW9uLWRlbGF5XCIsXG4gICAgXCItby10cmFuc2l0aW9uLWRlbGF5XCIsXG4gICAgXCIta2h0bWwtdHJhbnNpdGlvbi1kZWxheVwiXG4gIF07XG5cbiAgLy8gUGFyc2VzIGEgQ1NTIHRpbWUgdmFsdWUgaW50byBtaWxsaXNlY29uZHMuXG4gIHZhciBwYXJzZVRpbWUgPSBmdW5jdGlvbihzKSB7XG4gICAgcyA9IHMucmVwbGFjZSgvXFxzLywgXCJcIik7XG4gICAgdmFyIHYgPSB3aW5kb3cucGFyc2VGbG9hdChzKTtcblxuICAgIHJldHVybiBzLm1hdGNoKC9bXm1dcyQvaSlcbiAgICAgID8gdiAqIDEwMDBcbiAgICAgIDogdjtcbiAgfTtcblxuICAvLyBQYXJzZXMgdGhlIGxvbmdlc3QgdGltZSB1bml0IGZvdW5kIGluIGEgc2VyaWVzIG9mIENTUyBwcm9wZXJ0aWVzLlxuICAvLyBSZXR1cm5zIGEgdmFsdWUgaW4gbWlsbGlzZWNvbmRzLlxuICB2YXIgcGFyc2VQcm9wZXJ0aWVzID0gZnVuY3Rpb24oZWwsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgZHVyYXRpb24gPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgcmF3IENTUyB2YWx1ZVxuICAgICAgdmFyIHZhbHVlID0gZWwuY3NzKHByb3BlcnRpZXNbaV0pO1xuICAgICAgaWYgKCF2YWx1ZSkgY29udGludWU7XG5cbiAgICAgIC8vIE11bHRpcGxlIHRyYW5zaXRpb25zLS1waWNrIHRoZSBsb25nZXN0XG4gICAgICBpZiAodmFsdWUuaW5kZXhPZihcIixcIikgIT09IC0xKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICAgIHZhciBkdXJhdGlvbnMgPSAoZnVuY3Rpb24oKXtcbiAgICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBwYXJzZVRpbWUodmFsdWVzW2ldKTtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChkdXJhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9KSgpO1xuXG4gICAgICAgIGR1cmF0aW9uID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgZHVyYXRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2luZ2xlIHRyYW5zaXRpb25cbiAgICAgIGVsc2Uge1xuICAgICAgICBkdXJhdGlvbiA9IHBhcnNlVGltZSh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFjY2VwdCBmaXJzdCB2YXVlXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gZHVyYXRpb247XG4gIH07XG5cbiAgJC5ldmVudC5zcGVjaWFsLnRyZW5kID0ge1xuICAgIC8vIFRyaWdnZXJzIGFuIGV2ZW50IGhhbmRsZXIgd2hlbiBhbiBlbGVtZW50IGlzIGRvbmUgdHJhbnNpdGlvbmluZy5cbiAgICAvL1xuICAgIC8vIEhhbmRsZXMgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRyYW5zaXRpb25lbmQgYnkgYWRkaW5nIGFcbiAgICAvLyB0aW1lb3V0IHdpdGggdGhlIHRyYW5zaXRpb24gZHVyYXRpb24uXG4gICAgYWRkOiBmdW5jdGlvbihoYW5kbGVPYmopIHtcbiAgICAgIHZhciBlbCA9ICQodGhpcyk7XG4gICAgICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICAgICAgLy8gTWFyayBlbGVtZW50IGFzIGJlaW5nIGluIHRyYW5zaXRpb25cbiAgICAgIGVsLmRhdGEoXCJ0cmVuZFwiLCB0cnVlKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIGEgZmFsbGJhY2sgZHVyYXRpb24uICsgMjAgYmVjYXVzZSBzb21lIGJyb3dzZXJzIGZpcmVcbiAgICAgIC8vIHRpbWVvdXRzIGZhc3RlciB0aGFuIHRyYW5zaXRpb25lbmQuXG4gICAgICB2YXIgdGltZSA9XG4gICAgICAgIHBhcnNlUHJvcGVydGllcyhlbCwgdHJhbnNpdGlvbkR1cmF0aW9uUHJvcGVydGllcykgK1xuICAgICAgICBwYXJzZVByb3BlcnRpZXMoZWwsIHRyYW5zaXRpb25EZWxheVByb3BlcnRpZXMpICtcbiAgICAgICAgMjA7XG5cbiAgICAgIHZhciBjYiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gdHJhbnNpdGlvbmVuZCBldmVudHMgY2FuIGJlIHNlbnQgZm9yIGVhY2ggcHJvcGVydHkuIExldCdzIGp1c3RcbiAgICAgICAgLy8gc2tpcCBhbGwgYnV0IHRoZSBmaXJzdC4gQWxzbyBoYW5kbGVzIHRoZSB0aW1lb3V0IGNhbGxiYWNrLlxuICAgICAgICBpZiAoZmlyZWQpIHJldHVybjtcblxuICAgICAgICAvLyBDaGlsZCBlbGVtZW50cyB0aGF0IGFsc28gaGF2ZSB0cmFuc2l0aW9ucyBjYW4gYmUgZmlyZWQgYmVmb3JlIHdlXG4gICAgICAgIC8vIGNvbXBsZXRlLiBUaGlzIHdpbGwgY2F0Y2ggYW5kIGlnbm9yZSB0aG9zZS4gVW5mb3J0dW5hdGVseSwgd2UnbGxcbiAgICAgICAgLy8gaGF2ZSB0byByZWx5IG9uIHRoZSB0aW1lb3V0IGluIHRoZXNlIGNhc2VzLlxuICAgICAgICBpZiAoZSAmJiBlLnNyY0VsZW1lbnQgIT09IGVsWzBdKSByZXR1cm47XG5cbiAgICAgICAgLy8gTWFyayBlbGVtZW50IGhhcyBub3QgYmVpbmcgaW4gdHJhbnNpdGlvblxuICAgICAgICBlbC5kYXRhKFwidHJlbmRcIiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIENhbGxiYWNrXG4gICAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGhhbmRsZU9iai5oYW5kbGVyKSBoYW5kbGVPYmouaGFuZGxlcigpO1xuICAgICAgfTtcblxuICAgICAgZWwub25lKHRyYW5zaXRpb25FbmRFdmVudHMsIGNiKTtcbiAgICAgIGVsLmRhdGEoXCJ0cmVuZC10aW1lb3V0XCIsIHdpbmRvdy5zZXRUaW1lb3V0KGNiLCB0aW1lKSk7XG4gICAgfSxcblxuICAgIHJlbW92ZTogZnVuY3Rpb24oaGFuZGxlT2JqKSB7XG4gICAgICB2YXIgZWwgPSAkKHRoaXMpO1xuICAgICAgZWwub2ZmKHRyYW5zaXRpb25FbmRFdmVudHMpO1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChlbC5kYXRhKFwidHJlbmQtdGltZW91dFwiKSk7XG4gICAgfVxuICB9O1xuXG59KShqUXVlcnkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/jquery-trend/jquery.trend.js\n");

/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * jQuery JavaScript Library v3.4.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2019-05-01T21:04Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif (  true && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.4.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code, options ) {\n\t\tDOMEval( code, { nonce: options && options.nonce } );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.4\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2019-04-08\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t(nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\") ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 && rdescend.test( selector ) ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem.namespaceURI,\n\t\tdocElem = (elem.ownerDocument || elem).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( (elem = elems[i++]) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( typeof elem.contentDocument !== \"undefined\" ) {\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t/* eslint-disable max-len */\n\n\t// See https://github.com/eslint/eslint/issues/3229\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t/* eslint-enable */\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t// This happens for inline elements with no explicit setting (gh-3571)\n\t// Support: Android <=4.1 - 4.3 only\n\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t// Support: IE 9-11 only\n\t// Also use offsetWidth/offsetHeight for when box sizing is unreliable\n\t// We use getClientRects() to check for hidden/disconnected.\n\t// In those cases, the computed value can be trusted to be border-box\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\t\tval === \"auto\" ||\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = Date.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url, options ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( true ) {\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\treturn jQuery;\n\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzPzExNTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxNQUFNLEtBQTBCOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFlBQVk7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixvQkFBb0I7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxrQkFBa0Isa0NBQWtDO0FBQ3BELEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFNBQVM7QUFDbEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLFlBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixJQUFJOztBQUVwQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MsSUFBSTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRLDZCQUE2QjtBQUNoRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0VBQWdFOztBQUVoRTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7O0FBRTdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtB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RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsUUFBUSxTQUFTO0FBQ2pCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxpREFBaUQ7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsVUFBVSx3Q0FBd0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTs7QUFFQSxDQUFDOzs7O0FBSUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUEsUUFBUSxHQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7Ozs7QUFJQTs7QUFFQTs7QUFFQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUEsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakIsMEJBQTBCLHdCQUF3Qjs7QUFFbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsMENBQTBDO0FBQzFDLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0NBQXdDLHNDQUFzQztBQUM5RSxvQ0FBb0MsdUNBQXVDO0FBQzNFLG9DQUFvQyxzQ0FBc0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixPQUFPO0FBQ1A7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQztBQUNwQyxxQ0FBcUM7QUFDckMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7Ozs7O0FBS0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsYUFBYTtBQUNwQyxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixTQUFTO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOzs7QUFHQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSxnQkFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxFQUFFO0FBQ0Y7O0FBRUEsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsT0FBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87QUFDZjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxnQkFBZ0I7QUFDbEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7O0FBRVg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEOztBQUVBO0FBQ0E7O0FBRUEsY0FBYyxzQkFBc0I7QUFDcEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsK0RBQStEO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxjQUFjOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVDQUF1QztBQUNqRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQXVEO0FBQzlFOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtDQUErQztBQUNwRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUMsY0FBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQsY0FBYyxxQ0FBcUM7QUFDbkQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLCtCQUErQjtBQUN2QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUNBQXVDLE9BQU87QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLHFDQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBLFNBQVMsOEJBQThCO0FBQ3ZDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxZQUFZLE9BQU87QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFdBQVc7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOzs7O0FBSUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtDQUErQyxjQUFjLFdBQVc7QUFDeEUsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQSxzQkFBc0IsY0FBYyxzQkFBc0IsZ0JBQWdCO0FBQzFFLGdCQUFnQixXQUFXLFlBQVk7QUFDdkMsY0FBYztBQUNkOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLENBQUM7OztBQUdEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrREFBK0Q7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxPQUFPOztBQUVmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBOztBQUVBLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFdBQVcsU0FBUztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBLFFBQVEsT0FBTztBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnQkFBZ0I7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGlEQUFpRCwwQkFBMEI7QUFDM0U7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLGdCQUFnQjtBQUMxQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsaUNBQWlDO0FBQ2pDO0FBQ0E7O0FBRUEsSUFBSTtBQUNKOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDs7O0FBR0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUEseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxLQUFLO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQ0FBcUM7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEtBQUs7QUFDTDs7QUFFQSxXQUFXO0FBQ1gsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCLGdEQUFnRDtBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDOztBQUVsQztBQUNBLHNCQUFzQjtBQUN0QiwyQkFBMkI7O0FBRTNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFdBQVcseUJBQXlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLGFBQWEsdUNBQXVDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDs7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscURBQXFEO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLHNEQUFzRDtBQUNwRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pELGVBQWUsNkRBQTZEO0FBQzVFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFO0FBQ0YsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLLElBQTBDO0FBQy9DLENBQUMsaUNBQWtCLEVBQUUsbUNBQUU7QUFDdkI7QUFDQSxFQUFFO0FBQUEsb0dBQUU7QUFDSjs7Ozs7QUFLQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0EsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9qcXVlcnkvZGlzdC9qcXVlcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNC4xXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxOS0wNS0wMVQyMTowNFpcbiAqL1xuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG5cdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuXHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59ICkoIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXG4vLyB0aHJvdyBleGNlcHRpb25zIHdoZW4gbm9uLXN0cmljdCBjb2RlIChlLmcuLCBBU1AuTkVUIDQuNSkgYWNjZXNzZXMgc3RyaWN0IG1vZGVcbi8vIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyICh0cmFjLTEzMzM1KS4gQnV0IGFzIG9mIGpRdWVyeSAzLjAgKDIwMTYpLCBzdHJpY3QgbW9kZSBzaG91bGQgYmUgY29tbW9uXG4vLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYXJyID0gW107XG5cbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG5cbnZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD01NywgRmlyZWZveCA8PTUyXG4gICAgICAvLyBJbiBzb21lIGJyb3dzZXJzLCB0eXBlb2YgcmV0dXJucyBcImZ1bmN0aW9uXCIgZm9yIEhUTUwgPG9iamVjdD4gZWxlbWVudHNcbiAgICAgIC8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib2JqZWN0XCIgKSA9PT0gXCJmdW5jdGlvblwiYCkuXG4gICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGNsYXNzaWZ5ICphbnkqIERPTSBub2RlIGFzIGEgZnVuY3Rpb24uXG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgIT09IFwibnVtYmVyXCI7XG4gIH07XG5cblxudmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3coIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9O1xuXG5cblxuXG5cdHZhciBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzID0ge1xuXHRcdHR5cGU6IHRydWUsXG5cdFx0c3JjOiB0cnVlLFxuXHRcdG5vbmNlOiB0cnVlLFxuXHRcdG5vTW9kdWxlOiB0cnVlXG5cdH07XG5cblx0ZnVuY3Rpb24gRE9NRXZhbCggY29kZSwgbm9kZSwgZG9jICkge1xuXHRcdGRvYyA9IGRvYyB8fCBkb2N1bWVudDtcblxuXHRcdHZhciBpLCB2YWwsXG5cdFx0XHRzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCggXCJzY3JpcHRcIiApO1xuXG5cdFx0c2NyaXB0LnRleHQgPSBjb2RlO1xuXHRcdGlmICggbm9kZSApIHtcblx0XHRcdGZvciAoIGkgaW4gcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDY0KywgRWRnZSAxOCtcblx0XHRcdFx0Ly8gU29tZSBicm93c2VycyBkb24ndCBzdXBwb3J0IHRoZSBcIm5vbmNlXCIgcHJvcGVydHkgb24gc2NyaXB0cy5cblx0XHRcdFx0Ly8gT24gdGhlIG90aGVyIGhhbmQsIGp1c3QgdXNpbmcgYGdldEF0dHJpYnV0ZWAgaXMgbm90IGVub3VnaCBhc1xuXHRcdFx0XHQvLyB0aGUgYG5vbmNlYCBhdHRyaWJ1dGUgaXMgcmVzZXQgdG8gYW4gZW1wdHkgc3RyaW5nIHdoZW5ldmVyIGl0XG5cdFx0XHRcdC8vIGJlY29tZXMgYnJvd3NpbmctY29udGV4dCBjb25uZWN0ZWQuXG5cdFx0XHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvaXNzdWVzLzIzNjlcblx0XHRcdFx0Ly8gU2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI25vbmNlLWF0dHJpYnV0ZXNcblx0XHRcdFx0Ly8gVGhlIGBub2RlLmdldEF0dHJpYnV0ZWAgY2hlY2sgd2FzIGFkZGVkIGZvciB0aGUgc2FrZSBvZlxuXHRcdFx0XHQvLyBgalF1ZXJ5Lmdsb2JhbEV2YWxgIHNvIHRoYXQgaXQgY2FuIGZha2UgYSBub25jZS1jb250YWluaW5nIG5vZGVcblx0XHRcdFx0Ly8gdmlhIGFuIG9iamVjdC5cblx0XHRcdFx0dmFsID0gbm9kZVsgaSBdIHx8IG5vZGUuZ2V0QXR0cmlidXRlICYmIG5vZGUuZ2V0QXR0cmlidXRlKCBpICk7XG5cdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoIGksIHZhbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGRvYy5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHQgKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcblx0fVxuXG5cbmZ1bmN0aW9uIHRvVHlwZSggb2JqICkge1xuXHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdHJldHVybiBvYmogKyBcIlwiO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXG5cdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG5cdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbCggb2JqICkgXSB8fCBcIm9iamVjdFwiIDpcblx0XHR0eXBlb2Ygb2JqO1xufVxuLyogZ2xvYmFsIFN5bWJvbCAqL1xuLy8gRGVmaW5pbmcgdGhpcyBnbG9iYWwgaW4gLmVzbGludHJjLmpzb24gd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXG5cblxuXG52YXJcblx0dmVyc2lvbiA9IFwiMy40LjFcIixcblxuXHQvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxuXHRqUXVlcnkgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cblx0XHQvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcblx0XHQvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKVxuXHRcdHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxuXHRydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZztcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblxuXHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRpZiAoIG51bSA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0cmV0dXJuIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF07XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWlzRnVuY3Rpb24oIHRhcmdldCApICkge1xuXHRcdHRhcmdldCA9IHt9O1xuXHR9XG5cblx0Ly8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG5cdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdHRhcmdldCA9IHRoaXM7XG5cdFx0aS0tO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0aWYgKCAoIG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSApICE9IG51bGwgKSB7XG5cblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0Y29weSA9IG9wdGlvbnNbIG5hbWUgXTtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IE9iamVjdC5wcm90b3R5cGUgcG9sbHV0aW9uXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCBuYW1lID09PSBcIl9fcHJvdG9fX1wiIHx8IHRhcmdldCA9PT0gY29weSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHxcblx0XHRcdFx0XHQoIGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheSggY29weSApICkgKSApIHtcblx0XHRcdFx0XHRzcmMgPSB0YXJnZXRbIG5hbWUgXTtcblxuXHRcdFx0XHRcdC8vIEVuc3VyZSBwcm9wZXIgdHlwZSBmb3IgdGhlIHNvdXJjZSB2YWx1ZVxuXHRcdFx0XHRcdGlmICggY29weUlzQXJyYXkgJiYgIUFycmF5LmlzQXJyYXkoIHNyYyApICkge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBbXTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAhY29weUlzQXJyYXkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBzcmMgKSApIHtcblx0XHRcdFx0XHRcdGNsb25lID0ge307XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcHJvdG8sIEN0b3I7XG5cblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHQvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcblx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cblx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuXHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBuYW1lO1xuXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XG5cdGdsb2JhbEV2YWw6IGZ1bmN0aW9uKCBjb2RlLCBvcHRpb25zICkge1xuXHRcdERPTUV2YWwoIGNvZGUsIHsgbm9uY2U6IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZSB9ICk7XG5cdH0sXG5cblx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGxlbmd0aCwgaSA9IDA7XG5cblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHtcblx0XHRcdGxlbmd0aCA9IG9iai5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcblx0dHJpbTogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XHRcIlwiIDpcblx0XHRcdCggdGV4dCArIFwiXCIgKS5yZXBsYWNlKCBydHJpbSwgXCJcIiApO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0aW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcblx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuXHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IGZpcnN0Lmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0Zmlyc3RbIGkrKyBdID0gc2Vjb25kWyBqIF07XG5cdFx0fVxuXG5cdFx0Zmlyc3QubGVuZ3RoID0gaTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fSxcblxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0dmFyIGNhbGxiYWNrSW52ZXJzZSxcblx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuXHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTtcblx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH0sXG5cblx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdHZhciBsZW5ndGgsIHZhbHVlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRyZXQgPSBbXTtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHtcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XG5cdH0sXG5cblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdGd1aWQ6IDEsXG5cblx0Ly8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG5cdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdHN1cHBvcnQ6IHN1cHBvcnRcbn0gKTtcblxuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdGpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdO1xufVxuXG4vLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXBcbmpRdWVyeS5lYWNoKCBcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoIFwiIFwiICksXG5mdW5jdGlvbiggaSwgbmFtZSApIHtcblx0Y2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG59ICk7XG5cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKCBvYmogKSB7XG5cblx0Ly8gU3VwcG9ydDogcmVhbCBpT1MgOC4yIG9ubHkgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuXHQvLyBgaW5gIGNoZWNrIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTIxNDUpXG5cdC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xuXHQvLyByZWdhcmRpbmcgTm9kZWxpc3QgbGVuZ3RoIGluIElFXG5cdHZhciBsZW5ndGggPSAhIW9iaiAmJiBcImxlbmd0aFwiIGluIG9iaiAmJiBvYmoubGVuZ3RoLFxuXHRcdHR5cGUgPSB0b1R5cGUoIG9iaiApO1xuXG5cdGlmICggaXNGdW5jdGlvbiggb2JqICkgfHwgaXNXaW5kb3coIG9iaiApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB0eXBlID09PSBcImFycmF5XCIgfHwgbGVuZ3RoID09PSAwIHx8XG5cdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcbn1cbnZhciBTaXp6bGUgPVxuLyohXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjRcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cHM6Ly9qcy5mb3VuZGF0aW9uL1xuICpcbiAqIERhdGU6IDIwMTktMDQtMDhcbiAqL1xuKGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbnZhciBpLFxuXHRzdXBwb3J0LFxuXHRFeHByLFxuXHRnZXRUZXh0LFxuXHRpc1hNTCxcblx0dG9rZW5pemUsXG5cdGNvbXBpbGUsXG5cdHNlbGVjdCxcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cblx0Ly8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuXHRzZXREb2N1bWVudCxcblx0ZG9jdW1lbnQsXG5cdGRvY0VsZW0sXG5cdGRvY3VtZW50SXNIVE1MLFxuXHRyYnVnZ3lRU0EsXG5cdHJidWdneU1hdGNoZXMsXG5cdG1hdGNoZXMsXG5cdGNvbnRhaW5zLFxuXG5cdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcblx0cHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LFxuXHRkaXJydW5zID0gMCxcblx0ZG9uZSA9IDAsXG5cdGNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gMDtcblx0fSxcblxuXHQvLyBJbnN0YW5jZSBtZXRob2RzXG5cdGhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksXG5cdGFyciA9IFtdLFxuXHRwb3AgPSBhcnIucG9wLFxuXHRwdXNoX25hdGl2ZSA9IGFyci5wdXNoLFxuXHRwdXNoID0gYXJyLnB1c2gsXG5cdHNsaWNlID0gYXJyLnNsaWNlLFxuXHQvLyBVc2UgYSBzdHJpcHBlZC1kb3duIGluZGV4T2YgYXMgaXQncyBmYXN0ZXIgdGhhbiBuYXRpdmVcblx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxuXHRpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gbGlzdC5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRpZiAoIGxpc3RbaV0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI3ZhbHVlLWRlZi1pZGVudGlmaWVyXG5cdGlkZW50aWZpZXIgPSBcIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcMC1cXFxceGEwXSkrXCIsXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgaWRlbnRpZmllciArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG5cdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlxcXFxdXCIsXG5cblx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcblx0XHQvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcblx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFwiLipcIiArXG5cdFx0XCIpXFxcXCl8KVwiLFxuXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0cndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdHJkZXNjZW5kID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFwifD5cIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJodG1sID0gL0hUTUwkL2ksXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cblx0Ly8gQ1NTIGVzY2FwZXNcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggXywgZXNjYXBlZCwgZXNjYXBlZFdoaXRlc3BhY2UgKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcblx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRlc2NhcGVkIDpcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFwwLVxceDFmXFx4N2YtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xuXHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0Ly8gZXJyb3IgaW4gSUVcblx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHNldERvY3VtZW50KCk7XG5cdH0sXG5cblx0aW5EaXNhYmxlZEZpZWxkc2V0ID0gYWRkQ29tYmluYXRvcihcblx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmaWVsZHNldFwiO1xuXHRcdH0sXG5cdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0KTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cblx0XHRpZiAoICggY29udGV4dCA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogcHJlZmVycmVkRG9jICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHR9XG5cdFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cblx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxuXHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHQvLyBJRCBzZWxlY3RvclxuXHRcdFx0XHRpZiAoIChtID0gbWF0Y2hbMV0pICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdGlmICggZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBFbGVtZW50IGNvbnRleHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgJiZcblx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsyXSApIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdFx0Ly8gQ2xhc3Mgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG5cdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdCFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0KCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDggb25seVxuXHRcdFx0XHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xuXHRcdFx0XHQobm9kZVR5cGUgIT09IDEgfHwgY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiKSApIHtcblxuXHRcdFx0XHRuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblxuXHRcdFx0XHQvLyBxU0EgY29uc2lkZXJzIGVsZW1lbnRzIG91dHNpZGUgYSBzY29waW5nIHJvb3Qgd2hlbiBldmFsdWF0aW5nIGNoaWxkIG9yXG5cdFx0XHRcdC8vIGRlc2NlbmRhbnQgY29tYmluYXRvcnMsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnQuXG5cdFx0XHRcdC8vIEluIHN1Y2ggY2FzZXMsIHdlIHdvcmsgYXJvdW5kIHRoZSBiZWhhdmlvciBieSBwcmVmaXhpbmcgZXZlcnkgc2VsZWN0b3IgaW4gdGhlXG5cdFx0XHRcdC8vIGxpc3Qgd2l0aCBhbiBJRCBzZWxlY3RvciByZWZlcmVuY2luZyB0aGUgc2NvcGUgY29udGV4dC5cblx0XHRcdFx0Ly8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgdGVjaG5pcXVlLlxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSAxICYmIHJkZXNjZW5kLnRlc3QoIHNlbGVjdG9yICkgKSB7XG5cblx0XHRcdFx0XHQvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBzZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdGlmICggKG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCBcImlkXCIgKSkgKSB7XG5cdFx0XHRcdFx0XHRuaWQgPSBuaWQucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAobmlkID0gZXhwYW5kbykgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3Rcblx0XHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHRcdFx0XHRpID0gZ3JvdXBzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1tpXSA9IFwiI1wiICsgbmlkICsgXCIgXCIgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXCIsXCIgKTtcblxuXHRcdFx0XHRcdC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cyxcblx0XHRcdFx0XHRcdG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH0gY2F0Y2ggKCBxc2FFcnJvciApIHtcblx0XHRcdFx0XHRub25uYXRpdmVTZWxlY3RvckNhY2hlKCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGlmICggbmlkID09PSBleHBhbmRvICkge1xuXHRcdFx0XHRcdFx0Y29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFsbCBvdGhlcnNcblx0cmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nLCBvYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXG4gKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcbiAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuXHR2YXIga2V5cyA9IFtdO1xuXG5cdGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuXHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xuXHR9XG5cdHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcbiAqL1xuZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcblx0Zm5bIGV4cGFuZG8gXSA9IHRydWU7XG5cdHJldHVybiBmbjtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVybnMgYSBib29sZWFuIHJlc3VsdFxuICovXG5mdW5jdGlvbiBhc3NlcnQoIGZuICkge1xuXHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZWwgKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSBmaW5hbGx5IHtcblx0XHQvLyBSZW1vdmUgZnJvbSBpdHMgcGFyZW50IGJ5IGRlZmF1bHRcblx0XHRpZiAoIGVsLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbCApO1xuXHRcdH1cblx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdGVsID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoXCJ8XCIpLFxuXHRcdGkgPSBhcnIubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdEV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyO1xuXHR9XG59XG5cbi8qKlxuICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5nc1xuICogQHBhcmFtIHtFbGVtZW50fSBhXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYlxuICovXG5mdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7XG5cdHZhciBjdXIgPSBiICYmIGEsXG5cdFx0ZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdGEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4O1xuXG5cdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRpZiAoIGRpZmYgKSB7XG5cdFx0cmV0dXJuIGRpZmY7XG5cdH1cblxuXHQvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxuXHRpZiAoIGN1ciApIHtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIChuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgOmVuYWJsZWQvOmRpc2FibGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVkIHRydWUgZm9yIDpkaXNhYmxlZDsgZmFsc2UgZm9yIDplbmFibGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpc2FibGVkUHNldWRvKCBkaXNhYmxlZCApIHtcblxuXHQvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBtYXRjaCA6ZW5hYmxlZCBvciA6ZGlzYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1lbmFibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWRcblx0XHRpZiAoIFwiZm9ybVwiIGluIGVsZW0gKSB7XG5cblx0XHRcdC8vIENoZWNrIGZvciBpbmhlcml0ZWQgZGlzYWJsZWRuZXNzIG9uIHJlbGV2YW50IG5vbi1kaXNhYmxlZCBlbGVtZW50czpcblx0XHRcdC8vICogbGlzdGVkIGZvcm0tYXNzb2NpYXRlZCBlbGVtZW50cyBpbiBhIGRpc2FibGVkIGZpZWxkc2V0XG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGlzdGVkXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1mZS1kaXNhYmxlZFxuXHRcdFx0Ly8gKiBvcHRpb24gZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtb3B0aW9uLWRpc2FibGVkXG5cdFx0XHQvLyBBbGwgc3VjaCBlbGVtZW50cyBoYXZlIGEgXCJmb3JtXCIgcHJvcGVydHkuXG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHQvLyBPcHRpb24gZWxlbWVudHMgZGVmZXIgdG8gYSBwYXJlbnQgb3B0Z3JvdXAgaWYgcHJlc2VudFxuXHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgNiAtIDExXG5cdFx0XHRcdC8vIFVzZSB0aGUgaXNEaXNhYmxlZCBzaG9ydGN1dCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgZGlzYWJsZWQgZmllbGRzZXQgYW5jZXN0b3JzXG5cdFx0XHRcdHJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cblx0XHRcdFx0XHQvLyBXaGVyZSB0aGVyZSBpcyBubyBpc0Rpc2FibGVkLCBjaGVjayBtYW51YWxseVxuXHRcdFx0XHRcdC8qIGpzaGludCAtVzAxOCAqL1xuXHRcdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRpbkRpc2FibGVkRmllbGRzZXQoIGVsZW0gKSA9PT0gZGlzYWJsZWQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblxuXHRcdC8vIFRyeSB0byB3aW5ub3cgb3V0IGVsZW1lbnRzIHRoYXQgY2FuJ3QgYmUgZGlzYWJsZWQgYmVmb3JlIHRydXN0aW5nIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS5cblx0XHQvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3Rcblx0XHQvLyBldmVuIGV4aXN0IG9uIHRoZW0sIGxldCBhbG9uZSBoYXZlIGEgYm9vbGVhbiB2YWx1ZS5cblx0XHR9IGVsc2UgaWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHR9XG5cblx0XHQvLyBSZW1haW5pbmcgZWxlbWVudHMgYXJlIG5laXRoZXIgOmVuYWJsZWQgbm9yIDpkaXNhYmxlZFxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIHBvc2l0aW9uYWxzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmbiApIHtcblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggYXJndW1lbnQgKSB7XG5cdFx0YXJndW1lbnQgPSArYXJndW1lbnQ7XG5cdFx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdHZhciBqLFxuXHRcdFx0XHRtYXRjaEluZGV4ZXMgPSBmbiggW10sIHNlZWQubGVuZ3RoLCBhcmd1bWVudCApLFxuXHRcdFx0XHRpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDtcblxuXHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgZm91bmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleGVzXG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCBzZWVkWyAoaiA9IG1hdGNoSW5kZXhlc1tpXSkgXSApIHtcblx0XHRcdFx0XHRzZWVkW2pdID0gIShtYXRjaGVzW2pdID0gc2VlZFtqXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBTaXp6bGUgY29udGV4dFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdD19IGNvbnRleHRcbiAqIEByZXR1cm5zIHtFbGVtZW50fE9iamVjdHxCb29sZWFufSBUaGUgaW5wdXQgbm9kZSBpZiBhY2NlcHRhYmxlLCBvdGhlcndpc2UgYSBmYWxzeSB2YWx1ZVxuICovXG5mdW5jdGlvbiB0ZXN0Q29udGV4dCggY29udGV4dCApIHtcblx0cmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29udGV4dDtcbn1cblxuLy8gRXhwb3NlIHN1cHBvcnQgdmFycyBmb3IgY29udmVuaWVuY2VcbnN1cHBvcnQgPSBTaXp6bGUuc3VwcG9ydCA9IHt9O1xuXG4vKipcbiAqIERldGVjdHMgWE1MIG5vZGVzXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtIEFuIGVsZW1lbnQgb3IgYSBkb2N1bWVudFxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWZmIGVsZW0gaXMgYSBub24tSFRNTCBYTUwgbm9kZVxuICovXG5pc1hNTCA9IFNpenpsZS5pc1hNTCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbmFtZXNwYWNlID0gZWxlbS5uYW1lc3BhY2VVUkksXG5cdFx0ZG9jRWxlbSA9IChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OFxuXHQvLyBBc3N1bWUgSFRNTCB3aGVuIGRvY3VtZW50RWxlbWVudCBkb2Vzbid0IHlldCBleGlzdCwgc3VjaCBhcyBpbnNpZGUgbG9hZGluZyBpZnJhbWVzXG5cdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC80ODMzXG5cdHJldHVybiAhcmh0bWwudGVzdCggbmFtZXNwYWNlIHx8IGRvY0VsZW0gJiYgZG9jRWxlbS5ub2RlTmFtZSB8fCBcIkhUTUxcIiApO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2Vcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRpZiAoIHByZWZlcnJlZERvYyAhPT0gZG9jdW1lbnQgJiZcblx0XHQoc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIElEIGZpbHRlciBhbmQgZmluZFxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdHJldHVybiBlbGVtID8gWyBlbGVtIF0gOiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdEV4cHIuZmluZFtcIklEXCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIG5vZGUsIGksIGVsZW1zLFxuXHRcdFx0XHRcdGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXG5cdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdC8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlXG5cdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1zW2krK10pICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApO1xuXHRcdH1cblx0fTtcblxuXHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cblx0Ly8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSlcblx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXG5cdC8vIHFTYSg6Zm9jdXMpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpXG5cdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXG5cdC8vIFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8gYXZvaWQgdGhlIElFIGVycm9yXG5cdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3Jcblx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgXCIqXCIgKTtcblxuXHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0Ly8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxuXHRcdFx0bWF0Y2hlcy5jYWxsKCBlbCwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9KTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0YiA9PT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHRpZiAoIHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yICYmIGRvY3VtZW50SXNIVE1MICYmXG5cdFx0IW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbIGV4cHIgKyBcIiBcIiBdICYmXG5cdFx0KCAhcmJ1Z2d5TWF0Y2hlcyB8fCAhcmJ1Z2d5TWF0Y2hlcy50ZXN0KCBleHByICkgKSAmJlxuXHRcdCggIXJidWdneVFTQSAgICAgfHwgIXJidWdneVFTQS50ZXN0KCBleHByICkgKSApIHtcblxuXHRcdHRyeSB7XG5cdFx0XHR2YXIgcmV0ID0gbWF0Y2hlcy5jYWxsKCBlbGVtLCBleHByICk7XG5cblx0XHRcdC8vIElFIDkncyBtYXRjaGVzU2VsZWN0b3IgcmV0dXJucyBmYWxzZSBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRcdGlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHxcblx0XHRcdFx0XHQvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudFxuXHRcdFx0XHRcdC8vIGZyYWdtZW50IGluIElFIDlcblx0XHRcdFx0XHRlbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoIGV4cHIsIHRydWUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gU2l6emxlKCBleHByLCBkb2N1bWVudCwgbnVsbCwgWyBlbGVtIF0gKS5sZW5ndGggPiAwO1xufTtcblxuU2l6emxlLmNvbnRhaW5zID0gZnVuY3Rpb24oIGNvbnRleHQsIGVsZW0gKSB7XG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRpZiAoICggY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0fVxuXHRyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTtcbn07XG5cblNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0fVxuXG5cdHZhciBmbiA9IEV4cHIuYXR0ckhhbmRsZVsgbmFtZS50b0xvd2VyQ2FzZSgpIF0sXG5cdFx0Ly8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKGpRdWVyeSAjMTM4MDcpXG5cdFx0dmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0Zm4oIGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCApIDpcblx0XHRcdHVuZGVmaW5lZDtcblxuXHRyZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgP1xuXHRcdHZhbCA6XG5cdFx0c3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApIDpcblx0XHRcdCh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUobmFtZSkpICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRudWxsO1xufTtcblxuU2l6emxlLmVzY2FwZSA9IGZ1bmN0aW9uKCBzZWwgKSB7XG5cdHJldHVybiAoc2VsICsgXCJcIikucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xufTtcblxuU2l6emxlLmVycm9yID0gZnVuY3Rpb24oIG1zZyApIHtcblx0dGhyb3cgbmV3IEVycm9yKCBcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnICk7XG59O1xuXG4vKipcbiAqIERvY3VtZW50IHNvcnRpbmcgYW5kIHJlbW92aW5nIGR1cGxpY2F0ZXNcbiAqIEBwYXJhbSB7QXJyYXlMaWtlfSByZXN1bHRzXG4gKi9cblNpenpsZS51bmlxdWVTb3J0ID0gZnVuY3Rpb24oIHJlc3VsdHMgKSB7XG5cdHZhciBlbGVtLFxuXHRcdGR1cGxpY2F0ZXMgPSBbXSxcblx0XHRqID0gMCxcblx0XHRpID0gMDtcblxuXHQvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlXG5cdGhhc0R1cGxpY2F0ZSA9ICFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM7XG5cdHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApO1xuXHRyZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApO1xuXG5cdGlmICggaGFzRHVwbGljYXRlICkge1xuXHRcdHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xuXHRcdFx0aWYgKCBlbGVtID09PSByZXN1bHRzWyBpIF0gKSB7XG5cdFx0XHRcdGogPSBkdXBsaWNhdGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRyZXN1bHRzLnNwbGljZSggZHVwbGljYXRlc1sgaiBdLCAxICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc29ydGluZyB0byByZWxlYXNlIG9iamVjdHNcblx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1XG5cdHNvcnRJbnB1dCA9IG51bGw7XG5cblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzXG4gKiBAcGFyYW0ge0FycmF5fEVsZW1lbnR9IGVsZW1cbiAqL1xuZ2V0VGV4dCA9IFNpenpsZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHZhciBub2RlLFxuXHRcdHJldCA9IFwiXCIsXG5cdFx0aSA9IDAsXG5cdFx0bm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdGlmICggIW5vZGVUeXBlICkge1xuXHRcdC8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XG5cdFx0d2hpbGUgKCAobm9kZSA9IGVsZW1baSsrXSkgKSB7XG5cdFx0XHQvLyBEbyBub3QgdHJhdmVyc2UgY29tbWVudCBub2Rlc1xuXHRcdFx0cmV0ICs9IGdldFRleHQoIG5vZGUgKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHtcblx0XHQvLyBVc2UgdGV4dENvbnRlbnQgZm9yIGVsZW1lbnRzXG5cdFx0Ly8gaW5uZXJUZXh0IHVzYWdlIHJlbW92ZWQgZm9yIGNvbnNpc3RlbmN5IG9mIG5ldyBsaW5lcyAoalF1ZXJ5ICMxMTE1Mylcblx0XHRpZiAoIHR5cGVvZiBlbGVtLnRleHRDb250ZW50ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFRyYXZlcnNlIGl0cyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdHJldCArPSBnZXRUZXh0KCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMyB8fCBub2RlVHlwZSA9PT0gNCApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVmFsdWU7XG5cdH1cblx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG5cblx0cmV0dXJuIHJldDtcbn07XG5cbkV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzID0ge1xuXG5cdC8vIENhbiBiZSBhZGp1c3RlZCBieSB0aGUgdXNlclxuXHRjYWNoZUxlbmd0aDogNTAsXG5cblx0Y3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sXG5cblx0bWF0Y2g6IG1hdGNoRXhwcixcblxuXHRhdHRySGFuZGxlOiB7fSxcblxuXHRmaW5kOiB7fSxcblxuXHRyZWxhdGl2ZToge1xuXHRcdFwiPlwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCIgXCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiB9LFxuXHRcdFwiK1wiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIn5cIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIgfVxuXHR9LFxuXG5cdHByZUZpbHRlcjoge1xuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaFsxXSA9IG1hdGNoWzFdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cblx0XHRcdC8vIE1vdmUgdGhlIGdpdmVuIHZhbHVlIHRvIG1hdGNoWzNdIHdoZXRoZXIgcXVvdGVkIG9yIHVucXVvdGVkXG5cdFx0XHRtYXRjaFszXSA9ICggbWF0Y2hbM10gfHwgbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIiApLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cblx0XHRcdGlmICggbWF0Y2hbMl0gPT09IFwifj1cIiApIHtcblx0XHRcdFx0bWF0Y2hbM10gPSBcIiBcIiArIG1hdGNoWzNdICsgXCIgXCI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdC8qIG1hdGNoZXMgZnJvbSBtYXRjaEV4cHJbXCJDSElMRFwiXVxuXHRcdFx0XHQxIHR5cGUgKG9ubHl8bnRofC4uLilcblx0XHRcdFx0MiB3aGF0IChjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHQzIGFyZ3VtZW50IChldmVufG9kZHxcXGQqfFxcZCpuKFsrLV1cXGQrKT98Li4uKVxuXHRcdFx0XHQ0IHhuLWNvbXBvbmVudCBvZiB4bit5IGFyZ3VtZW50IChbKy1dP1xcZCpufClcblx0XHRcdFx0NSBzaWduIG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ2IHggb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDcgc2lnbiBvZiB5LWNvbXBvbmVudFxuXHRcdFx0XHQ4IHkgb2YgeS1jb21wb25lbnRcblx0XHRcdCovXG5cdFx0XHRtYXRjaFsxXSA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdGlmICggbWF0Y2hbMV0uc2xpY2UoIDAsIDMgKSA9PT0gXCJudGhcIiApIHtcblx0XHRcdFx0Ly8gbnRoLSogcmVxdWlyZXMgYXJndW1lbnRcblx0XHRcdFx0aWYgKCAhbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gbnVtZXJpYyB4IGFuZCB5IHBhcmFtZXRlcnMgZm9yIEV4cHIuZmlsdGVyLkNISUxEXG5cdFx0XHRcdC8vIHJlbWVtYmVyIHRoYXQgZmFsc2UvdHJ1ZSBjYXN0IHJlc3BlY3RpdmVseSB0byAwLzFcblx0XHRcdFx0bWF0Y2hbNF0gPSArKCBtYXRjaFs0XSA/IG1hdGNoWzVdICsgKG1hdGNoWzZdIHx8IDEpIDogMiAqICggbWF0Y2hbM10gPT09IFwiZXZlblwiIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICkgKTtcblx0XHRcdFx0bWF0Y2hbNV0gPSArKCAoIG1hdGNoWzddICsgbWF0Y2hbOF0gKSB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApO1xuXG5cdFx0XHQvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWzNdICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXRjaDtcblx0XHR9LFxuXG5cdFx0XCJQU0VVRE9cIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0dmFyIGV4Y2Vzcyxcblx0XHRcdFx0dW5xdW90ZWQgPSAhbWF0Y2hbNl0gJiYgbWF0Y2hbMl07XG5cblx0XHRcdGlmICggbWF0Y2hFeHByW1wiQ0hJTERcIl0udGVzdCggbWF0Y2hbMF0gKSApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzXG5cdFx0XHRpZiAoIG1hdGNoWzNdICkge1xuXHRcdFx0XHRtYXRjaFsyXSA9IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCI7XG5cblx0XHRcdC8vIFN0cmlwIGV4Y2VzcyBjaGFyYWN0ZXJzIGZyb20gdW5xdW90ZWQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiZcblx0XHRcdFx0Ly8gR2V0IGV4Y2VzcyBmcm9tIHRva2VuaXplIChyZWN1cnNpdmVseSlcblx0XHRcdFx0KGV4Y2VzcyA9IHRva2VuaXplKCB1bnF1b3RlZCwgdHJ1ZSApKSAmJlxuXHRcdFx0XHQvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXNcblx0XHRcdFx0KGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoIFwiKVwiLCB1bnF1b3RlZC5sZW5ndGggLSBleGNlc3MgKSAtIHVucXVvdGVkLmxlbmd0aCkgKSB7XG5cblx0XHRcdFx0Ly8gZXhjZXNzIGlzIGEgbmVnYXRpdmUgaW5kZXhcblx0XHRcdFx0bWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHRcdG1hdGNoWzJdID0gdW5xdW90ZWQuc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXR1cm4gb25seSBjYXB0dXJlcyBuZWVkZWQgYnkgdGhlIHBzZXVkbyBmaWx0ZXIgbWV0aG9kICh0eXBlIGFuZCBhcmd1bWVudClcblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgMyApO1xuXHRcdH1cblx0fSxcblxuXHRmaWx0ZXI6IHtcblxuXHRcdFwiVEFHXCI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkge1xuXHRcdFx0dmFyIG5vZGVOYW1lID0gbm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbm9kZU5hbWVTZWxlY3RvciA9PT0gXCIqXCIgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0gOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5vZGVOYW1lO1xuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNMQVNTXCI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XG5cdFx0XHR2YXIgcGF0dGVybiA9IGNsYXNzQ2FjaGVbIGNsYXNzTmFtZSArIFwiIFwiIF07XG5cblx0XHRcdHJldHVybiBwYXR0ZXJuIHx8XG5cdFx0XHRcdChwYXR0ZXJuID0gbmV3IFJlZ0V4cCggXCIoXnxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIGNsYXNzTmFtZSArIFwiKFwiICsgd2hpdGVzcGFjZSArIFwifCQpXCIgKSkgJiZcblx0XHRcdFx0Y2xhc3NDYWNoZSggY2xhc3NOYW1lLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gcGF0dGVybi50ZXN0KCB0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09IFwic3RyaW5nXCIgJiYgZWxlbS5jbGFzc05hbWUgfHwgdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIiApO1xuXHRcdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBuYW1lLCBvcGVyYXRvciwgY2hlY2sgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciByZXN1bHQgPSBTaXp6bGUuYXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0XHRcdGlmICggcmVzdWx0ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIiE9XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAhb3BlcmF0b3IgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN1bHQgKz0gXCJcIjtcblxuXHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiPVwiID8gcmVzdWx0ID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiIT1cIiA/IHJlc3VsdCAhPT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIl49XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA9PT0gMCA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiKj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID4gLTEgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiQ9XCIgPyBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIn49XCIgPyAoIFwiIFwiICsgcmVzdWx0LnJlcGxhY2UoIHJ3aGl0ZXNwYWNlLCBcIiBcIiApICsgXCIgXCIgKS5pbmRleE9mKCBjaGVjayApID4gLTEgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcInw9XCIgPyByZXN1bHQgPT09IGNoZWNrIHx8IHJlc3VsdC5zbGljZSggMCwgY2hlY2subGVuZ3RoICsgMSApID09PSBjaGVjayArIFwiLVwiIDpcblx0XHRcdFx0XHRmYWxzZTtcblx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIHR5cGUsIHdoYXQsIGFyZ3VtZW50LCBmaXJzdCwgbGFzdCApIHtcblx0XHRcdHZhciBzaW1wbGUgPSB0eXBlLnNsaWNlKCAwLCAzICkgIT09IFwibnRoXCIsXG5cdFx0XHRcdGZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSBcImxhc3RcIixcblx0XHRcdFx0b2ZUeXBlID0gd2hhdCA9PT0gXCJvZi10eXBlXCI7XG5cblx0XHRcdHJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID9cblxuXHRcdFx0XHQvLyBTaG9ydGN1dCBmb3IgOm50aC0qKG4pXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiAhIWVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0fSA6XG5cblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHR2YXIgY2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLCBub2RlLCBub2RlSW5kZXgsIHN0YXJ0LFxuXHRcdFx0XHRcdFx0ZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXCJuZXh0U2libGluZ1wiIDogXCJwcmV2aW91c1NpYmxpbmdcIixcblx0XHRcdFx0XHRcdHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdG5hbWUgPSBvZlR5cGUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdFx0dXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGUsXG5cdFx0XHRcdFx0XHRkaWZmID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gOihmaXJzdHxsYXN0fG9ubHkpLShjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHRcdFx0aWYgKCBzaW1wbGUgKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggZGlyICkge1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSBub2RlWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHQvLyBSZXZlcnNlIGRpcmVjdGlvbiBmb3IgOm9ubHktKiAoaWYgd2UgaGF2ZW4ndCB5ZXQgZG9uZSBzbylcblx0XHRcdFx0XHRcdFx0XHRzdGFydCA9IGRpciA9IHR5cGUgPT09IFwib25seVwiICYmICFzdGFydCAmJiBcIm5leHRTaWJsaW5nXCI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHN0YXJ0ID0gWyBmb3J3YXJkID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBwYXJlbnQubGFzdENoaWxkIF07XG5cblx0XHRcdFx0XHRcdC8vIG5vbi14bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgXG5cdFx0XHRcdFx0XHRpZiAoIGZvcndhcmQgJiYgdXNlQ2FjaGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRub2RlID0gcGFyZW50O1xuXHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWyAyIF07XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBGYWxsYmFjayB0byBzZWVraW5nIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gV2hlbiBmb3VuZCwgY2FjaGUgaW5kZXhlcyBvbiBgcGFyZW50YCBhbmQgYnJlYWtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgKytkaWZmICYmIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4O1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Ly8geG1sIDpudGgtY2hpbGQoLi4uKVxuXHRcdFx0XHRcdFx0XHQvLyBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pXG5cdFx0XHRcdFx0XHRcdGlmICggZGlmZiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmICggKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0KytkaWZmICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcblx0XHRcdFx0XHRcdGRpZmYgLT0gbGFzdDtcblx0XHRcdFx0XHRcdHJldHVybiBkaWZmID09PSBmaXJzdCB8fCAoIGRpZmYgJSBmaXJzdCA9PT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJQU0VVRE9cIjogZnVuY3Rpb24oIHBzZXVkbywgYXJndW1lbnQgKSB7XG5cdFx0XHQvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmVcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXNcblx0XHRcdC8vIFByaW9yaXRpemUgYnkgY2FzZSBzZW5zaXRpdml0eSBpbiBjYXNlIGN1c3RvbSBwc2V1ZG9zIGFyZSBhZGRlZCB3aXRoIHVwcGVyY2FzZSBsZXR0ZXJzXG5cdFx0XHQvLyBSZW1lbWJlciB0aGF0IHNldEZpbHRlcnMgaW5oZXJpdHMgZnJvbSBwc2V1ZG9zXG5cdFx0XHR2YXIgYXJncyxcblx0XHRcdFx0Zm4gPSBFeHByLnBzZXVkb3NbIHBzZXVkbyBdIHx8IEV4cHIuc2V0RmlsdGVyc1sgcHNldWRvLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiICsgcHNldWRvICk7XG5cblx0XHRcdC8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXRcblx0XHRcdC8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG5cdFx0XHQvLyBqdXN0IGFzIFNpenpsZSBkb2VzXG5cdFx0XHRpZiAoIGZuWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHJldHVybiBmbiggYXJndW1lbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQnV0IG1haW50YWluIHN1cHBvcnQgZm9yIG9sZCBzaWduYXR1cmVzXG5cdFx0XHRpZiAoIGZuLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHRcdGFyZ3MgPSBbIHBzZXVkbywgcHNldWRvLCBcIlwiLCBhcmd1bWVudCBdO1xuXHRcdFx0XHRyZXR1cm4gRXhwci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KCBwc2V1ZG8udG9Mb3dlckNhc2UoKSApID9cblx0XHRcdFx0XHRtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgaWR4LFxuXHRcdFx0XHRcdFx0XHRtYXRjaGVkID0gZm4oIHNlZWQsIGFyZ3VtZW50ICksXG5cdFx0XHRcdFx0XHRcdGkgPSBtYXRjaGVkLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZHggPSBpbmRleE9mKCBzZWVkLCBtYXRjaGVkW2ldICk7XG5cdFx0XHRcdFx0XHRcdHNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkgOlxuXHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZuO1xuXHRcdH1cblx0fSxcblxuXHRwc2V1ZG9zOiB7XG5cdFx0Ly8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG5cdFx0XCJub3RcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG5cdFx0XHQvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZ1xuXHRcdFx0Ly8gc3BhY2VzIGFzIGNvbWJpbmF0b3JzXG5cdFx0XHR2YXIgaW5wdXQgPSBbXSxcblx0XHRcdFx0cmVzdWx0cyA9IFtdLFxuXHRcdFx0XHRtYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApICk7XG5cblx0XHRcdHJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gP1xuXHRcdFx0XHRtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMsIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0XHRcdHVubWF0Y2hlZCA9IG1hdGNoZXIoIHNlZWQsIG51bGwsIHhtbCwgW10gKSxcblx0XHRcdFx0XHRcdGkgPSBzZWVkLmxlbmd0aDtcblxuXHRcdFx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmBcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRzZWVkW2ldID0gIShtYXRjaGVzW2ldID0gZWxlbSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBlbGVtO1xuXHRcdFx0XHRcdG1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTtcblx0XHRcdFx0XHQvLyBEb24ndCBrZWVwIHRoZSBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0XHRcdGlucHV0WzBdID0gbnVsbDtcblx0XHRcdFx0XHRyZXR1cm4gIXJlc3VsdHMucG9wKCk7XG5cdFx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImhhc1wiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gU2l6emxlKCBzZWxlY3RvciwgZWxlbSApLmxlbmd0aCA+IDA7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0XCJjb250YWluc1wiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGdldFRleHQoIGVsZW0gKSApLmluZGV4T2YoIHRleHQgKSA+IC0xO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuXHRcdC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXG5cdFx0Ly8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQyxcblx0XHQvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuXHRcdC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuXHRcdC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXCJcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXG5cdFx0XCJsYW5nXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XG5cdFx0XHQvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXG5cdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgXCJcIikgKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIiArIGxhbmcgKTtcblx0XHRcdH1cblx0XHRcdGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIGVsZW1MYW5nO1xuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0aWYgKCAoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdFx0XHRlbGVtLmxhbmcgOlxuXHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpICkge1xuXG5cdFx0XHRcdFx0XHRlbGVtTGFuZyA9IGVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IHdoaWxlICggKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdC8vIE1pc2NlbGxhbmVvdXNcblx0XHRcInRhcmdldFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0cmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSggMSApID09PSBlbGVtLmlkO1xuXHRcdH0sXG5cblx0XHRcInJvb3RcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jRWxlbTtcblx0XHR9LFxuXG5cdFx0XCJmb2N1c1wiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XG5cdFx0fSxcblxuXHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdFwiZW5hYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZmFsc2UgKSxcblx0XHRcImRpc2FibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCB0cnVlICksXG5cblx0XHRcImNoZWNrZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gKG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgISFlbGVtLmNoZWNrZWQpIHx8IChub2RlTmFtZSA9PT0gXCJvcHRpb25cIiAmJiAhIWVsZW0uc2VsZWN0ZWQpO1xuXHRcdH0sXG5cblx0XHRcInNlbGVjdGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxuXHRcdFx0Ly8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0Ly8gQ29udGVudHNcblx0XHRcImVtcHR5XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cblx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcblx0XHRcdC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG5cdFx0XHQvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRcInBhcmVudFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zW1wiZW1wdHlcIl0oIGVsZW0gKTtcblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xuXHRcdFwiaGVhZGVyXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImlucHV0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIjtcblx0XHR9LFxuXG5cdFx0XCJ0ZXh0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGF0dHI7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgJiZcblx0XHRcdFx0ZWxlbS50eXBlID09PSBcInRleHRcIiAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDhcblx0XHRcdFx0Ly8gTmV3IEhUTUw1IGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4sIFwic2VhcmNoXCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCJcblx0XHRcdFx0KCAoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XG5cdFx0fSxcblxuXHRcdC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cblx0XHRcImZpcnN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gWyAwIF07XG5cdFx0fSksXG5cblx0XHRcImxhc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0fSksXG5cblx0XHRcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTtcblx0XHR9KSxcblxuXHRcdFwiZXZlblwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAxO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJsdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/XG5cdFx0XHRcdGFyZ3VtZW50ICsgbGVuZ3RoIDpcblx0XHRcdFx0YXJndW1lbnQgPiBsZW5ndGggP1xuXHRcdFx0XHRcdGxlbmd0aCA6XG5cdFx0XHRcdFx0YXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7IC0taSA+PSAwOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImd0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSlcblx0fVxufTtcblxuRXhwci5wc2V1ZG9zW1wibnRoXCJdID0gRXhwci5wc2V1ZG9zW1wiZXFcIl07XG5cbi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXG5mb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xufVxuZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVzZXQ6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcbn1cblxuLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG5mdW5jdGlvbiBzZXRGaWx0ZXJzKCkge31cbnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xuRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcblxudG9rZW5pemUgPSBTaXp6bGUudG9rZW5pemUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIHBhcnNlT25seSApIHtcblx0dmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsXG5cdFx0c29GYXIsIGdyb3VwcywgcHJlRmlsdGVycyxcblx0XHRjYWNoZWQgPSB0b2tlbkNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCBjYWNoZWQgKSB7XG5cdFx0cmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoIDAgKTtcblx0fVxuXG5cdHNvRmFyID0gc2VsZWN0b3I7XG5cdGdyb3VwcyA9IFtdO1xuXHRwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7XG5cblx0d2hpbGUgKCBzb0ZhciApIHtcblxuXHRcdC8vIENvbW1hIGFuZCBmaXJzdCBydW5cblx0XHRpZiAoICFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdGlmICggbWF0Y2ggKSB7XG5cdFx0XHRcdC8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkXG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWzBdLmxlbmd0aCApIHx8IHNvRmFyO1xuXHRcdFx0fVxuXHRcdFx0Z3JvdXBzLnB1c2goICh0b2tlbnMgPSBbXSkgKTtcblx0XHR9XG5cblx0XHRtYXRjaGVkID0gZmFsc2U7XG5cblx0XHQvLyBDb21iaW5hdG9yc1xuXHRcdGlmICggKG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHR0b2tlbnMucHVzaCh7XG5cdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHQvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2Vcblx0XHRcdFx0dHlwZTogbWF0Y2hbMF0ucmVwbGFjZSggcnRyaW0sIFwiIFwiIClcblx0XHRcdH0pO1xuXHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGaWx0ZXJzXG5cdFx0Zm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHtcblx0XHRcdGlmICggKG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSkgJiYgKCFwcmVGaWx0ZXJzWyB0eXBlIF0gfHxcblx0XHRcdFx0KG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7XG5cdFx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0XHR0b2tlbnMucHVzaCh7XG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRtYXRjaGVzOiBtYXRjaFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICFtYXRjaGVkICkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzXG5cdC8vIGlmIHdlJ3JlIGp1c3QgcGFyc2luZ1xuXHQvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcblx0cmV0dXJuIHBhcnNlT25seSA/XG5cdFx0c29GYXIubGVuZ3RoIDpcblx0XHRzb0ZhciA/XG5cdFx0XHRTaXp6bGUuZXJyb3IoIHNlbGVjdG9yICkgOlxuXHRcdFx0Ly8gQ2FjaGUgdGhlIHRva2Vuc1xuXHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG59O1xuXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdHNlbGVjdG9yID0gXCJcIjtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0c2VsZWN0b3IgKz0gdG9rZW5zW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiBzZWxlY3Rvcjtcbn1cblxuZnVuY3Rpb24gYWRkQ29tYmluYXRvciggbWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSApIHtcblx0dmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLFxuXHRcdHNraXAgPSBjb21iaW5hdG9yLm5leHQsXG5cdFx0a2V5ID0gc2tpcCB8fCBkaXIsXG5cdFx0Y2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYga2V5ID09PSBcInBhcmVudE5vZGVcIixcblx0XHRkb25lTmFtZSA9IGRvbmUrKztcblxuXHRyZXR1cm4gY29tYmluYXRvci5maXJzdCA/XG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gOlxuXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBvbGRDYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsXG5cdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXG5cdFx0XHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmdcblx0XHRcdGlmICggeG1sICkge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IGVsZW1bIGV4cGFuZG8gXSB8fCAoZWxlbVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdIHx8IChvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdGlmICggc2tpcCAmJiBza2lwID09PSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW0gPSBlbGVtWyBkaXIgXSB8fCBlbGVtO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggKG9sZENhY2hlID0gdW5pcXVlQ2FjaGVbIGtleSBdKSAmJlxuXHRcdFx0XHRcdFx0XHRvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHJldHVybiAobmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsga2V5IF0gPSBuZXdDYWNoZTtcblxuXHRcdFx0XHRcdFx0XHQvLyBBIG1hdGNoIG1lYW5zIHdlJ3JlIGRvbmU7IGEgZmFpbCBtZWFucyB3ZSBoYXZlIHRvIGtlZXAgY2hlY2tpbmdcblx0XHRcdFx0XHRcdFx0aWYgKCAobmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH07XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHtcblx0cmV0dXJuIG1hdGNoZXJzLmxlbmd0aCA+IDEgP1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoICFtYXRjaGVyc1tpXSggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IDpcblx0XHRtYXRjaGVyc1swXTtcbn1cblxuZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gY29udGV4dHMubGVuZ3RoO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0c1tpXSwgcmVzdWx0cyApO1xuXHR9XG5cdHJldHVybiByZXN1bHRzO1xufVxuXG5mdW5jdGlvbiBjb25kZW5zZSggdW5tYXRjaGVkLCBtYXAsIGZpbHRlciwgY29udGV4dCwgeG1sICkge1xuXHR2YXIgZWxlbSxcblx0XHRuZXdVbm1hdGNoZWQgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsZW4gPSB1bm1hdGNoZWQubGVuZ3RoLFxuXHRcdG1hcHBlZCA9IG1hcCAhPSBudWxsO1xuXG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xuXHRcdFx0aWYgKCAhZmlsdGVyIHx8IGZpbHRlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdG5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdGlmICggbWFwcGVkICkge1xuXHRcdFx0XHRcdG1hcC5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbmV3VW5tYXRjaGVkO1xufVxuXG5mdW5jdGlvbiBzZXRNYXRjaGVyKCBwcmVGaWx0ZXIsIHNlbGVjdG9yLCBtYXRjaGVyLCBwb3N0RmlsdGVyLCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKSB7XG5cdGlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7XG5cdH1cblx0aWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbmRlciA9IHNldE1hdGNoZXIoIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApO1xuXHR9XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHtcblx0XHR2YXIgdGVtcCwgaSwgZWxlbSxcblx0XHRcdHByZU1hcCA9IFtdLFxuXHRcdFx0cG9zdE1hcCA9IFtdLFxuXHRcdFx0cHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCxcblxuXHRcdFx0Ly8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHRcblx0XHRcdGVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciB8fCBcIipcIiwgY29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCwgW10gKSxcblxuXHRcdFx0Ly8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uXG5cdFx0XHRtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID9cblx0XHRcdFx0Y29uZGVuc2UoIGVsZW1zLCBwcmVNYXAsIHByZUZpbHRlciwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRlbGVtcyxcblxuXHRcdFx0bWF0Y2hlck91dCA9IG1hdGNoZXIgP1xuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlciBvciBwcmVleGlzdGluZyByZXN1bHRzLFxuXHRcdFx0XHRwb3N0RmluZGVyIHx8ICggc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0ZXIgKSA/XG5cblx0XHRcdFx0XHQvLyAuLi5pbnRlcm1lZGlhdGUgcHJvY2Vzc2luZyBpcyBuZWNlc3Nhcnlcblx0XHRcdFx0XHRbXSA6XG5cblx0XHRcdFx0XHQvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcblx0XHRcdFx0XHRyZXN1bHRzIDpcblx0XHRcdFx0bWF0Y2hlckluO1xuXG5cdFx0Ly8gRmluZCBwcmltYXJ5IG1hdGNoZXNcblx0XHRpZiAoIG1hdGNoZXIgKSB7XG5cdFx0XHRtYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBvc3RGaWx0ZXJcblx0XHRpZiAoIHBvc3RGaWx0ZXIgKSB7XG5cdFx0XHR0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTtcblx0XHRcdHBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTtcblxuXHRcdFx0Ly8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxuXHRcdFx0aSA9IHRlbXAubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggKGVsZW0gPSB0ZW1wW2ldKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyT3V0WyBwb3N0TWFwW2ldIF0gPSAhKG1hdGNoZXJJblsgcG9zdE1hcFtpXSBdID0gZWxlbSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkge1xuXHRcdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcgdGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzXG5cdFx0XHRcdFx0dGVtcCA9IFtdO1xuXHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcblx0XHRcdFx0XHRcdFx0dGVtcC5wdXNoKCAobWF0Y2hlckluW2ldID0gZWxlbSkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgKG1hdGNoZXJPdXQgPSBbXSksIHRlbXAsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTW92ZSBtYXRjaGVkIGVsZW1lbnRzIGZyb20gc2VlZCB0byByZXN1bHRzIHRvIGtlZXAgdGhlbSBzeW5jaHJvbml6ZWRcblx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgJiZcblx0XHRcdFx0XHRcdCh0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAtMSApIHtcblxuXHRcdFx0XHRcdFx0c2VlZFt0ZW1wXSA9ICEocmVzdWx0c1t0ZW1wXSA9IGVsZW0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkXG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXJPdXQgPSBjb25kZW5zZShcblx0XHRcdFx0bWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/XG5cdFx0XHRcdFx0bWF0Y2hlck91dC5zcGxpY2UoIHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCApIDpcblx0XHRcdFx0XHRtYXRjaGVyT3V0XG5cdFx0XHQpO1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIG1hdGNoZXJPdXQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zICkge1xuXHR2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0bGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzBdLnR5cGUgXSxcblx0XHRpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbXCIgXCJdLFxuXHRcdGkgPSBsZWFkaW5nUmVsYXRpdmUgPyAxIDogMCxcblxuXHRcdC8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJlIHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpXG5cdFx0bWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0O1xuXHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRtYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBpbmRleE9mKCBjaGVja0NvbnRleHQsIGVsZW0gKSA+IC0xO1xuXHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRtYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciByZXQgPSAoICFsZWFkaW5nUmVsYXRpdmUgJiYgKCB4bWwgfHwgY29udGV4dCAhPT0gb3V0ZXJtb3N0Q29udGV4dCApICkgfHwgKFxuXHRcdFx0XHQoY2hlY2tDb250ZXh0ID0gY29udGV4dCkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRcdG1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTtcblx0XHRcdC8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0Y2hlY2tDb250ZXh0ID0gbnVsbDtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSBdO1xuXG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdGlmICggKG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbaV0udHlwZSBdKSApIHtcblx0XHRcdG1hdGNoZXJzID0gWyBhZGRDb21iaW5hdG9yKGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLCBtYXRjaGVyKSBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyID0gRXhwci5maWx0ZXJbIHRva2Vuc1tpXS50eXBlIF0uYXBwbHkoIG51bGwsIHRva2Vuc1tpXS5tYXRjaGVzICk7XG5cblx0XHRcdC8vIFJldHVybiBzcGVjaWFsIHVwb24gc2VlaW5nIGEgcG9zaXRpb25hbCBtYXRjaGVyXG5cdFx0XHRpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0Ly8gRmluZCB0aGUgbmV4dCByZWxhdGl2ZSBvcGVyYXRvciAoaWYgYW55KSBmb3IgcHJvcGVyIGhhbmRsaW5nXG5cdFx0XHRcdGogPSArK2k7XG5cdFx0XHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2pdLnR5cGUgXSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gc2V0TWF0Y2hlcihcblx0XHRcdFx0XHRpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSxcblx0XHRcdFx0XHRpID4gMSAmJiB0b1NlbGVjdG9yKFxuXHRcdFx0XHRcdFx0Ly8gSWYgdGhlIHByZWNlZGluZyB0b2tlbiB3YXMgYSBkZXNjZW5kYW50IGNvbWJpbmF0b3IsIGluc2VydCBhbiBpbXBsaWNpdCBhbnktZWxlbWVudCBgKmBcblx0XHRcdFx0XHRcdHRva2Vucy5zbGljZSggMCwgaSAtIDEgKS5jb25jYXQoeyB2YWx1ZTogdG9rZW5zWyBpIC0gMiBdLnR5cGUgPT09IFwiIFwiID8gXCIqXCIgOiBcIlwiIH0pXG5cdFx0XHRcdFx0KS5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksXG5cdFx0XHRcdFx0bWF0Y2hlcixcblx0XHRcdFx0XHRpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zLnNsaWNlKCBpLCBqICkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAodG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkpICksXG5cdFx0XHRcdFx0aiA8IGxlbiAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlcnMucHVzaCggbWF0Y2hlciApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkge1xuXHR2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLFxuXHRcdGJ5RWxlbWVudCA9IGVsZW1lbnRNYXRjaGVycy5sZW5ndGggPiAwLFxuXHRcdHN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uKCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHtcblx0XHRcdHZhciBlbGVtLCBqLCBtYXRjaGVyLFxuXHRcdFx0XHRtYXRjaGVkQ291bnQgPSAwLFxuXHRcdFx0XHRpID0gXCIwXCIsXG5cdFx0XHRcdHVubWF0Y2hlZCA9IHNlZWQgJiYgW10sXG5cdFx0XHRcdHNldE1hdGNoZWQgPSBbXSxcblx0XHRcdFx0Y29udGV4dEJhY2t1cCA9IG91dGVybW9zdENvbnRleHQsXG5cdFx0XHRcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcblx0XHRcdFx0ZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbXCJUQUdcIl0oIFwiKlwiLCBvdXRlcm1vc3QgKSxcblx0XHRcdFx0Ly8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcblx0XHRcdFx0ZGlycnVuc1VuaXF1ZSA9IChkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSksXG5cdFx0XHRcdGxlbiA9IGVsZW1zLmxlbmd0aDtcblxuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0ID09PSBkb2N1bWVudCB8fCBjb250ZXh0IHx8IG91dGVybW9zdDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGVsZW1lbnRzIHBhc3NpbmcgZWxlbWVudE1hdGNoZXJzIGRpcmVjdGx5IHRvIHJlc3VsdHNcblx0XHRcdC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxuXHRcdFx0Ly8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkXG5cdFx0XHRmb3IgKCA7IGkgIT09IGxlbiAmJiAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0aWYgKCAhY29udGV4dCAmJiBlbGVtLm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0XHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHRcdFx0XHRcdHhtbCA9ICFkb2N1bWVudElzSFRNTDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCB8fCBkb2N1bWVudCwgeG1sKSApIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFRyYWNrIHVubWF0Y2hlZCBlbGVtZW50cyBmb3Igc2V0IGZpbHRlcnNcblx0XHRcdFx0aWYgKCBieVNldCApIHtcblx0XHRcdFx0XHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXG5cdFx0XHRcdFx0aWYgKCAoZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0pICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlZENvdW50LS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuXHRcdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHRcdHVubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIG1ha2VzIHRoZSBsYXR0ZXIgbm9ubmVnYXRpdmUuXG5cdFx0XHRtYXRjaGVkQ291bnQgKz0gaTtcblxuXHRcdFx0Ly8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmVcblx0XHRcdC8vIG5vIGVsZW1lbnQgbWF0Y2hlcnMgYW5kIG5vIHNlZWQuXG5cdFx0XHQvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyBcIjBcIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25seSBpbiB0aGF0XG5cdFx0XHQvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFwiMDBcIiBgbWF0Y2hlZENvdW50YCB0aGF0IGRpZmZlcnMgZnJvbSBgaWAgYnV0IGlzIGFsc29cblx0XHRcdC8vIG51bWVyaWNhbGx5IHplcm8uXG5cdFx0XHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcblx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdHdoaWxlICggKG1hdGNoZXIgPSBzZXRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRDb3VudCA+IDAgKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAhKHVubWF0Y2hlZFtpXSB8fCBzZXRNYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRNYXRjaGVkW2ldID0gcG9wLmNhbGwoIHJlc3VsdHMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIERpc2NhcmQgaW5kZXggcGxhY2Vob2xkZXIgdmFsdWVzIHRvIGdldCBvbmx5IGFjdHVhbCBtYXRjaGVzXG5cdFx0XHRcdFx0c2V0TWF0Y2hlZCA9IGNvbmRlbnNlKCBzZXRNYXRjaGVkICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzXG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNldE1hdGNoZWQgKTtcblxuXHRcdFx0XHQvLyBTZWVkbGVzcyBzZXQgbWF0Y2hlcyBzdWNjZWVkaW5nIG11bHRpcGxlIHN1Y2Nlc3NmdWwgbWF0Y2hlcnMgc3RpcHVsYXRlIHNvcnRpbmdcblx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0KCBtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGggKSA+IDEgKSB7XG5cblx0XHRcdFx0XHRTaXp6bGUudW5pcXVlU29ydCggcmVzdWx0cyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIE92ZXJyaWRlIG1hbmlwdWxhdGlvbiBvZiBnbG9iYWxzIGJ5IG5lc3RlZCBtYXRjaGVyc1xuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVubWF0Y2hlZDtcblx0XHR9O1xuXG5cdHJldHVybiBieVNldCA/XG5cdFx0bWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6XG5cdFx0c3VwZXJNYXRjaGVyO1xufVxuXG5jb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHR2YXIgaSxcblx0XHRzZXRNYXRjaGVycyA9IFtdLFxuXHRcdGVsZW1lbnRNYXRjaGVycyA9IFtdLFxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoICFjYWNoZWQgKSB7XG5cdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG5cdFx0aWYgKCAhbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdH1cblx0XHRpID0gbWF0Y2gubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoW2ldICk7XG5cdFx0XHRpZiAoIGNhY2hlZFsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlKCBzZWxlY3RvciwgbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgKTtcblxuXHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHR9XG5cdHJldHVybiBjYWNoZWQ7XG59O1xuXG4vKipcbiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0XG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cbiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XG4gKi9cbnNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLFxuXHRcdGNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgc2VsZWN0b3IsXG5cdFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IpICk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3QgYW5kIG5vIHNlZWRcblx0Ly8gKHRoZSBsYXR0ZXIgb2Ygd2hpY2ggZ3VhcmFudGVlcyB1cyBjb250ZXh0KVxuXHRpZiAoIG1hdGNoLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdC8vIFJlZHVjZSBjb250ZXh0IGlmIHRoZSBsZWFkaW5nIGNvbXBvdW5kIHNlbGVjdG9yIGlzIGFuIElEXG5cdFx0dG9rZW5zID0gbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCApO1xuXHRcdGlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKHRva2VuID0gdG9rZW5zWzBdKS50eXBlID09PSBcIklEXCIgJiZcblx0XHRcdFx0Y29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJiBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkge1xuXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG5cdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuXHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0XHRcdFx0KSkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzID0gISFoYXNEdXBsaWNhdGU7XG5cbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuc2V0RG9jdW1lbnQoKTtcblxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcbi8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHQvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcblx0cmV0dXJuIGVsLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIikgKSAmIDE7XG59KTtcblxuLy8gU3VwcG9ydDogSUU8OFxuLy8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgXCJpbnRlcnBvbGF0aW9uXCJcbi8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInR5cGVcIiA/IDEgOiAyICk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKVxuaWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGVsLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidmFsdWVcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PSBudWxsO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggYm9vbGVhbnMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgdmFsO1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6XG5cdFx0XHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdH1cblx0fSk7XG59XG5cbnJldHVybiBTaXp6bGU7XG5cbn0pKCB3aW5kb3cgKTtcblxuXG5cbmpRdWVyeS5maW5kID0gU2l6emxlO1xualF1ZXJ5LmV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzO1xuXG4vLyBEZXByZWNhdGVkXG5qUXVlcnkuZXhwclsgXCI6XCIgXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG5qUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XG5qUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5qUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBTaXp6bGUuZXNjYXBlO1xuXG5cblxuXG52YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdHZhciBtYXRjaGVkID0gW10sXG5cdFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuXG5cdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuXHRcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O1xuXG5cblxuZnVuY3Rpb24gbm9kZU5hbWUoIGVsZW0sIG5hbWUgKSB7XG5cbiAgcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cbn07XG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcblxuXG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBpc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW5nbGUgZWxlbWVudFxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRmlsdGVyZWQgZGlyZWN0bHkgZm9yIGJvdGggc2ltcGxlIGFuZCBjb21wbGV4IHNlbGVjdG9yc1xuXHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW107XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZWxmID0gdGhpcztcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH1cblxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSApICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSApO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHQvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpXG5cdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hdHRyKCBtYXRjaCwgY29udGV4dFsgbWF0Y2ggXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKCNpZClcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1hdGNoWyAyIF0gKTtcblxuXHRcdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBpc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmNvbnRlbnREb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudDtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seSwgaU9TIDcgb25seSwgQW5kcm9pZCBCcm93c2VyIDw9NC4zIG9ubHlcblx0XHQvLyBUcmVhdCB0aGUgdGVtcGxhdGUgZWxlbWVudCBhcyBhIHJlZ3VsYXIgb25lIGluIGJyb3dzZXJzIHRoYXRcblx0XHQvLyBkb24ndCBzdXBwb3J0IGl0LlxuXHRcdGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGVtcGxhdGVcIiApICkge1xuXHRcdFx0ZWxlbSA9IGVsZW0uY29udGVudCB8fCBlbGVtO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTtcblx0fTtcbn0gKTtcbnZhciBybm90aHRtbHdoaXRlID0gKCAvW15cXHgyMFxcdFxcclxcblxcZl0rL2cgKTtcblxuXG5cbi8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0ge307XG5cdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBsb2NrZWQgfHwgb3B0aW9ucy5vbmNlO1xuXG5cdFx0XHQvLyBFeGVjdXRlIGNhbGxiYWNrcyBmb3IgYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyxcblx0XHRcdC8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXNcblx0XHRcdGZpcmVkID0gZmlyaW5nID0gdHJ1ZTtcblx0XHRcdGZvciAoIDsgcXVldWUubGVuZ3RoOyBmaXJpbmdJbmRleCA9IC0xICkge1xuXHRcdFx0XHRtZW1vcnkgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0XHR3aGlsZSAoICsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBsaXN0WyBmaXJpbmdJbmRleCBdLmFwcGx5KCBtZW1vcnlbIDAgXSwgbWVtb3J5WyAxIF0gKSA9PT0gZmFsc2UgJiZcblx0XHRcdFx0XHRcdG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEp1bXAgdG8gZW5kIGFuZCBmb3JnZXQgdGhlIGRhdGEgc28gLmFkZCBkb2Vzbid0IHJlLWZpcmVcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yZ2V0IHRoZSBkYXRhIGlmIHdlJ3JlIGRvbmUgd2l0aCBpdFxuXHRcdFx0aWYgKCAhb3B0aW9ucy5tZW1vcnkgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRmaXJpbmcgPSBmYWxzZTtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2Rcblx0XHRcdGlmICggbG9ja2VkICkge1xuXG5cdFx0XHRcdC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcblx0XHRcdFx0aWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgdGhpcyBvYmplY3QgaXMgc3BlbnRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsaXN0ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxuXHRcdHNlbGYgPSB7XG5cblx0XHRcdC8vIEFkZCBhIGNhbGxiYWNrIG9yIGEgY29sbGVjdGlvbiBvZiBjYWxsYmFja3MgdG8gdGhlIGxpc3Rcblx0XHRcdGFkZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblxuXHRcdFx0XHRcdC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaCggbWVtb3J5ICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0KCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJncywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIHRvVHlwZSggYXJnICkgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5XG5cdFx0XHRcdFx0XHRcdFx0YWRkKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdH0gKSggYXJndW1lbnRzICk7XG5cblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3Rcblx0XHRcdHJlbW92ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0dmFyIGluZGV4O1xuXHRcdFx0XHRcdHdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0bGlzdC5zcGxpY2UoIGluZGV4LCAxICk7XG5cblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlc1xuXHRcdFx0XHRcdFx0aWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHtcblx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXgtLTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDaGVjayBpZiBhIGdpdmVuIGNhbGxiYWNrIGlzIGluIHRoZSBsaXN0LlxuXHRcdFx0Ly8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuXG5cdFx0XHRoYXM6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0cmV0dXJuIGZuID9cblx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDpcblx0XHRcdFx0XHRsaXN0Lmxlbmd0aCA+IDA7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkXG5cdFx0XHQvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdC8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlc1xuXHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRkaXNhYmxlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhbGlzdDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmVcblx0XHRcdC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXG5cdFx0XHQvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHRsb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0aWYgKCAhbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuXHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmZ1bmN0aW9uIElkZW50aXR5KCB2ICkge1xuXHRyZXR1cm4gdjtcbn1cbmZ1bmN0aW9uIFRocm93ZXIoIGV4ICkge1xuXHR0aHJvdyBleDtcbn1cblxuZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCwgbm9WYWx1ZSApIHtcblx0dmFyIG1ldGhvZDtcblxuXHR0cnkge1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxuXHRcdGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIHRoZW5hYmxlc1xuXHRcdH0gZWxzZSBpZiAoIHZhbHVlICYmIGlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUudGhlbiApICkgKSB7XG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUsIHJlc29sdmUsIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgbm9uLXRoZW5hYmxlc1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIENvbnRyb2wgYHJlc29sdmVgIGFyZ3VtZW50cyBieSBsZXR0aW5nIEFycmF5I3NsaWNlIGNhc3QgYm9vbGVhbiBgbm9WYWx1ZWAgdG8gaW50ZWdlcjpcblx0XHRcdC8vICogZmFsc2U6IFsgdmFsdWUgXS5zbGljZSggMCApID0+IHJlc29sdmUoIHZhbHVlIClcblx0XHRcdC8vICogdHJ1ZTogWyB2YWx1ZSBdLnNsaWNlKCAxICkgPT4gcmVzb2x2ZSgpXG5cdFx0XHRyZXNvbHZlLmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXS5zbGljZSggbm9WYWx1ZSApICk7XG5cdFx0fVxuXG5cdC8vIEZvciBQcm9taXNlcy9BKywgY29udmVydCBleGNlcHRpb25zIGludG8gcmVqZWN0aW9uc1xuXHQvLyBTaW5jZSBqUXVlcnkud2hlbiBkb2Vzbid0IHVud3JhcCB0aGVuYWJsZXMsIHdlIGNhbiBza2lwIHRoZSBleHRyYSBjaGVja3MgYXBwZWFyaW5nIGluXG5cdC8vIERlZmVycmVkI3RoZW4gdG8gY29uZGl0aW9uYWxseSBzdXBwcmVzcyByZWplY3Rpb24uXG5cdH0gY2F0Y2ggKCB2YWx1ZSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcblx0XHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XG5cdFx0cmVqZWN0LmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXSApO1xuXHR9XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxuXHRcdFx0XHQvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVdXG5cdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLCAyIF0sXG5cdFx0XHRcdFsgXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMCwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAxLCBcInJlamVjdGVkXCIgXVxuXHRcdFx0XSxcblx0XHRcdHN0YXRlID0gXCJwZW5kaW5nXCIsXG5cdFx0XHRwcm9taXNlID0ge1xuXHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImNhdGNoXCI6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKCBudWxsLCBmbiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0cGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC5wcm9taXNlKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnByb2dyZXNzKCBuZXdEZWZlci5ub3RpZnkgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvblByb2dyZXNzICkge1xuXHRcdFx0XHRcdHZhciBtYXhEZXB0aCA9IDA7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZSggZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cyxcblx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQsIHRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4zXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01OVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoIDwgbWF4RGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQgPSBoYW5kbGVyLmFwcGx5KCB0aGF0LCBhcmdzICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjFcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTQ4XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoIFwiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01NFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2Vcblx0XHRcdFx0XHRcdFx0XHRcdHRoZW4gPSByZXR1cm5lZCAmJlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBjaGVjayBvYmplY3RzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZW5hYmlsaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggdHlwZW9mIHJldHVybmVkID09PSBcIm9iamVjdFwiIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHJldHVybmVkID09PSBcImZ1bmN0aW9uXCIgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC50aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYSByZXR1cm5lZCB0aGVuYWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCB0aGVuICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuXHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25GdWxmaWxsZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAyIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5kaXNhYmxlXG5cdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAzIF0uZGlzYWJsZSxcblxuXHRcdFx0XHRcdC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG5cdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDIgXS5sb2NrLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIG1hc3RlciBEZWZlcnJlZFxuXHRcdFx0bWFzdGVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdG1hc3Rlci5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5yZWplY3QsXG5cdFx0XHRcdCFyZW1haW5pbmcgKTtcblxuXHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0aWYgKCBtYXN0ZXIuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0aXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7XG5cblx0XHRcdFx0cmV0dXJuIG1hc3Rlci50aGVuKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gTXVsdGlwbGUgYXJndW1lbnRzIGFyZSBhZ2dyZWdhdGVkIGxpa2UgUHJvbWlzZS5hbGwgYXJyYXkgZWxlbWVudHNcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGFkb3B0VmFsdWUoIHJlc29sdmVWYWx1ZXNbIGkgXSwgdXBkYXRlRnVuYyggaSApLCBtYXN0ZXIucmVqZWN0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hc3Rlci5wcm9taXNlKCk7XG5cdH1cbn0gKTtcblxuXG4vLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcbi8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxudmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87XG5cbmpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBzdGFjayApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA4IC0gOSBvbmx5XG5cdC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXG5cdGlmICggd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KCBlcnJvci5uYW1lICkgKSB7XG5cdFx0d2luZG93LmNvbnNvbGUud2FybiggXCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiBcIiArIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrLCBzdGFjayApO1xuXHR9XG59O1xuXG5cblxuXG5qUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHR0aHJvdyBlcnJvcjtcblx0fSApO1xufTtcblxuXG5cblxuLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG52YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblxuXHRyZWFkeUxpc3Rcblx0XHQudGhlbiggZm4gKVxuXG5cdFx0Ly8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXBcblx0XHQvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2tcblx0XHQvLyByZWdpc3RyYXRpb24uXG5cdFx0LmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0XHRqUXVlcnkucmVhZHlFeGNlcHRpb24oIGVycm9yICk7XG5cdFx0fSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG5cdGlzUmVhZHk6IGZhbHNlLFxuXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcblx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0cmVhZHlXYWl0OiAxLFxuXG5cdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xuXG4vLyBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG5cdGpRdWVyeS5yZWFkeSgpO1xufVxuXG4vLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMCBvbmx5XG4vLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyBcImludGVyYWN0aXZlXCIgdG9vIHNvb25cbmlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG5cdCggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkge1xuXG5cdC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuXHR3aW5kb3cuc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XG5cbn0gZWxzZSB7XG5cblx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cblx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcbn1cblxuXG5cblxuLy8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uXG4vLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdzIGEgZnVuY3Rpb25cbnZhciBhY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBlbGVtcy5sZW5ndGgsXG5cdFx0YnVsayA9IGtleSA9PSBudWxsO1xuXG5cdC8vIFNldHMgbWFueSB2YWx1ZXNcblx0aWYgKCB0b1R5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJhdyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBidWxrICkge1xuXG5cdFx0XHQvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcblx0XHRcdGlmICggcmF3ICkge1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcblx0XHRcdFx0Zm4gPSBudWxsO1xuXG5cdFx0XHQvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWxrID0gZm47XG5cdFx0XHRcdGZuID0gZnVuY3Rpb24oIGVsZW0sIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGJ1bGsuY2FsbCggalF1ZXJ5KCBlbGVtICksIHZhbHVlICk7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRmbihcblx0XHRcdFx0XHRlbGVtc1sgaSBdLCBrZXksIHJhdyA/XG5cdFx0XHRcdFx0dmFsdWUgOlxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIGVsZW1zWyBpIF0sIGksIGZuKCBlbGVtc1sgaSBdLCBrZXkgKSApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBjaGFpbmFibGUgKSB7XG5cdFx0cmV0dXJuIGVsZW1zO1xuXHR9XG5cblx0Ly8gR2V0c1xuXHRpZiAoIGJ1bGsgKSB7XG5cdFx0cmV0dXJuIGZuLmNhbGwoIGVsZW1zICk7XG5cdH1cblxuXHRyZXR1cm4gbGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xuXG5cbi8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xudmFyIHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbYS16XSkvZztcblxuLy8gVXNlZCBieSBjYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG5mdW5jdGlvbiBmY2FtZWxDYXNlKCBhbGwsIGxldHRlciApIHtcblx0cmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xufVxuXG4vLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1XG4vLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5mdW5jdGlvbiBjYW1lbENhc2UoIHN0cmluZyApIHtcblx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG59XG52YXIgYWNjZXB0RGF0YSA9IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHQvLyBBY2NlcHRzIG9ubHk6XG5cdC8vICAtIE5vZGVcblx0Ly8gICAgLSBOb2RlLkVMRU1FTlRfTk9ERVxuXHQvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxuXHQvLyAgLSBPYmplY3Rcblx0Ly8gICAgLSBBbnlcblx0cmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApO1xufTtcblxuXG5cblxuZnVuY3Rpb24gRGF0YSgpIHtcblx0dGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrO1xufVxuXG5EYXRhLnVpZCA9IDE7XG5cbkRhdGEucHJvdG90eXBlID0ge1xuXG5cdGNhY2hlOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGVcblx0XHR2YXIgdmFsdWUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHQvLyBJZiBub3QsIGNyZWF0ZSBvbmVcblx0XHRpZiAoICF2YWx1ZSApIHtcblx0XHRcdHZhbHVlID0ge307XG5cblx0XHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cblx0XHRcdC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBvd25lciApICkge1xuXG5cdFx0XHRcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcblx0XHRcdFx0Ly8gdXNlIHBsYWluIGFzc2lnbm1lbnRcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB2YWx1ZTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcblx0XHRcdFx0Ly8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRzZXQ6IGZ1bmN0aW9uKCBvd25lciwgZGF0YSwgdmFsdWUgKSB7XG5cdFx0dmFyIHByb3AsXG5cdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRjYWNoZVsgY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgY2FtZWxDYXNlKCBwcm9wICkgXSA9IGRhdGFbIHByb3AgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblxuXHRcdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgY2FtZWxDYXNlKCBrZXkgKSBdO1xuXHR9LFxuXHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWRcblx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcblx0XHQvL1xuXHRcdC8vIFRha2UgdGhlIFwicmVhZFwiIHBhdGggYW5kIGFsbG93IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZVxuXHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBvYmplY3Rcblx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG5cdFx0Ly9cblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdCggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCBvd25lciwga2V5ICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vXG5cdFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHQvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHZhciBpLFxuXHRcdFx0Y2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHRpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSgga2V5ICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYga2V5IGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG5cdFx0XHRcdGtleSA9IGtleS5tYXAoIGNhbWVsQ2FzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0a2V5ID0gY2FtZWxDYXNlKCBrZXkgKTtcblxuXHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG5cdFx0XHRcdGtleSA9IGtleSBpbiBjYWNoZSA/XG5cdFx0XHRcdFx0WyBrZXkgXSA6XG5cdFx0XHRcdFx0KCBrZXkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpID0ga2V5Lmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5WyBpIF0gXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG5cdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuXHRcdFx0Ly8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0fVxufTtcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cblxuXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuLy9cbi8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4vL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4vL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4vL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4vL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cbnZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXG5cdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblxuZnVuY3Rpb24gZ2V0RGF0YSggZGF0YSApIHtcblx0aWYgKCBkYXRhID09PSBcInRydWVcIiApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJmYWxzZVwiICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJudWxsXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuXHRpZiAoIGRhdGEgPT09ICtkYXRhICsgXCJcIiApIHtcblx0XHRyZXR1cm4gK2RhdGE7XG5cdH1cblxuXHRpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTtcblx0fVxuXG5cdHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBkYXRhQXR0ciggZWxlbSwga2V5LCBkYXRhICkge1xuXHR2YXIgbmFtZTtcblxuXHQvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55XG5cdC8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZVxuXHRpZiAoIGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdG5hbWUgPSBcImRhdGEtXCIgKyBrZXkucmVwbGFjZSggcm11bHRpRGFzaCwgXCItJCZcIiApLnRvTG93ZXJDYXNlKCk7XG5cdFx0ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0YSA9IGdldERhdGEoIGRhdGEgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH0sXG5cblx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKCMxNDg5NClcblx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IGF0dHJzWyBpIF0ubmFtZTtcblx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBjYW1lbENhc2UoIG5hbWUuc2xpY2UoIDUgKSApO1xuXHRcdFx0XHRcdFx0XHRcdGRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9XG5cblx0XHQvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBkYXRhO1xuXG5cdFx0XHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxuXHRcdFx0Ly8gKGFuZCB0aGVyZWZvcmUgaGFzIGFuIGVsZW1lbnQgYXBwZWFycyBhdCB0aGlzWyAwIF0pIGFuZCB0aGVcblx0XHRcdC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG5cdFx0XHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXG5cdFx0XHQvLyB0aHJvdyBhbiBleGNlcHRpb24gaWYgYW4gYXR0ZW1wdCB0byByZWFkIGEgZGF0YSBjYWNoZSBpcyBtYWRlLlxuXHRcdFx0aWYgKCBlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuXHRcdFx0XHQvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YVxuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG5cdFx0XHRcdGRhdGEgPSBkYXRhQXR0ciggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0LlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCB0aGUgZGF0YS4uLlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc3RvcmUgdGhlIGNhbWVsQ2FzZWQga2V5XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xuXHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSwgbnVsbCwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkYXRhVXNlci5yZW1vdmUoIHRoaXMsIGtleSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBxdWV1ZTtcblxuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHR5cGUgPSAoIHR5cGUgfHwgXCJmeFwiICkgKyBcInF1ZXVlXCI7XG5cdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmdldCggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHQvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG5cdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdGlmICggIXF1ZXVlIHx8IEFycmF5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKS5hZGQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0gKVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0fSApO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cblx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcblx0XHR2YXIgdG1wLFxuXHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0ZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJlc29sdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0gKTtcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblxudmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXG5cbnZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblxudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cblx0dmFyIGlzQXR0YWNoZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHRcdH0sXG5cdFx0Y29tcG9zZWQgPSB7IGNvbXBvc2VkOiB0cnVlIH07XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KywgaU9TIDEwLjAgLSAxMC4yIG9ubHlcblx0Ly8gQ2hlY2sgYXR0YWNobWVudCBhY3Jvc3Mgc2hhZG93IERPTSBib3VuZGFyaWVzIHdoZW4gcG9zc2libGUgKGdoLTM1MDQpXG5cdC8vIFN1cHBvcnQ6IGlPUyAxMC4wLTEwLjIgb25seVxuXHQvLyBFYXJseSBpT1MgMTAgdmVyc2lvbnMgc3VwcG9ydCBgYXR0YWNoU2hhZG93YCBidXQgbm90IGBnZXRSb290Tm9kZWAsXG5cdC8vIGxlYWRpbmcgdG8gZXJyb3JzLiBXZSBuZWVkIHRvIGNoZWNrIGZvciBgZ2V0Um9vdE5vZGVgLlxuXHRpZiAoIGRvY3VtZW50RWxlbWVudC5nZXRSb290Tm9kZSApIHtcblx0XHRpc0F0dGFjaGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSB8fFxuXHRcdFx0XHRlbGVtLmdldFJvb3ROb2RlKCBjb21wb3NlZCApID09PSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0fTtcblx0fVxudmFyIGlzSGlkZGVuV2l0aGluVHJlZSA9IGZ1bmN0aW9uKCBlbGVtLCBlbCApIHtcblxuXHRcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXG5cdFx0Ly8gSW5saW5lIHN0eWxlIHRydW1wcyBhbGxcblx0XHRyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXG5cblx0XHRcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XG5cdFx0XHQvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9uZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXNcblx0XHRcdC8vIGluIHRoZSBkb2N1bWVudC5cblx0XHRcdGlzQXR0YWNoZWQoIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLCBzY2FsZSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XG5cdFx0XHR9LFxuXHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cblx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdGluaXRpYWxJblVuaXQgPSBlbGVtLm5vZGVUeXBlICYmXG5cdFx0XHQoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcblxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTU0XG5cdFx0Ly8gSGFsdmUgdGhlIGl0ZXJhdGlvbiB0YXJnZXQgdmFsdWUgdG8gcHJldmVudCBpbnRlcmZlcmVuY2UgZnJvbSBDU1MgdXBwZXIgYm91bmRzIChnaC0yMTQ0KVxuXHRcdGluaXRpYWwgPSBpbml0aWFsIC8gMjtcblxuXHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHR1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07XG5cblx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxO1xuXG5cdFx0d2hpbGUgKCBtYXhJdGVyYXRpb25zLS0gKSB7XG5cblx0XHRcdC8vIEV2YWx1YXRlIGFuZCB1cGRhdGUgb3VyIGJlc3QgZ3Vlc3MgKGRvdWJsaW5nIGd1ZXNzZXMgdGhhdCB6ZXJvIG91dCkuXG5cdFx0XHQvLyBGaW5pc2ggaWYgdGhlIHNjYWxlIGVxdWFscyBvciBjcm9zc2VzIDEgKG1ha2luZyB0aGUgb2xkKm5ldyBwcm9kdWN0IG5vbi1wb3NpdGl2ZSkuXG5cdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XG5cdFx0XHRpZiAoICggMSAtIHNjYWxlICkgKiAoIDEgLSAoIHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsIHx8IDAuNSApICkgPD0gMCApIHtcblx0XHRcdFx0bWF4SXRlcmF0aW9ucyA9IDA7XG5cdFx0XHR9XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXG5cdFx0fVxuXG5cdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgKiAyO1xuXHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblx0fVxuXG5cdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcblxuXHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cblx0XHRcdGluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6XG5cdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdGlmICggdHdlZW4gKSB7XG5cdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYWRqdXN0ZWQ7XG59XG5cblxudmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307XG5cbmZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KCBlbGVtICkge1xuXHR2YXIgdGVtcCxcblx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsXG5cdFx0bm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLFxuXHRcdGRpc3BsYXkgPSBkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXTtcblxuXHRpZiAoIGRpc3BsYXkgKSB7XG5cdFx0cmV0dXJuIGRpc3BsYXk7XG5cdH1cblxuXHR0ZW1wID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVFbGVtZW50KCBub2RlTmFtZSApICk7XG5cdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCBcImRpc3BsYXlcIiApO1xuXG5cdHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGVtcCApO1xuXG5cdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0ZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0fVxuXHRkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cblx0cmV0dXJuIGRpc3BsYXk7XG59XG5cbmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcblx0dmFyIGRpc3BsYXksIGVsZW0sXG5cdFx0dmFsdWVzID0gW10sXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuXHQvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2Vcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0aWYgKCBzaG93ICkge1xuXG5cdFx0XHQvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpXG5cdFx0XHQvLyBjaGVjayBpcyByZXF1aXJlZCBpbiB0aGlzIGZpcnN0IGxvb3AgdW5sZXNzIHdlIGhhdmUgYSBub25lbXB0eSBkaXNwbGF5IHZhbHVlIChlaXRoZXJcblx0XHRcdC8vIGlubGluZSBvciBhYm91dC10by1iZS1yZXN0b3JlZClcblx0XHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKSB8fCBudWxsO1xuXHRcdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gKSB7XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGdldERlZmF1bHREaXNwbGF5KCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggZGlzcGxheSAhPT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IFwibm9uZVwiO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHdoYXQgd2UncmUgb3ZlcndyaXRpbmdcblx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImRpc3BsYXlcIiwgZGlzcGxheSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFNldCB0aGUgZGlzcGxheSBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcCB0byBhdm9pZCBjb25zdGFudCByZWZsb3dcblx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkge1xuXHRcdFx0ZWxlbWVudHNbIGluZGV4IF0uc3R5bGUuZGlzcGxheSA9IHZhbHVlc1sgaW5kZXggXTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudHM7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2hvdzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzLCB0cnVlICk7XG5cdH0sXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcyApO1xuXHR9LFxuXHR0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHtcblx0XHRpZiAoIHR5cGVvZiBzdGF0ZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBpc0hpZGRlbldpdGhpblRyZWUoIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xudmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xuXG52YXIgcnRhZ05hbWUgPSAoIC88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKikvaSApO1xuXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxebW9kdWxlJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblxuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRvcHRpb246IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXSxcblxuXHQvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuXHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG5cbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuXG5mdW5jdGlvbiBnZXRBbGwoIGNvbnRleHQsIHRhZyApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKCMxNTE1MSlcblx0dmFyIHJldDtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdHJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSBpZiAoIHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgXCIqXCIgKTtcblxuXHR9IGVsc2Uge1xuXHRcdHJldCA9IFtdO1xuXHR9XG5cblx0aWYgKCB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgbm9kZU5hbWUoIGNvbnRleHQsIHRhZyApICkge1xuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cblxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG5mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRkYXRhUHJpdi5zZXQoXG5cdFx0XHRlbGVtc1sgaSBdLFxuXHRcdFx0XCJnbG9iYWxFdmFsXCIsXG5cdFx0XHQhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXG5cdFx0KTtcblx0fVxufVxuXG5cbnZhciByaHRtbCA9IC88fCYjP1xcdys7LztcblxuZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0dmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBhdHRhY2hlZCwgaixcblx0XHRmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdG5vZGVzID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1zWyBpIF07XG5cblx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcblxuXHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRpZiAoIHRvVHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblxuXHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcblxuXHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xuXG5cdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHR0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5Milcblx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG5cdGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcblxuXHRpID0gMDtcblx0d2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHtcblxuXHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG5cdFx0aWYgKCBzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHNlbGVjdGlvbiApID4gLTEgKSB7XG5cdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0YXR0YWNoZWQgPSBpc0F0dGFjaGVkKCBlbGVtICk7XG5cblx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHR0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksIFwic2NyaXB0XCIgKTtcblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRpZiAoIGF0dGFjaGVkICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggdG1wICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdGlmICggc2NyaXB0cyApIHtcblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7XG5cdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRzY3JpcHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0ZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApLFxuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdC8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJ0XCIgKTtcblxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG59ICkoKTtcblxuXG52YXJcblx0cmtleUV2ZW50ID0gL15rZXkvLFxuXHRybW91c2VFdmVudCA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxcblx0cnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTErXG4vLyBmb2N1cygpIGFuZCBibHVyKCkgYXJlIGFzeW5jaHJvbm91cywgZXhjZXB0IHdoZW4gdGhleSBhcmUgbm8tb3AuXG4vLyBTbyBleHBlY3QgZm9jdXMgdG8gYmUgc3luY2hyb25vdXMgd2hlbiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IGFjdGl2ZSxcbi8vIGFuZCBibHVyIHRvIGJlIHN5bmNocm9ub3VzIHdoZW4gdGhlIGVsZW1lbnQgaXMgbm90IGFscmVhZHkgYWN0aXZlLlxuLy8gKGZvY3VzIGFuZCBibHVyIGFyZSBhbHdheXMgc3luY2hyb25vdXMgaW4gb3RoZXIgc3VwcG9ydGVkIGJyb3dzZXJzLFxuLy8gdGhpcyBqdXN0IGRlZmluZXMgd2hlbiB3ZSBjYW4gY291bnQgb24gaXQpLlxuZnVuY3Rpb24gZXhwZWN0U3luYyggZWxlbSwgdHlwZSApIHtcblx0cmV0dXJuICggZWxlbSA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSApID09PSAoIHR5cGUgPT09IFwiZm9jdXNcIiApO1xufVxuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gQWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgY2FuIHRocm93IHVuZXhwZWN0ZWRseVxuLy8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzkzXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVyciApIHsgfVxufVxuXG5mdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkge1xuXHR2YXIgb3JpZ0ZuLCB0eXBlO1xuXG5cdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuXHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcblx0XHRcdGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRvbiggZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBlIF0sIG9uZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XG5cblx0XHQvLyAoIHR5cGVzLCBmbiApXG5cdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHR9IGVsc2UgaWYgKCAhZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIG9uZSA9PT0gMSApIHtcblx0XHRvcmlnRm4gPSBmbjtcblx0XHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0Ly8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG5cdFx0XHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXG5cdFx0Ly8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cblx0XHRmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTtcblx0fVxuXHRyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XG5cdH0gKTtcbn1cblxuLypcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gKi9cbmpRdWVyeS5ldmVudCA9IHtcblxuXHRnbG9iYWw6IHt9LFxuXG5cdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblxuXHRcdHZhciBoYW5kbGVPYmpJbiwgZXZlbnRIYW5kbGUsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXG5cdFx0aWYgKCAhZWxlbURhdGEgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XG5cdFx0XHRoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XG5cdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG5cdFx0fVxuXG5cdFx0Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxuXHRcdC8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KVxuXHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcblx0XHRpZiAoICFoYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdH1cblxuXHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XG5cdFx0fVxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0Ly8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cblx0XHRcdC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuXHRcdFx0aGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRvcmlnVHlwZTogb3JpZ1R5cGUsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGhhbmRsZXI6IGhhbmRsZXIsXG5cdFx0XHRcdGd1aWQ6IGhhbmRsZXIuZ3VpZCxcblx0XHRcdFx0c2VsZWN0b3I6IHNlbGVjdG9yLFxuXHRcdFx0XHRuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApLFxuXHRcdFx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKVxuXHRcdFx0fSwgaGFuZGxlT2JqSW4gKTtcblxuXHRcdFx0Ly8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3Rcblx0XHRcdGlmICggISggaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSApICkge1xuXHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuXG5cdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnNldHVwIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC5zZXR1cC5jYWxsKCBlbGVtLCBkYXRhLCBuYW1lc3BhY2VzLCBldmVudEhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHNwZWNpYWwuYWRkICkge1xuXHRcdFx0XHRzcGVjaWFsLmFkZC5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblxuXHRcdFx0XHRpZiAoICFoYW5kbGVPYmouaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXG5cdFx0XHRqUXVlcnkuZXZlbnQuZ2xvYmFsWyB0eXBlIF0gPSB0cnVlO1xuXHRcdH1cblxuXHR9LFxuXG5cdC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkge1xuXG5cdFx0dmFyIGosIG9yaWdDb3VudCwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKSAmJiBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdGlmICggIWVsZW1EYXRhIHx8ICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIG5hdGl2ZUV2ZW50ICkge1xuXG5cdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0dmFyIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggbmF0aXZlRXZlbnQgKTtcblxuXHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxuXHRcdFx0YXJncyA9IG5ldyBBcnJheSggYXJndW1lbnRzLmxlbmd0aCApLFxuXHRcdFx0aGFuZGxlcnMgPSAoIGRhdGFQcml2LmdldCggdGhpcywgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcblxuXHRcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0fVxuXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZSBldmVudCBpcyBuYW1lc3BhY2VkLCB0aGVuIGVhY2ggaGFuZGxlciBpcyBvbmx5IGludm9rZWQgaWYgaXQgaXNcblx0XHRcdFx0Ly8gc3BlY2lhbGx5IHVuaXZlcnNhbCBvciBpdHMgbmFtZXNwYWNlcyBhcmUgYSBzdXBlcnNldCBvZiB0aGUgZXZlbnQncy5cblx0XHRcdFx0aWYgKCAhZXZlbnQucm5hbWVzcGFjZSB8fCBoYW5kbGVPYmoubmFtZXNwYWNlID09PSBmYWxzZSB8fFxuXHRcdFx0XHRcdGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcblx0XHRcdGN1ci5ub2RlVHlwZSAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcblx0XHRcdC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0Mylcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHtcblx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMgPSBbXTtcblx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzID0ge307XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRjdXIgPSB0aGlzO1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaG9vayggdGhpcy5vcmlnaW5hbEV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHtcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdHJldHVybiBvcmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdG9yaWdpbmFsRXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHR9LFxuXG5cdHNwZWNpYWw6IHtcblx0XHRsb2FkOiB7XG5cblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBVdGlsaXplIG5hdGl2ZSBldmVudCB0byBlbnN1cmUgY29ycmVjdCBzdGF0ZSBmb3IgY2hlY2thYmxlIGlucHV0c1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCBkYXRhICkge1xuXG5cdFx0XHRcdC8vIEZvciBtdXR1YWwgY29tcHJlc3NpYmlsaXR5IHdpdGggX2RlZmF1bHQsIHJlcGxhY2UgYHRoaXNgIGFjY2VzcyB3aXRoIGEgbG9jYWwgdmFyLlxuXHRcdFx0XHQvLyBgfHwgZGF0YWAgaXMgZGVhZCBjb2RlIG1lYW50IG9ubHkgdG8gcHJlc2VydmUgdGhlIHZhcmlhYmxlIHRocm91Z2ggbWluaWZpY2F0aW9uLlxuXHRcdFx0XHR2YXIgZWwgPSB0aGlzIHx8IGRhdGE7XG5cblx0XHRcdFx0Ly8gQ2xhaW0gdGhlIGZpcnN0IGhhbmRsZXJcblx0XHRcdFx0aWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiZcblx0XHRcdFx0XHRlbC5jbGljayAmJiBub2RlTmFtZSggZWwsIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdFx0Ly8gZGF0YVByaXYuc2V0KCBlbCwgXCJjbGlja1wiLCAuLi4gKVxuXHRcdFx0XHRcdGxldmVyYWdlTmF0aXZlKCBlbCwgXCJjbGlja1wiLCByZXR1cm5UcnVlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9LFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHRcdFx0Ly8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG5cdFx0XHRcdC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG5cdFx0XHRcdHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcblxuXHRcdFx0XHQvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlcmluZyBhIGNsaWNrXG5cdFx0XHRcdGlmICggcmNoZWNrYWJsZVR5cGUudGVzdCggZWwudHlwZSApICYmXG5cdFx0XHRcdFx0ZWwuY2xpY2sgJiYgbm9kZU5hbWUoIGVsLCBcImlucHV0XCIgKSApIHtcblxuXHRcdFx0XHRcdGxldmVyYWdlTmF0aXZlKCBlbCwgXCJjbGlja1wiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXR1cm4gbm9uLWZhbHNlIHRvIGFsbG93IG5vcm1hbCBldmVudC1wYXRoIHByb3BhZ2F0aW9uXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIHN1cHByZXNzIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0Ly8gQWxzbyBwcmV2ZW50IGl0IGlmIHdlJ3JlIGN1cnJlbnRseSBpbnNpZGUgYSBsZXZlcmFnZWQgbmF0aXZlLWV2ZW50IHN0YWNrXG5cdFx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHRcdFx0XHRyZXR1cm4gcmNoZWNrYWJsZVR5cGUudGVzdCggdGFyZ2V0LnR5cGUgKSAmJlxuXHRcdFx0XHRcdHRhcmdldC5jbGljayAmJiBub2RlTmFtZSggdGFyZ2V0LCBcImlucHV0XCIgKSAmJlxuXHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGFyZ2V0LCBcImNsaWNrXCIgKSB8fFxuXHRcdFx0XHRcdG5vZGVOYW1lKCB0YXJnZXQsIFwiYVwiICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJlZm9yZXVubG9hZDoge1xuXHRcdFx0cG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCAyMCtcblx0XHRcdFx0Ly8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LlxuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gRW5zdXJlIHRoZSBwcmVzZW5jZSBvZiBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGhhbmRsZXMgbWFudWFsbHktdHJpZ2dlcmVkXG4vLyBzeW50aGV0aWMgZXZlbnRzIGJ5IGludGVycnVwdGluZyBwcm9ncmVzcyB1bnRpbCByZWludm9rZWQgaW4gcmVzcG9uc2UgdG9cbi8vICpuYXRpdmUqIGV2ZW50cyB0aGF0IGl0IGZpcmVzIGRpcmVjdGx5LCBlbnN1cmluZyB0aGF0IHN0YXRlIGNoYW5nZXMgaGF2ZVxuLy8gYWxyZWFkeSBvY2N1cnJlZCBiZWZvcmUgb3RoZXIgbGlzdGVuZXJzIGFyZSBpbnZva2VkLlxuZnVuY3Rpb24gbGV2ZXJhZ2VOYXRpdmUoIGVsLCB0eXBlLCBleHBlY3RTeW5jICkge1xuXG5cdC8vIE1pc3NpbmcgZXhwZWN0U3luYyBpbmRpY2F0ZXMgYSB0cmlnZ2VyIGNhbGwsIHdoaWNoIG11c3QgZm9yY2Ugc2V0dXAgdGhyb3VnaCBqUXVlcnkuZXZlbnQuYWRkXG5cdGlmICggIWV4cGVjdFN5bmMgKSB7XG5cdFx0aWYgKCBkYXRhUHJpdi5nZXQoIGVsLCB0eXBlICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGVsLCB0eXBlLCByZXR1cm5UcnVlICk7XG5cdFx0fVxuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlZ2lzdGVyIHRoZSBjb250cm9sbGVyIGFzIGEgc3BlY2lhbCB1bml2ZXJzYWwgaGFuZGxlciBmb3IgYWxsIGV2ZW50IG5hbWVzcGFjZXNcblx0ZGF0YVByaXYuc2V0KCBlbCwgdHlwZSwgZmFsc2UgKTtcblx0alF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHtcblx0XHRuYW1lc3BhY2U6IGZhbHNlLFxuXHRcdGhhbmRsZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBub3RBc3luYywgcmVzdWx0LFxuXHRcdFx0XHRzYXZlZCA9IGRhdGFQcml2LmdldCggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRpZiAoICggZXZlbnQuaXNUcmlnZ2VyICYgMSApICYmIHRoaXNbIHR5cGUgXSApIHtcblxuXHRcdFx0XHQvLyBJbnRlcnJ1cHQgcHJvY2Vzc2luZyBvZiB0aGUgb3V0ZXIgc3ludGhldGljIC50cmlnZ2VyKCllZCBldmVudFxuXHRcdFx0XHQvLyBTYXZlZCBkYXRhIHNob3VsZCBiZSBmYWxzZSBpbiBzdWNoIGNhc2VzLCBidXQgbWlnaHQgYmUgYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdFxuXHRcdFx0XHQvLyBmcm9tIGFuIGFzeW5jIG5hdGl2ZSBoYW5kbGVyIChnaC00MzUwKVxuXHRcdFx0XHRpZiAoICFzYXZlZC5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBhcmd1bWVudHMgZm9yIHVzZSB3aGVuIGhhbmRsaW5nIHRoZSBpbm5lciBuYXRpdmUgZXZlbnRcblx0XHRcdFx0XHQvLyBUaGVyZSB3aWxsIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgYXJndW1lbnQgKGFuIGV2ZW50IG9iamVjdCksIHNvIHRoaXMgYXJyYXlcblx0XHRcdFx0XHQvLyB3aWxsIG5vdCBiZSBjb25mdXNlZCB3aXRoIGEgbGVmdG92ZXIgY2FwdHVyZSBvYmplY3QuXG5cdFx0XHRcdFx0c2F2ZWQgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIHNhdmVkICk7XG5cblx0XHRcdFx0XHQvLyBUcmlnZ2VyIHRoZSBuYXRpdmUgZXZlbnQgYW5kIGNhcHR1cmUgaXRzIHJlc3VsdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuXHRcdFx0XHRcdC8vIGZvY3VzKCkgYW5kIGJsdXIoKSBhcmUgYXN5bmNocm9ub3VzXG5cdFx0XHRcdFx0bm90QXN5bmMgPSBleHBlY3RTeW5jKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0dGhpc1sgdHlwZSBdKCk7XG5cdFx0XHRcdFx0cmVzdWx0ID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0aWYgKCBzYXZlZCAhPT0gcmVzdWx0IHx8IG5vdEFzeW5jICkge1xuXHRcdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCBmYWxzZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgPSB7fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzYXZlZCAhPT0gcmVzdWx0ICkge1xuXG5cdFx0XHRcdFx0XHQvLyBDYW5jZWwgdGhlIG91dGVyIHN5bnRoZXRpYyBldmVudFxuXHRcdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdC52YWx1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhpcyBpcyBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgZm9yIGFuIGV2ZW50IHdpdGggYSBidWJibGluZyBzdXJyb2dhdGVcblx0XHRcdFx0Ly8gKGZvY3VzIG9yIGJsdXIpLCBhc3N1bWUgdGhhdCB0aGUgc3Vycm9nYXRlIGFscmVhZHkgcHJvcGFnYXRlZCBmcm9tIHRyaWdnZXJpbmcgdGhlXG5cdFx0XHRcdC8vIG5hdGl2ZSBldmVudCBhbmQgcHJldmVudCB0aGF0IGZyb20gaGFwcGVuaW5nIGFnYWluIGhlcmUuXG5cdFx0XHRcdC8vIFRoaXMgdGVjaG5pY2FsbHkgZ2V0cyB0aGUgb3JkZXJpbmcgd3Jvbmcgdy5yLnQuIHRvIGAudHJpZ2dlcigpYCAoaW4gd2hpY2ggdGhlXG5cdFx0XHRcdC8vIGJ1YmJsaW5nIHN1cnJvZ2F0ZSBwcm9wYWdhdGVzICphZnRlciogdGhlIG5vbi1idWJibGluZyBiYXNlKSwgYnV0IHRoYXQgc2VlbXNcblx0XHRcdFx0Ly8gbGVzcyBiYWQgdGhhbiBkdXBsaWNhdGlvbi5cblx0XHRcdFx0fSBlbHNlIGlmICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9ICkuZGVsZWdhdGVUeXBlICkge1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBuYXRpdmUgZXZlbnQgdHJpZ2dlcmVkIGFib3ZlLCBldmVyeXRoaW5nIGlzIG5vdyBpbiBvcmRlclxuXHRcdFx0Ly8gRmlyZSBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgd2l0aCB0aGUgb3JpZ2luYWwgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBzYXZlZC5sZW5ndGggKSB7XG5cblx0XHRcdFx0Ly8gLi4uYW5kIGNhcHR1cmUgdGhlIHJlc3VsdFxuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIHtcblx0XHRcdFx0XHR2YWx1ZTogalF1ZXJ5LmV2ZW50LnRyaWdnZXIoXG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuXHRcdFx0XHRcdFx0Ly8gRXh0ZW5kIHdpdGggdGhlIHByb3RvdHlwZSB0byByZXNldCB0aGUgYWJvdmUgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblx0XHRcdFx0XHRcdGpRdWVyeS5leHRlbmQoIHNhdmVkWyAwIF0sIGpRdWVyeS5FdmVudC5wcm90b3R5cGUgKSxcblx0XHRcdFx0XHRcdHNhdmVkLnNsaWNlKCAxICksXG5cdFx0XHRcdFx0XHR0aGlzXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0Ly8gQWJvcnQgaGFuZGxpbmcgb2YgdGhlIG5hdGl2ZSBldmVudFxuXHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcbn1cblxualF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcblxuXHQvLyBUaGlzIFwiaWZcIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHNcblx0aWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUgKTtcblx0fVxufTtcblxualF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cblx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXG5cdGlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBFdmVudCBvYmplY3Rcblx0aWYgKCBzcmMgJiYgc3JjLnR5cGUgKSB7XG5cdFx0dGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuXHRcdHRoaXMudHlwZSA9IHNyYy50eXBlO1xuXG5cdFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcblx0XHQvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XG5cdFx0XHRcdHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHlcblx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdHJldHVybkZhbHNlO1xuXG5cdFx0Ly8gQ3JlYXRlIHRhcmdldCBwcm9wZXJ0aWVzXG5cdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9NiAtIDcgb25seVxuXHRcdC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpXG5cdFx0dGhpcy50YXJnZXQgPSAoIHNyYy50YXJnZXQgJiYgc3JjLnRhcmdldC5ub2RlVHlwZSA9PT0gMyApID9cblx0XHRcdHNyYy50YXJnZXQucGFyZW50Tm9kZSA6XG5cdFx0XHRzcmMudGFyZ2V0O1xuXG5cdFx0dGhpcy5jdXJyZW50VGFyZ2V0ID0gc3JjLmN1cnJlbnRUYXJnZXQ7XG5cdFx0dGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7XG5cblx0Ly8gRXZlbnQgdHlwZVxuXHR9IGVsc2Uge1xuXHRcdHRoaXMudHlwZSA9IHNyYztcblx0fVxuXG5cdC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG5cdGlmICggcHJvcHMgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjb2RlOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblxuXHR3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcblx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDEgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDIgKSB7XG5cdFx0XHRcdHJldHVybiAzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDQgKSB7XG5cdFx0XHRcdHJldHVybiAyO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdH1cbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbmpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCB0eXBlLCBkZWxlZ2F0ZVR5cGUgKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gPSB7XG5cblx0XHQvLyBVdGlsaXplIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3Rcblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENsYWltIHRoZSBmaXJzdCBoYW5kbGVyXG5cdFx0XHQvLyBkYXRhUHJpdi5zZXQoIHRoaXMsIFwiZm9jdXNcIiwgLi4uIClcblx0XHRcdC8vIGRhdGFQcml2LnNldCggdGhpcywgXCJibHVyXCIsIC4uLiApXG5cdFx0XHRsZXZlcmFnZU5hdGl2ZSggdGhpcywgdHlwZSwgZXhwZWN0U3luYyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyXG5cdFx0XHRsZXZlcmFnZU5hdGl2ZSggdGhpcywgdHlwZSApO1xuXG5cdFx0XHQvLyBSZXR1cm4gbm9uLWZhbHNlIHRvIGFsbG93IG5vcm1hbCBldmVudC1wYXRoIHByb3BhZ2F0aW9uXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0ZGVsZWdhdGVUeXBlOiBkZWxlZ2F0ZVR5cGVcblx0fTtcbn0gKTtcblxuLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG4vLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcbi8vXG4vLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuLy8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS5cbmpRdWVyeS5lYWNoKCB7XG5cdG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG5cdG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcblx0cG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXG5cdHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcbn0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XG5cdFx0ZGVsZWdhdGVUeXBlOiBmaXgsXG5cdFx0YmluZFR5cGU6IGZpeCxcblxuXHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIHJldCxcblx0XHRcdFx0dGFyZ2V0ID0gdGhpcyxcblx0XHRcdFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG5cdFx0XHRcdGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcblxuXHRcdFx0Ly8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cblx0XHRcdC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG5cdFx0XHRpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG5cdFx0XHRcdHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGZpeDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuXHR9LFxuXHRvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xuXHRcdHZhciBoYW5kbGVPYmosIHR5cGU7XG5cdFx0aWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XG5cblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlLFxuXHRcdFx0XHRoYW5kbGVPYmouc2VsZWN0b3IsXG5cdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMgWywgZm5dIClcblx0XHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG52YXJcblxuXHQvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cblx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy8zMjI5XG5cdHJ4aHRtbFRhZyA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKilbXj5dKilcXC8+L2dpLFxuXG5cdC8qIGVzbGludC1lbmFibGUgKi9cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEsIEVkZ2UgMTIgLSAxMyBvbmx5XG5cdC8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuXG5cdC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXG5cdHJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLFxuXG5cdC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuXHRyY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksXG5cdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztcblxuLy8gUHJlZmVyIGEgdGJvZHkgb3ZlciBpdHMgcGFyZW50IHRhYmxlIGZvciBjb250YWluaW5nIG5ldyByb3dzXG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGFibGVcIiApICYmXG5cdFx0bm9kZU5hbWUoIGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgXCJ0clwiICkgKSB7XG5cblx0XHRyZXR1cm4galF1ZXJ5KCBlbGVtICkuY2hpbGRyZW4oIFwidGJvZHlcIiApWyAwIF0gfHwgZWxlbTtcblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG4vLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG5mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkge1xuXHRlbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICE9PSBudWxsICkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0cmV0dXJuIGVsZW07XG59XG5mdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHRpZiAoICggZWxlbS50eXBlIHx8IFwiXCIgKS5zbGljZSggMCwgNSApID09PSBcInRydWUvXCIgKSB7XG5cdFx0ZWxlbS50eXBlID0gZWxlbS50eXBlLnNsaWNlKCA1ICk7XG5cdH0gZWxzZSB7XG5cdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIFwidHlwZVwiICk7XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcblx0dmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCBwZGF0YUN1ciwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG5cblx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG5cdGlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5hY2Nlc3MoIHNyYyApO1xuXHRcdHBkYXRhQ3VyID0gZGF0YVByaXYuc2V0KCBkZXN0LCBwZGF0YU9sZCApO1xuXHRcdGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcblxuXHRcdGlmICggZXZlbnRzICkge1xuXHRcdFx0ZGVsZXRlIHBkYXRhQ3VyLmhhbmRsZTtcblx0XHRcdHBkYXRhQ3VyLmV2ZW50cyA9IHt9O1xuXG5cdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gMi4gQ29weSB1c2VyIGRhdGFcblx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblxuXHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0fVxufVxuXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5mdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cblx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRhcmdzID0gY29uY2F0LmFwcGx5KCBbXSwgYXJncyApO1xuXG5cdHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYyxcblx0XHRpID0gMCxcblx0XHRsID0gY29sbGVjdGlvbi5sZW5ndGgsXG5cdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIHZhbHVlSXNGdW5jdGlvbiB8fFxuXHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0cmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdGFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApO1xuXHRcdFx0fVxuXHRcdFx0ZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7XG5cdFx0fSApO1xuXHR9XG5cblx0aWYgKCBsICkge1xuXHRcdGZyYWdtZW50ID0gYnVpbGRGcmFnbWVudCggYXJncywgY29sbGVjdGlvblsgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCBjb2xsZWN0aW9uLCBpZ25vcmVkICk7XG5cdFx0Zmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0aWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0fVxuXG5cdFx0Ly8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrXG5cdFx0aWYgKCBmaXJzdCB8fCBpZ25vcmVkICkge1xuXHRcdFx0c2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFwic2NyaXB0XCIgKSwgZGlzYWJsZVNjcmlwdCApO1xuXHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHQvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtXG5cdFx0XHQvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcblx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdG5vZGUgPSBmcmFnbWVudDtcblxuXHRcdFx0XHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xuXHRcdFx0XHRcdG5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTtcblxuXHRcdFx0XHRcdC8vIEtlZXAgcmVmZXJlbmNlcyB0byBjbG9uZWQgc2NyaXB0cyBmb3IgbGF0ZXIgcmVzdG9yYXRpb25cblx0XHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhbGxiYWNrLmNhbGwoIGNvbGxlY3Rpb25bIGkgXSwgbm9kZSwgaSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdFx0Ly8gUmVlbmFibGUgc2NyaXB0c1xuXHRcdFx0XHRqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7XG5cblx0XHRcdFx0Ly8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGhhc1NjcmlwdHM7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gc2NyaXB0c1sgaSBdO1xuXHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8IFwiXCIgKSAmJlxuXHRcdFx0XHRcdFx0IWRhdGFQcml2LmFjY2Vzcyggbm9kZSwgXCJnbG9iYWxFdmFsXCIgKSAmJlxuXHRcdFx0XHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCBub2RlLnNyYyAmJiAoIG5vZGUudHlwZSB8fCBcIlwiICkudG9Mb3dlckNhc2UoKSAgIT09IFwibW9kdWxlXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgJiYgIW5vZGUubm9Nb2R1bGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYywge1xuXHRcdFx0XHRcdFx0XHRcdFx0bm9uY2U6IG5vZGUubm9uY2UgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoIFwibm9uY2VcIiApXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRET01FdmFsKCBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoIHJjbGVhblNjcmlwdCwgXCJcIiApLCBub2RlLCBkb2MgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XG5cdHZhciBub2RlLFxuXHRcdG5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSxcblx0XHRpID0gMDtcblxuXHRmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBub2RlLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRpZiAoIGtlZXBEYXRhICYmIGlzQXR0YWNoZWQoIG5vZGUgKSApIHtcblx0XHRcdFx0c2V0R2xvYmFsRXZhbCggZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdH1cblx0XHRcdG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggbm9kZSApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGh0bWxQcmVmaWx0ZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHJldHVybiBodG1sLnJlcGxhY2UoIHJ4aHRtbFRhZywgXCI8JDE+PC8kMj5cIiApO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0dmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsXG5cdFx0XHRjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICksXG5cdFx0XHRpblBhZ2UgPSBpc0F0dGFjaGVkKCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW0gPSAwO1xuXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG5cdFx0fSwgaWdub3JlZCApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCB7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSg/IXB4KVthLXolXSskXCIsIFwiaVwiICk7XG5cbnZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seSwgRmlyZWZveCA8PTMwICgjMTUwOTgsICMxNDE1MClcblx0XHQvLyBJRSB0aHJvd3Mgb24gZWxlbWVudHMgY3JlYXRlZCBpbiBwb3B1cHNcblx0XHQvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2ggXCJkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlXCJcblx0XHR2YXIgdmlldyA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuXHRcdGlmICggIXZpZXcgfHwgIXZpZXcub3BlbmVyICkge1xuXHRcdFx0dmlldyA9IHdpbmRvdztcblx0XHR9XG5cblx0XHRyZXR1cm4gdmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG5cdH07XG5cbnZhciByYm94U3R5bGUgPSBuZXcgUmVnRXhwKCBjc3NFeHBhbmQuam9pbiggXCJ8XCIgKSwgXCJpXCIgKTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O1wiICtcblx0XHRcdFwibWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowXCI7XG5cdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxuXHRcdFx0XCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwid2lkdGg6NjAlO3RvcDoxJVwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdFx0dmFyIGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiApO1xuXHRcdHBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09IFwiMSVcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIEZpcmVmb3ggPD0zIC0gNDRcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnRWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLm1hcmdpbkxlZnQgKSA9PT0gMTI7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBTYWZhcmkgPD05LjEgLSAxMC4xLCBpT1MgPD03LjAgLSA5LjNcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUucmlnaHQgPSBcIjYwJVwiO1xuXHRcdHBpeGVsQm94U3R5bGVzVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS5yaWdodCApID09PSAzNjtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdFx0Ly8gRGV0ZWN0IG1pc3JlcG9ydGluZyBvZiBjb250ZW50IGRpbWVuc2lvbnMgZm9yIGJveC1zaXppbmc6Ym9yZGVyLWJveCBlbGVtZW50c1xuXHRcdGJveFNpemluZ1JlbGlhYmxlVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS53aWR0aCApID09PSAzNjtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdC8vIERldGVjdCBvdmVyZmxvdzpzY3JvbGwgc2NyZXdpbmVzcyAoZ2gtMzY5OSlcblx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD02NFxuXHRcdC8vIERvbid0IGdldCB0cmlja2VkIHdoZW4gem9vbSBhZmZlY3RzIG9mZnNldFdpZHRoIChnaC00MDI5KVxuXHRcdGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblx0XHRzY3JvbGxib3hTaXplVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXYub2Zmc2V0V2lkdGggLyAzICkgPT09IDEyO1xuXG5cdFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdC8vIE51bGxpZnkgdGhlIGRpdiBzbyBpdCB3b3VsZG4ndCBiZSBzdG9yZWQgaW4gdGhlIG1lbW9yeSBhbmRcblx0XHQvLyBpdCB3aWxsIGFsc28gYmUgYSBzaWduIHRoYXQgY2hlY2tzIGFscmVhZHkgcGVyZm9ybWVkXG5cdFx0ZGl2ID0gbnVsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIHJvdW5kUGl4ZWxNZWFzdXJlcyggbWVhc3VyZSApIHtcblx0XHRyZXR1cm4gTWF0aC5yb3VuZCggcGFyc2VGbG9hdCggbWVhc3VyZSApICk7XG5cdH1cblxuXHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHNjcm9sbGJveFNpemVWYWwsIHBpeGVsQm94U3R5bGVzVmFsLFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuXHRcdH0sXG5cdFx0cGl4ZWxCb3hTdHlsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbEJveFN0eWxlc1ZhbDtcblx0XHR9LFxuXHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuXHRcdH0sXG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsO1xuXHRcdH0sXG5cdFx0c2Nyb2xsYm94U2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHNjcm9sbGJveFNpemVWYWw7XG5cdFx0fVxuXHR9ICk7XG59ICkoKTtcblxuXG5mdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xuXHR2YXIgd2lkdGgsIG1pbldpZHRoLCBtYXhXaWR0aCwgcmV0LFxuXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA1MStcblx0XHQvLyBSZXRyaWV2aW5nIHN0eWxlIGJlZm9yZSBjb21wdXRlZCBzb21laG93XG5cdFx0Ly8gZml4ZXMgYW4gaXNzdWUgd2l0aCBnZXR0aW5nIHdyb25nIHZhbHVlc1xuXHRcdC8vIG9uIGRldGFjaGVkIGVsZW1lbnRzXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cblx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBuZWVkZWQgZm9yOlxuXHQvLyAgIC5jc3MoJ2ZpbHRlcicpIChJRSA5IG9ubHksICMxMjUzNylcblx0Ly8gICAuY3NzKCctLWN1c3RvbVByb3BlcnR5KSAoIzMxNDQpXG5cdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0cmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF07XG5cblx0XHRpZiAoIHJldCA9PT0gXCJcIiAmJiAhaXNBdHRhY2hlZCggZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbEJveFN0eWxlcygpICYmIHJudW1ub25weC50ZXN0KCByZXQgKSAmJiByYm94U3R5bGUudGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXIgY3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIiBdLFxuXHRlbXB0eVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLnN0eWxlLFxuXHR2ZW5kb3JQcm9wcyA9IHt9O1xuXG4vLyBSZXR1cm4gYSB2ZW5kb3ItcHJlZml4ZWQgcHJvcGVydHkgb3IgdW5kZWZpbmVkXG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHtcblxuXHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH1cbn1cblxuLy8gUmV0dXJuIGEgcG90ZW50aWFsbHktbWFwcGVkIGpRdWVyeS5jc3NQcm9wcyBvciB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIGZpbmFsUHJvcE5hbWUoIG5hbWUgKSB7XG5cdHZhciBmaW5hbCA9IGpRdWVyeS5jc3NQcm9wc1sgbmFtZSBdIHx8IHZlbmRvclByb3BzWyBuYW1lIF07XG5cblx0aWYgKCBmaW5hbCApIHtcblx0XHRyZXR1cm4gZmluYWw7XG5cdH1cblx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblx0cmV0dXJuIHZlbmRvclByb3BzWyBuYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHx8IG5hbWU7XG59XG5cblxudmFyXG5cblx0Ly8gU3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZVxuXHQvLyBleGNlcHQgXCJ0YWJsZVwiLCBcInRhYmxlLWNlbGxcIiwgb3IgXCJ0YWJsZS1jYXB0aW9uXCJcblx0Ly8gU2VlIGhlcmUgZm9yIGRpc3BsYXkgdmFsdWVzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0NTUy9kaXNwbGF5XG5cdHJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxcblx0cmN1c3RvbVByb3AgPSAvXi0tLyxcblx0Y3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sXG5cdGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcblx0XHRsZXR0ZXJTcGFjaW5nOiBcIjBcIixcblx0XHRmb250V2VpZ2h0OiBcIjQwMFwiXG5cdH07XG5cbmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XG5cblx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcblx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdHJldHVybiBtYXRjaGVzID9cblxuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBib3gsIGlzQm9yZGVyQm94LCBzdHlsZXMsIGNvbXB1dGVkVmFsICkge1xuXHR2YXIgaSA9IGRpbWVuc2lvbiA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cdFx0ZXh0cmEgPSAwLFxuXHRcdGRlbHRhID0gMDtcblxuXHQvLyBBZGp1c3RtZW50IG1heSBub3QgYmUgbmVjZXNzYXJ5XG5cdGlmICggYm94ID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblxuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XG5cblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW5cblx0XHRpZiAoIGJveCA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdGRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIGJveCArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgY29udGVudC1ib3gsIHdlJ3JlIHNlZWtpbmcgXCJwYWRkaW5nXCIgb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiXG5cdFx0aWYgKCAhaXNCb3JkZXJCb3ggKSB7XG5cblx0XHRcdC8vIEFkZCBwYWRkaW5nXG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gRm9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIiwgYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBib3ggIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBCdXQgc3RpbGwga2VlcCB0cmFjayBvZiBpdCBvdGhlcndpc2Vcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV4dHJhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgYm9yZGVyLWJveCAoY29udGVudCArIHBhZGRpbmcgKyBib3JkZXIpLCB3ZSdyZSBzZWVraW5nIFwiY29udGVudFwiIG9yXG5cdFx0Ly8gXCJwYWRkaW5nXCIgb3IgXCJtYXJnaW5cIlxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiwgc3VidHJhY3QgcGFkZGluZ1xuXHRcdFx0aWYgKCBib3ggPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yIFwiY29udGVudFwiIG9yIFwicGFkZGluZ1wiLCBzdWJ0cmFjdCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFjY291bnQgZm9yIHBvc2l0aXZlIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXIgd2hlbiByZXF1ZXN0ZWQgYnkgcHJvdmlkaW5nIGNvbXB1dGVkVmFsXG5cdGlmICggIWlzQm9yZGVyQm94ICYmIGNvbXB1dGVkVmFsID49IDAgKSB7XG5cblx0XHQvLyBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgYSByb3VuZGVkIHN1bSBvZiBjb250ZW50LCBwYWRkaW5nLCBzY3JvbGwgZ3V0dGVyLCBhbmQgYm9yZGVyXG5cdFx0Ly8gQXNzdW1pbmcgaW50ZWdlciBzY3JvbGwgZ3V0dGVyLCBzdWJ0cmFjdCB0aGUgcmVzdCBhbmQgcm91bmQgZG93blxuXHRcdGRlbHRhICs9IE1hdGgubWF4KCAwLCBNYXRoLmNlaWwoXG5cdFx0XHRlbGVtWyBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLVxuXHRcdFx0Y29tcHV0ZWRWYWwgLVxuXHRcdFx0ZGVsdGEgLVxuXHRcdFx0ZXh0cmEgLVxuXHRcdFx0MC41XG5cblx0XHQvLyBJZiBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgdW5rbm93biwgdGhlbiB3ZSBjYW4ndCBkZXRlcm1pbmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlclxuXHRcdC8vIFVzZSBhbiBleHBsaWNpdCB6ZXJvIHRvIGF2b2lkIE5hTiAoZ2gtMzk2NClcblx0XHQpICkgfHwgMDtcblx0fVxuXG5cdHJldHVybiBkZWx0YTtcbn1cblxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIGNvbXB1dGVkIHN0eWxlXG5cdHZhciBzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblxuXHRcdC8vIFRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3csIG9ubHkgZmV0Y2ggYm94U2l6aW5nIGlmIHdlIG5lZWQgaXQgKGdoLTQzMjIpLlxuXHRcdC8vIEZha2UgY29udGVudC1ib3ggdW50aWwgd2Uga25vdyBpdCdzIG5lZWRlZCB0byBrbm93IHRoZSB0cnVlIHZhbHVlLlxuXHRcdGJveFNpemluZ05lZWRlZCA9ICFzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgZXh0cmEsXG5cdFx0aXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiZcblx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCIsXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94LFxuXG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBkaW1lbnNpb24sIHN0eWxlcyApLFxuXHRcdG9mZnNldFByb3AgPSBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApO1xuXG5cdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuXHQvLyBSZXR1cm4gYSBjb25mb3VuZGluZyBub24tcGl4ZWwgdmFsdWUgb3IgZmVpZ24gaWdub3JhbmNlLCBhcyBhcHByb3ByaWF0ZS5cblx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0aWYgKCAhZXh0cmEgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblx0XHR2YWwgPSBcImF1dG9cIjtcblx0fVxuXG5cblx0Ly8gRmFsbCBiYWNrIHRvIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCB3aGVuIHZhbHVlIGlzIFwiYXV0b1wiXG5cdC8vIFRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGVsZW1lbnRzIHdpdGggbm8gZXhwbGljaXQgc2V0dGluZyAoZ2gtMzU3MSlcblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSAtIDQuMyBvbmx5XG5cdC8vIEFsc28gdXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3IgbWlzcmVwb3J0ZWQgaW5saW5lIGRpbWVuc2lvbnMgKGdoLTM2MDIpXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxuXHQvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIHdoZW4gYm94IHNpemluZyBpcyB1bnJlbGlhYmxlXG5cdC8vIFdlIHVzZSBnZXRDbGllbnRSZWN0cygpIHRvIGNoZWNrIGZvciBoaWRkZW4vZGlzY29ubmVjdGVkLlxuXHQvLyBJbiB0aG9zZSBjYXNlcywgdGhlIGNvbXB1dGVkIHZhbHVlIGNhbiBiZSB0cnVzdGVkIHRvIGJlIGJvcmRlci1ib3hcblx0aWYgKCAoICFzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgJiYgaXNCb3JkZXJCb3ggfHxcblx0XHR2YWwgPT09IFwiYXV0b1wiIHx8XG5cdFx0IXBhcnNlRmxvYXQoIHZhbCApICYmIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiaW5saW5lXCIgKSAmJlxuXHRcdGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cblx0XHQvLyBXaGVyZSBhdmFpbGFibGUsIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBhcHByb3hpbWF0ZSBib3JkZXIgYm94IGRpbWVuc2lvbnMuXG5cdFx0Ly8gV2hlcmUgbm90IGF2YWlsYWJsZSAoZS5nLiwgU1ZHKSwgYXNzdW1lIHVucmVsaWFibGUgYm94LXNpemluZyBhbmQgaW50ZXJwcmV0IHRoZVxuXHRcdC8vIHJldHJpZXZlZCB2YWx1ZSBhcyBhIGNvbnRlbnQgYm94IGRpbWVuc2lvbi5cblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gb2Zmc2V0UHJvcCBpbiBlbGVtO1xuXHRcdGlmICggdmFsdWVJc0JvcmRlckJveCApIHtcblx0XHRcdHZhbCA9IGVsZW1bIG9mZnNldFByb3AgXTtcblx0XHR9XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgXCJcIiBhbmQgYXV0b1xuXHR2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuXG5cdC8vIEFkanVzdCBmb3IgdGhlIGVsZW1lbnQncyBib3ggbW9kZWxcblx0cmV0dXJuICggdmFsICtcblx0XHRib3hNb2RlbEFkanVzdG1lbnQoXG5cdFx0XHRlbGVtLFxuXHRcdFx0ZGltZW5zaW9uLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlcyxcblxuXHRcdFx0Ly8gUHJvdmlkZSB0aGUgY3VycmVudCBjb21wdXRlZCBzaXplIHRvIHJlcXVlc3Qgc2Nyb2xsIGd1dHRlciBjYWxjdWxhdGlvbiAoZ2gtMzU4OSlcblx0XHRcdHZhbFxuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwiZ3JpZEFyZWFcIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5cIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5FbmRcIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5TdGFydFwiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd1wiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd0VuZFwiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd1N0YXJ0XCI6IHRydWUsXG5cdFx0XCJsaW5lSGVpZ2h0XCI6IHRydWUsXG5cdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJvcmRlclwiOiB0cnVlLFxuXHRcdFwib3JwaGFuc1wiOiB0cnVlLFxuXHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XCJ6SW5kZXhcIjogdHJ1ZSxcblx0XHRcInpvb21cIjogdHJ1ZVxuXHR9LFxuXG5cdC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcblx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRjc3NQcm9wczoge30sXG5cblx0Ly8gR2V0IGFuZCBzZXQgdGhlIHN0eWxlIHByb3BlcnR5IG9uIGEgRE9NIE5vZGVcblx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XG5cblx0XHQvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHR2YXIgcmV0LCB0eXBlLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICksXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBxdWVyeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHQvLyBUaGUgaXNDdXN0b21Qcm9wIGNoZWNrIGNhbiBiZSByZW1vdmVkIGluIGpRdWVyeSA0LjAgd2hlbiB3ZSBvbmx5IGF1dG8tYXBwZW5kXG5cdFx0XHQvLyBcInB4XCIgdG8gYSBmZXcgaGFyZGNvZGVkIHZhbHVlcy5cblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiAmJiAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0XHR2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gXCJcIiA6IFwicHhcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoIFwiYmFja2dyb3VuZFwiICkgPT09IDAgKSB7XG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSBcImluaGVyaXRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHxcblx0XHRcdFx0KCB2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGlmICggaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0XHRcdHN0eWxlLnNldFByb3BlcnR5KCBuYW1lLCB2YWx1ZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuXHRcdC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cblx0XHRpZiAoICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRuYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBUcnkgcHJlZml4ZWQgbmFtZSBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCBuYW1lXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuXHRcdGlmICggdmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkge1xuXHRcdFx0dmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWw7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sIGZ1bmN0aW9uKCBpLCBkaW1lbnNpb24gKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgZGltZW5zaW9uIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHQvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cblx0XHRcdFx0Ly8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcblx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4K1xuXHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdFx0XHRcdCggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKSA/XG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTtcblx0XHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0XHRnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblxuXHRcdFx0XHQvLyBPbmx5IHJlYWQgc3R5bGVzLnBvc2l0aW9uIGlmIHRoZSB0ZXN0IGhhcyBhIGNoYW5jZSB0byBmYWlsXG5cdFx0XHRcdC8vIHRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3cuXG5cdFx0XHRcdHNjcm9sbGJveFNpemVCdWdneSA9ICFzdXBwb3J0LnNjcm9sbGJveFNpemUoKSAmJlxuXHRcdFx0XHRcdHN0eWxlcy5wb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiLFxuXG5cdFx0XHRcdC8vIFRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3csIG9ubHkgZmV0Y2ggYm94U2l6aW5nIGlmIHdlIG5lZWQgaXQgKGdoLTM5OTEpXG5cdFx0XHRcdGJveFNpemluZ05lZWRlZCA9IHNjcm9sbGJveFNpemVCdWdneSB8fCBleHRyYSxcblx0XHRcdFx0aXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiZcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhID9cblx0XHRcdFx0XHRib3hNb2RlbEFkanVzdG1lbnQoXG5cdFx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdFx0ZGltZW5zaW9uLFxuXHRcdFx0XHRcdFx0ZXh0cmEsXG5cdFx0XHRcdFx0XHRpc0JvcmRlckJveCxcblx0XHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHRcdCkgOlxuXHRcdFx0XHRcdDA7XG5cblx0XHRcdC8vIEFjY291bnQgZm9yIHVucmVsaWFibGUgYm9yZGVyLWJveCBkaW1lbnNpb25zIGJ5IGNvbXBhcmluZyBvZmZzZXQqIHRvIGNvbXB1dGVkIGFuZFxuXHRcdFx0Ly8gZmFraW5nIGEgY29udGVudC1ib3ggdG8gZ2V0IGJvcmRlciBhbmQgcGFkZGluZyAoZ2gtMzY5OSlcblx0XHRcdGlmICggaXNCb3JkZXJCb3ggJiYgc2Nyb2xsYm94U2l6ZUJ1Z2d5ICkge1xuXHRcdFx0XHRzdWJ0cmFjdCAtPSBNYXRoLmNlaWwoXG5cdFx0XHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdFx0XHRwYXJzZUZsb2F0KCBzdHlsZXNbIGRpbWVuc2lvbiBdICkgLVxuXHRcdFx0XHRcdGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBcImJvcmRlclwiLCBmYWxzZSwgc3R5bGVzICkgLVxuXHRcdFx0XHRcdDAuNVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSAhPT0gXCJweFwiICkge1xuXG5cdFx0XHRcdGVsZW0uc3R5bGVbIGRpbWVuc2lvbiBdID0gdmFsdWU7XG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5LmNzcyggZWxlbSwgZGltZW5zaW9uICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCBwcmVmaXggIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHZhciBzdHlsZXMsIGxlbixcblx0XHRcdFx0bWFwID0ge30sXG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9XG59ICk7XG5cblxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xufVxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cblR3ZWVuLnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG5cdFx0dGhpcy5lbGVtID0gZWxlbTtcblx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdH0sXG5cdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0aG9va3MuZ2V0KCB0aGlzICkgOlxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHR9LFxuXHRydW46IGZ1bmN0aW9uKCBwZXJjZW50ICkge1xuXHRcdHZhciBlYXNlZCxcblx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG5cdFx0fVxuXHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRob29rcy5zZXQoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcblxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XG5cdF9kZWZhdWx0OiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0XHQvLyBVc2UgYSBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCBkaXJlY3RseSB3aGVuIGl0IGlzIG5vdCBhIERPTSBlbGVtZW50LFxuXHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJiB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHQvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuXHRcdFx0Ly8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQ7XG5cdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0cmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuXG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cblx0XHRcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdIHx8XG5cdFx0XHRcdFx0dHdlZW4uZWxlbS5zdHlsZVsgZmluYWxQcm9wTmFtZSggdHdlZW4ucHJvcCApIF0gIT0gbnVsbCApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgaW5Qcm9ncmVzcyxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG5mdW5jdGlvbiBzY2hlZHVsZSgpIHtcblx0aWYgKCBpblByb2dyZXNzICkge1xuXHRcdGlmICggZG9jdW1lbnQuaGlkZGVuID09PSBmYWxzZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggc2NoZWR1bGUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHNjaGVkdWxlLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0XHR9XG5cblx0XHRqUXVlcnkuZngudGljaygpO1xuXHR9XG59XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBEYXRlLm5vdygpICk7XG59XG5cbi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXG5mdW5jdGlvbiBnZW5GeCggdHlwZSwgaW5jbHVkZVdpZHRoICkge1xuXHR2YXIgd2hpY2gsXG5cdFx0aSA9IDAsXG5cdFx0YXR0cnMgPSB7IGhlaWdodDogdHlwZSB9O1xuXG5cdC8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcblx0Ly8gb3RoZXJ3aXNlIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHRcblx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHR9XG5cblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0fVxuXG5cdHJldHVybiBhdHRycztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdHZhciB0d2Vlbixcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cblx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHR2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksXG5cdFx0aXNCb3ggPSBcIndpZHRoXCIgaW4gcHJvcHMgfHwgXCJoZWlnaHRcIiBpbiBwcm9wcyxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICksXG5cdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZnhzaG93XCIgKTtcblxuXHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3Ncblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0aWYgKCAhalF1ZXJ5LnF1ZXVlKCBlbGVtLCBcImZ4XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRGV0ZWN0IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XG5cdFx0dmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xuXHRcdGlmICggcmZ4dHlwZXMudGVzdCggdmFsdWUgKSApIHtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0dG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSBcInRvZ2dsZVwiO1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gKCBoaWRkZW4gPyBcImhpZGVcIiA6IFwic2hvd1wiICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJldGVuZCB0byBiZSBoaWRkZW4gaWYgdGhpcyBpcyBhIFwic2hvd1wiIGFuZFxuXHRcdFx0XHQvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZVxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG9yaWdbIHByb3AgXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gfHwgalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcblx0cHJvcFR3ZWVuID0gIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wcyApO1xuXHRpZiAoICFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9yaWcgKSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcblx0aWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3QgaW5mZXIgdGhlIHNob3J0aGFuZFxuXHRcdC8vIGZyb20gaWRlbnRpY2FsbHktdmFsdWVkIG92ZXJmbG93WCBhbmQgb3ZlcmZsb3dZIGFuZCBFZGdlIGp1c3QgbWlycm9yc1xuXHRcdC8vIHRoZSBvdmVyZmxvd1ggdmFsdWUgdGhlcmUuXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBJZGVudGlmeSBhIGRpc3BsYXkgdHlwZSwgcHJlZmVycmluZyBvbGQgc2hvdy9oaWRlIGRhdGEgb3ZlciB0aGUgQ1NTIGNhc2NhZGVcblx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XG5cdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0fVxuXHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ICkge1xuXHRcdFx0XHRkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEdldCBub25lbXB0eSB2YWx1ZShzKSBieSB0ZW1wb3JhcmlseSBmb3JjaW5nIHZpc2liaWxpdHlcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcImlubGluZVwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLWJsb2NrXCIgJiYgcmVzdG9yZURpc3BsYXkgIT0gbnVsbCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJmbG9hdFwiICkgPT09IFwibm9uZVwiICkge1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWUgYXQgdGhlIGVuZCBvZiBwdXJlIHNob3cvaGlkZSBhbmltYXRpb25zXG5cdFx0XHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcblx0XHRcdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZGlzcGxheTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBJbXBsZW1lbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0cHJvcFR3ZWVuID0gZmFsc2U7XG5cdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblxuXHRcdC8vIEdlbmVyYWwgc2hvdy9oaWRlIHNldHVwIGZvciB0aGlzIGVsZW1lbnQgYW5pbWF0aW9uXG5cdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdFx0aWYgKCBcImhpZGRlblwiIGluIGRhdGFTaG93ICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcblx0XHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbVxuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0XHQvLyBUaGUgZmluYWwgc3RlcCBvZiBhIFwiaGlkZVwiIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBoaWRpbmcgdGhlIGVsZW1lbnRcblx0XHRcdFx0aWYgKCAhaGlkZGVuICkge1xuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJmeHNob3dcIiApO1xuXHRcdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxuXHRcdHByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXHRcdGlmICggISggcHJvcCBpbiBkYXRhU2hvdyApICkge1xuXHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRwcm9wVHdlZW4uZW5kID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRwcm9wVHdlZW4uc3RhcnQgPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcblx0dmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcblxuXHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3Ncblx0Zm9yICggaW5kZXggaW4gcHJvcHMgKSB7XG5cdFx0bmFtZSA9IGNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCAhPT0gbmFtZSApIHtcblx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcblx0XHR9XG5cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuXHRcdGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cblx0XHRcdC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cblx0XHRcdC8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcblx0XHRcdGZvciAoIGluZGV4IGluIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcblx0XHRcdFx0XHRzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gQW5pbWF0aW9uKCBlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zICkge1xuXHR2YXIgcmVzdWx0LFxuXHRcdHN0b3BwZWQsXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcblx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0ZGVsZXRlIHRpY2suZWxlbTtcblx0XHR9ICksXG5cdFx0dGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0XHRyZW1haW5pbmcgPSBNYXRoLm1heCggMCwgYW5pbWF0aW9uLnN0YXJ0VGltZSArIGFuaW1hdGlvbi5kdXJhdGlvbiAtIGN1cnJlbnRUaW1lICksXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seVxuXHRcdFx0XHQvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICgjMTI0OTcpXG5cdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0cGVyY2VudCA9IDEgLSB0ZW1wLFxuXHRcdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXG5cdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblxuXHRcdFx0Ly8gSWYgdGhlcmUncyBtb3JlIHRvIGRvLCB5aWVsZFxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgd2FzIGFuIGVtcHR5IGFuaW1hdGlvbiwgc3ludGhlc2l6ZSBhIGZpbmFsIHByb2dyZXNzIG5vdGlmaWNhdGlvblxuXHRcdFx0aWYgKCAhbGVuZ3RoICkge1xuXHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlc29sdmUgdGhlIGFuaW1hdGlvbiBhbmQgcmVwb3J0IGl0cyBjb25jbHVzaW9uXG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nOiB7fSxcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblxuXHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0cmVzdWx0LnN0b3AuYmluZCggcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuXHR9XG5cblx0Ly8gQXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0YW5pbWF0aW9uXG5cdFx0LnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXG5cdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXG5cdFx0LmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XG5cblx0alF1ZXJ5LmZ4LnRpbWVyKFxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRhbmltOiBhbmltYXRpb24sXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHR9IClcblx0KTtcblxuXHRyZXR1cm4gYW5pbWF0aW9uO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIHByb3BzICkgKSB7XG5cdFx0XHRjYWxsYmFjayA9IHByb3BzO1xuXHRcdFx0cHJvcHMgPSBbIFwiKlwiIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHByb3BzID0gcHJvcHMubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRwcm9wID0gcHJvcHNbIGluZGV4IF07XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH0sXG5cblx0cHJlZmlsdGVyczogWyBkZWZhdWx0UHJlZmlsdGVyIF0sXG5cblx0cHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XG5cdFx0aWYgKCBwcmVwZW5kICkge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xuXHR2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7XG5cdFx0Y29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcblx0XHRcdGlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmXG5cdGlmICggalF1ZXJ5LmZ4Lm9mZiApIHtcblx0XHRvcHQuZHVyYXRpb24gPSAwO1xuXG5cdH0gZWxzZSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0LmR1cmF0aW9uICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0aWYgKCBvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyApIHtcblx0XHRcdFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XG5cdFx0XHRvcHQub2xkLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdC5xdWV1ZSApIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIG9wdDtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXG5cdFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbldpdGhpblRyZWUgKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcblx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0dmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcblx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xualF1ZXJ5LmVhY2goIHtcblx0c2xpZGVEb3duOiBnZW5GeCggXCJzaG93XCIgKSxcblx0c2xpZGVVcDogZ2VuRngoIFwiaGlkZVwiICksXG5cdHNsaWRlVG9nZ2xlOiBnZW5GeCggXCJ0b2dnbGVcIiApLFxuXHRmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcblx0ZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxuXHRmYWRlVG9nZ2xlOiB7IG9wYWNpdHk6IFwidG9nZ2xlXCIgfVxufSwgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5hbmltYXRlKCBwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LnRpbWVycyA9IFtdO1xualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWVyLFxuXHRcdGkgPSAwLFxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG5cblx0ZnhOb3cgPSBEYXRlLm5vdygpO1xuXG5cdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXG5cdFx0Ly8gUnVuIHRoZSB0aW1lciBhbmQgc2FmZWx5IHJlbW92ZSBpdCB3aGVuIGRvbmUgKGFsbG93aW5nIGZvciBleHRlcm5hbCByZW1vdmFsKVxuXHRcdGlmICggIXRpbWVyKCkgJiYgdGltZXJzWyBpIF0gPT09IHRpbWVyICkge1xuXHRcdFx0dGltZXJzLnNwbGljZSggaS0tLCAxICk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCAhdGltZXJzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZnguc3RvcCgpO1xuXHR9XG5cdGZ4Tm93ID0gdW5kZWZpbmVkO1xufTtcblxualF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkge1xuXHRqUXVlcnkudGltZXJzLnB1c2goIHRpbWVyICk7XG5cdGpRdWVyeS5meC5zdGFydCgpO1xufTtcblxualF1ZXJ5LmZ4LmludGVydmFsID0gMTM7XG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCBpblByb2dyZXNzICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGluUHJvZ3Jlc3MgPSB0cnVlO1xuXHRzY2hlZHVsZSgpO1xufTtcblxualF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbigpIHtcblx0aW5Qcm9ncmVzcyA9IG51bGw7XG59O1xuXG5qUXVlcnkuZnguc3BlZWRzID0ge1xuXHRzbG93OiA2MDAsXG5cdGZhc3Q6IDIwMCxcblxuXHQvLyBEZWZhdWx0IHNwZWVkXG5cdF9kZWZhdWx0OiA0MDBcbn07XG5cblxuLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxuLy8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTAwMzI0MDE0NzQ3L2h0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cbmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xuXHR0aW1lID0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1sgdGltZSBdIHx8IHRpbWUgOiB0aW1lO1xuXHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHtcblx0XHR2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCBuZXh0LCB0aW1lICk7XG5cdFx0aG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dCApO1xuXHRcdH07XG5cdH0gKTtcbn07XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICksXG5cdFx0c2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzZWxlY3RcIiApLFxuXHRcdG9wdCA9IHNlbGVjdC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJvcHRpb25cIiApICk7XG5cblx0aW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4zIG9ubHlcblx0Ly8gRGVmYXVsdCB2YWx1ZSBmb3IgYSBjaGVja2JveCBzaG91bGQgYmUgXCJvblwiXG5cdHN1cHBvcnQuY2hlY2tPbiA9IGlucHV0LnZhbHVlICE9PSBcIlwiO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBNdXN0IGFjY2VzcyBzZWxlY3RlZEluZGV4IHRvIG1ha2UgZGVmYXVsdCBvcHRpb25zIHNlbGVjdFxuXHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpb1xuXHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRpbnB1dC52YWx1ZSA9IFwidFwiO1xuXHRpbnB1dC50eXBlID0gXCJyYWRpb1wiO1xuXHRzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gXCJ0XCI7XG59ICkoKTtcblxuXG52YXIgYm9vbEhvb2ssXG5cdGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnByb3AoIGVsZW0sIG5hbWUsIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2UgdmVyc2lvblxuXHRcdC8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWRcblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgdmFsdWUgKyBcIlwiICk7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0Ly8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcblx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG5cdH0sXG5cblx0YXR0ckhvb2tzOiB7XG5cdFx0dHlwZToge1xuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmXG5cdFx0XHRcdFx0bm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0dmFyIG5hbWUsXG5cdFx0XHRpID0gMCxcblxuXHRcdFx0Ly8gQXR0cmlidXRlIG5hbWVzIGNhbiBjb250YWluIG5vbi1IVE1MIHdoaXRlc3BhY2UgY2hhcmFjdGVyc1xuXHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG5cdFx0XHRhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHJldCwgaGFuZGxlLFxuXHRcdFx0bG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICggIWlzWE1MICkge1xuXG5cdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRoYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7XG5cdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0XHRcdC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZVxuXHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcblx0XHRcdFx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTQxMTE2MjMzMzQ3L2h0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdGlmICggdGFiaW5kZXggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmXG5cdFx0XHRcdFx0ZWxlbS5ocmVmXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG4vLyBlc2xpbnQgcnVsZSBcIm5vLXVudXNlZC1leHByZXNzaW9uc1wiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGVcbi8vIHNpbmNlIGl0IGNvbnNpZGVycyBzdWNoIGFjY2Vzc2lvbnMgbm9vcFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cblx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIEhUTUwgc3BlY1xuXHQvLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLWFzY2lpLXdoaXRlc3BhY2Vcblx0ZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSggdmFsdWUgKSB7XG5cdFx0dmFyIHRva2VucyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdFx0cmV0dXJuIHRva2Vucy5qb2luKCBcIiBcIiApO1xuXHR9XG5cblxuZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcbn1cblxuZnVuY3Rpb24gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICkge1xuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXHR9XG5cdHJldHVybiBbXTtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRjbGFzc2VzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIGNsYXNzZXMubGVuZ3RoICkge1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0cmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGNsYXNzZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3Nlcy5sZW5ndGggKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblxuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHR3aGlsZSAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWUsXG5cdFx0XHRpc1ZhbGlkVmFsdWUgPSB0eXBlID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgaXNWYWxpZFZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksXG5cdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cblx0XHRcdGlmICggaXNWYWxpZFZhbHVlICkge1xuXG5cdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRzZWxmID0galF1ZXJ5KCB0aGlzICk7XG5cdFx0XHRcdGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArIFwiIFwiICkuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIHJyZXR1cm4gPSAvXFxyL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIHZhbHVlSXNGdW5jdGlvbixcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHxcblx0XHRcdFx0XHRqUXVlcnkudmFsSG9va3NbIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHRcdGlmICggaG9va3MgJiZcblx0XHRcdFx0XHRcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIFwidmFsdWVcIiApICkgIT09IHVuZGVmaW5lZFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0ID0gZWxlbS52YWx1ZTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXG5cdFx0XHRcdGlmICggdHlwZW9mIHJldCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0LnJlcGxhY2UoIHJyZXR1cm4sIFwiXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuXHRcdFx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHZhbDtcblxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsdWVJc0Z1bmN0aW9uICkge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZS5jYWxsKCB0aGlzLCBpLCBqUXVlcnkoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0dmFsID0galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKyBcIlwiO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHQvLyBJZiBzZXQgcmV0dXJucyB1bmRlZmluZWQsIGZhbGwgYmFjayB0byBub3JtYWwgc2V0dGluZ1xuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8IGhvb2tzLnNldCggdGhpcywgdmFsLCBcInZhbHVlXCIgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHR0aGlzLnZhbHVlID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHZhbEhvb2tzOiB7XG5cdFx0b3B0aW9uOiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHRcdHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInZhbHVlXCIgKTtcblx0XHRcdFx0cmV0dXJuIHZhbCAhPSBudWxsID9cblx0XHRcdFx0XHR2YWwgOlxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExIG9ubHlcblx0XHRcdFx0XHQvLyBvcHRpb24udGV4dCB0aHJvd3MgZXhjZXB0aW9ucyAoIzE0Njg2LCAjMTQ4NTgpXG5cdFx0XHRcdFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2Vcblx0XHRcdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuXHRcdFx0XHRcdHN0cmlwQW5kQ29sbGFwc2UoIGpRdWVyeS50ZXh0KCBlbGVtICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNlbGVjdDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbHVlLCBvcHRpb24sIGksXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiLFxuXHRcdFx0XHRcdHZhbHVlcyA9IG9uZSA/IG51bGwgOiBbXSxcblx0XHRcdFx0XHRtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHRpZiAoIGluZGV4IDwgMCApIHtcblx0XHRcdFx0XHRpID0gbWF4O1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aSA9IG9uZSA/IGluZGV4IDogMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHQvLyBJRTgtOSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICgjMjU1MSlcblx0XHRcdFx0XHRpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiZcblxuXHRcdFx0XHRcdFx0XHQvLyBEb24ndCByZXR1cm4gb3B0aW9ucyB0aGF0IGFyZSBkaXNhYmxlZCBvciBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG5cdFx0XHRcdFx0XHRcdCFvcHRpb24uZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0KCAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHxcblx0XHRcdFx0XHRcdFx0XHQhbm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XG5cblx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRpZiAoIG9uZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgb3B0aW9uU2V0LCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHR2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KCB2YWx1ZSApLFxuXHRcdFx0XHRcdGkgPSBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXG5cdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGpRdWVyeS52YWxIb29rcy5vcHRpb24uZ2V0KCBvcHRpb24gKSwgdmFsdWVzICkgPiAtMVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRpZiAoICFvcHRpb25TZXQgKSB7XG5cdFx0XHRcdFx0ZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbmpRdWVyeS5lYWNoKCBbIFwicmFkaW9cIiwgXCJjaGVja2JveFwiIF0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeSggZWxlbSApLnZhbCgpLCB2YWx1ZSApID4gLTEgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvblxuXG5cbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbnZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxcblx0c3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbiggZSApIHtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9O1xuXG5qUXVlcnkuZXh0ZW5kKCBqUXVlcnkuZXZlbnQsIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblxuXHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsIGxhc3RFbGVtZW50LFxuXHRcdFx0ZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sXG5cdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0bmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKCBldmVudCwgXCJuYW1lc3BhY2VcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCBcIi5cIiApIDogW107XG5cblx0XHRjdXIgPSBsYXN0RWxlbWVudCA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuXG5cdFx0Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlLmluZGV4T2YoIFwiLlwiICkgPiAtMSApIHtcblxuXHRcdFx0Ly8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuXHRcdFx0bmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoIFwiLlwiICk7XG5cdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0bmFtZXNwYWNlcy5zb3J0KCk7XG5cdFx0fVxuXHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xuXHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0ZXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggdHlwZSwgdHlwZW9mIGV2ZW50ID09PSBcIm9iamVjdFwiICYmIGV2ZW50ICk7XG5cblx0XHQvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG5cdFx0ZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XG5cdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xuXHRcdGV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgP1xuXHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICkgOlxuXHRcdFx0bnVsbDtcblxuXHRcdC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuXHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRpZiAoICFldmVudC50YXJnZXQgKSB7XG5cdFx0XHRldmVudC50YXJnZXQgPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3Rcblx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFsgZXZlbnQgXSA6XG5cdFx0XHRqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTtcblxuXHRcdC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcblx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcblx0XHQvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KVxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0aWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdGxhc3RFbGVtZW50ID0gY3VyO1xuXHRcdFx0ZXZlbnQudHlwZSA9IGkgPiAxID9cblx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gJiZcblx0XHRcdFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXG5cdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cblx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxuXHRcdFx0XHRhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudC5cblx0XHRcdFx0Ly8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKVxuXHRcdFx0XHRpZiAoIG9udHlwZSAmJiBpc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXG5cdFx0XHRcdFx0aWYgKCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0XHRcdFx0bGFzdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHQvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50c1xuXHRzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkge1xuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdGV2ZW50LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRpc1NpbXVsYXRlZDogdHJ1ZVxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHR9XG5cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9ICk7XG5cdH0sXG5cdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG4vLyBTdXBwb3J0OiBGaXJlZm94IDw9NDRcbi8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG4vL1xuLy8gU3VwcG9ydDogQ2hyb21lIDw9NDggLSA0OSwgU2FmYXJpIDw9OS4wIC0gOS4xXG4vLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcbi8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlclxuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0alF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblxuXHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApICk7XG5cdFx0fTtcblxuXHRcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHtcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICkgLSAxO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0gKTtcbn1cbnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcblxudmFyIG5vbmNlID0gRGF0ZS5ub3coKTtcblxudmFyIHJxdWVyeSA9ICggL1xcPy8gKTtcblxuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sO1xuXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gSUUgdGhyb3dzIG9uIHBhcnNlRnJvbVN0cmluZyB3aXRoIGludmFsaWQgaW5wdXQuXG5cdHRyeSB7XG5cdFx0eG1sID0gKCBuZXcgd2luZG93LkRPTVBhcnNlcigpICkucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0eG1sID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdHYsXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0YWRkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiB0b1R5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuXHRcdFx0dmFyIHZhbHVlID0gaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb24oKSA6XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblxuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdH07XG5cblx0aWYgKCBhID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblxuXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0gKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHR9LFxuXHRzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0fSApXG5cdFx0LmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuXHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdH0gKVxuXHRcdC5tYXAoIGZ1bmN0aW9uKCBpLCBlbGVtICkge1xuXHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xuXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0fSApLmdldCgpO1xuXHR9XG59ICk7XG5cblxudmFyXG5cdHIyMCA9IC8lMjAvZyxcblx0cmhhc2ggPSAvIy4qJC8sXG5cdHJhbnRpQ2FjaGUgPSAvKFs/Jl0pXz1bXiZdKi8sXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblxuXHQvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdHJwcm90b2NvbCA9IC9eXFwvXFwvLyxcblxuXHQvKiBQcmVmaWx0ZXJzXG5cdCAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG5cdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdCAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcblx0ICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuXHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHByZWZpbHRlcnMgPSB7fSxcblxuXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdCAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHRyYW5zcG9ydHMgPSB7fSxcblxuXHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cblx0YWxsVHlwZXMgPSBcIiovXCIuY29uY2F0KCBcIipcIiApLFxuXG5cdC8vIEFuY2hvciB0YWcgZm9yIHBhcnNpbmcgdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvcmlnaW5BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cbi8vIEJhc2UgXCJjb25zdHJ1Y3RvclwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcbmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXG5cdC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcblx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0ZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGFUeXBlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBmdW5jICkgKSB7XG5cblx0XHRcdC8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb25cblx0XHRcdHdoaWxlICggKCBkYXRhVHlwZSA9IGRhdGFUeXBlc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHQvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxuXHRcdFx0XHRpZiAoIGRhdGFUeXBlWyAwIF0gPT09IFwiK1wiICkge1xuXHRcdFx0XHRcdGRhdGFUeXBlID0gZGF0YVR5cGUuc2xpY2UoIDEgKSB8fCBcIipcIjtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnVuc2hpZnQoIGZ1bmMgKTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYXBwZW5kXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS5wdXNoKCBmdW5jICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xuZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHtcblxuXHR2YXIgaW5zcGVjdGVkID0ge30sXG5cdFx0c2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7XG5cblx0ZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7XG5cdFx0dmFyIHNlbGVjdGVkO1xuXHRcdGluc3BlY3RlZFsgZGF0YVR5cGUgXSA9IHRydWU7XG5cdFx0alF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHtcblx0XHRcdHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0ID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHtcblxuXHRcdFx0XHRvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdGluc3BlY3QoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSBlbHNlIGlmICggc2Vla2luZ1RyYW5zcG9ydCApIHtcblx0XHRcdFx0cmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRyZXR1cm4gc2VsZWN0ZWQ7XG5cdH1cblxuXHRyZXR1cm4gaW5zcGVjdCggb3B0aW9ucy5kYXRhVHlwZXNbIDAgXSApIHx8ICFpbnNwZWN0ZWRbIFwiKlwiIF0gJiYgaW5zcGVjdCggXCIqXCIgKTtcbn1cblxuLy8gQSBzcGVjaWFsIGV4dGVuZCBmb3IgYWpheCBvcHRpb25zXG4vLyB0aGF0IHRha2VzIFwiZmxhdFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxuLy8gRml4ZXMgIzk4ODdcbmZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xuXHR2YXIga2V5LCBkZWVwLFxuXHRcdGZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTtcblxuXHRmb3IgKCBrZXkgaW4gc3JjICkge1xuXHRcdGlmICggc3JjWyBrZXkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0KCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcblx0XHR9XG5cdH1cblx0aWYgKCBkZWVwICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xuXHR9XG5cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxuICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlwZSlcbiAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICovXG5mdW5jdGlvbiBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICkge1xuXG5cdHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSxcblx0XHRjb250ZW50cyA9IHMuY29udGVudHMsXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cblx0Ly8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3Ncblx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFx0aWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG5cdGlmICggY3QgKSB7XG5cdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XG5cdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZVxuXHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG5cdFx0Zm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XG5cdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XG5cdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XG5cdFx0XHRcdGZpcnN0RGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG5cdH1cblxuXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG5cdC8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkXG5cdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xuXHRcdGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XG5cdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07XG5cdH1cbn1cblxuLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXG5cdFx0Y29udmVydGVycyA9IHt9LFxuXG5cdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG5cblx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG5cdGlmICggZGF0YVR5cGVzWyAxIF0gKSB7XG5cdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuXHR3aGlsZSAoIGN1cnJlbnQgKSB7XG5cblx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcblx0XHRcdGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG5cdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdFx0aWYgKCBjdXJyZW50ICkge1xuXG5cdFx0XHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG5cdFx0XHRpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xuXG5cdFx0XHRcdGN1cnJlbnQgPSBwcmV2O1xuXG5cdFx0XHQvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50XG5cdFx0XHR9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXG5cdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXG5cdFx0XHRcdC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXG5cdFx0XHRcdGlmICggIWNvbnYgKSB7XG5cdFx0XHRcdFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG5cdFx0XHRcdFx0XHR0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHRcdGlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG5cdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyB0bXBbIDAgXSBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0Y29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcblx0XHRcdFx0XHRcdFx0aWYgKCBjb252ICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzLnRocm93cyApIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGU6IFwicGFyc2VyZXJyb3JcIixcblx0XHRcdFx0XHRcdFx0XHRlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnRcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBDb3VudGVyIGZvciBob2xkaW5nIHRoZSBudW1iZXIgb2YgYWN0aXZlIHF1ZXJpZXNcblx0YWN0aXZlOiAwLFxuXG5cdC8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3Rcblx0bGFzdE1vZGlmaWVkOiB7fSxcblx0ZXRhZzoge30sXG5cblx0YWpheFNldHRpbmdzOiB7XG5cdFx0dXJsOiBsb2NhdGlvbi5ocmVmLFxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0aXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSxcblx0XHRnbG9iYWw6IHRydWUsXG5cdFx0cHJvY2Vzc0RhdGE6IHRydWUsXG5cdFx0YXN5bmM6IHRydWUsXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXG5cblx0XHQvKlxuXHRcdHRpbWVvdXQ6IDAsXG5cdFx0ZGF0YTogbnVsbCxcblx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRwYXNzd29yZDogbnVsbCxcblx0XHRjYWNoZTogbnVsbCxcblx0XHR0aHJvd3M6IGZhbHNlLFxuXHRcdHRyYWRpdGlvbmFsOiBmYWxzZSxcblx0XHRoZWFkZXJzOiB7fSxcblx0XHQqL1xuXG5cdFx0YWNjZXB0czoge1xuXHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxuXHRcdFx0dGV4dDogXCJ0ZXh0L3BsYWluXCIsXG5cdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcblx0XHRcdGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcblx0XHR9LFxuXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRodG1sOiAvXFxiaHRtbC8sXG5cdFx0XHRqc29uOiAvXFxianNvblxcYi9cblx0XHR9LFxuXG5cdFx0cmVzcG9uc2VGaWVsZHM6IHtcblx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcblx0XHRcdGpzb246IFwicmVzcG9uc2VKU09OXCJcblx0XHR9LFxuXG5cdFx0Ly8gRGF0YSBjb252ZXJ0ZXJzXG5cdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdGNvbnZlcnRlcnM6IHtcblxuXHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXG5cblx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblxuXHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XCJ0ZXh0IGpzb25cIjogSlNPTi5wYXJzZSxcblxuXHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG5cdFx0fSxcblxuXHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG5cdFx0Ly8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuXHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG5cdFx0ZmxhdE9wdGlvbnM6IHtcblx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdGNvbnRleHQ6IHRydWVcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcblx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuXHRhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkge1xuXHRcdHJldHVybiBzZXR0aW5ncyA/XG5cblx0XHRcdC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cblx0XHRcdC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3Ncblx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHR9LFxuXG5cdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblxuXHQvLyBNYWluIG1ldGhvZFxuXHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXG5cdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRvcHRpb25zID0gdXJsO1xuXHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0XHR2YXIgdHJhbnNwb3J0LFxuXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXG5cdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0dGltZW91dFRpbWVyLFxuXG5cdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdHVybEFuY2hvcixcblxuXHRcdFx0Ly8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKVxuXHRcdFx0Y29tcGxldGVkLFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcblx0XHRcdGZpcmVHbG9iYWxzLFxuXG5cdFx0XHQvLyBMb29wIHZhcmlhYmxlXG5cdFx0XHRpLFxuXG5cdFx0XHQvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmxcblx0XHRcdHVuY2FjaGVkLFxuXG5cdFx0XHQvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG5cdFx0XHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcblxuXHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxuXG5cdFx0XHQvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXG5cdFx0XHRnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcblx0XHRcdFx0KCBjYWxsYmFja0NvbnRleHQubm9kZVR5cGUgfHwgY2FsbGJhY2tDb250ZXh0LmpxdWVyeSApID9cblx0XHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQsXG5cblx0XHRcdC8vIERlZmVycmVkc1xuXHRcdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQgPSBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdHN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sXG5cblx0XHRcdC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXG5cdFx0XHRyZXF1ZXN0SGVhZGVycyA9IHt9LFxuXHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lcyA9IHt9LFxuXG5cdFx0XHQvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2Vcblx0XHRcdHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLFxuXG5cdFx0XHQvLyBGYWtlIHhoclxuXHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdHJlYWR5U3RhdGU6IDAsXG5cblx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHR2YXIgbWF0Y2g7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICFyZXNwb25zZUhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVycyA9IHt9O1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXSA9XG5cdFx0XHRcdFx0XHRcdFx0XHQoIHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXSB8fCBbXSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5jb25jYXQoIG1hdGNoWyAyIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2guam9pbiggXCIsIFwiICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBjb21wbGV0ZWQgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhY2hlcyB0aGUgaGVhZGVyXG5cdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0bmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdID1cblx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdHZhciBjb2RlO1xuXHRcdFx0XHRcdGlmICggbWFwICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrcyBpbiBhIHdheSB0aGF0IHByZXNlcnZlcyBvbGQgb25lc1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuXHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHQvLyBBdHRhY2ggZGVmZXJyZWRzXG5cdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKTtcblxuXHRcdC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKHByZWZpbHRlcnMgbWlnaHQgZXhwZWN0IGl0KVxuXHRcdC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG5cdFx0cy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYgKSArIFwiXCIgKVxuXHRcdFx0LnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKTtcblxuXHRcdC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0ICMxMjAwNFxuXHRcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG5cblx0XHQvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0XG5cdFx0cy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcblx0XHRcdHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTVcblx0XHRcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXG5cdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuXHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvblxuXHRcdGNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2tcblx0XHRcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSBhbmQgc2hvdWxkIGJlIHByb2Nlc3NlZCwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSAmJiAoIHMucHJvY2Vzc0RhdGEgfHwgdHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiApICkge1xuXHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCBcIiQxXCIgKTtcblx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZSsrICkgKyB1bmNhY2hlZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0cy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuXG5cdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcblx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICkge1xuXHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArXG5cdFx0XHRcdFx0KCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xuXHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcblx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cblx0XHRcdC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXG5cdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblxuXHRcdFx0Ly8gU2V0IHJlYWR5U3RhdGVcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cblx0XHRcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXG5cdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblxuXHRcdFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcblx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcblxuXHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXG5cdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBqcVhIUjtcblx0fSxcblxuXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcblx0fSxcblxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggaSwgbWV0aG9kICkge1xuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XG5cblx0XHQvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuXHRcdGlmICggaXNGdW5jdGlvbiggZGF0YSApICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG5cdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKVxuXHRcdHJldHVybiBqUXVlcnkuYWpheCggalF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cdFx0XHR0eXBlOiBtZXRob2QsXG5cdFx0XHRkYXRhVHlwZTogdHlwZSxcblx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRzdWNjZXNzOiBjYWxsYmFja1xuXHRcdH0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KCB1cmwgKSAmJiB1cmwgKSApO1xuXHR9O1xufSApO1xuXG5cbmpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cdHJldHVybiBqUXVlcnkuYWpheCgge1xuXHRcdHVybDogdXJsLFxuXG5cdFx0Ly8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICgjMTEyNjQpXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRjYWNoZTogdHJ1ZSxcblx0XHRhc3luYzogZmFsc2UsXG5cdFx0Z2xvYmFsOiBmYWxzZSxcblxuXHRcdC8vIE9ubHkgZXZhbHVhdGUgdGhlIHJlc3BvbnNlIGlmIGl0IGlzIHN1Y2Nlc3NmdWwgKGdoLTQxMjYpXG5cdFx0Ly8gZGF0YUZpbHRlciBpcyBub3QgaW52b2tlZCBmb3IgZmFpbHVyZSByZXNwb25zZXMsIHNvIHVzaW5nIGl0IGluc3RlYWRcblx0XHQvLyBvZiB0aGUgZGVmYXVsdCBjb252ZXJ0ZXIgaXMga2x1ZGd5IGJ1dCBpdCB3b3Jrcy5cblx0XHRjb252ZXJ0ZXJzOiB7XG5cdFx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCkge31cblx0XHR9LFxuXHRcdGRhdGFGaWx0ZXI6IGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCByZXNwb25zZSwgb3B0aW9ucyApO1xuXHRcdH1cblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0aHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBJbm5lciggaHRtbC5jYWxsKCB0aGlzLCBpICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0galF1ZXJ5KCB0aGlzICksXG5cdFx0XHRcdGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xuXG5cdFx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y29udGVudHMud3JhcEFsbCggaHRtbCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLmFwcGVuZCggaHRtbCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHR3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgaHRtbElzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCBodG1sICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGh0bWxJc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHRoaXMucGFyZW50KCBzZWxlY3RvciApLm5vdCggXCJib2R5XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gISEoIGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApO1xufTtcblxuXG5cblxualF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoICggZSApIHt9XG59O1xuXG52YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcblxuXHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0MDogMjAwLFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9udGltZW91dCA9XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiYWJvcnRcIiApIHtcblx0XHRcdFx0XHRcdFx0XHR4aHIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gXCJlcnJvclwiICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBPbiBhIG1hbnVhbCBuYXRpdmUgYWJvcnQsIElFOSB0aHJvd3Ncblx0XHRcdFx0XHRcdFx0XHQvLyBlcnJvcnMgb24gYW55IHByb3BlcnR5IGFjY2VzcyB0aGF0IGlzIG5vdCByZWFkeVN0YXRlXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgeGhyLnN0YXR1cyAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCAwLCBcImVycm9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRmlsZTogcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgMDsgc2VlICM4NjA1LCAjMTQyMDdcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dCxcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNilcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpXG5cdFx0XHRcdFx0XHRcdFx0XHQoIHhoci5yZXNwb25zZVR5cGUgfHwgXCJ0ZXh0XCIgKSAhPT0gXCJ0ZXh0XCIgIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgYmluYXJ5OiB4aHIucmVzcG9uc2UgfSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gTGlzdGVuIHRvIGV2ZW50c1xuXHRcdFx0XHR4aHIub25sb2FkID0gY2FsbGJhY2soKTtcblx0XHRcdFx0ZXJyb3JDYWxsYmFjayA9IHhoci5vbmVycm9yID0geGhyLm9udGltZW91dCA9IGNhbGxiYWNrKCBcImVycm9yXCIgKTtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHRcdFx0Ly8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcblx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0eGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09PSA0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcblx0XHRcdFx0XHRcdFx0Ly8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcblx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2soIFwiYWJvcnRcIiApO1xuXG5cdFx0XHRcdHRyeSB7XG5cblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vICMxNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XG5cdH1cbn0gKTtcblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0YWNjZXB0czoge1xuXHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRzLmNhY2hlID0gZmFsc2U7XG5cdH1cblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMudHlwZSA9IFwiR0VUXCI7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cblx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiBvciBmb3JjZWQtYnktYXR0cnMgcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluIHx8IHMuc2NyaXB0QXR0cnMgKSB7XG5cdFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0c2NyaXB0ID0galF1ZXJ5KCBcIjxzY3JpcHQ+XCIgKVxuXHRcdFx0XHRcdC5hdHRyKCBzLnNjcmlwdEF0dHJzIHx8IHt9IClcblx0XHRcdFx0XHQucHJvcCggeyBjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsIHNyYzogcy51cmwgfSApXG5cdFx0XHRcdFx0Lm9uKCBcImxvYWQgZXJyb3JcIiwgY2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBudWxsO1xuXHRcdFx0XHRcdFx0aWYgKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCBldnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwLCBldnQudHlwZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTtcblx0XHRcdH0sXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRyanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXG5cdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlKysgKSApO1xuXHRcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xuXHRcdHJldHVybiBjYWxsYmFjaztcblx0fVxufSApO1xuXG4vLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3IganNvbnAgcmVxdWVzdHNcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcImpzb24ganNvbnBcIiwgZnVuY3Rpb24oIHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSICkge1xuXG5cdHZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lcixcblx0XHRqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmICggcmpzb25wLnRlc3QoIHMudXJsICkgP1xuXHRcdFx0XCJ1cmxcIiA6XG5cdFx0XHR0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiIClcblx0XHRcdFx0XHQuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICYmXG5cdFx0XHRcdHJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiBcImRhdGFcIlxuXHRcdCk7XG5cblx0Ly8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuXHRpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcblxuXHRcdC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcblx0XHRjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cblx0XHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcblx0XHRyZXR1cm4gXCJzY3JpcHRcIjtcblx0fVxufSApO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4vLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG59ICkoKTtcblxuXG4vLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cblx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblxuXHRpZiAoICFjb250ZXh0ICkge1xuXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG5cdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xuXHRcdH1cblx0fVxuXG5cdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7XG5cdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0fVxuXG5cdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRpZiAoIGlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cblx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG5cdFx0XHQvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2Vcblx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuXHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XG5cblx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XG5cblx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXG5cdFx0XHRcdC8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdlxuXHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG5cdFx0Ly8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImpxWEhSXCIsIFwic3RhdHVzXCIsIFwiZXJyb3JcIlxuXHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMsIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbi8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXG5qUXVlcnkuZWFjaCggW1xuXHRcImFqYXhTdGFydFwiLFxuXHRcImFqYXhTdG9wXCIsXG5cdFwiYWpheENvbXBsZXRlXCIsXG5cdFwiYWpheEVycm9yXCIsXG5cdFwiYWpheFN1Y2Nlc3NcIixcblx0XCJhamF4U2VuZFwiXG5dLCBmdW5jdGlvbiggaSwgdHlwZSApIHtcblx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGUsIGZuICk7XG5cdH07XG59ICk7XG5cblxuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG5cdH0gKS5sZW5ndGg7XG59O1xuXG5cblxuXG5qUXVlcnkub2Zmc2V0ID0ge1xuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sXG5cdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0cHJvcHMgPSB7fTtcblxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRpZiAoIHBvc2l0aW9uID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cblx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJsZWZ0XCIgKTtcblx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIG9wdGlvbnMgKSApIHtcblxuXHRcdFx0Ly8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpXG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBqUXVlcnkuZXh0ZW5kKCB7fSwgY3VyT2Zmc2V0ICkgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMudG9wICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0fVxuXG5cdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHQvLyBvZmZzZXQoKSByZWxhdGVzIGFuIGVsZW1lbnQncyBib3JkZXIgYm94IHRvIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuXHRcdC8vIFByZXNlcnZlIGNoYWluaW5nIGZvciBzZXR0ZXJcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0dGhpcyA6XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQoIHRoaXMsIG9wdGlvbnMsIGkgKTtcblx0XHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHZhciByZWN0LCB3aW4sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIChkaXNwbGF5OiBub25lKSBlbGVtZW50cyAoZ2gtMjMxMClcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhXG5cdFx0Ly8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXG5cdFx0aWYgKCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBkb2N1bWVudC1yZWxhdGl2ZSBwb3NpdGlvbiBieSBhZGRpbmcgdmlld3BvcnQgc2Nyb2xsIHRvIHZpZXdwb3J0LXJlbGF0aXZlIGdCQ1Jcblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR3aW4gPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQsXG5cdFx0XHRsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXRcblx0XHR9O1xuXHR9LFxuXG5cdC8vIHBvc2l0aW9uKCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgbWFyZ2luIGJveCB0byBpdHMgb2Zmc2V0IHBhcmVudCdzIHBhZGRpbmcgYm94XG5cdC8vIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlIGJlaGF2aW9yIG9mIENTUyBhYnNvbHV0ZSBwb3NpdGlvbmluZ1xuXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCwgZG9jLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBwb3NpdGlvbjpmaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gdGhlIHZpZXdwb3J0LCB3aGljaCBpdHNlbGYgYWx3YXlzIGhhcyB6ZXJvIG9mZnNldFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIHBvc2l0aW9uOmZpeGVkIGltcGxpZXMgYXZhaWxhYmlsaXR5IG9mIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuXHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXG5cdFx0XHQvLyBBY2NvdW50IGZvciB0aGUgKnJlYWwqIG9mZnNldCBwYXJlbnQsIHdoaWNoIGNhbiBiZSB0aGUgZG9jdW1lbnQgb3IgaXRzIHJvb3QgZWxlbWVudFxuXHRcdFx0Ly8gd2hlbiBhIHN0YXRpY2FsbHkgcG9zaXRpb25lZCBlbGVtZW50IGlzIGlkZW50aWZpZWRcblx0XHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHRcdG9mZnNldFBhcmVudCA9IGVsZW0ub2Zmc2V0UGFyZW50IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJlxuXHRcdFx0XHQoIG9mZnNldFBhcmVudCA9PT0gZG9jLmJvZHkgfHwgb2Zmc2V0UGFyZW50ID09PSBkb2MuZG9jdW1lbnRFbGVtZW50ICkgJiZcblx0XHRcdFx0alF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblxuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGlmICggb2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZWxlbSAmJiBvZmZzZXRQYXJlbnQubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgYm9yZGVycyBpbnRvIGl0cyBvZmZzZXQsIHNpbmNlIHRoZXkgYXJlIG91dHNpZGUgaXRzIGNvbnRlbnQgb3JpZ2luXG5cdFx0XHRcdHBhcmVudE9mZnNldCA9IGpRdWVyeSggb2Zmc2V0UGFyZW50ICkub2Zmc2V0KCk7XG5cdFx0XHRcdHBhcmVudE9mZnNldC50b3AgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcImJvcmRlclRvcFdpZHRoXCIsIHRydWUgKTtcblx0XHRcdFx0cGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcImJvcmRlckxlZnRXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2luc1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IG9mZnNldC50b3AgLSBwYXJlbnRPZmZzZXQudG9wIC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5Ub3BcIiwgdHJ1ZSApLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luTGVmdFwiLCB0cnVlIClcblx0XHR9O1xuXHR9LFxuXG5cdC8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuXHQvLyAxKSBGb3IgdGhlIGVsZW1lbnQgaW5zaWRlIHRoZSBpZnJhbWUgd2l0aG91dCBvZmZzZXRQYXJlbnQsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuXG5cdC8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvd1xuXHQvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50XG5cdC8vIDMpIEZvciBib2R5IG9yIGh0bWwgZWxlbWVudCwgaS5lLiBpbiBjYXNlIG9mIHRoZSBodG1sIG5vZGUgLSBpdCB3aWxsIHJldHVybiBpdHNlbGZcblx0Ly9cblx0Ly8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzXG5cdC8vIGFuZCBtaWdodCBiZSBjb25zaWRlcmVkIGFzIG1vcmUgcHJlZmVyYWJsZSByZXN1bHRzLlxuXHQvL1xuXHQvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZVxuXHRvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7XG5cblx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmIGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50O1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG4vLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcblx0dmFyIHRvcCA9IFwicGFnZVlPZmZzZXRcIiA9PT0gcHJvcDtcblxuXHRqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbWV0aG9kLCB2YWwgKSB7XG5cblx0XHRcdC8vIENvYWxlc2NlIGRvY3VtZW50cyBhbmQgd2luZG93c1xuXHRcdFx0dmFyIHdpbjtcblx0XHRcdGlmICggaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XHRcdFx0d2luID0gZWxlbTtcblx0XHRcdH0gZWxzZSBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdCF0b3AgPyB2YWwgOiB3aW4ucGFnZVhPZmZzZXQsXG5cdFx0XHRcdFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH07XG59ICk7XG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcbi8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uXG4vLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcbi8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcblx0XHRmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xuXHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBkb2M7XG5cblx0XHRcdFx0aWYgKCBpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcblx0XHRcdFx0XHRyZXR1cm4gZnVuY05hbWUuaW5kZXhPZiggXCJvdXRlclwiICkgPT09IDAgP1xuXHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5lYWNoKCAoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cblx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cblxuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG4vLyBhcmd1bWVudHMuXG4vLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpXG4vLyBIb3dldmVyLCBpdCBpcyBub3Qgc2xhdGVkIGZvciByZW1vdmFsIGFueSB0aW1lIHNvb25cbmpRdWVyeS5wcm94eSA9IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdGNvbnRleHQgPSBmbjtcblx0XHRmbiA9IHRtcDtcblx0fVxuXG5cdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdGlmICggIWlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdC8vIFNpbXVsYXRlZCBiaW5kXG5cdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcblx0fTtcblxuXHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cblx0cmV0dXJuIHByb3h5O1xufTtcblxualF1ZXJ5LmhvbGRSZWFkeSA9IGZ1bmN0aW9uKCBob2xkICkge1xuXHRpZiAoIGhvbGQgKSB7XG5cdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHR9XG59O1xualF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5qUXVlcnkubm9kZU5hbWUgPSBub2RlTmFtZTtcbmpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbmpRdWVyeS5pc1dpbmRvdyA9IGlzV2luZG93O1xualF1ZXJ5LmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbmpRdWVyeS50eXBlID0gdG9UeXBlO1xuXG5qUXVlcnkubm93ID0gRGF0ZS5ub3c7XG5cbmpRdWVyeS5pc051bWVyaWMgPSBmdW5jdGlvbiggb2JqICkge1xuXG5cdC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXG5cdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0dmFyIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcblx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0IWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApO1xufTtcblxuXG5cblxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4vLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4vLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cbi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4vLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXHRkZWZpbmUoIFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5O1xuXHR9ICk7XG59XG5cblxuXG5cbnZhclxuXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggIW5vR2xvYmFsICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cblxuXG5cbnJldHVybiBqUXVlcnk7XG59ICk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/jquery/dist/jquery.js\n");

/***/ }),

/***/ "./node_modules/just-debounce/index.js":
/*!*********************************************!*\
  !*** ./node_modules/just-debounce/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = debounce\n\nfunction debounce (fn, delay, at_start, guarantee) {\n  var timeout\n  var args\n  var self\n\n  return function debounced () {\n    self = this\n    args = Array.prototype.slice.call(arguments)\n\n    if (timeout && (at_start || guarantee)) {\n      return\n    } else if (!at_start) {\n      clear()\n\n      timeout = setTimeout(run, delay)\n      return timeout\n    }\n\n    timeout = setTimeout(clear, delay)\n    fn.apply(self, args)\n\n    function run () {\n      clear()\n      fn.apply(self, args)\n    }\n\n    function clear () {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanVzdC1kZWJvdW5jZS9pbmRleC5qcz80NzIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9qdXN0LWRlYm91bmNlL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZVxuXG5mdW5jdGlvbiBkZWJvdW5jZSAoZm4sIGRlbGF5LCBhdF9zdGFydCwgZ3VhcmFudGVlKSB7XG4gIHZhciB0aW1lb3V0XG4gIHZhciBhcmdzXG4gIHZhciBzZWxmXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRlYm91bmNlZCAoKSB7XG4gICAgc2VsZiA9IHRoaXNcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuXG4gICAgaWYgKHRpbWVvdXQgJiYgKGF0X3N0YXJ0IHx8IGd1YXJhbnRlZSkpIHtcbiAgICAgIHJldHVyblxuICAgIH0gZWxzZSBpZiAoIWF0X3N0YXJ0KSB7XG4gICAgICBjbGVhcigpXG5cbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KHJ1biwgZGVsYXkpXG4gICAgICByZXR1cm4gdGltZW91dFxuICAgIH1cblxuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFyLCBkZWxheSlcbiAgICBmbi5hcHBseShzZWxmLCBhcmdzKVxuXG4gICAgZnVuY3Rpb24gcnVuICgpIHtcbiAgICAgIGNsZWFyKClcbiAgICAgIGZuLmFwcGx5KHNlbGYsIGFyZ3MpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICB0aW1lb3V0ID0gbnVsbFxuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/just-debounce/index.js\n");

/***/ }),

/***/ "./node_modules/photoswipe/dist/photoswipe-ui-default.js":
/*!***************************************************************!*\
  !*** ./node_modules/photoswipe/dist/photoswipe-ui-default.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url={{url}}&media={{image_url}}&description={{text}}'},\n\t\t\t\t{id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{image_url}}', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{raw_image_url}}', image_url )\n\t\t\t\t\t\t\t\t\t.replace('{{text}}', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+\n\t\t\t\t\t\t\t\t\t'class=\"pswp__share--' + shareButtonData.id + '\"' +\n\t\t\t\t\t\t\t\t\t(shareButtonData.download ? 'download' : '') + '>' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n\t\t\t\t\tif(_options.clickToCloseNonZoomable) {\n\t\t\t\t\t\tpswp.close();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpswp.toggleDesktopZoom(e.detail.releasePoint);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\t// tap anywhere (except buttons) to toggle visibility of controls\n\t\t\tif(_options.tapToToggleControls) {\n\t\t\t\tif(_controlsVisible) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tap to close gallery\n\t\t\tif(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\tui.onMouseOver = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\t// add class when mouse is over an element that should close the gallery\n\t\t_togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t};\n\n\tui.hideControls = function() {\n\t\tframework.addClass(_controls,'pswp__ui--hidden');\n\t\t_controlsVisible = false;\n\t};\n\n\tui.showControls = function() {\n\t\t_controlsVisible = true;\n\t\tif(!_overlayUIUpdated) {\n\t\t\tui.update();\n\t\t}\n\t\tframework.removeClass(_controls,'pswp__ui--hidden');\n\t};\n\n\tui.supportsFullscreen = function() {\n\t\tvar d = document;\n\t\treturn !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t};\n\n\tui.getFullscreenAPI = function() {\n\t\tvar dE = document.documentElement,\n\t\t\tapi,\n\t\t\ttF = 'fullscreenchange';\n\n\t\tif (dE.requestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'requestFullscreen',\n\t\t\t\texitK: 'exitFullscreen',\n\t\t\t\telementK: 'fullscreenElement',\n\t\t\t\teventK: tF\n\t\t\t};\n\n\t\t} else if(dE.mozRequestFullScreen ) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'mozRequestFullScreen',\n\t\t\t\texitK: 'mozCancelFullScreen',\n\t\t\t\telementK: 'mozFullScreenElement',\n\t\t\t\teventK: 'moz' + tF\n\t\t\t};\n\n\t\t\t\n\n\t\t} else if(dE.webkitRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'webkitRequestFullscreen',\n\t\t\t\texitK: 'webkitExitFullscreen',\n\t\t\t\telementK: 'webkitFullscreenElement',\n\t\t\t\teventK: 'webkit' + tF\n\t\t\t};\n\n\t\t} else if(dE.msRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'msRequestFullscreen',\n\t\t\t\texitK: 'msExitFullscreen',\n\t\t\t\telementK: 'msFullscreenElement',\n\t\t\t\teventK: 'MSFullscreenChange'\n\t\t\t};\n\t\t}\n\n\t\tif(api) {\n\t\t\tapi.enter = function() { \n\t\t\t\t// disable close-on-scroll in fullscreen\n\t\t\t\t_initalCloseOnScrollValue = _options.closeOnScroll; \n\t\t\t\t_options.closeOnScroll = false; \n\n\t\t\t\tif(this.enterK === 'webkitRequestFullscreen') {\n\t\t\t\t\tpswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n\t\t\t\t} else {\n\t\t\t\t\treturn pswp.template[this.enterK](); \n\t\t\t\t}\n\t\t\t};\n\t\t\tapi.exit = function() { \n\t\t\t\t_options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t\t\t\treturn document[this.exitK](); \n\n\t\t\t};\n\t\t\tapi.isFullscreen = function() { return document[this.elementK]; };\n\t\t}\n\n\t\treturn api;\n\t};\n\n\n\n};\nreturn PhotoSwipeUI_Default;\n\n\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGhvdG9zd2lwZS9kaXN0L3Bob3Rvc3dpcGUtdWktZGVmYXVsdC5qcz8xNGZkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkI7QUFDQSxLQUFLLElBQTBDO0FBQy9DLEVBQUUsb0NBQU8sT0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBLG9HQUFDO0FBQ2pCLEVBQUUsTUFBTSxFQUlOO0FBQ0YsQ0FBQzs7QUFFRDs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLLDhGQUE4RixLQUFLLEVBQUU7QUFDMUcsS0FBSywwRUFBMEUsTUFBTSxPQUFPLEtBQUssRUFBRTtBQUNuRyxLQUFLO0FBQ0wscUJBQXFCLEtBQUssU0FBUyxXQUFXLGVBQWUsTUFBTSxFQUFFO0FBQ3JFLEtBQUssOENBQThDLGVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHdCQUF3QjtBQUN6QztBQUNBO0FBQ0E7QUFD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Rzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQjtBQUNBO0FBQ0EsdUQ7QUFDQSxtQzs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHlDO0FBQ0E7QUFDQTtBQUNBLDBCO0FBQ0E7O0FBRUEsa0M7O0FBRUE7QUFDQSxrQ0FBa0MsZ0NBQWdDO0FBQ2xFOztBQUVBO0FBQ0E7Ozs7QUFJQTtBQUNBOzs7QUFHQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Bob3Rvc3dpcGUvZGlzdC9waG90b3N3aXBlLXVpLWRlZmF1bHQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgUGhvdG9Td2lwZSBEZWZhdWx0IFVJIC0gNC4xLjMgLSAyMDE5LTAxLTA4XG4qIGh0dHA6Ly9waG90b3N3aXBlLmNvbVxuKiBDb3B5cmlnaHQgKGMpIDIwMTkgRG1pdHJ5IFNlbWVub3Y7ICovXG4vKipcbipcbiogVUkgb24gdG9wIG9mIG1haW4gc2xpZGluZyBhcmVhIChjYXB0aW9uLCBhcnJvd3MsIGNsb3NlIGJ1dHRvbiwgZXRjLikuXG4qIEJ1aWx0IGp1c3QgdXNpbmcgcHVibGljIG1ldGhvZHMvcHJvcGVydGllcyBvZiBQaG90b1N3aXBlLlxuKiBcbiovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsgXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0cm9vdC5QaG90b1N3aXBlVUlfRGVmYXVsdCA9IGZhY3RvcnkoKTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXG5cbnZhciBQaG90b1N3aXBlVUlfRGVmYXVsdCA9XG4gZnVuY3Rpb24ocHN3cCwgZnJhbWV3b3JrKSB7XG5cblx0dmFyIHVpID0gdGhpcztcblx0dmFyIF9vdmVybGF5VUlVcGRhdGVkID0gZmFsc2UsXG5cdFx0X2NvbnRyb2xzVmlzaWJsZSA9IHRydWUsXG5cdFx0X2Z1bGxzY3JlbkFQSSxcblx0XHRfY29udHJvbHMsXG5cdFx0X2NhcHRpb25Db250YWluZXIsXG5cdFx0X2Zha2VDYXB0aW9uQ29udGFpbmVyLFxuXHRcdF9pbmRleEluZGljYXRvcixcblx0XHRfc2hhcmVCdXR0b24sXG5cdFx0X3NoYXJlTW9kYWwsXG5cdFx0X3NoYXJlTW9kYWxIaWRkZW4gPSB0cnVlLFxuXHRcdF9pbml0YWxDbG9zZU9uU2Nyb2xsVmFsdWUsXG5cdFx0X2lzSWRsZSxcblx0XHRfbGlzdGVuLFxuXG5cdFx0X2xvYWRpbmdJbmRpY2F0b3IsXG5cdFx0X2xvYWRpbmdJbmRpY2F0b3JIaWRkZW4sXG5cdFx0X2xvYWRpbmdJbmRpY2F0b3JUaW1lb3V0LFxuXG5cdFx0X2dhbGxlcnlIYXNPbmVTbGlkZSxcblxuXHRcdF9vcHRpb25zLFxuXHRcdF9kZWZhdWx0VUlPcHRpb25zID0ge1xuXHRcdFx0YmFyc1NpemU6IHt0b3A6NDQsIGJvdHRvbTonYXV0byd9LFxuXHRcdFx0Y2xvc2VFbENsYXNzZXM6IFsnaXRlbScsICdjYXB0aW9uJywgJ3pvb20td3JhcCcsICd1aScsICd0b3AtYmFyJ10sIFxuXHRcdFx0dGltZVRvSWRsZTogNDAwMCwgXG5cdFx0XHR0aW1lVG9JZGxlT3V0c2lkZTogMTAwMCxcblx0XHRcdGxvYWRpbmdJbmRpY2F0b3JEZWxheTogMTAwMCwgLy8gMnNcblx0XHRcdFxuXHRcdFx0YWRkQ2FwdGlvbkhUTUxGbjogZnVuY3Rpb24oaXRlbSwgY2FwdGlvbkVsIC8qLCBpc0Zha2UgKi8pIHtcblx0XHRcdFx0aWYoIWl0ZW0udGl0bGUpIHtcblx0XHRcdFx0XHRjYXB0aW9uRWwuY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gJyc7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhcHRpb25FbC5jaGlsZHJlblswXS5pbm5lckhUTUwgPSBpdGVtLnRpdGxlO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0sXG5cblx0XHRcdGNsb3NlRWw6dHJ1ZSxcblx0XHRcdGNhcHRpb25FbDogdHJ1ZSxcblx0XHRcdGZ1bGxzY3JlZW5FbDogdHJ1ZSxcblx0XHRcdHpvb21FbDogdHJ1ZSxcblx0XHRcdHNoYXJlRWw6IHRydWUsXG5cdFx0XHRjb3VudGVyRWw6IHRydWUsXG5cdFx0XHRhcnJvd0VsOiB0cnVlLFxuXHRcdFx0cHJlbG9hZGVyRWw6IHRydWUsXG5cblx0XHRcdHRhcFRvQ2xvc2U6IGZhbHNlLFxuXHRcdFx0dGFwVG9Ub2dnbGVDb250cm9sczogdHJ1ZSxcblxuXHRcdFx0Y2xpY2tUb0Nsb3NlTm9uWm9vbWFibGU6IHRydWUsXG5cblx0XHRcdHNoYXJlQnV0dG9uczogW1xuXHRcdFx0XHR7aWQ6J2ZhY2Vib29rJywgbGFiZWw6J1NoYXJlIG9uIEZhY2Vib29rJywgdXJsOidodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHA/dT17e3VybH19J30sXG5cdFx0XHRcdHtpZDondHdpdHRlcicsIGxhYmVsOidUd2VldCcsIHVybDonaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dGV4dD17e3RleHR9fSZ1cmw9e3t1cmx9fSd9LFxuXHRcdFx0XHR7aWQ6J3BpbnRlcmVzdCcsIGxhYmVsOidQaW4gaXQnLCB1cmw6J2h0dHA6Ly93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8nK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnP3VybD17e3VybH19Jm1lZGlhPXt7aW1hZ2VfdXJsfX0mZGVzY3JpcHRpb249e3t0ZXh0fX0nfSxcblx0XHRcdFx0e2lkOidkb3dubG9hZCcsIGxhYmVsOidEb3dubG9hZCBpbWFnZScsIHVybDone3tyYXdfaW1hZ2VfdXJsfX0nLCBkb3dubG9hZDp0cnVlfVxuXHRcdFx0XSxcblx0XHRcdGdldEltYWdlVVJMRm9yU2hhcmU6IGZ1bmN0aW9uKCAvKiBzaGFyZUJ1dHRvbkRhdGEgKi8gKSB7XG5cdFx0XHRcdHJldHVybiBwc3dwLmN1cnJJdGVtLnNyYyB8fCAnJztcblx0XHRcdH0sXG5cdFx0XHRnZXRQYWdlVVJMRm9yU2hhcmU6IGZ1bmN0aW9uKCAvKiBzaGFyZUJ1dHRvbkRhdGEgKi8gKSB7XG5cdFx0XHRcdHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZjtcblx0XHRcdH0sXG5cdFx0XHRnZXRUZXh0Rm9yU2hhcmU6IGZ1bmN0aW9uKCAvKiBzaGFyZUJ1dHRvbkRhdGEgKi8gKSB7XG5cdFx0XHRcdHJldHVybiBwc3dwLmN1cnJJdGVtLnRpdGxlIHx8ICcnO1xuXHRcdFx0fSxcblx0XHRcdFx0XG5cdFx0XHRpbmRleEluZGljYXRvclNlcDogJyAvICcsXG5cdFx0XHRmaXRDb250cm9sc1dpZHRoOiAxMjAwXG5cblx0XHR9LFxuXHRcdF9ibG9ja0NvbnRyb2xzVGFwLFxuXHRcdF9ibG9ja0NvbnRyb2xzVGFwVGltZW91dDtcblxuXG5cblx0dmFyIF9vbkNvbnRyb2xzVGFwID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0aWYoX2Jsb2NrQ29udHJvbHNUYXApIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblxuXHRcdFx0ZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuXG5cdFx0XHRpZihfb3B0aW9ucy50aW1lVG9JZGxlICYmIF9vcHRpb25zLm1vdXNlVXNlZCAmJiAhX2lzSWRsZSkge1xuXHRcdFx0XHQvLyByZXNldCBpZGxlIHRpbWVyXG5cdFx0XHRcdF9vbklkbGVNb3VzZU1vdmUoKTtcblx0XHRcdH1cblxuXG5cdFx0XHR2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50LFxuXHRcdFx0XHR1aUVsZW1lbnQsXG5cdFx0XHRcdGNsaWNrZWRDbGFzcyA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycsXG5cdFx0XHRcdGZvdW5kO1xuXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgX3VpRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dWlFbGVtZW50ID0gX3VpRWxlbWVudHNbaV07XG5cdFx0XHRcdGlmKHVpRWxlbWVudC5vblRhcCAmJiBjbGlja2VkQ2xhc3MuaW5kZXhPZigncHN3cF9fJyArIHVpRWxlbWVudC5uYW1lICkgPiAtMSApIHtcblx0XHRcdFx0XHR1aUVsZW1lbnQub25UYXAoKTtcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZihmb3VuZCkge1xuXHRcdFx0XHRpZihlLnN0b3BQcm9wYWdhdGlvbikge1xuXHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0X2Jsb2NrQ29udHJvbHNUYXAgPSB0cnVlO1xuXG5cdFx0XHRcdC8vIFNvbWUgdmVyc2lvbnMgb2YgQW5kcm9pZCBkb24ndCBwcmV2ZW50IGdob3N0IGNsaWNrIGV2ZW50IFxuXHRcdFx0XHQvLyB3aGVuIHByZXZlbnREZWZhdWx0KCkgd2FzIGNhbGxlZCBvbiB0b3VjaHN0YXJ0IGFuZC9vciB0b3VjaGVuZC5cblx0XHRcdFx0Ly8gXG5cdFx0XHRcdC8vIFRoaXMgaGFwcGVucyBvbiB2NC4zLCA0LjIsIDQuMSwgXG5cdFx0XHRcdC8vIG9sZGVyIHZlcnNpb25zIHN0cmFuZ2VseSB3b3JrIGNvcnJlY3RseSwgXG5cdFx0XHRcdC8vIGJ1dCBqdXN0IGluIGNhc2Ugd2UgYWRkIGRlbGF5IG9uIGFsbCBvZiB0aGVtKVx0XG5cdFx0XHRcdHZhciB0YXBEZWxheSA9IGZyYW1ld29yay5mZWF0dXJlcy5pc09sZEFuZHJvaWQgPyA2MDAgOiAzMDtcblx0XHRcdFx0X2Jsb2NrQ29udHJvbHNUYXBUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRfYmxvY2tDb250cm9sc1RhcCA9IGZhbHNlO1xuXHRcdFx0XHR9LCB0YXBEZWxheSk7XG5cdFx0XHR9XG5cblx0XHR9LFxuXHRcdF9maXRDb250cm9sc0luVmlld3BvcnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAhcHN3cC5saWtlbHlUb3VjaERldmljZSB8fCBfb3B0aW9ucy5tb3VzZVVzZWQgfHwgc2NyZWVuLndpZHRoID4gX29wdGlvbnMuZml0Q29udHJvbHNXaWR0aDtcblx0XHR9LFxuXHRcdF90b2dnbGVQc3dwQ2xhc3MgPSBmdW5jdGlvbihlbCwgY05hbWUsIGFkZCkge1xuXHRcdFx0ZnJhbWV3b3JrWyAoYWRkID8gJ2FkZCcgOiAncmVtb3ZlJykgKyAnQ2xhc3MnIF0oZWwsICdwc3dwX18nICsgY05hbWUpO1xuXHRcdH0sXG5cblx0XHQvLyBhZGQgY2xhc3Mgd2hlbiB0aGVyZSBpcyBqdXN0IG9uZSBpdGVtIGluIHRoZSBnYWxsZXJ5XG5cdFx0Ly8gKGJ5IGRlZmF1bHQgaXQgaGlkZXMgbGVmdC9yaWdodCBhcnJvd3MgYW5kIDFvZlggY291bnRlcilcblx0XHRfY291bnROdW1JdGVtcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGhhc09uZVNsaWRlID0gKF9vcHRpb25zLmdldE51bUl0ZW1zRm4oKSA9PT0gMSk7XG5cblx0XHRcdGlmKGhhc09uZVNsaWRlICE9PSBfZ2FsbGVyeUhhc09uZVNsaWRlKSB7XG5cdFx0XHRcdF90b2dnbGVQc3dwQ2xhc3MoX2NvbnRyb2xzLCAndWktLW9uZS1zbGlkZScsIGhhc09uZVNsaWRlKTtcblx0XHRcdFx0X2dhbGxlcnlIYXNPbmVTbGlkZSA9IGhhc09uZVNsaWRlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X3RvZ2dsZVNoYXJlTW9kYWxDbGFzcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0X3RvZ2dsZVBzd3BDbGFzcyhfc2hhcmVNb2RhbCwgJ3NoYXJlLW1vZGFsLS1oaWRkZW4nLCBfc2hhcmVNb2RhbEhpZGRlbik7XG5cdFx0fSxcblx0XHRfdG9nZ2xlU2hhcmVNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRfc2hhcmVNb2RhbEhpZGRlbiA9ICFfc2hhcmVNb2RhbEhpZGRlbjtcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHRpZighX3NoYXJlTW9kYWxIaWRkZW4pIHtcblx0XHRcdFx0X3RvZ2dsZVNoYXJlTW9kYWxDbGFzcygpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmKCFfc2hhcmVNb2RhbEhpZGRlbikge1xuXHRcdFx0XHRcdFx0ZnJhbWV3b3JrLmFkZENsYXNzKF9zaGFyZU1vZGFsLCAncHN3cF9fc2hhcmUtbW9kYWwtLWZhZGUtaW4nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIDMwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZyYW1ld29yay5yZW1vdmVDbGFzcyhfc2hhcmVNb2RhbCwgJ3Bzd3BfX3NoYXJlLW1vZGFsLS1mYWRlLWluJyk7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYoX3NoYXJlTW9kYWxIaWRkZW4pIHtcblx0XHRcdFx0XHRcdF90b2dnbGVTaGFyZU1vZGFsQ2xhc3MoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIDMwMCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmKCFfc2hhcmVNb2RhbEhpZGRlbikge1xuXHRcdFx0XHRfdXBkYXRlU2hhcmVVUkxzKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblxuXHRcdF9vcGVuV2luZG93UG9wdXAgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cdFx0XHR2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXG5cdFx0XHRwc3dwLnNob3V0KCdzaGFyZUxpbmtDbGljaycsIGUsIHRhcmdldCk7XG5cblx0XHRcdGlmKCF0YXJnZXQuaHJlZikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmKCB0YXJnZXQuaGFzQXR0cmlidXRlKCdkb3dubG9hZCcpICkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0d2luZG93Lm9wZW4odGFyZ2V0LmhyZWYsICdwc3dwX3NoYXJlJywgJ3Njcm9sbGJhcnM9eWVzLHJlc2l6YWJsZT15ZXMsdG9vbGJhcj1ubywnK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQnbG9jYXRpb249eWVzLHdpZHRoPTU1MCxoZWlnaHQ9NDIwLHRvcD0xMDAsbGVmdD0nICsgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCh3aW5kb3cuc2NyZWVuID8gTWF0aC5yb3VuZChzY3JlZW4ud2lkdGggLyAyIC0gMjc1KSA6IDEwMCkgICk7XG5cblx0XHRcdGlmKCFfc2hhcmVNb2RhbEhpZGRlbikge1xuXHRcdFx0XHRfdG9nZ2xlU2hhcmVNb2RhbCgpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRfdXBkYXRlU2hhcmVVUkxzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2hhcmVCdXR0b25PdXQgPSAnJyxcblx0XHRcdFx0c2hhcmVCdXR0b25EYXRhLFxuXHRcdFx0XHRzaGFyZVVSTCxcblx0XHRcdFx0aW1hZ2VfdXJsLFxuXHRcdFx0XHRwYWdlX3VybCxcblx0XHRcdFx0c2hhcmVfdGV4dDtcblxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IF9vcHRpb25zLnNoYXJlQnV0dG9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRzaGFyZUJ1dHRvbkRhdGEgPSBfb3B0aW9ucy5zaGFyZUJ1dHRvbnNbaV07XG5cblx0XHRcdFx0aW1hZ2VfdXJsID0gX29wdGlvbnMuZ2V0SW1hZ2VVUkxGb3JTaGFyZShzaGFyZUJ1dHRvbkRhdGEpO1xuXHRcdFx0XHRwYWdlX3VybCA9IF9vcHRpb25zLmdldFBhZ2VVUkxGb3JTaGFyZShzaGFyZUJ1dHRvbkRhdGEpO1xuXHRcdFx0XHRzaGFyZV90ZXh0ID0gX29wdGlvbnMuZ2V0VGV4dEZvclNoYXJlKHNoYXJlQnV0dG9uRGF0YSk7XG5cblx0XHRcdFx0c2hhcmVVUkwgPSBzaGFyZUJ1dHRvbkRhdGEudXJsLnJlcGxhY2UoJ3t7dXJsfX0nLCBlbmNvZGVVUklDb21wb25lbnQocGFnZV91cmwpIClcblx0XHRcdFx0XHRcdFx0XHRcdC5yZXBsYWNlKCd7e2ltYWdlX3VybH19JywgZW5jb2RlVVJJQ29tcG9uZW50KGltYWdlX3VybCkgKVxuXHRcdFx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoJ3t7cmF3X2ltYWdlX3VybH19JywgaW1hZ2VfdXJsIClcblx0XHRcdFx0XHRcdFx0XHRcdC5yZXBsYWNlKCd7e3RleHR9fScsIGVuY29kZVVSSUNvbXBvbmVudChzaGFyZV90ZXh0KSApO1xuXG5cdFx0XHRcdHNoYXJlQnV0dG9uT3V0ICs9ICc8YSBocmVmPVwiJyArIHNoYXJlVVJMICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiICcrXG5cdFx0XHRcdFx0XHRcdFx0XHQnY2xhc3M9XCJwc3dwX19zaGFyZS0tJyArIHNoYXJlQnV0dG9uRGF0YS5pZCArICdcIicgK1xuXHRcdFx0XHRcdFx0XHRcdFx0KHNoYXJlQnV0dG9uRGF0YS5kb3dubG9hZCA/ICdkb3dubG9hZCcgOiAnJykgKyAnPicgKyBcblx0XHRcdFx0XHRcdFx0XHRcdHNoYXJlQnV0dG9uRGF0YS5sYWJlbCArICc8L2E+JztcblxuXHRcdFx0XHRpZihfb3B0aW9ucy5wYXJzZVNoYXJlQnV0dG9uT3V0KSB7XG5cdFx0XHRcdFx0c2hhcmVCdXR0b25PdXQgPSBfb3B0aW9ucy5wYXJzZVNoYXJlQnV0dG9uT3V0KHNoYXJlQnV0dG9uRGF0YSwgc2hhcmVCdXR0b25PdXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRfc2hhcmVNb2RhbC5jaGlsZHJlblswXS5pbm5lckhUTUwgPSBzaGFyZUJ1dHRvbk91dDtcblx0XHRcdF9zaGFyZU1vZGFsLmNoaWxkcmVuWzBdLm9uY2xpY2sgPSBfb3BlbldpbmRvd1BvcHVwO1xuXG5cdFx0fSxcblx0XHRfaGFzQ2xvc2VDbGFzcyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuXHRcdFx0Zm9yKHZhciAgaSA9IDA7IGkgPCBfb3B0aW9ucy5jbG9zZUVsQ2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiggZnJhbWV3b3JrLmhhc0NsYXNzKHRhcmdldCwgJ3Bzd3BfXycgKyBfb3B0aW9ucy5jbG9zZUVsQ2xhc3Nlc1tpXSkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdF9pZGxlSW50ZXJ2YWwsXG5cdFx0X2lkbGVUaW1lcixcblx0XHRfaWRsZUluY3JlbWVudCA9IDAsXG5cdFx0X29uSWRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KF9pZGxlVGltZXIpO1xuXHRcdFx0X2lkbGVJbmNyZW1lbnQgPSAwO1xuXHRcdFx0aWYoX2lzSWRsZSkge1xuXHRcdFx0XHR1aS5zZXRJZGxlKGZhbHNlKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdF9vbk1vdXNlTGVhdmVXaW5kb3cgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRlID0gZSA/IGUgOiB3aW5kb3cuZXZlbnQ7XG5cdFx0XHR2YXIgZnJvbSA9IGUucmVsYXRlZFRhcmdldCB8fCBlLnRvRWxlbWVudDtcblx0XHRcdGlmICghZnJvbSB8fCBmcm9tLm5vZGVOYW1lID09PSAnSFRNTCcpIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KF9pZGxlVGltZXIpO1xuXHRcdFx0XHRfaWRsZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR1aS5zZXRJZGxlKHRydWUpO1xuXHRcdFx0XHR9LCBfb3B0aW9ucy50aW1lVG9JZGxlT3V0c2lkZSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfc2V0dXBGdWxsc2NyZWVuQVBJID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZihfb3B0aW9ucy5mdWxsc2NyZWVuRWwgJiYgIWZyYW1ld29yay5mZWF0dXJlcy5pc09sZEFuZHJvaWQpIHtcblx0XHRcdFx0aWYoIV9mdWxsc2NyZW5BUEkpIHtcblx0XHRcdFx0XHRfZnVsbHNjcmVuQVBJID0gdWkuZ2V0RnVsbHNjcmVlbkFQSSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKF9mdWxsc2NyZW5BUEkpIHtcblx0XHRcdFx0XHRmcmFtZXdvcmsuYmluZChkb2N1bWVudCwgX2Z1bGxzY3JlbkFQSS5ldmVudEssIHVpLnVwZGF0ZUZ1bGxzY3JlZW4pO1xuXHRcdFx0XHRcdHVpLnVwZGF0ZUZ1bGxzY3JlZW4oKTtcblx0XHRcdFx0XHRmcmFtZXdvcmsuYWRkQ2xhc3MocHN3cC50ZW1wbGF0ZSwgJ3Bzd3AtLXN1cHBvcnRzLWZzJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZnJhbWV3b3JrLnJlbW92ZUNsYXNzKHBzd3AudGVtcGxhdGUsICdwc3dwLS1zdXBwb3J0cy1mcycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfc2V0dXBMb2FkaW5nSW5kaWNhdG9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBTZXR1cCBsb2FkaW5nIGluZGljYXRvclxuXHRcdFx0aWYoX29wdGlvbnMucHJlbG9hZGVyRWwpIHtcblx0XHRcdFxuXHRcdFx0XHRfdG9nZ2xlTG9hZGluZ0luZGljYXRvcih0cnVlKTtcblxuXHRcdFx0XHRfbGlzdGVuKCdiZWZvcmVDaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdGNsZWFyVGltZW91dChfbG9hZGluZ0luZGljYXRvclRpbWVvdXQpO1xuXG5cdFx0XHRcdFx0Ly8gZGlzcGxheSBsb2FkaW5nIGluZGljYXRvciB3aXRoIGRlbGF5XG5cdFx0XHRcdFx0X2xvYWRpbmdJbmRpY2F0b3JUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0aWYocHN3cC5jdXJySXRlbSAmJiBwc3dwLmN1cnJJdGVtLmxvYWRpbmcpIHtcblxuXHRcdFx0XHRcdFx0XHRpZiggIXBzd3AuYWxsb3dQcm9ncmVzc2l2ZUltZygpIHx8IChwc3dwLmN1cnJJdGVtLmltZyAmJiAhcHN3cC5jdXJySXRlbS5pbWcubmF0dXJhbFdpZHRoKSAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2hvdyBwcmVsb2FkZXIgaWYgcHJvZ3Jlc3NpdmUgbG9hZGluZyBpcyBub3QgZW5hYmxlZCwgXG5cdFx0XHRcdFx0XHRcdFx0Ly8gb3IgaW1hZ2Ugd2lkdGggaXMgbm90IGRlZmluZWQgeWV0IChiZWNhdXNlIG9mIHNsb3cgY29ubmVjdGlvbilcblx0XHRcdFx0XHRcdFx0XHRfdG9nZ2xlTG9hZGluZ0luZGljYXRvcihmYWxzZSk7IFxuXHRcdFx0XHRcdFx0XHRcdC8vIGl0ZW1zLWNvbnRyb2xsZXIuanMgZnVuY3Rpb24gYWxsb3dQcm9ncmVzc2l2ZUltZ1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0X3RvZ2dsZUxvYWRpbmdJbmRpY2F0b3IodHJ1ZSk7IC8vIGhpZGUgcHJlbG9hZGVyXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9LCBfb3B0aW9ucy5sb2FkaW5nSW5kaWNhdG9yRGVsYXkpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0X2xpc3RlbignaW1hZ2VMb2FkQ29tcGxldGUnLCBmdW5jdGlvbihpbmRleCwgaXRlbSkge1xuXHRcdFx0XHRcdGlmKHBzd3AuY3Vyckl0ZW0gPT09IGl0ZW0pIHtcblx0XHRcdFx0XHRcdF90b2dnbGVMb2FkaW5nSW5kaWNhdG9yKHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdH1cblx0XHR9LFxuXHRcdF90b2dnbGVMb2FkaW5nSW5kaWNhdG9yID0gZnVuY3Rpb24oaGlkZSkge1xuXHRcdFx0aWYoIF9sb2FkaW5nSW5kaWNhdG9ySGlkZGVuICE9PSBoaWRlICkge1xuXHRcdFx0XHRfdG9nZ2xlUHN3cENsYXNzKF9sb2FkaW5nSW5kaWNhdG9yLCAncHJlbG9hZGVyLS1hY3RpdmUnLCAhaGlkZSk7XG5cdFx0XHRcdF9sb2FkaW5nSW5kaWNhdG9ySGlkZGVuID0gaGlkZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdF9hcHBseU5hdkJhckdhcHMgPSBmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHR2YXIgZ2FwID0gaXRlbS52R2FwO1xuXG5cdFx0XHRpZiggX2ZpdENvbnRyb2xzSW5WaWV3cG9ydCgpICkge1xuXHRcdFx0XHRcblx0XHRcdFx0dmFyIGJhcnMgPSBfb3B0aW9ucy5iYXJzU2l6ZTsgXG5cdFx0XHRcdGlmKF9vcHRpb25zLmNhcHRpb25FbCAmJiBiYXJzLmJvdHRvbSA9PT0gJ2F1dG8nKSB7XG5cdFx0XHRcdFx0aWYoIV9mYWtlQ2FwdGlvbkNvbnRhaW5lcikge1xuXHRcdFx0XHRcdFx0X2Zha2VDYXB0aW9uQ29udGFpbmVyID0gZnJhbWV3b3JrLmNyZWF0ZUVsKCdwc3dwX19jYXB0aW9uIHBzd3BfX2NhcHRpb24tLWZha2UnKTtcblx0XHRcdFx0XHRcdF9mYWtlQ2FwdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZCggZnJhbWV3b3JrLmNyZWF0ZUVsKCdwc3dwX19jYXB0aW9uX19jZW50ZXInKSApO1xuXHRcdFx0XHRcdFx0X2NvbnRyb2xzLmluc2VydEJlZm9yZShfZmFrZUNhcHRpb25Db250YWluZXIsIF9jYXB0aW9uQ29udGFpbmVyKTtcblx0XHRcdFx0XHRcdGZyYW1ld29yay5hZGRDbGFzcyhfY29udHJvbHMsICdwc3dwX191aS0tZml0Jyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKCBfb3B0aW9ucy5hZGRDYXB0aW9uSFRNTEZuKGl0ZW0sIF9mYWtlQ2FwdGlvbkNvbnRhaW5lciwgdHJ1ZSkgKSB7XG5cblx0XHRcdFx0XHRcdHZhciBjYXB0aW9uU2l6ZSA9IF9mYWtlQ2FwdGlvbkNvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG5cdFx0XHRcdFx0XHRnYXAuYm90dG9tID0gcGFyc2VJbnQoY2FwdGlvblNpemUsMTApIHx8IDQ0O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRnYXAuYm90dG9tID0gYmFycy50b3A7IC8vIGlmIG5vIGNhcHRpb24sIHNldCBzaXplIG9mIGJvdHRvbSBnYXAgdG8gc2l6ZSBvZiB0b3Bcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Z2FwLmJvdHRvbSA9IGJhcnMuYm90dG9tID09PSAnYXV0bycgPyAwIDogYmFycy5ib3R0b207XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdC8vIGhlaWdodCBvZiB0b3AgYmFyIGlzIHN0YXRpYywgbm8gbmVlZCB0byBjYWxjdWxhdGUgaXRcblx0XHRcdFx0Z2FwLnRvcCA9IGJhcnMudG9wO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z2FwLnRvcCA9IGdhcC5ib3R0b20gPSAwO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X3NldHVwSWRsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gSGlkZSBjb250cm9scyB3aGVuIG1vdXNlIGlzIHVzZWRcblx0XHRcdGlmKF9vcHRpb25zLnRpbWVUb0lkbGUpIHtcblx0XHRcdFx0X2xpc3RlbignbW91c2VVc2VkJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0ZnJhbWV3b3JrLmJpbmQoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBfb25JZGxlTW91c2VNb3ZlKTtcblx0XHRcdFx0XHRmcmFtZXdvcmsuYmluZChkb2N1bWVudCwgJ21vdXNlb3V0JywgX29uTW91c2VMZWF2ZVdpbmRvdyk7XG5cblx0XHRcdFx0XHRfaWRsZUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRfaWRsZUluY3JlbWVudCsrO1xuXHRcdFx0XHRcdFx0aWYoX2lkbGVJbmNyZW1lbnQgPT09IDIpIHtcblx0XHRcdFx0XHRcdFx0dWkuc2V0SWRsZSh0cnVlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBfb3B0aW9ucy50aW1lVG9JZGxlIC8gMik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X3NldHVwSGlkaW5nQ29udHJvbHNEdXJpbmdHZXN0dXJlcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBIaWRlIGNvbnRyb2xzIG9uIHZlcnRpY2FsIGRyYWdcblx0XHRcdF9saXN0ZW4oJ29uVmVydGljYWxEcmFnJywgZnVuY3Rpb24obm93KSB7XG5cdFx0XHRcdGlmKF9jb250cm9sc1Zpc2libGUgJiYgbm93IDwgMC45NSkge1xuXHRcdFx0XHRcdHVpLmhpZGVDb250cm9scygpO1xuXHRcdFx0XHR9IGVsc2UgaWYoIV9jb250cm9sc1Zpc2libGUgJiYgbm93ID49IDAuOTUpIHtcblx0XHRcdFx0XHR1aS5zaG93Q29udHJvbHMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEhpZGUgY29udHJvbHMgd2hlbiBwaW5jaGluZyB0byBjbG9zZVxuXHRcdFx0dmFyIHBpbmNoQ29udHJvbHNIaWRkZW47XG5cdFx0XHRfbGlzdGVuKCdvblBpbmNoQ2xvc2UnICwgZnVuY3Rpb24obm93KSB7XG5cdFx0XHRcdGlmKF9jb250cm9sc1Zpc2libGUgJiYgbm93IDwgMC45KSB7XG5cdFx0XHRcdFx0dWkuaGlkZUNvbnRyb2xzKCk7XG5cdFx0XHRcdFx0cGluY2hDb250cm9sc0hpZGRlbiA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSBpZihwaW5jaENvbnRyb2xzSGlkZGVuICYmICFfY29udHJvbHNWaXNpYmxlICYmIG5vdyA+IDAuOSkge1xuXHRcdFx0XHRcdHVpLnNob3dDb250cm9scygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0X2xpc3Rlbignem9vbUdlc3R1cmVFbmRlZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRwaW5jaENvbnRyb2xzSGlkZGVuID0gZmFsc2U7XG5cdFx0XHRcdGlmKHBpbmNoQ29udHJvbHNIaWRkZW4gJiYgIV9jb250cm9sc1Zpc2libGUpIHtcblx0XHRcdFx0XHR1aS5zaG93Q29udHJvbHMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHR9O1xuXG5cblxuXHR2YXIgX3VpRWxlbWVudHMgPSBbXG5cdFx0eyBcblx0XHRcdG5hbWU6ICdjYXB0aW9uJywgXG5cdFx0XHRvcHRpb246ICdjYXB0aW9uRWwnLFxuXHRcdFx0b25Jbml0OiBmdW5jdGlvbihlbCkgeyAgXG5cdFx0XHRcdF9jYXB0aW9uQ29udGFpbmVyID0gZWw7IFxuXHRcdFx0fSBcblx0XHR9LFxuXHRcdHsgXG5cdFx0XHRuYW1lOiAnc2hhcmUtbW9kYWwnLCBcblx0XHRcdG9wdGlvbjogJ3NoYXJlRWwnLFxuXHRcdFx0b25Jbml0OiBmdW5jdGlvbihlbCkgeyAgXG5cdFx0XHRcdF9zaGFyZU1vZGFsID0gZWw7XG5cdFx0XHR9LFxuXHRcdFx0b25UYXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRfdG9nZ2xlU2hhcmVNb2RhbCgpO1xuXHRcdFx0fSBcblx0XHR9LFxuXHRcdHsgXG5cdFx0XHRuYW1lOiAnYnV0dG9uLS1zaGFyZScsIFxuXHRcdFx0b3B0aW9uOiAnc2hhcmVFbCcsXG5cdFx0XHRvbkluaXQ6IGZ1bmN0aW9uKGVsKSB7IFxuXHRcdFx0XHRfc2hhcmVCdXR0b24gPSBlbDtcblx0XHRcdH0sXG5cdFx0XHRvblRhcDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdF90b2dnbGVTaGFyZU1vZGFsKCk7XG5cdFx0XHR9IFxuXHRcdH0sXG5cdFx0eyBcblx0XHRcdG5hbWU6ICdidXR0b24tLXpvb20nLCBcblx0XHRcdG9wdGlvbjogJ3pvb21FbCcsXG5cdFx0XHRvblRhcDogcHN3cC50b2dnbGVEZXNrdG9wWm9vbVxuXHRcdH0sXG5cdFx0eyBcblx0XHRcdG5hbWU6ICdjb3VudGVyJywgXG5cdFx0XHRvcHRpb246ICdjb3VudGVyRWwnLFxuXHRcdFx0b25Jbml0OiBmdW5jdGlvbihlbCkgeyAgXG5cdFx0XHRcdF9pbmRleEluZGljYXRvciA9IGVsO1xuXHRcdFx0fSBcblx0XHR9LFxuXHRcdHsgXG5cdFx0XHRuYW1lOiAnYnV0dG9uLS1jbG9zZScsIFxuXHRcdFx0b3B0aW9uOiAnY2xvc2VFbCcsXG5cdFx0XHRvblRhcDogcHN3cC5jbG9zZVxuXHRcdH0sXG5cdFx0eyBcblx0XHRcdG5hbWU6ICdidXR0b24tLWFycm93LS1sZWZ0JywgXG5cdFx0XHRvcHRpb246ICdhcnJvd0VsJyxcblx0XHRcdG9uVGFwOiBwc3dwLnByZXZcblx0XHR9LFxuXHRcdHsgXG5cdFx0XHRuYW1lOiAnYnV0dG9uLS1hcnJvdy0tcmlnaHQnLCBcblx0XHRcdG9wdGlvbjogJ2Fycm93RWwnLFxuXHRcdFx0b25UYXA6IHBzd3AubmV4dFxuXHRcdH0sXG5cdFx0eyBcblx0XHRcdG5hbWU6ICdidXR0b24tLWZzJywgXG5cdFx0XHRvcHRpb246ICdmdWxsc2NyZWVuRWwnLFxuXHRcdFx0b25UYXA6IGZ1bmN0aW9uKCkgeyAgXG5cdFx0XHRcdGlmKF9mdWxsc2NyZW5BUEkuaXNGdWxsc2NyZWVuKCkpIHtcblx0XHRcdFx0XHRfZnVsbHNjcmVuQVBJLmV4aXQoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRfZnVsbHNjcmVuQVBJLmVudGVyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gXG5cdFx0fSxcblx0XHR7IFxuXHRcdFx0bmFtZTogJ3ByZWxvYWRlcicsIFxuXHRcdFx0b3B0aW9uOiAncHJlbG9hZGVyRWwnLFxuXHRcdFx0b25Jbml0OiBmdW5jdGlvbihlbCkgeyAgXG5cdFx0XHRcdF9sb2FkaW5nSW5kaWNhdG9yID0gZWw7XG5cdFx0XHR9IFxuXHRcdH1cblxuXHRdO1xuXG5cdHZhciBfc2V0dXBVSUVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGl0ZW0sXG5cdFx0XHRjbGFzc0F0dHIsXG5cdFx0XHR1aUVsZW1lbnQ7XG5cblx0XHR2YXIgbG9vcFRocm91Z2hDaGlsZEVsZW1lbnRzID0gZnVuY3Rpb24oc0NoaWxkcmVuKSB7XG5cdFx0XHRpZighc0NoaWxkcmVuKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGwgPSBzQ2hpbGRyZW4ubGVuZ3RoO1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHRpdGVtID0gc0NoaWxkcmVuW2ldO1xuXHRcdFx0XHRjbGFzc0F0dHIgPSBpdGVtLmNsYXNzTmFtZTtcblxuXHRcdFx0XHRmb3IodmFyIGEgPSAwOyBhIDwgX3VpRWxlbWVudHMubGVuZ3RoOyBhKyspIHtcblx0XHRcdFx0XHR1aUVsZW1lbnQgPSBfdWlFbGVtZW50c1thXTtcblxuXHRcdFx0XHRcdGlmKGNsYXNzQXR0ci5pbmRleE9mKCdwc3dwX18nICsgdWlFbGVtZW50Lm5hbWUpID4gLTEgICkge1xuXG5cdFx0XHRcdFx0XHRpZiggX29wdGlvbnNbdWlFbGVtZW50Lm9wdGlvbl0gKSB7IC8vIGlmIGVsZW1lbnQgaXMgbm90IGRpc2FibGVkIGZyb20gb3B0aW9uc1xuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0ZnJhbWV3b3JrLnJlbW92ZUNsYXNzKGl0ZW0sICdwc3dwX19lbGVtZW50LS1kaXNhYmxlZCcpO1xuXHRcdFx0XHRcdFx0XHRpZih1aUVsZW1lbnQub25Jbml0KSB7XG5cdFx0XHRcdFx0XHRcdFx0dWlFbGVtZW50Lm9uSW5pdChpdGVtKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly9pdGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZnJhbWV3b3JrLmFkZENsYXNzKGl0ZW0sICdwc3dwX19lbGVtZW50LS1kaXNhYmxlZCcpO1xuXHRcdFx0XHRcdFx0XHQvL2l0ZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdGxvb3BUaHJvdWdoQ2hpbGRFbGVtZW50cyhfY29udHJvbHMuY2hpbGRyZW4pO1xuXG5cdFx0dmFyIHRvcEJhciA9ICBmcmFtZXdvcmsuZ2V0Q2hpbGRCeUNsYXNzKF9jb250cm9scywgJ3Bzd3BfX3RvcC1iYXInKTtcblx0XHRpZih0b3BCYXIpIHtcblx0XHRcdGxvb3BUaHJvdWdoQ2hpbGRFbGVtZW50cyggdG9wQmFyLmNoaWxkcmVuICk7XG5cdFx0fVxuXHR9O1xuXG5cblx0XG5cblx0dWkuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gZXh0ZW5kIG9wdGlvbnNcblx0XHRmcmFtZXdvcmsuZXh0ZW5kKHBzd3Aub3B0aW9ucywgX2RlZmF1bHRVSU9wdGlvbnMsIHRydWUpO1xuXG5cdFx0Ly8gY3JlYXRlIGxvY2FsIGxpbmsgZm9yIGZhc3QgYWNjZXNzXG5cdFx0X29wdGlvbnMgPSBwc3dwLm9wdGlvbnM7XG5cblx0XHQvLyBmaW5kIHBzd3BfX3VpIGVsZW1lbnRcblx0XHRfY29udHJvbHMgPSBmcmFtZXdvcmsuZ2V0Q2hpbGRCeUNsYXNzKHBzd3Auc2Nyb2xsV3JhcCwgJ3Bzd3BfX3VpJyk7XG5cblx0XHQvLyBjcmVhdGUgbG9jYWwgbGlua1xuXHRcdF9saXN0ZW4gPSBwc3dwLmxpc3RlbjtcblxuXG5cdFx0X3NldHVwSGlkaW5nQ29udHJvbHNEdXJpbmdHZXN0dXJlcygpO1xuXG5cdFx0Ly8gdXBkYXRlIGNvbnRyb2xzIHdoZW4gc2xpZGVzIGNoYW5nZVxuXHRcdF9saXN0ZW4oJ2JlZm9yZUNoYW5nZScsIHVpLnVwZGF0ZSk7XG5cblx0XHQvLyB0b2dnbGUgem9vbSBvbiBkb3VibGUtdGFwXG5cdFx0X2xpc3RlbignZG91YmxlVGFwJywgZnVuY3Rpb24ocG9pbnQpIHtcblx0XHRcdHZhciBpbml0aWFsWm9vbUxldmVsID0gcHN3cC5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsO1xuXHRcdFx0aWYocHN3cC5nZXRab29tTGV2ZWwoKSAhPT0gaW5pdGlhbFpvb21MZXZlbCkge1xuXHRcdFx0XHRwc3dwLnpvb21Ubyhpbml0aWFsWm9vbUxldmVsLCBwb2ludCwgMzMzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBzd3Auem9vbVRvKF9vcHRpb25zLmdldERvdWJsZVRhcFpvb20oZmFsc2UsIHBzd3AuY3Vyckl0ZW0pLCBwb2ludCwgMzMzKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEFsbG93IHRleHQgc2VsZWN0aW9uIGluIGNhcHRpb25cblx0XHRfbGlzdGVuKCdwcmV2ZW50RHJhZ0V2ZW50JywgZnVuY3Rpb24oZSwgaXNEb3duLCBwcmV2ZW50T2JqKSB7XG5cdFx0XHR2YXIgdCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcblx0XHRcdGlmKFxuXHRcdFx0XHR0ICYmIFxuXHRcdFx0XHR0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSAmJiBlLnR5cGUuaW5kZXhPZignbW91c2UnKSA+IC0xICYmIFxuXHRcdFx0XHQoIHQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluZGV4T2YoJ19fY2FwdGlvbicpID4gMCB8fCAoLyhTTUFMTHxTVFJPTkd8RU0pL2kpLnRlc3QodC50YWdOYW1lKSApIFxuXHRcdFx0KSB7XG5cdFx0XHRcdHByZXZlbnRPYmoucHJldmVudCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gYmluZCBldmVudHMgZm9yIFVJXG5cdFx0X2xpc3RlbignYmluZEV2ZW50cycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZnJhbWV3b3JrLmJpbmQoX2NvbnRyb2xzLCAncHN3cFRhcCBjbGljaycsIF9vbkNvbnRyb2xzVGFwKTtcblx0XHRcdGZyYW1ld29yay5iaW5kKHBzd3Auc2Nyb2xsV3JhcCwgJ3Bzd3BUYXAnLCB1aS5vbkdsb2JhbFRhcCk7XG5cblx0XHRcdGlmKCFwc3dwLmxpa2VseVRvdWNoRGV2aWNlKSB7XG5cdFx0XHRcdGZyYW1ld29yay5iaW5kKHBzd3Auc2Nyb2xsV3JhcCwgJ21vdXNlb3ZlcicsIHVpLm9uTW91c2VPdmVyKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIHVuYmluZCBldmVudHMgZm9yIFVJXG5cdFx0X2xpc3RlbigndW5iaW5kRXZlbnRzJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZighX3NoYXJlTW9kYWxIaWRkZW4pIHtcblx0XHRcdFx0X3RvZ2dsZVNoYXJlTW9kYWwoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYoX2lkbGVJbnRlcnZhbCkge1xuXHRcdFx0XHRjbGVhckludGVydmFsKF9pZGxlSW50ZXJ2YWwpO1xuXHRcdFx0fVxuXHRcdFx0ZnJhbWV3b3JrLnVuYmluZChkb2N1bWVudCwgJ21vdXNlb3V0JywgX29uTW91c2VMZWF2ZVdpbmRvdyk7XG5cdFx0XHRmcmFtZXdvcmsudW5iaW5kKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgX29uSWRsZU1vdXNlTW92ZSk7XG5cdFx0XHRmcmFtZXdvcmsudW5iaW5kKF9jb250cm9scywgJ3Bzd3BUYXAgY2xpY2snLCBfb25Db250cm9sc1RhcCk7XG5cdFx0XHRmcmFtZXdvcmsudW5iaW5kKHBzd3Auc2Nyb2xsV3JhcCwgJ3Bzd3BUYXAnLCB1aS5vbkdsb2JhbFRhcCk7XG5cdFx0XHRmcmFtZXdvcmsudW5iaW5kKHBzd3Auc2Nyb2xsV3JhcCwgJ21vdXNlb3ZlcicsIHVpLm9uTW91c2VPdmVyKTtcblxuXHRcdFx0aWYoX2Z1bGxzY3JlbkFQSSkge1xuXHRcdFx0XHRmcmFtZXdvcmsudW5iaW5kKGRvY3VtZW50LCBfZnVsbHNjcmVuQVBJLmV2ZW50SywgdWkudXBkYXRlRnVsbHNjcmVlbik7XG5cdFx0XHRcdGlmKF9mdWxsc2NyZW5BUEkuaXNGdWxsc2NyZWVuKCkpIHtcblx0XHRcdFx0XHRfb3B0aW9ucy5oaWRlQW5pbWF0aW9uRHVyYXRpb24gPSAwO1xuXHRcdFx0XHRcdF9mdWxsc2NyZW5BUEkuZXhpdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdF9mdWxsc2NyZW5BUEkgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cblx0XHQvLyBjbGVhbiB1cCB0aGluZ3Mgd2hlbiBnYWxsZXJ5IGlzIGRlc3Ryb3llZFxuXHRcdF9saXN0ZW4oJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHtcblx0XHRcdGlmKF9vcHRpb25zLmNhcHRpb25FbCkge1xuXHRcdFx0XHRpZihfZmFrZUNhcHRpb25Db250YWluZXIpIHtcblx0XHRcdFx0XHRfY29udHJvbHMucmVtb3ZlQ2hpbGQoX2Zha2VDYXB0aW9uQ29udGFpbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmcmFtZXdvcmsucmVtb3ZlQ2xhc3MoX2NhcHRpb25Db250YWluZXIsICdwc3dwX19jYXB0aW9uLS1lbXB0eScpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihfc2hhcmVNb2RhbCkge1xuXHRcdFx0XHRfc2hhcmVNb2RhbC5jaGlsZHJlblswXS5vbmNsaWNrID0gbnVsbDtcblx0XHRcdH1cblx0XHRcdGZyYW1ld29yay5yZW1vdmVDbGFzcyhfY29udHJvbHMsICdwc3dwX191aS0tb3Zlci1jbG9zZScpO1xuXHRcdFx0ZnJhbWV3b3JrLmFkZENsYXNzKCBfY29udHJvbHMsICdwc3dwX191aS0taGlkZGVuJyk7XG5cdFx0XHR1aS5zZXRJZGxlKGZhbHNlKTtcblx0XHR9KTtcblx0XHRcblxuXHRcdGlmKCFfb3B0aW9ucy5zaG93QW5pbWF0aW9uRHVyYXRpb24pIHtcblx0XHRcdGZyYW1ld29yay5yZW1vdmVDbGFzcyggX2NvbnRyb2xzLCAncHN3cF9fdWktLWhpZGRlbicpO1xuXHRcdH1cblx0XHRfbGlzdGVuKCdpbml0aWFsWm9vbUluJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZihfb3B0aW9ucy5zaG93QW5pbWF0aW9uRHVyYXRpb24pIHtcblx0XHRcdFx0ZnJhbWV3b3JrLnJlbW92ZUNsYXNzKCBfY29udHJvbHMsICdwc3dwX191aS0taGlkZGVuJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0X2xpc3RlbignaW5pdGlhbFpvb21PdXQnLCBmdW5jdGlvbigpIHtcblx0XHRcdGZyYW1ld29yay5hZGRDbGFzcyggX2NvbnRyb2xzLCAncHN3cF9fdWktLWhpZGRlbicpO1xuXHRcdH0pO1xuXG5cdFx0X2xpc3RlbigncGFyc2VWZXJ0aWNhbE1hcmdpbicsIF9hcHBseU5hdkJhckdhcHMpO1xuXHRcdFxuXHRcdF9zZXR1cFVJRWxlbWVudHMoKTtcblxuXHRcdGlmKF9vcHRpb25zLnNoYXJlRWwgJiYgX3NoYXJlQnV0dG9uICYmIF9zaGFyZU1vZGFsKSB7XG5cdFx0XHRfc2hhcmVNb2RhbEhpZGRlbiA9IHRydWU7XG5cdFx0fVxuXG5cdFx0X2NvdW50TnVtSXRlbXMoKTtcblxuXHRcdF9zZXR1cElkbGUoKTtcblxuXHRcdF9zZXR1cEZ1bGxzY3JlZW5BUEkoKTtcblxuXHRcdF9zZXR1cExvYWRpbmdJbmRpY2F0b3IoKTtcblx0fTtcblxuXHR1aS5zZXRJZGxlID0gZnVuY3Rpb24oaXNJZGxlKSB7XG5cdFx0X2lzSWRsZSA9IGlzSWRsZTtcblx0XHRfdG9nZ2xlUHN3cENsYXNzKF9jb250cm9scywgJ3VpLS1pZGxlJywgaXNJZGxlKTtcblx0fTtcblxuXHR1aS51cGRhdGUgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBEb24ndCB1cGRhdGUgVUkgaWYgaXQncyBoaWRkZW5cblx0XHRpZihfY29udHJvbHNWaXNpYmxlICYmIHBzd3AuY3Vyckl0ZW0pIHtcblx0XHRcdFxuXHRcdFx0dWkudXBkYXRlSW5kZXhJbmRpY2F0b3IoKTtcblxuXHRcdFx0aWYoX29wdGlvbnMuY2FwdGlvbkVsKSB7XG5cdFx0XHRcdF9vcHRpb25zLmFkZENhcHRpb25IVE1MRm4ocHN3cC5jdXJySXRlbSwgX2NhcHRpb25Db250YWluZXIpO1xuXG5cdFx0XHRcdF90b2dnbGVQc3dwQ2xhc3MoX2NhcHRpb25Db250YWluZXIsICdjYXB0aW9uLS1lbXB0eScsICFwc3dwLmN1cnJJdGVtLnRpdGxlKTtcblx0XHRcdH1cblxuXHRcdFx0X292ZXJsYXlVSVVwZGF0ZWQgPSB0cnVlO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdF9vdmVybGF5VUlVcGRhdGVkID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYoIV9zaGFyZU1vZGFsSGlkZGVuKSB7XG5cdFx0XHRfdG9nZ2xlU2hhcmVNb2RhbCgpO1xuXHRcdH1cblxuXHRcdF9jb3VudE51bUl0ZW1zKCk7XG5cdH07XG5cblx0dWkudXBkYXRlRnVsbHNjcmVlbiA9IGZ1bmN0aW9uKGUpIHtcblxuXHRcdGlmKGUpIHtcblx0XHRcdC8vIHNvbWUgYnJvd3NlcnMgY2hhbmdlIHdpbmRvdyBzY3JvbGwgcG9zaXRpb24gZHVyaW5nIHRoZSBmdWxsc2NyZWVuXG5cdFx0XHQvLyBzbyBQaG90b1N3aXBlIHVwZGF0ZXMgaXQganVzdCBpbiBjYXNlXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRwc3dwLnNldFNjcm9sbE9mZnNldCggMCwgZnJhbWV3b3JrLmdldFNjcm9sbFkoKSApO1xuXHRcdFx0fSwgNTApO1xuXHRcdH1cblx0XHRcblx0XHQvLyB0b29nbGUgcHN3cC0tZnMgY2xhc3Mgb24gcm9vdCBlbGVtZW50XG5cdFx0ZnJhbWV3b3JrWyAoX2Z1bGxzY3JlbkFQSS5pc0Z1bGxzY3JlZW4oKSA/ICdhZGQnIDogJ3JlbW92ZScpICsgJ0NsYXNzJyBdKHBzd3AudGVtcGxhdGUsICdwc3dwLS1mcycpO1xuXHR9O1xuXG5cdHVpLnVwZGF0ZUluZGV4SW5kaWNhdG9yID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoX29wdGlvbnMuY291bnRlckVsKSB7XG5cdFx0XHRfaW5kZXhJbmRpY2F0b3IuaW5uZXJIVE1MID0gKHBzd3AuZ2V0Q3VycmVudEluZGV4KCkrMSkgKyBcblx0XHRcdFx0XHRcdFx0XHRcdFx0X29wdGlvbnMuaW5kZXhJbmRpY2F0b3JTZXAgKyBcblx0XHRcdFx0XHRcdFx0XHRcdFx0X29wdGlvbnMuZ2V0TnVtSXRlbXNGbigpO1xuXHRcdH1cblx0fTtcblx0XG5cdHVpLm9uR2xvYmFsVGFwID0gZnVuY3Rpb24oZSkge1xuXHRcdGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcblx0XHR2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXG5cdFx0aWYoX2Jsb2NrQ29udHJvbHNUYXApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZihlLmRldGFpbCAmJiBlLmRldGFpbC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuXG5cdFx0XHQvLyBjbG9zZSBnYWxsZXJ5IGlmIGNsaWNrZWQgb3V0c2lkZSBvZiB0aGUgaW1hZ2Vcblx0XHRcdGlmKF9oYXNDbG9zZUNsYXNzKHRhcmdldCkpIHtcblx0XHRcdFx0cHN3cC5jbG9zZSgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmKGZyYW1ld29yay5oYXNDbGFzcyh0YXJnZXQsICdwc3dwX19pbWcnKSkge1xuXHRcdFx0XHRpZihwc3dwLmdldFpvb21MZXZlbCgpID09PSAxICYmIHBzd3AuZ2V0Wm9vbUxldmVsKCkgPD0gcHN3cC5jdXJySXRlbS5maXRSYXRpbykge1xuXHRcdFx0XHRcdGlmKF9vcHRpb25zLmNsaWNrVG9DbG9zZU5vblpvb21hYmxlKSB7XG5cdFx0XHRcdFx0XHRwc3dwLmNsb3NlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHBzd3AudG9nZ2xlRGVza3RvcFpvb20oZS5kZXRhaWwucmVsZWFzZVBvaW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gdGFwIGFueXdoZXJlIChleGNlcHQgYnV0dG9ucykgdG8gdG9nZ2xlIHZpc2liaWxpdHkgb2YgY29udHJvbHNcblx0XHRcdGlmKF9vcHRpb25zLnRhcFRvVG9nZ2xlQ29udHJvbHMpIHtcblx0XHRcdFx0aWYoX2NvbnRyb2xzVmlzaWJsZSkge1xuXHRcdFx0XHRcdHVpLmhpZGVDb250cm9scygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHVpLnNob3dDb250cm9scygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHRhcCB0byBjbG9zZSBnYWxsZXJ5XG5cdFx0XHRpZihfb3B0aW9ucy50YXBUb0Nsb3NlICYmIChmcmFtZXdvcmsuaGFzQ2xhc3ModGFyZ2V0LCAncHN3cF9faW1nJykgfHwgX2hhc0Nsb3NlQ2xhc3ModGFyZ2V0KSkgKSB7XG5cdFx0XHRcdHBzd3AuY2xvc2UoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fVxuXHR9O1xuXHR1aS5vbk1vdXNlT3ZlciA9IGZ1bmN0aW9uKGUpIHtcblx0XHRlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cdFx0dmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcblxuXHRcdC8vIGFkZCBjbGFzcyB3aGVuIG1vdXNlIGlzIG92ZXIgYW4gZWxlbWVudCB0aGF0IHNob3VsZCBjbG9zZSB0aGUgZ2FsbGVyeVxuXHRcdF90b2dnbGVQc3dwQ2xhc3MoX2NvbnRyb2xzLCAndWktLW92ZXItY2xvc2UnLCBfaGFzQ2xvc2VDbGFzcyh0YXJnZXQpKTtcblx0fTtcblxuXHR1aS5oaWRlQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcblx0XHRmcmFtZXdvcmsuYWRkQ2xhc3MoX2NvbnRyb2xzLCdwc3dwX191aS0taGlkZGVuJyk7XG5cdFx0X2NvbnRyb2xzVmlzaWJsZSA9IGZhbHNlO1xuXHR9O1xuXG5cdHVpLnNob3dDb250cm9scyA9IGZ1bmN0aW9uKCkge1xuXHRcdF9jb250cm9sc1Zpc2libGUgPSB0cnVlO1xuXHRcdGlmKCFfb3ZlcmxheVVJVXBkYXRlZCkge1xuXHRcdFx0dWkudXBkYXRlKCk7XG5cdFx0fVxuXHRcdGZyYW1ld29yay5yZW1vdmVDbGFzcyhfY29udHJvbHMsJ3Bzd3BfX3VpLS1oaWRkZW4nKTtcblx0fTtcblxuXHR1aS5zdXBwb3J0c0Z1bGxzY3JlZW4gPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZCA9IGRvY3VtZW50O1xuXHRcdHJldHVybiAhIShkLmV4aXRGdWxsc2NyZWVuIHx8IGQubW96Q2FuY2VsRnVsbFNjcmVlbiB8fCBkLndlYmtpdEV4aXRGdWxsc2NyZWVuIHx8IGQubXNFeGl0RnVsbHNjcmVlbik7XG5cdH07XG5cblx0dWkuZ2V0RnVsbHNjcmVlbkFQSSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkRSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcblx0XHRcdGFwaSxcblx0XHRcdHRGID0gJ2Z1bGxzY3JlZW5jaGFuZ2UnO1xuXG5cdFx0aWYgKGRFLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG5cdFx0XHRhcGkgPSB7XG5cdFx0XHRcdGVudGVySzogJ3JlcXVlc3RGdWxsc2NyZWVuJyxcblx0XHRcdFx0ZXhpdEs6ICdleGl0RnVsbHNjcmVlbicsXG5cdFx0XHRcdGVsZW1lbnRLOiAnZnVsbHNjcmVlbkVsZW1lbnQnLFxuXHRcdFx0XHRldmVudEs6IHRGXG5cdFx0XHR9O1xuXG5cdFx0fSBlbHNlIGlmKGRFLm1velJlcXVlc3RGdWxsU2NyZWVuICkge1xuXHRcdFx0YXBpID0ge1xuXHRcdFx0XHRlbnRlcks6ICdtb3pSZXF1ZXN0RnVsbFNjcmVlbicsXG5cdFx0XHRcdGV4aXRLOiAnbW96Q2FuY2VsRnVsbFNjcmVlbicsXG5cdFx0XHRcdGVsZW1lbnRLOiAnbW96RnVsbFNjcmVlbkVsZW1lbnQnLFxuXHRcdFx0XHRldmVudEs6ICdtb3onICsgdEZcblx0XHRcdH07XG5cblx0XHRcdFxuXG5cdFx0fSBlbHNlIGlmKGRFLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG5cdFx0XHRhcGkgPSB7XG5cdFx0XHRcdGVudGVySzogJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJyxcblx0XHRcdFx0ZXhpdEs6ICd3ZWJraXRFeGl0RnVsbHNjcmVlbicsXG5cdFx0XHRcdGVsZW1lbnRLOiAnd2Via2l0RnVsbHNjcmVlbkVsZW1lbnQnLFxuXHRcdFx0XHRldmVudEs6ICd3ZWJraXQnICsgdEZcblx0XHRcdH07XG5cblx0XHR9IGVsc2UgaWYoZEUubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuXHRcdFx0YXBpID0ge1xuXHRcdFx0XHRlbnRlcks6ICdtc1JlcXVlc3RGdWxsc2NyZWVuJyxcblx0XHRcdFx0ZXhpdEs6ICdtc0V4aXRGdWxsc2NyZWVuJyxcblx0XHRcdFx0ZWxlbWVudEs6ICdtc0Z1bGxzY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0ZXZlbnRLOiAnTVNGdWxsc2NyZWVuQ2hhbmdlJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZihhcGkpIHtcblx0XHRcdGFwaS5lbnRlciA9IGZ1bmN0aW9uKCkgeyBcblx0XHRcdFx0Ly8gZGlzYWJsZSBjbG9zZS1vbi1zY3JvbGwgaW4gZnVsbHNjcmVlblxuXHRcdFx0XHRfaW5pdGFsQ2xvc2VPblNjcm9sbFZhbHVlID0gX29wdGlvbnMuY2xvc2VPblNjcm9sbDsgXG5cdFx0XHRcdF9vcHRpb25zLmNsb3NlT25TY3JvbGwgPSBmYWxzZTsgXG5cblx0XHRcdFx0aWYodGhpcy5lbnRlcksgPT09ICd3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbicpIHtcblx0XHRcdFx0XHRwc3dwLnRlbXBsYXRlW3RoaXMuZW50ZXJLXSggRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBwc3dwLnRlbXBsYXRlW3RoaXMuZW50ZXJLXSgpOyBcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGFwaS5leGl0ID0gZnVuY3Rpb24oKSB7IFxuXHRcdFx0XHRfb3B0aW9ucy5jbG9zZU9uU2Nyb2xsID0gX2luaXRhbENsb3NlT25TY3JvbGxWYWx1ZTtcblxuXHRcdFx0XHRyZXR1cm4gZG9jdW1lbnRbdGhpcy5leGl0S10oKTsgXG5cblx0XHRcdH07XG5cdFx0XHRhcGkuaXNGdWxsc2NyZWVuID0gZnVuY3Rpb24oKSB7IHJldHVybiBkb2N1bWVudFt0aGlzLmVsZW1lbnRLXTsgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYXBpO1xuXHR9O1xuXG5cblxufTtcbnJldHVybiBQaG90b1N3aXBlVUlfRGVmYXVsdDtcblxuXG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/photoswipe/dist/photoswipe-ui-default.js\n");

/***/ }),

/***/ "./node_modules/photoswipe/dist/photoswipe.js":
/*!****************************************************!*\
  !*** ./node_modules/photoswipe/dist/photoswipe.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! PhotoSwipe - v4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n(function (root, factory) { \n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n})(this, function () {\n\n\t'use strict';\n\tvar PhotoSwipe = function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = !!(window.PointerEvent) || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\t_orientationChangeTimeout,\n\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll orientationchange', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize scroll orientationchange', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\tclearTimeout(_orientationChangeTimeout);\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\n\t\t\t// Fixes: iOS 10.3 resize event\n\t\t\t// does not update scrollWrap.clientWidth instantly after resize\n\t\t\t// https://github.com/dimsemenov/PhotoSwipe/issues/1315\n\t\t\torientationchange: function() {\n\t\t\t\tclearTimeout(_orientationChangeTimeout);\n\t\t\t\t_orientationChangeTimeout = setTimeout(function() {\n\t\t\t\t\tif(_viewportSize.x !== self.scrollWrap.clientWidth) {\n\t\t\t\t\t\tself.updateSize();\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted – direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n\t\t\t\t\t// fade out background if zooming out\n\t\t\t\t\tvar minusDiff = minZoomLevel - zoomLevel;\n\t\t\t\t\tvar percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n\t\t\t\t\t_applyBgOpacity(percent);\n\t\t\t\t\t_shout('onPinchClose', percent);\n\t\t\t\t\t_opacityChanged = true;\n\t\t\t\t} else {\n\t\t\t\t\tzoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\t\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05 ) {\n\t\t\tanimData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n\t\t\t// Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\t\t\tanimData.calculateOverBoundsAnimOffset('x');\n\t\t\tanimData.calculateOverBoundsAnimOffset('y');\n\t\t\treturn true;\n\t\t}\n\n\t\t// Animation loop that controls the acceleration after pan gesture ends\n\t\t_registerStartAnimation('zoomPan');\n\t\tanimData.lastNow = _getCurrentTime();\n\t\tanimData.panAnimLoop();\n\t},\n\n\n\t_finishSwipeMainScrollGesture = function(gestureType, _releaseAnimData) {\n\t\tvar itemChanged;\n\t\tif(!_mainScrollAnimating) {\n\t\t\t_currZoomedItemIndex = _currentItemIndex;\n\t\t}\n\n\n\t\t\n\t\tvar itemsDiff;\n\n\t\tif(gestureType === 'swipe') {\n\t\t\tvar totalShiftDist = _currPoint.x - _startPoint.x,\n\t\t\t\tisFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n\t\t\t// if container is shifted for more than MIN_SWIPE_DISTANCE, \n\t\t\t// and last flick gesture was in right direction\n\t\t\tif(totalShiftDist > MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t} else {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex+i);\n\t\t\t\t}\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex-i);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('initialLayout', function() {\n\t\t\t\tself.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t\t});\n\n\t\t\t_listen('mainScrollAnimComplete', _appendImagesPool);\n\t\t\t_listen('initialZoomInEnd', _appendImagesPool);\n\n\n\n\t\t\t_listen('destroy', function() {\n\t\t\t\tvar item;\n\t\t\t\tfor(var i = 0; i < _items.length; i++) {\n\t\t\t\t\titem = _items[i];\n\t\t\t\t\t// remove reference to DOM elements, for GC\n\t\t\t\t\tif(item.container) {\n\t\t\t\t\t\titem.container = null; \n\t\t\t\t\t}\n\t\t\t\t\tif(item.placeholder) {\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.img) {\n\t\t\t\t\t\titem.img = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.preloader) {\n\t\t\t\t\t\titem.preloader = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.loadError) {\n\t\t\t\t\t\titem.loaded = item.loadError = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_imagesToAppendPool = null;\n\t\t\t});\n\t\t},\n\n\n\t\tgetItemAt: function(index) {\n\t\t\tif (index >= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_likelyTouchDevice) {\n\t\t\t\t// if detected hardware touch support, we wait until mouse is used,\n\t\t\t\t// and only then apply desktop-zoom features\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\tself.setupDesktopZoom();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.setupDesktopZoom(true);\n\t\t\t}\n\n\t\t},\n\n\t\tsetupDesktopZoom: function(onInit) {\n\n\t\t\t_wheelDelta = {};\n\n\t\t\tvar events = 'wheel mousewheel DOMMouseScroll';\n\t\t\t\n\t\t\t_listen('bindEvents', function() {\n\t\t\t\tframework.bind(template, events,  self.handleMouseWheel);\n\t\t\t});\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_wheelDelta) {\n\t\t\t\t\tframework.unbind(template, events, self.handleMouseWheel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.mouseZoomedIn = false;\n\n\t\t\tvar hasDraggingClass,\n\t\t\t\tupdateZoomable = function() {\n\t\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoomed-in');\n\t\t\t\t\t\tself.mouseZoomedIn = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(_currZoomLevel < 1) {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t}\n\t\t\t\t\tremoveDraggingClass();\n\t\t\t\t},\n\t\t\t\tremoveDraggingClass = function() {\n\t\t\t\t\tif(hasDraggingClass) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--dragging');\n\t\t\t\t\t\thasDraggingClass = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t_listen('resize' , updateZoomable);\n\t\t\t_listen('afterChange' , updateZoomable);\n\t\t\t_listen('pointerDown', function() {\n\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\thasDraggingClass = true;\n\t\t\t\t\tframework.addClass(template, 'pswp--dragging');\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('pointerUp', removeDraggingClass);\n\n\t\t\tif(!onInit) {\n\t\t\t\tupdateZoomable();\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\thandleMouseWheel: function(e) {\n\n\t\t\tif(_currZoomLevel <= self.currItem.fitRatio) {\n\t\t\t\tif( _options.modal ) {\n\n\t\t\t\t\tif (!_options.closeOnScroll || _numAnimations || _isDragging) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else if(_transformKey && Math.abs(e.deltaY) > 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n\treturn PhotoSwipe;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGhvdG9zd2lwZS9kaXN0L3Bob3Rvc3dpcGUuanM/YjI0ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLDJCO0FBQ0EsS0FBSyxJQUEwQztBQUMvQyxFQUFFLG9DQUFPLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUNqQixFQUFFLE1BQU0sRUFJTjtBQUNGLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLDRGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixPQUFPLFdBQVc7QUFDM0M7QUFDQTs7QUFFQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLDhCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSw2Q0FBNkM7QUFDN0MsSTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLE9BQU87QUFDdkI7O0FBRUEsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMkJBQTJCLEVBQUU7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtCQUFrQjtBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQSxpQztBQUNBLFVBQVUsUztBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsaUU7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0U7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSwyQztBQUNBO0FBQ0EsR0FB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O0FBR0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7O0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQzs7OztBQUlBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0EsRztBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsS0FBSztBQUNMLHFCQUFxQjtBQUNyQixLO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixvQkFBb0I7QUFDcEIscUJBQXFCO0FBQ3JCLHFCQUFxQjtBQUNyQiw0QkFBNEI7QUFDNUIsOEJBQThCO0FBQzlCLGlDQUFpQztBQUNqQyxzQkFBc0I7QUFDdEIsMEJBQTBCO0FBQzFCLHNCQUFzQjtBQUN0Qjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSw0QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSixpRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQzs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdEOztBQUV4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7O0FBR0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxvQ0FBb0MsU0FBUztBQUM3QztBQUNBLGtCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSSxpQkFBaUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsUUFBUSxRQUFRO0FBQ2hCLFFBQVE7QUFDUjtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxvQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7Ozs7QUFLRjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFOzs7O0FBSUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEk7O0FBRUEscUJBQXFCOztBQUVyQjtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsZ0NBQWdDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7OztBQUl6QztBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLGNBQWMsOENBQThDO0FBQzVEO0FBQ0E7QUFDQSxjQUFjLDhDQUE4QztBQUM1RDtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0EsNEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0c7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esd0U7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0E7O0FBRUE7O0FBRUEsbUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCLHFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxHQUFHOztBQUVIOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7O0FBR0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QjtBQUN2QjtBQUNBOztBQUVBO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsaUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLGFBQWEsbUJBQW1CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7Ozs7OztBQU1BOzs7O0FBSUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJOzs7OztBQUtKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsSUFBSTs7QUFFSixHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCO0FBQ2xCLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOzs7QUFHRDtBQUNBLHVDQUF1QztBQUN2QztBQUNBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcGhvdG9zd2lwZS9kaXN0L3Bob3Rvc3dpcGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgUGhvdG9Td2lwZSAtIHY0LjEuMyAtIDIwMTktMDEtMDhcbiogaHR0cDovL3Bob3Rvc3dpcGUuY29tXG4qIENvcHlyaWdodCAoYykgMjAxOSBEbWl0cnkgU2VtZW5vdjsgKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgeyBcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fSBlbHNlIHtcblx0XHRyb290LlBob3RvU3dpcGUgPSBmYWN0b3J5KCk7XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBQaG90b1N3aXBlID0gZnVuY3Rpb24odGVtcGxhdGUsIFVpQ2xhc3MsIGl0ZW1zLCBvcHRpb25zKXtcblxuLyo+PmZyYW1ld29yay1icmlkZ2UqL1xuLyoqXG4gKlxuICogU2V0IG9mIGdlbmVyaWMgZnVuY3Rpb25zIHVzZWQgYnkgZ2FsbGVyeS5cbiAqIFxuICogWW91J3JlIGZyZWUgdG8gbW9kaWZ5IGFueXRoaW5nIGhlcmUgYXMgbG9uZyBhcyBmdW5jdGlvbmFsaXR5IGlzIGtlcHQuXG4gKiBcbiAqL1xudmFyIGZyYW1ld29yayA9IHtcblx0ZmVhdHVyZXM6IG51bGwsXG5cdGJpbmQ6IGZ1bmN0aW9uKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHVuYmluZCkge1xuXHRcdHZhciBtZXRob2ROYW1lID0gKHVuYmluZCA/ICdyZW1vdmUnIDogJ2FkZCcpICsgJ0V2ZW50TGlzdGVuZXInO1xuXHRcdHR5cGUgPSB0eXBlLnNwbGl0KCcgJyk7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmKHR5cGVbaV0pIHtcblx0XHRcdFx0dGFyZ2V0W21ldGhvZE5hbWVdKCB0eXBlW2ldLCBsaXN0ZW5lciwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aXNBcnJheTogZnVuY3Rpb24ob2JqKSB7XG5cdFx0cmV0dXJuIChvYmogaW5zdGFuY2VvZiBBcnJheSk7XG5cdH0sXG5cdGNyZWF0ZUVsOiBmdW5jdGlvbihjbGFzc2VzLCB0YWcpIHtcblx0XHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyB8fCAnZGl2Jyk7XG5cdFx0aWYoY2xhc3Nlcykge1xuXHRcdFx0ZWwuY2xhc3NOYW1lID0gY2xhc3Nlcztcblx0XHR9XG5cdFx0cmV0dXJuIGVsO1xuXHR9LFxuXHRnZXRTY3JvbGxZOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgeU9mZnNldCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcblx0XHRyZXR1cm4geU9mZnNldCAhPT0gdW5kZWZpbmVkID8geU9mZnNldCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG5cdH0sXG5cdHVuYmluZDogZnVuY3Rpb24odGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuXHRcdGZyYW1ld29yay5iaW5kKHRhcmdldCx0eXBlLGxpc3RlbmVyLHRydWUpO1xuXHR9LFxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oZWwsIGNsYXNzTmFtZSkge1xuXHRcdHZhciByZWcgPSBuZXcgUmVnRXhwKCcoXFxcXHN8XiknICsgY2xhc3NOYW1lICsgJyhcXFxcc3wkKScpO1xuXHRcdGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKHJlZywgJyAnKS5yZXBsYWNlKC9eXFxzXFxzKi8sICcnKS5yZXBsYWNlKC9cXHNcXHMqJC8sICcnKTsgXG5cdH0sXG5cdGFkZENsYXNzOiBmdW5jdGlvbihlbCwgY2xhc3NOYW1lKSB7XG5cdFx0aWYoICFmcmFtZXdvcmsuaGFzQ2xhc3MoZWwsY2xhc3NOYW1lKSApIHtcblx0XHRcdGVsLmNsYXNzTmFtZSArPSAoZWwuY2xhc3NOYW1lID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuXHRcdH1cblx0fSxcblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKGVsLCBjbGFzc05hbWUpIHtcblx0XHRyZXR1cm4gZWwuY2xhc3NOYW1lICYmIG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBjbGFzc05hbWUgKyAnKFxcXFxzfCQpJykudGVzdChlbC5jbGFzc05hbWUpO1xuXHR9LFxuXHRnZXRDaGlsZEJ5Q2xhc3M6IGZ1bmN0aW9uKHBhcmVudEVsLCBjaGlsZENsYXNzTmFtZSkge1xuXHRcdHZhciBub2RlID0gcGFyZW50RWwuZmlyc3RDaGlsZDtcblx0XHR3aGlsZShub2RlKSB7XG5cdFx0XHRpZiggZnJhbWV3b3JrLmhhc0NsYXNzKG5vZGUsIGNoaWxkQ2xhc3NOYW1lKSApIHtcblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0XHRub2RlID0gbm9kZS5uZXh0U2libGluZztcblx0XHR9XG5cdH0sXG5cdGFycmF5U2VhcmNoOiBmdW5jdGlvbihhcnJheSwgdmFsdWUsIGtleSkge1xuXHRcdHZhciBpID0gYXJyYXkubGVuZ3RoO1xuXHRcdHdoaWxlKGktLSkge1xuXHRcdFx0aWYoYXJyYXlbaV1ba2V5XSA9PT0gdmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9IFxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cdGV4dGVuZDogZnVuY3Rpb24obzEsIG8yLCBwcmV2ZW50T3ZlcndyaXRlKSB7XG5cdFx0Zm9yICh2YXIgcHJvcCBpbiBvMikge1xuXHRcdFx0aWYgKG8yLmhhc093blByb3BlcnR5KHByb3ApKSB7XG5cdFx0XHRcdGlmKHByZXZlbnRPdmVyd3JpdGUgJiYgbzEuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvMVtwcm9wXSA9IG8yW3Byb3BdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0ZWFzaW5nOiB7XG5cdFx0c2luZToge1xuXHRcdFx0b3V0OiBmdW5jdGlvbihrKSB7XG5cdFx0XHRcdHJldHVybiBNYXRoLnNpbihrICogKE1hdGguUEkgLyAyKSk7XG5cdFx0XHR9LFxuXHRcdFx0aW5PdXQ6IGZ1bmN0aW9uKGspIHtcblx0XHRcdFx0cmV0dXJuIC0gKE1hdGguY29zKE1hdGguUEkgKiBrKSAtIDEpIC8gMjtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGN1YmljOiB7XG5cdFx0XHRvdXQ6IGZ1bmN0aW9uKGspIHtcblx0XHRcdFx0cmV0dXJuIC0tayAqIGsgKiBrICsgMTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Lypcblx0XHRcdGVsYXN0aWM6IHtcblx0XHRcdFx0b3V0OiBmdW5jdGlvbiAoIGsgKSB7XG5cblx0XHRcdFx0XHR2YXIgcywgYSA9IDAuMSwgcCA9IDAuNDtcblx0XHRcdFx0XHRpZiAoIGsgPT09IDAgKSByZXR1cm4gMDtcblx0XHRcdFx0XHRpZiAoIGsgPT09IDEgKSByZXR1cm4gMTtcblx0XHRcdFx0XHRpZiAoICFhIHx8IGEgPCAxICkgeyBhID0gMTsgcyA9IHAgLyA0OyB9XG5cdFx0XHRcdFx0ZWxzZSBzID0gcCAqIE1hdGguYXNpbiggMSAvIGEgKSAvICggMiAqIE1hdGguUEkgKTtcblx0XHRcdFx0XHRyZXR1cm4gKCBhICogTWF0aC5wb3coIDIsIC0gMTAgKiBrKSAqIE1hdGguc2luKCAoIGsgLSBzICkgKiAoIDIgKiBNYXRoLlBJICkgLyBwICkgKyAxICk7XG5cblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRiYWNrOiB7XG5cdFx0XHRcdG91dDogZnVuY3Rpb24gKCBrICkge1xuXHRcdFx0XHRcdHZhciBzID0gMS43MDE1ODtcblx0XHRcdFx0XHRyZXR1cm4gLS1rICogayAqICggKCBzICsgMSApICogayArIHMgKSArIDE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHQqL1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBcblx0ICogQHJldHVybiB7b2JqZWN0fVxuXHQgKiBcblx0ICoge1xuXHQgKiAgcmFmIDogcmVxdWVzdCBhbmltYXRpb24gZnJhbWUgZnVuY3Rpb25cblx0ICogIGNhZiA6IGNhbmNlbCBhbmltYXRpb24gZnJhbWUgZnVuY3Rpb25cblx0ICogIHRyYW5zZnJvbSA6IHRyYW5zZm9ybSBwcm9wZXJ0eSBrZXkgKHdpdGggdmVuZG9yKSwgb3IgbnVsbCBpZiBub3Qgc3VwcG9ydGVkXG5cdCAqICBvbGRJRSA6IElFOCBvciBiZWxvd1xuXHQgKiB9XG5cdCAqIFxuXHQgKi9cblx0ZGV0ZWN0RmVhdHVyZXM6IGZ1bmN0aW9uKCkge1xuXHRcdGlmKGZyYW1ld29yay5mZWF0dXJlcykge1xuXHRcdFx0cmV0dXJuIGZyYW1ld29yay5mZWF0dXJlcztcblx0XHR9XG5cdFx0dmFyIGhlbHBlckVsID0gZnJhbWV3b3JrLmNyZWF0ZUVsKCksXG5cdFx0XHRoZWxwZXJTdHlsZSA9IGhlbHBlckVsLnN0eWxlLFxuXHRcdFx0dmVuZG9yID0gJycsXG5cdFx0XHRmZWF0dXJlcyA9IHt9O1xuXG5cdFx0Ly8gSUU4IGFuZCBiZWxvd1xuXHRcdGZlYXR1cmVzLm9sZElFID0gZG9jdW1lbnQuYWxsICYmICFkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyO1xuXG5cdFx0ZmVhdHVyZXMudG91Y2ggPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG5cblx0XHRpZih3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG5cdFx0XHRmZWF0dXJlcy5yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXHRcdFx0ZmVhdHVyZXMuY2FmID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lO1xuXHRcdH1cblxuXHRcdGZlYXR1cmVzLnBvaW50ZXJFdmVudCA9ICEhKHdpbmRvdy5Qb2ludGVyRXZlbnQpIHx8IG5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkO1xuXG5cdFx0Ly8gZml4IGZhbHNlLXBvc2l0aXZlIGRldGVjdGlvbiBvZiBvbGQgQW5kcm9pZCBpbiBuZXcgSUVcblx0XHQvLyAoSUUxMSB1YSBzdHJpbmcgY29udGFpbnMgXCJBbmRyb2lkIDQuMFwiKVxuXHRcdFxuXHRcdGlmKCFmZWF0dXJlcy5wb2ludGVyRXZlbnQpIHsgXG5cblx0XHRcdHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG5cblx0XHRcdC8vIERldGVjdCBpZiBkZXZpY2UgaXMgaVBob25lIG9yIGlQb2QgYW5kIGlmIGl0J3Mgb2xkZXIgdGhhbiBpT1MgOFxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQyMjM5MjBcblx0XHRcdC8vIFxuXHRcdFx0Ly8gVGhpcyBkZXRlY3Rpb24gaXMgbWFkZSBiZWNhdXNlIG9mIGJ1Z2d5IHRvcC9ib3R0b20gdG9vbGJhcnNcblx0XHRcdC8vIHRoYXQgZG9uJ3QgdHJpZ2dlciB3aW5kb3cucmVzaXplIGV2ZW50LlxuXHRcdFx0Ly8gRm9yIG1vcmUgaW5mbyByZWZlciB0byBfaXNGaXhlZFBvc2l0aW9uIHZhcmlhYmxlIGluIGNvcmUuanNcblxuXHRcdFx0aWYgKC9pUChob25lfG9kKS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pKSB7XG5cdFx0XHRcdHZhciB2ID0gKG5hdmlnYXRvci5hcHBWZXJzaW9uKS5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pO1xuXHRcdFx0XHRpZih2ICYmIHYubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdHYgPSBwYXJzZUludCh2WzFdLCAxMCk7XG5cdFx0XHRcdFx0aWYodiA+PSAxICYmIHYgPCA4ICkge1xuXHRcdFx0XHRcdFx0ZmVhdHVyZXMuaXNPbGRJT1NQaG9uZSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIERldGVjdCBvbGQgQW5kcm9pZCAoYmVmb3JlIEtpdEthdClcblx0XHRcdC8vIGR1ZSB0byBidWdzIHJlbGF0ZWQgdG8gcG9zaXRpb246Zml4ZWRcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzE4NDU3My9waWNrLXVwLXRoZS1hbmRyb2lkLXZlcnNpb24taW4tdGhlLWJyb3dzZXItYnktamF2YXNjcmlwdFxuXHRcdFx0XG5cdFx0XHR2YXIgbWF0Y2ggPSB1YS5tYXRjaCgvQW5kcm9pZFxccyhbMC05XFwuXSopLyk7XG5cdFx0XHR2YXIgYW5kcm9pZHZlcnNpb24gPSAgbWF0Y2ggPyBtYXRjaFsxXSA6IDA7XG5cdFx0XHRhbmRyb2lkdmVyc2lvbiA9IHBhcnNlRmxvYXQoYW5kcm9pZHZlcnNpb24pO1xuXHRcdFx0aWYoYW5kcm9pZHZlcnNpb24gPj0gMSApIHtcblx0XHRcdFx0aWYoYW5kcm9pZHZlcnNpb24gPCA0LjQpIHtcblx0XHRcdFx0XHRmZWF0dXJlcy5pc09sZEFuZHJvaWQgPSB0cnVlOyAvLyBmb3IgZml4ZWQgcG9zaXRpb24gYnVnICYgcGVyZm9ybWFuY2Vcblx0XHRcdFx0fVxuXHRcdFx0XHRmZWF0dXJlcy5hbmRyb2lkVmVyc2lvbiA9IGFuZHJvaWR2ZXJzaW9uOyAvLyBmb3IgdG91Y2hlbmQgYnVnXG5cdFx0XHR9XHRcblx0XHRcdGZlYXR1cmVzLmlzTW9iaWxlT3BlcmEgPSAvb3BlcmEgbWluaXxvcGVyYSBtb2JpL2kudGVzdCh1YSk7XG5cblx0XHRcdC8vIHAucy4geWVzLCB5ZXMsIFVBIHNuaWZmaW5nIGlzIGJhZCwgcHJvcG9zZSB5b3VyIHNvbHV0aW9uIGZvciBhYm92ZSBidWdzLlxuXHRcdH1cblx0XHRcblx0XHR2YXIgc3R5bGVDaGVja3MgPSBbJ3RyYW5zZm9ybScsICdwZXJzcGVjdGl2ZScsICdhbmltYXRpb25OYW1lJ10sXG5cdFx0XHR2ZW5kb3JzID0gWycnLCAnd2Via2l0JywnTW96JywnbXMnLCdPJ10sXG5cdFx0XHRzdHlsZUNoZWNrSXRlbSxcblx0XHRcdHN0eWxlTmFtZTtcblxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcblx0XHRcdHZlbmRvciA9IHZlbmRvcnNbaV07XG5cblx0XHRcdGZvcih2YXIgYSA9IDA7IGEgPCAzOyBhKyspIHtcblx0XHRcdFx0c3R5bGVDaGVja0l0ZW0gPSBzdHlsZUNoZWNrc1thXTtcblxuXHRcdFx0XHQvLyB1cHBlcmNhc2UgZmlyc3QgbGV0dGVyIG9mIHByb3BlcnR5IG5hbWUsIGlmIHZlbmRvciBpcyBwcmVzZW50XG5cdFx0XHRcdHN0eWxlTmFtZSA9IHZlbmRvciArICh2ZW5kb3IgPyBcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGVDaGVja0l0ZW0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHlsZUNoZWNrSXRlbS5zbGljZSgxKSA6IFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZUNoZWNrSXRlbSk7XG5cdFx0XHRcblx0XHRcdFx0aWYoIWZlYXR1cmVzW3N0eWxlQ2hlY2tJdGVtXSAmJiBzdHlsZU5hbWUgaW4gaGVscGVyU3R5bGUgKSB7XG5cdFx0XHRcdFx0ZmVhdHVyZXNbc3R5bGVDaGVja0l0ZW1dID0gc3R5bGVOYW1lO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmKHZlbmRvciAmJiAhZmVhdHVyZXMucmFmKSB7XG5cdFx0XHRcdHZlbmRvciA9IHZlbmRvci50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRmZWF0dXJlcy5yYWYgPSB3aW5kb3dbdmVuZG9yKydSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcblx0XHRcdFx0aWYoZmVhdHVyZXMucmFmKSB7XG5cdFx0XHRcdFx0ZmVhdHVyZXMuY2FmID0gd2luZG93W3ZlbmRvcisnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCBcblx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvd1t2ZW5kb3IrJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFx0XG5cdFx0aWYoIWZlYXR1cmVzLnJhZikge1xuXHRcdFx0dmFyIGxhc3RUaW1lID0gMDtcblx0XHRcdGZlYXR1cmVzLnJhZiA9IGZ1bmN0aW9uKGZuKSB7XG5cdFx0XHRcdHZhciBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdFx0XHR2YXIgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKTtcblx0XHRcdFx0dmFyIGlkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZuKGN1cnJUaW1lICsgdGltZVRvQ2FsbCk7IH0sIHRpbWVUb0NhbGwpO1xuXHRcdFx0XHRsYXN0VGltZSA9IGN1cnJUaW1lICsgdGltZVRvQ2FsbDtcblx0XHRcdFx0cmV0dXJuIGlkO1xuXHRcdFx0fTtcblx0XHRcdGZlYXR1cmVzLmNhZiA9IGZ1bmN0aW9uKGlkKSB7IGNsZWFyVGltZW91dChpZCk7IH07XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IFNWRyBzdXBwb3J0XG5cdFx0ZmVhdHVyZXMuc3ZnID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgXG5cdFx0XHRcdFx0XHQhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJykuY3JlYXRlU1ZHUmVjdDtcblxuXHRcdGZyYW1ld29yay5mZWF0dXJlcyA9IGZlYXR1cmVzO1xuXG5cdFx0cmV0dXJuIGZlYXR1cmVzO1xuXHR9XG59O1xuXG5mcmFtZXdvcmsuZGV0ZWN0RmVhdHVyZXMoKTtcblxuLy8gT3ZlcnJpZGUgYWRkRXZlbnRMaXN0ZW5lciBmb3Igb2xkIHZlcnNpb25zIG9mIElFXG5pZihmcmFtZXdvcmsuZmVhdHVyZXMub2xkSUUpIHtcblxuXHRmcmFtZXdvcmsuYmluZCA9IGZ1bmN0aW9uKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHVuYmluZCkge1xuXHRcdFxuXHRcdHR5cGUgPSB0eXBlLnNwbGl0KCcgJyk7XG5cblx0XHR2YXIgbWV0aG9kTmFtZSA9ICh1bmJpbmQgPyAnZGV0YWNoJyA6ICdhdHRhY2gnKSArICdFdmVudCcsXG5cdFx0XHRldk5hbWUsXG5cdFx0XHRfaGFuZGxlRXYgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0bGlzdGVuZXIuaGFuZGxlRXZlbnQuY2FsbChsaXN0ZW5lcik7XG5cdFx0XHR9O1xuXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyBpKyspIHtcblx0XHRcdGV2TmFtZSA9IHR5cGVbaV07XG5cdFx0XHRpZihldk5hbWUpIHtcblxuXHRcdFx0XHRpZih0eXBlb2YgbGlzdGVuZXIgPT09ICdvYmplY3QnICYmIGxpc3RlbmVyLmhhbmRsZUV2ZW50KSB7XG5cdFx0XHRcdFx0aWYoIXVuYmluZCkge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJbJ29sZElFJyArIGV2TmFtZV0gPSBfaGFuZGxlRXY7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmKCFsaXN0ZW5lclsnb2xkSUUnICsgZXZOYW1lXSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGFyZ2V0W21ldGhvZE5hbWVdKCAnb24nICsgZXZOYW1lLCBsaXN0ZW5lclsnb2xkSUUnICsgZXZOYW1lXSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGFyZ2V0W21ldGhvZE5hbWVdKCAnb24nICsgZXZOYW1lLCBsaXN0ZW5lcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG59XG5cbi8qPj5mcmFtZXdvcmstYnJpZGdlKi9cblxuLyo+PmNvcmUqL1xuLy9mdW5jdGlvbih0ZW1wbGF0ZSwgVWlDbGFzcywgaXRlbXMsIG9wdGlvbnMpXG5cbnZhciBzZWxmID0gdGhpcztcblxuLyoqXG4gKiBTdGF0aWMgdmFycywgZG9uJ3QgY2hhbmdlIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy5cbiAqL1xudmFyIERPVUJMRV9UQVBfUkFESVVTID0gMjUsIFxuXHROVU1fSE9MREVSUyA9IDM7XG5cbi8qKlxuICogT3B0aW9uc1xuICovXG52YXIgX29wdGlvbnMgPSB7XG5cdGFsbG93UGFuVG9OZXh0OnRydWUsXG5cdHNwYWNpbmc6IDAuMTIsXG5cdGJnT3BhY2l0eTogMSxcblx0bW91c2VVc2VkOiBmYWxzZSxcblx0bG9vcDogdHJ1ZSxcblx0cGluY2hUb0Nsb3NlOiB0cnVlLFxuXHRjbG9zZU9uU2Nyb2xsOiB0cnVlLFxuXHRjbG9zZU9uVmVydGljYWxEcmFnOiB0cnVlLFxuXHR2ZXJ0aWNhbERyYWdSYW5nZTogMC43NSxcblx0aGlkZUFuaW1hdGlvbkR1cmF0aW9uOiAzMzMsXG5cdHNob3dBbmltYXRpb25EdXJhdGlvbjogMzMzLFxuXHRzaG93SGlkZU9wYWNpdHk6IGZhbHNlLFxuXHRmb2N1czogdHJ1ZSxcblx0ZXNjS2V5OiB0cnVlLFxuXHRhcnJvd0tleXM6IHRydWUsXG5cdG1haW5TY3JvbGxFbmRGcmljdGlvbjogMC4zNSxcblx0cGFuRW5kRnJpY3Rpb246IDAuMzUsXG5cdGlzQ2xpY2thYmxlRWxlbWVudDogZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgcmV0dXJuIGVsLnRhZ05hbWUgPT09ICdBJztcbiAgICB9LFxuICAgIGdldERvdWJsZVRhcFpvb206IGZ1bmN0aW9uKGlzTW91c2VDbGljaywgaXRlbSkge1xuICAgIFx0aWYoaXNNb3VzZUNsaWNrKSB7XG4gICAgXHRcdHJldHVybiAxO1xuICAgIFx0fSBlbHNlIHtcbiAgICBcdFx0cmV0dXJuIGl0ZW0uaW5pdGlhbFpvb21MZXZlbCA8IDAuNyA/IDEgOiAxLjMzO1xuICAgIFx0fVxuICAgIH0sXG4gICAgbWF4U3ByZWFkWm9vbTogMS4zMyxcblx0bW9kYWw6IHRydWUsXG5cblx0Ly8gbm90IGZ1bGx5IGltcGxlbWVudGVkIHlldFxuXHRzY2FsZU1vZGU6ICdmaXQnIC8vIFRPRE9cbn07XG5mcmFtZXdvcmsuZXh0ZW5kKF9vcHRpb25zLCBvcHRpb25zKTtcblxuXG4vKipcbiAqIFByaXZhdGUgaGVscGVyIHZhcmlhYmxlcyAmIGZ1bmN0aW9uc1xuICovXG5cbnZhciBfZ2V0RW1wdHlQb2ludCA9IGZ1bmN0aW9uKCkgeyBcblx0XHRyZXR1cm4ge3g6MCx5OjB9OyBcblx0fTtcblxudmFyIF9pc09wZW4sXG5cdF9pc0Rlc3Ryb3lpbmcsXG5cdF9jbG9zZWRCeVNjcm9sbCxcblx0X2N1cnJlbnRJdGVtSW5kZXgsXG5cdF9jb250YWluZXJTdHlsZSxcblx0X2NvbnRhaW5lclNoaWZ0SW5kZXgsXG5cdF9jdXJyUGFuRGlzdCA9IF9nZXRFbXB0eVBvaW50KCksXG5cdF9zdGFydFBhbk9mZnNldCA9IF9nZXRFbXB0eVBvaW50KCksXG5cdF9wYW5PZmZzZXQgPSBfZ2V0RW1wdHlQb2ludCgpLFxuXHRfdXBNb3ZlRXZlbnRzLCAvLyBkcmFnIG1vdmUsIGRyYWcgZW5kICYgZHJhZyBjYW5jZWwgZXZlbnRzIGFycmF5XG5cdF9kb3duRXZlbnRzLCAvLyBkcmFnIHN0YXJ0IGV2ZW50cyBhcnJheVxuXHRfZ2xvYmFsRXZlbnRIYW5kbGVycyxcblx0X3ZpZXdwb3J0U2l6ZSA9IHt9LFxuXHRfY3Vyclpvb21MZXZlbCxcblx0X3N0YXJ0Wm9vbUxldmVsLFxuXHRfdHJhbnNsYXRlUHJlZml4LFxuXHRfdHJhbnNsYXRlU3VmaXgsXG5cdF91cGRhdGVTaXplSW50ZXJ2YWwsXG5cdF9pdGVtc05lZWRVcGRhdGUsXG5cdF9jdXJyUG9zaXRpb25JbmRleCA9IDAsXG5cdF9vZmZzZXQgPSB7fSxcblx0X3NsaWRlU2l6ZSA9IF9nZXRFbXB0eVBvaW50KCksIC8vIHNpemUgb2Ygc2xpZGUgYXJlYSwgaW5jbHVkaW5nIHNwYWNpbmdcblx0X2l0ZW1Ib2xkZXJzLFxuXHRfcHJldkl0ZW1JbmRleCxcblx0X2luZGV4RGlmZiA9IDAsIC8vIGRpZmZlcmVuY2Ugb2YgaW5kZXhlcyBzaW5jZSBsYXN0IGNvbnRlbnQgdXBkYXRlXG5cdF9kcmFnU3RhcnRFdmVudCxcblx0X2RyYWdNb3ZlRXZlbnQsXG5cdF9kcmFnRW5kRXZlbnQsXG5cdF9kcmFnQ2FuY2VsRXZlbnQsXG5cdF90cmFuc2Zvcm1LZXksXG5cdF9wb2ludGVyRXZlbnRFbmFibGVkLFxuXHRfaXNGaXhlZFBvc2l0aW9uID0gdHJ1ZSxcblx0X2xpa2VseVRvdWNoRGV2aWNlLFxuXHRfbW9kdWxlcyA9IFtdLFxuXHRfcmVxdWVzdEFGLFxuXHRfY2FuY2VsQUYsXG5cdF9pbml0YWxDbGFzc05hbWUsXG5cdF9pbml0YWxXaW5kb3dTY3JvbGxZLFxuXHRfb2xkSUUsXG5cdF9jdXJyZW50V2luZG93U2Nyb2xsWSxcblx0X2ZlYXR1cmVzLFxuXHRfd2luZG93VmlzaWJsZVNpemUgPSB7fSxcblx0X3JlbmRlck1heFJlc29sdXRpb24gPSBmYWxzZSxcblx0X29yaWVudGF0aW9uQ2hhbmdlVGltZW91dCxcblxuXG5cdC8vIFJlZ2lzdGVycyBQaG90b1NXaXBlIG1vZHVsZSAoSGlzdG9yeSwgQ29udHJvbGxlciAuLi4pXG5cdF9yZWdpc3Rlck1vZHVsZSA9IGZ1bmN0aW9uKG5hbWUsIG1vZHVsZSkge1xuXHRcdGZyYW1ld29yay5leHRlbmQoc2VsZiwgbW9kdWxlLnB1YmxpY01ldGhvZHMpO1xuXHRcdF9tb2R1bGVzLnB1c2gobmFtZSk7XG5cdH0sXG5cblx0X2dldExvb3BlZElkID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0XHR2YXIgbnVtU2xpZGVzID0gX2dldE51bUl0ZW1zKCk7XG5cdFx0aWYoaW5kZXggPiBudW1TbGlkZXMgLSAxKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXggLSBudW1TbGlkZXM7XG5cdFx0fSBlbHNlICBpZihpbmRleCA8IDApIHtcblx0XHRcdHJldHVybiBudW1TbGlkZXMgKyBpbmRleDtcblx0XHR9XG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9LFxuXHRcblx0Ly8gTWljcm8gYmluZC90cmlnZ2VyXG5cdF9saXN0ZW5lcnMgPSB7fSxcblx0X2xpc3RlbiA9IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG5cdFx0aWYoIV9saXN0ZW5lcnNbbmFtZV0pIHtcblx0XHRcdF9saXN0ZW5lcnNbbmFtZV0gPSBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIF9saXN0ZW5lcnNbbmFtZV0ucHVzaChmbik7XG5cdH0sXG5cdF9zaG91dCA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHR2YXIgbGlzdGVuZXJzID0gX2xpc3RlbmVyc1tuYW1lXTtcblxuXHRcdGlmKGxpc3RlbmVycykge1xuXHRcdFx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXHRcdFx0YXJncy5zaGlmdCgpO1xuXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGxpc3RlbmVyc1tpXS5hcHBseShzZWxmLCBhcmdzKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2dldEN1cnJlbnRUaW1lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHR9LFxuXHRfYXBwbHlCZ09wYWNpdHkgPSBmdW5jdGlvbihvcGFjaXR5KSB7XG5cdFx0X2JnT3BhY2l0eSA9IG9wYWNpdHk7XG5cdFx0c2VsZi5iZy5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eSAqIF9vcHRpb25zLmJnT3BhY2l0eTtcblx0fSxcblxuXHRfYXBwbHlab29tVHJhbnNmb3JtID0gZnVuY3Rpb24oc3R5bGVPYmoseCx5LHpvb20saXRlbSkge1xuXHRcdGlmKCFfcmVuZGVyTWF4UmVzb2x1dGlvbiB8fCAoaXRlbSAmJiBpdGVtICE9PSBzZWxmLmN1cnJJdGVtKSApIHtcblx0XHRcdHpvb20gPSB6b29tIC8gKGl0ZW0gPyBpdGVtLmZpdFJhdGlvIDogc2VsZi5jdXJySXRlbS5maXRSYXRpbyk7XHRcblx0XHR9XG5cdFx0XHRcblx0XHRzdHlsZU9ialtfdHJhbnNmb3JtS2V5XSA9IF90cmFuc2xhdGVQcmVmaXggKyB4ICsgJ3B4LCAnICsgeSArICdweCcgKyBfdHJhbnNsYXRlU3VmaXggKyAnIHNjYWxlKCcgKyB6b29tICsgJyknO1xuXHR9LFxuXHRfYXBwbHlDdXJyZW50Wm9vbVBhbiA9IGZ1bmN0aW9uKCBhbGxvd1JlbmRlclJlc29sdXRpb24gKSB7XG5cdFx0aWYoX2N1cnJab29tRWxlbWVudFN0eWxlKSB7XG5cblx0XHRcdGlmKGFsbG93UmVuZGVyUmVzb2x1dGlvbikge1xuXHRcdFx0XHRpZihfY3Vyclpvb21MZXZlbCA+IHNlbGYuY3Vyckl0ZW0uZml0UmF0aW8pIHtcblx0XHRcdFx0XHRpZighX3JlbmRlck1heFJlc29sdXRpb24pIHtcblx0XHRcdFx0XHRcdF9zZXRJbWFnZVNpemUoc2VsZi5jdXJySXRlbSwgZmFsc2UsIHRydWUpO1xuXHRcdFx0XHRcdFx0X3JlbmRlck1heFJlc29sdXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZihfcmVuZGVyTWF4UmVzb2x1dGlvbikge1xuXHRcdFx0XHRcdFx0X3NldEltYWdlU2l6ZShzZWxmLmN1cnJJdGVtKTtcblx0XHRcdFx0XHRcdF9yZW5kZXJNYXhSZXNvbHV0aW9uID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblxuXHRcdFx0X2FwcGx5Wm9vbVRyYW5zZm9ybShfY3Vyclpvb21FbGVtZW50U3R5bGUsIF9wYW5PZmZzZXQueCwgX3Bhbk9mZnNldC55LCBfY3Vyclpvb21MZXZlbCk7XG5cdFx0fVxuXHR9LFxuXHRfYXBwbHlab29tUGFuVG9JdGVtID0gZnVuY3Rpb24oaXRlbSkge1xuXHRcdGlmKGl0ZW0uY29udGFpbmVyKSB7XG5cblx0XHRcdF9hcHBseVpvb21UcmFuc2Zvcm0oaXRlbS5jb250YWluZXIuc3R5bGUsIFxuXHRcdFx0XHRcdFx0XHRcdGl0ZW0uaW5pdGlhbFBvc2l0aW9uLngsIFxuXHRcdFx0XHRcdFx0XHRcdGl0ZW0uaW5pdGlhbFBvc2l0aW9uLnksIFxuXHRcdFx0XHRcdFx0XHRcdGl0ZW0uaW5pdGlhbFpvb21MZXZlbCxcblx0XHRcdFx0XHRcdFx0XHRpdGVtKTtcblx0XHR9XG5cdH0sXG5cdF9zZXRUcmFuc2xhdGVYID0gZnVuY3Rpb24oeCwgZWxTdHlsZSkge1xuXHRcdGVsU3R5bGVbX3RyYW5zZm9ybUtleV0gPSBfdHJhbnNsYXRlUHJlZml4ICsgeCArICdweCwgMHB4JyArIF90cmFuc2xhdGVTdWZpeDtcblx0fSxcblx0X21vdmVNYWluU2Nyb2xsID0gZnVuY3Rpb24oeCwgZHJhZ2dpbmcpIHtcblxuXHRcdGlmKCFfb3B0aW9ucy5sb29wICYmIGRyYWdnaW5nKSB7XG5cdFx0XHR2YXIgbmV3U2xpZGVJbmRleE9mZnNldCA9IF9jdXJyZW50SXRlbUluZGV4ICsgKF9zbGlkZVNpemUueCAqIF9jdXJyUG9zaXRpb25JbmRleCAtIHgpIC8gX3NsaWRlU2l6ZS54LFxuXHRcdFx0XHRkZWx0YSA9IE1hdGgucm91bmQoeCAtIF9tYWluU2Nyb2xsUG9zLngpO1xuXG5cdFx0XHRpZiggKG5ld1NsaWRlSW5kZXhPZmZzZXQgPCAwICYmIGRlbHRhID4gMCkgfHwgXG5cdFx0XHRcdChuZXdTbGlkZUluZGV4T2Zmc2V0ID49IF9nZXROdW1JdGVtcygpIC0gMSAmJiBkZWx0YSA8IDApICkge1xuXHRcdFx0XHR4ID0gX21haW5TY3JvbGxQb3MueCArIGRlbHRhICogX29wdGlvbnMubWFpblNjcm9sbEVuZEZyaWN0aW9uO1xuXHRcdFx0fSBcblx0XHR9XG5cdFx0XG5cdFx0X21haW5TY3JvbGxQb3MueCA9IHg7XG5cdFx0X3NldFRyYW5zbGF0ZVgoeCwgX2NvbnRhaW5lclN0eWxlKTtcblx0fSxcblx0X2NhbGN1bGF0ZVBhbk9mZnNldCA9IGZ1bmN0aW9uKGF4aXMsIHpvb21MZXZlbCkge1xuXHRcdHZhciBtID0gX21pZFpvb21Qb2ludFtheGlzXSAtIF9vZmZzZXRbYXhpc107XG5cdFx0cmV0dXJuIF9zdGFydFBhbk9mZnNldFtheGlzXSArIF9jdXJyUGFuRGlzdFtheGlzXSArIG0gLSBtICogKCB6b29tTGV2ZWwgLyBfc3RhcnRab29tTGV2ZWwgKTtcblx0fSxcblx0XG5cdF9lcXVhbGl6ZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikge1xuXHRcdHAxLnggPSBwMi54O1xuXHRcdHAxLnkgPSBwMi55O1xuXHRcdGlmKHAyLmlkKSB7XG5cdFx0XHRwMS5pZCA9IHAyLmlkO1xuXHRcdH1cblx0fSxcblx0X3JvdW5kUG9pbnQgPSBmdW5jdGlvbihwKSB7XG5cdFx0cC54ID0gTWF0aC5yb3VuZChwLngpO1xuXHRcdHAueSA9IE1hdGgucm91bmQocC55KTtcblx0fSxcblxuXHRfbW91c2VNb3ZlVGltZW91dCA9IG51bGwsXG5cdF9vbkZpcnN0TW91c2VNb3ZlID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gV2FpdCB1bnRpbCBtb3VzZSBtb3ZlIGV2ZW50IGlzIGZpcmVkIGF0IGxlYXN0IHR3aWNlIGR1cmluZyAxMDBtc1xuXHRcdC8vIFdlIGRvIHRoaXMsIGJlY2F1c2Ugc29tZSBtb2JpbGUgYnJvd3NlcnMgdHJpZ2dlciBpdCBvbiB0b3VjaHN0YXJ0XG5cdFx0aWYoX21vdXNlTW92ZVRpbWVvdXQgKSB7IFxuXHRcdFx0ZnJhbWV3b3JrLnVuYmluZChkb2N1bWVudCwgJ21vdXNlbW92ZScsIF9vbkZpcnN0TW91c2VNb3ZlKTtcblx0XHRcdGZyYW1ld29yay5hZGRDbGFzcyh0ZW1wbGF0ZSwgJ3Bzd3AtLWhhc19tb3VzZScpO1xuXHRcdFx0X29wdGlvbnMubW91c2VVc2VkID0gdHJ1ZTtcblx0XHRcdF9zaG91dCgnbW91c2VVc2VkJyk7XG5cdFx0fVxuXHRcdF9tb3VzZU1vdmVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdF9tb3VzZU1vdmVUaW1lb3V0ID0gbnVsbDtcblx0XHR9LCAxMDApO1xuXHR9LFxuXG5cdF9iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0ZnJhbWV3b3JrLmJpbmQoZG9jdW1lbnQsICdrZXlkb3duJywgc2VsZik7XG5cblx0XHRpZihfZmVhdHVyZXMudHJhbnNmb3JtKSB7XG5cdFx0XHQvLyBkb24ndCBiaW5kIGNsaWNrIGV2ZW50IGluIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCB0cmFuc2Zvcm0gKG1vc3RseSBJRTgpXG5cdFx0XHRmcmFtZXdvcmsuYmluZChzZWxmLnNjcm9sbFdyYXAsICdjbGljaycsIHNlbGYpO1xuXHRcdH1cblx0XHRcblxuXHRcdGlmKCFfb3B0aW9ucy5tb3VzZVVzZWQpIHtcblx0XHRcdGZyYW1ld29yay5iaW5kKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgX29uRmlyc3RNb3VzZU1vdmUpO1xuXHRcdH1cblxuXHRcdGZyYW1ld29yay5iaW5kKHdpbmRvdywgJ3Jlc2l6ZSBzY3JvbGwgb3JpZW50YXRpb25jaGFuZ2UnLCBzZWxmKTtcblxuXHRcdF9zaG91dCgnYmluZEV2ZW50cycpO1xuXHR9LFxuXG5cdF91bmJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcblx0XHRmcmFtZXdvcmsudW5iaW5kKHdpbmRvdywgJ3Jlc2l6ZSBzY3JvbGwgb3JpZW50YXRpb25jaGFuZ2UnLCBzZWxmKTtcblx0XHRmcmFtZXdvcmsudW5iaW5kKHdpbmRvdywgJ3Njcm9sbCcsIF9nbG9iYWxFdmVudEhhbmRsZXJzLnNjcm9sbCk7XG5cdFx0ZnJhbWV3b3JrLnVuYmluZChkb2N1bWVudCwgJ2tleWRvd24nLCBzZWxmKTtcblx0XHRmcmFtZXdvcmsudW5iaW5kKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgX29uRmlyc3RNb3VzZU1vdmUpO1xuXG5cdFx0aWYoX2ZlYXR1cmVzLnRyYW5zZm9ybSkge1xuXHRcdFx0ZnJhbWV3b3JrLnVuYmluZChzZWxmLnNjcm9sbFdyYXAsICdjbGljaycsIHNlbGYpO1xuXHRcdH1cblxuXHRcdGlmKF9pc0RyYWdnaW5nKSB7XG5cdFx0XHRmcmFtZXdvcmsudW5iaW5kKHdpbmRvdywgX3VwTW92ZUV2ZW50cywgc2VsZik7XG5cdFx0fVxuXG5cdFx0Y2xlYXJUaW1lb3V0KF9vcmllbnRhdGlvbkNoYW5nZVRpbWVvdXQpO1xuXG5cdFx0X3Nob3V0KCd1bmJpbmRFdmVudHMnKTtcblx0fSxcblx0XG5cdF9jYWxjdWxhdGVQYW5Cb3VuZHMgPSBmdW5jdGlvbih6b29tTGV2ZWwsIHVwZGF0ZSkge1xuXHRcdHZhciBib3VuZHMgPSBfY2FsY3VsYXRlSXRlbVNpemUoIHNlbGYuY3Vyckl0ZW0sIF92aWV3cG9ydFNpemUsIHpvb21MZXZlbCApO1xuXHRcdGlmKHVwZGF0ZSkge1xuXHRcdFx0X2N1cnJQYW5Cb3VuZHMgPSBib3VuZHM7XG5cdFx0fVxuXHRcdHJldHVybiBib3VuZHM7XG5cdH0sXG5cdFxuXHRfZ2V0TWluWm9vbUxldmVsID0gZnVuY3Rpb24oaXRlbSkge1xuXHRcdGlmKCFpdGVtKSB7XG5cdFx0XHRpdGVtID0gc2VsZi5jdXJySXRlbTtcblx0XHR9XG5cdFx0cmV0dXJuIGl0ZW0uaW5pdGlhbFpvb21MZXZlbDtcblx0fSxcblx0X2dldE1heFpvb21MZXZlbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRpZighaXRlbSkge1xuXHRcdFx0aXRlbSA9IHNlbGYuY3Vyckl0ZW07XG5cdFx0fVxuXHRcdHJldHVybiBpdGVtLncgPiAwID8gX29wdGlvbnMubWF4U3ByZWFkWm9vbSA6IDE7XG5cdH0sXG5cblx0Ly8gUmV0dXJuIHRydWUgaWYgb2Zmc2V0IGlzIG91dCBvZiB0aGUgYm91bmRzXG5cdF9tb2RpZnlEZXN0UGFuT2Zmc2V0ID0gZnVuY3Rpb24oYXhpcywgZGVzdFBhbkJvdW5kcywgZGVzdFBhbk9mZnNldCwgZGVzdFpvb21MZXZlbCkge1xuXHRcdGlmKGRlc3Rab29tTGV2ZWwgPT09IHNlbGYuY3Vyckl0ZW0uaW5pdGlhbFpvb21MZXZlbCkge1xuXHRcdFx0ZGVzdFBhbk9mZnNldFtheGlzXSA9IHNlbGYuY3Vyckl0ZW0uaW5pdGlhbFBvc2l0aW9uW2F4aXNdO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3RQYW5PZmZzZXRbYXhpc10gPSBfY2FsY3VsYXRlUGFuT2Zmc2V0KGF4aXMsIGRlc3Rab29tTGV2ZWwpOyBcblxuXHRcdFx0aWYoZGVzdFBhbk9mZnNldFtheGlzXSA+IGRlc3RQYW5Cb3VuZHMubWluW2F4aXNdKSB7XG5cdFx0XHRcdGRlc3RQYW5PZmZzZXRbYXhpc10gPSBkZXN0UGFuQm91bmRzLm1pbltheGlzXTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9IGVsc2UgaWYoZGVzdFBhbk9mZnNldFtheGlzXSA8IGRlc3RQYW5Cb3VuZHMubWF4W2F4aXNdICkge1xuXHRcdFx0XHRkZXN0UGFuT2Zmc2V0W2F4aXNdID0gZGVzdFBhbkJvdW5kcy5tYXhbYXhpc107XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X3NldHVwVHJhbnNmb3JtcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYoX3RyYW5zZm9ybUtleSkge1xuXHRcdFx0Ly8gc2V0dXAgM2QgdHJhbnNmb3Jtc1xuXHRcdFx0dmFyIGFsbG93M2RUcmFuc2Zvcm0gPSBfZmVhdHVyZXMucGVyc3BlY3RpdmUgJiYgIV9saWtlbHlUb3VjaERldmljZTtcblx0XHRcdF90cmFuc2xhdGVQcmVmaXggPSAndHJhbnNsYXRlJyArIChhbGxvdzNkVHJhbnNmb3JtID8gJzNkKCcgOiAnKCcpO1xuXHRcdFx0X3RyYW5zbGF0ZVN1Zml4ID0gX2ZlYXR1cmVzLnBlcnNwZWN0aXZlID8gJywgMHB4KScgOiAnKSc7XHRcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPdmVycmlkZSB6b29tL3Bhbi9tb3ZlIGZ1bmN0aW9ucyBpbiBjYXNlIG9sZCBicm93c2VyIGlzIHVzZWQgKG1vc3QgbGlrZWx5IElFKVxuXHRcdC8vIChzbyB0aGV5IHVzZSBsZWZ0L3RvcC93aWR0aC9oZWlnaHQsIGluc3RlYWQgb2YgQ1NTIHRyYW5zZm9ybSlcblx0XG5cdFx0X3RyYW5zZm9ybUtleSA9ICdsZWZ0Jztcblx0XHRmcmFtZXdvcmsuYWRkQ2xhc3ModGVtcGxhdGUsICdwc3dwLS1pZScpO1xuXG5cdFx0X3NldFRyYW5zbGF0ZVggPSBmdW5jdGlvbih4LCBlbFN0eWxlKSB7XG5cdFx0XHRlbFN0eWxlLmxlZnQgPSB4ICsgJ3B4Jztcblx0XHR9O1xuXHRcdF9hcHBseVpvb21QYW5Ub0l0ZW0gPSBmdW5jdGlvbihpdGVtKSB7XG5cblx0XHRcdHZhciB6b29tUmF0aW8gPSBpdGVtLmZpdFJhdGlvID4gMSA/IDEgOiBpdGVtLmZpdFJhdGlvLFxuXHRcdFx0XHRzID0gaXRlbS5jb250YWluZXIuc3R5bGUsXG5cdFx0XHRcdHcgPSB6b29tUmF0aW8gKiBpdGVtLncsXG5cdFx0XHRcdGggPSB6b29tUmF0aW8gKiBpdGVtLmg7XG5cblx0XHRcdHMud2lkdGggPSB3ICsgJ3B4Jztcblx0XHRcdHMuaGVpZ2h0ID0gaCArICdweCc7XG5cdFx0XHRzLmxlZnQgPSBpdGVtLmluaXRpYWxQb3NpdGlvbi54ICsgJ3B4Jztcblx0XHRcdHMudG9wID0gaXRlbS5pbml0aWFsUG9zaXRpb24ueSArICdweCc7XG5cblx0XHR9O1xuXHRcdF9hcHBseUN1cnJlbnRab29tUGFuID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZihfY3Vyclpvb21FbGVtZW50U3R5bGUpIHtcblxuXHRcdFx0XHR2YXIgcyA9IF9jdXJyWm9vbUVsZW1lbnRTdHlsZSxcblx0XHRcdFx0XHRpdGVtID0gc2VsZi5jdXJySXRlbSxcblx0XHRcdFx0XHR6b29tUmF0aW8gPSBpdGVtLmZpdFJhdGlvID4gMSA/IDEgOiBpdGVtLmZpdFJhdGlvLFxuXHRcdFx0XHRcdHcgPSB6b29tUmF0aW8gKiBpdGVtLncsXG5cdFx0XHRcdFx0aCA9IHpvb21SYXRpbyAqIGl0ZW0uaDtcblxuXHRcdFx0XHRzLndpZHRoID0gdyArICdweCc7XG5cdFx0XHRcdHMuaGVpZ2h0ID0gaCArICdweCc7XG5cblxuXHRcdFx0XHRzLmxlZnQgPSBfcGFuT2Zmc2V0LnggKyAncHgnO1xuXHRcdFx0XHRzLnRvcCA9IF9wYW5PZmZzZXQueSArICdweCc7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9O1xuXHR9LFxuXG5cdF9vbktleURvd24gPSBmdW5jdGlvbihlKSB7XG5cdFx0dmFyIGtleWRvd25BY3Rpb24gPSAnJztcblx0XHRpZihfb3B0aW9ucy5lc2NLZXkgJiYgZS5rZXlDb2RlID09PSAyNykgeyBcblx0XHRcdGtleWRvd25BY3Rpb24gPSAnY2xvc2UnO1xuXHRcdH0gZWxzZSBpZihfb3B0aW9ucy5hcnJvd0tleXMpIHtcblx0XHRcdGlmKGUua2V5Q29kZSA9PT0gMzcpIHtcblx0XHRcdFx0a2V5ZG93bkFjdGlvbiA9ICdwcmV2Jztcblx0XHRcdH0gZWxzZSBpZihlLmtleUNvZGUgPT09IDM5KSB7IFxuXHRcdFx0XHRrZXlkb3duQWN0aW9uID0gJ25leHQnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmKGtleWRvd25BY3Rpb24pIHtcblx0XHRcdC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHNwZWNpYWwga2V5IHByZXNzZWQgdG8gcHJldmVudCBmcm9tIG92ZXJyaWRpbmcgZGVmYXVsdCBicm93c2VyIGFjdGlvbnNcblx0XHRcdC8vIGUuZy4gaW4gQ2hyb21lIG9uIE1hYyBjbWQrYXJyb3ctbGVmdCByZXR1cm5zIHRvIHByZXZpb3VzIHBhZ2Vcblx0XHRcdGlmKCAhZS5jdHJsS2V5ICYmICFlLmFsdEtleSAmJiAhZS5zaGlmdEtleSAmJiAhZS5tZXRhS2V5ICkge1xuXHRcdFx0XHRpZihlLnByZXZlbnREZWZhdWx0KSB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblx0XHRcdFx0fSBcblx0XHRcdFx0c2VsZltrZXlkb3duQWN0aW9uXSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfb25HbG9iYWxDbGljayA9IGZ1bmN0aW9uKGUpIHtcblx0XHRpZighZSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGRvbid0IGFsbG93IGNsaWNrIGV2ZW50IHRvIHBhc3MgdGhyb3VnaCB3aGVuIHRyaWdnZXJpbmcgYWZ0ZXIgZHJhZyBvciBzb21lIG90aGVyIGdlc3R1cmVcblx0XHRpZihfbW92ZWQgfHwgX3pvb21TdGFydGVkIHx8IF9tYWluU2Nyb2xsQW5pbWF0aW5nIHx8IF92ZXJ0aWNhbERyYWdJbml0aWF0ZWQpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVQYWdlU2Nyb2xsT2Zmc2V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0c2VsZi5zZXRTY3JvbGxPZmZzZXQoMCwgZnJhbWV3b3JrLmdldFNjcm9sbFkoKSk7XHRcdFxuXHR9O1xuXHRcblxuXG5cdFxuXG5cblxuLy8gTWljcm8gYW5pbWF0aW9uIGVuZ2luZVxudmFyIF9hbmltYXRpb25zID0ge30sXG5cdF9udW1BbmltYXRpb25zID0gMCxcblx0X3N0b3BBbmltYXRpb24gPSBmdW5jdGlvbihuYW1lKSB7XG5cdFx0aWYoX2FuaW1hdGlvbnNbbmFtZV0pIHtcblx0XHRcdGlmKF9hbmltYXRpb25zW25hbWVdLnJhZikge1xuXHRcdFx0XHRfY2FuY2VsQUYoIF9hbmltYXRpb25zW25hbWVdLnJhZiApO1xuXHRcdFx0fVxuXHRcdFx0X251bUFuaW1hdGlvbnMtLTtcblx0XHRcdGRlbGV0ZSBfYW5pbWF0aW9uc1tuYW1lXTtcblx0XHR9XG5cdH0sXG5cdF9yZWdpc3RlclN0YXJ0QW5pbWF0aW9uID0gZnVuY3Rpb24obmFtZSkge1xuXHRcdGlmKF9hbmltYXRpb25zW25hbWVdKSB7XG5cdFx0XHRfc3RvcEFuaW1hdGlvbihuYW1lKTtcblx0XHR9XG5cdFx0aWYoIV9hbmltYXRpb25zW25hbWVdKSB7XG5cdFx0XHRfbnVtQW5pbWF0aW9ucysrO1xuXHRcdFx0X2FuaW1hdGlvbnNbbmFtZV0gPSB7fTtcblx0XHR9XG5cdH0sXG5cdF9zdG9wQWxsQW5pbWF0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHRcdGZvciAodmFyIHByb3AgaW4gX2FuaW1hdGlvbnMpIHtcblxuXHRcdFx0aWYoIF9hbmltYXRpb25zLmhhc093blByb3BlcnR5KCBwcm9wICkgKSB7XG5cdFx0XHRcdF9zdG9wQW5pbWF0aW9uKHByb3ApO1xuXHRcdFx0fSBcblx0XHRcdFxuXHRcdH1cblx0fSxcblx0X2FuaW1hdGVQcm9wID0gZnVuY3Rpb24obmFtZSwgYiwgZW5kUHJvcCwgZCwgZWFzaW5nRm4sIG9uVXBkYXRlLCBvbkNvbXBsZXRlKSB7XG5cdFx0dmFyIHN0YXJ0QW5pbVRpbWUgPSBfZ2V0Q3VycmVudFRpbWUoKSwgdDtcblx0XHRfcmVnaXN0ZXJTdGFydEFuaW1hdGlvbihuYW1lKTtcblxuXHRcdHZhciBhbmltbG9vcCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRpZiAoIF9hbmltYXRpb25zW25hbWVdICkge1xuXHRcdFx0XHRcblx0XHRcdFx0dCA9IF9nZXRDdXJyZW50VGltZSgpIC0gc3RhcnRBbmltVGltZTsgLy8gdGltZSBkaWZmXG5cdFx0XHRcdC8vYiAtIGJlZ2lubmluZyAoc3RhcnQgcHJvcClcblx0XHRcdFx0Ly9kIC0gYW5pbSBkdXJhdGlvblxuXG5cdFx0XHRcdGlmICggdCA+PSBkICkge1xuXHRcdFx0XHRcdF9zdG9wQW5pbWF0aW9uKG5hbWUpO1xuXHRcdFx0XHRcdG9uVXBkYXRlKGVuZFByb3ApO1xuXHRcdFx0XHRcdGlmKG9uQ29tcGxldGUpIHtcblx0XHRcdFx0XHRcdG9uQ29tcGxldGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9uVXBkYXRlKCAoZW5kUHJvcCAtIGIpICogZWFzaW5nRm4odC9kKSArIGIgKTtcblxuXHRcdFx0XHRfYW5pbWF0aW9uc1tuYW1lXS5yYWYgPSBfcmVxdWVzdEFGKGFuaW1sb29wKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGFuaW1sb29wKCk7XG5cdH07XG5cdFxuXG5cbnZhciBwdWJsaWNNZXRob2RzID0ge1xuXG5cdC8vIG1ha2UgYSBmZXcgbG9jYWwgdmFyaWFibGVzIGFuZCBmdW5jdGlvbnMgcHVibGljXG5cdHNob3V0OiBfc2hvdXQsXG5cdGxpc3RlbjogX2xpc3Rlbixcblx0dmlld3BvcnRTaXplOiBfdmlld3BvcnRTaXplLFxuXHRvcHRpb25zOiBfb3B0aW9ucyxcblxuXHRpc01haW5TY3JvbGxBbmltYXRpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBfbWFpblNjcm9sbEFuaW1hdGluZztcblx0fSxcblx0Z2V0Wm9vbUxldmVsOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gX2N1cnJab29tTGV2ZWw7XG5cdH0sXG5cdGdldEN1cnJlbnRJbmRleDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIF9jdXJyZW50SXRlbUluZGV4O1xuXHR9LFxuXHRpc0RyYWdnaW5nOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gX2lzRHJhZ2dpbmc7XG5cdH0sXHRcblx0aXNab29taW5nOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gX2lzWm9vbWluZztcblx0fSxcblx0c2V0U2Nyb2xsT2Zmc2V0OiBmdW5jdGlvbih4LHkpIHtcblx0XHRfb2Zmc2V0LnggPSB4O1xuXHRcdF9jdXJyZW50V2luZG93U2Nyb2xsWSA9IF9vZmZzZXQueSA9IHk7XG5cdFx0X3Nob3V0KCd1cGRhdGVTY3JvbGxPZmZzZXQnLCBfb2Zmc2V0KTtcblx0fSxcblx0YXBwbHlab29tUGFuOiBmdW5jdGlvbih6b29tTGV2ZWwscGFuWCxwYW5ZLGFsbG93UmVuZGVyUmVzb2x1dGlvbikge1xuXHRcdF9wYW5PZmZzZXQueCA9IHBhblg7XG5cdFx0X3Bhbk9mZnNldC55ID0gcGFuWTtcblx0XHRfY3Vyclpvb21MZXZlbCA9IHpvb21MZXZlbDtcblx0XHRfYXBwbHlDdXJyZW50Wm9vbVBhbiggYWxsb3dSZW5kZXJSZXNvbHV0aW9uICk7XG5cdH0sXG5cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHRpZihfaXNPcGVuIHx8IF9pc0Rlc3Ryb3lpbmcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgaTtcblxuXHRcdHNlbGYuZnJhbWV3b3JrID0gZnJhbWV3b3JrOyAvLyBiYXNpYyBmdW5jdGlvbmFsaXR5XG5cdFx0c2VsZi50ZW1wbGF0ZSA9IHRlbXBsYXRlOyAvLyByb290IERPTSBlbGVtZW50IG9mIFBob3RvU3dpcGVcblx0XHRzZWxmLmJnID0gZnJhbWV3b3JrLmdldENoaWxkQnlDbGFzcyh0ZW1wbGF0ZSwgJ3Bzd3BfX2JnJyk7XG5cblx0XHRfaW5pdGFsQ2xhc3NOYW1lID0gdGVtcGxhdGUuY2xhc3NOYW1lO1xuXHRcdF9pc09wZW4gPSB0cnVlO1xuXHRcdFx0XHRcblx0XHRfZmVhdHVyZXMgPSBmcmFtZXdvcmsuZGV0ZWN0RmVhdHVyZXMoKTtcblx0XHRfcmVxdWVzdEFGID0gX2ZlYXR1cmVzLnJhZjtcblx0XHRfY2FuY2VsQUYgPSBfZmVhdHVyZXMuY2FmO1xuXHRcdF90cmFuc2Zvcm1LZXkgPSBfZmVhdHVyZXMudHJhbnNmb3JtO1xuXHRcdF9vbGRJRSA9IF9mZWF0dXJlcy5vbGRJRTtcblx0XHRcblx0XHRzZWxmLnNjcm9sbFdyYXAgPSBmcmFtZXdvcmsuZ2V0Q2hpbGRCeUNsYXNzKHRlbXBsYXRlLCAncHN3cF9fc2Nyb2xsLXdyYXAnKTtcblx0XHRzZWxmLmNvbnRhaW5lciA9IGZyYW1ld29yay5nZXRDaGlsZEJ5Q2xhc3Moc2VsZi5zY3JvbGxXcmFwLCAncHN3cF9fY29udGFpbmVyJyk7XG5cblx0XHRfY29udGFpbmVyU3R5bGUgPSBzZWxmLmNvbnRhaW5lci5zdHlsZTsgLy8gZm9yIGZhc3QgYWNjZXNzXG5cblx0XHQvLyBPYmplY3RzIHRoYXQgaG9sZCBzbGlkZXMgKHRoZXJlIGFyZSBvbmx5IDMgaW4gRE9NKVxuXHRcdHNlbGYuaXRlbUhvbGRlcnMgPSBfaXRlbUhvbGRlcnMgPSBbXG5cdFx0XHR7ZWw6c2VsZi5jb250YWluZXIuY2hpbGRyZW5bMF0gLCB3cmFwOjAsIGluZGV4OiAtMX0sXG5cdFx0XHR7ZWw6c2VsZi5jb250YWluZXIuY2hpbGRyZW5bMV0gLCB3cmFwOjAsIGluZGV4OiAtMX0sXG5cdFx0XHR7ZWw6c2VsZi5jb250YWluZXIuY2hpbGRyZW5bMl0gLCB3cmFwOjAsIGluZGV4OiAtMX1cblx0XHRdO1xuXG5cdFx0Ly8gaGlkZSBuZWFyYnkgaXRlbSBob2xkZXJzIHVudGlsIGluaXRpYWwgem9vbSBhbmltYXRpb24gZmluaXNoZXMgKHRvIGF2b2lkIGV4dHJhIFBhaW50cylcblx0XHRfaXRlbUhvbGRlcnNbMF0uZWwuc3R5bGUuZGlzcGxheSA9IF9pdGVtSG9sZGVyc1syXS5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5cdFx0X3NldHVwVHJhbnNmb3JtcygpO1xuXG5cdFx0Ly8gU2V0dXAgZ2xvYmFsIGV2ZW50c1xuXHRcdF9nbG9iYWxFdmVudEhhbmRsZXJzID0ge1xuXHRcdFx0cmVzaXplOiBzZWxmLnVwZGF0ZVNpemUsXG5cblx0XHRcdC8vIEZpeGVzOiBpT1MgMTAuMyByZXNpemUgZXZlbnRcblx0XHRcdC8vIGRvZXMgbm90IHVwZGF0ZSBzY3JvbGxXcmFwLmNsaWVudFdpZHRoIGluc3RhbnRseSBhZnRlciByZXNpemVcblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kaW1zZW1lbm92L1Bob3RvU3dpcGUvaXNzdWVzLzEzMTVcblx0XHRcdG9yaWVudGF0aW9uY2hhbmdlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KF9vcmllbnRhdGlvbkNoYW5nZVRpbWVvdXQpO1xuXHRcdFx0XHRfb3JpZW50YXRpb25DaGFuZ2VUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZihfdmlld3BvcnRTaXplLnggIT09IHNlbGYuc2Nyb2xsV3JhcC5jbGllbnRXaWR0aCkge1xuXHRcdFx0XHRcdFx0c2VsZi51cGRhdGVTaXplKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCA1MDApO1xuXHRcdFx0fSxcblx0XHRcdHNjcm9sbDogX3VwZGF0ZVBhZ2VTY3JvbGxPZmZzZXQsXG5cdFx0XHRrZXlkb3duOiBfb25LZXlEb3duLFxuXHRcdFx0Y2xpY2s6IF9vbkdsb2JhbENsaWNrXG5cdFx0fTtcblxuXHRcdC8vIGRpc2FibGUgc2hvdy9oaWRlIGVmZmVjdHMgb24gb2xkIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBDU1MgYW5pbWF0aW9ucyBvciB0cmFuc2Zvcm1zLCBcblx0XHQvLyBvbGQgSU9TLCBBbmRyb2lkIGFuZCBPcGVyYSBtb2JpbGUuIEJsYWNrYmVycnkgc2VlbXMgdG8gd29yayBmaW5lLCBldmVuIG9sZGVyIG1vZGVscy5cblx0XHR2YXIgb2xkUGhvbmUgPSBfZmVhdHVyZXMuaXNPbGRJT1NQaG9uZSB8fCBfZmVhdHVyZXMuaXNPbGRBbmRyb2lkIHx8IF9mZWF0dXJlcy5pc01vYmlsZU9wZXJhO1xuXHRcdGlmKCFfZmVhdHVyZXMuYW5pbWF0aW9uTmFtZSB8fCAhX2ZlYXR1cmVzLnRyYW5zZm9ybSB8fCBvbGRQaG9uZSkge1xuXHRcdFx0X29wdGlvbnMuc2hvd0FuaW1hdGlvbkR1cmF0aW9uID0gX29wdGlvbnMuaGlkZUFuaW1hdGlvbkR1cmF0aW9uID0gMDtcblx0XHR9XG5cblx0XHQvLyBpbml0IG1vZHVsZXNcblx0XHRmb3IoaSA9IDA7IGkgPCBfbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0c2VsZlsnaW5pdCcgKyBfbW9kdWxlc1tpXV0oKTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gaW5pdFxuXHRcdGlmKFVpQ2xhc3MpIHtcblx0XHRcdHZhciB1aSA9IHNlbGYudWkgPSBuZXcgVWlDbGFzcyhzZWxmLCBmcmFtZXdvcmspO1xuXHRcdFx0dWkuaW5pdCgpO1xuXHRcdH1cblxuXHRcdF9zaG91dCgnZmlyc3RVcGRhdGUnKTtcblx0XHRfY3VycmVudEl0ZW1JbmRleCA9IF9jdXJyZW50SXRlbUluZGV4IHx8IF9vcHRpb25zLmluZGV4IHx8IDA7XG5cdFx0Ly8gdmFsaWRhdGUgaW5kZXhcblx0XHRpZiggaXNOYU4oX2N1cnJlbnRJdGVtSW5kZXgpIHx8IF9jdXJyZW50SXRlbUluZGV4IDwgMCB8fCBfY3VycmVudEl0ZW1JbmRleCA+PSBfZ2V0TnVtSXRlbXMoKSApIHtcblx0XHRcdF9jdXJyZW50SXRlbUluZGV4ID0gMDtcblx0XHR9XG5cdFx0c2VsZi5jdXJySXRlbSA9IF9nZXRJdGVtQXQoIF9jdXJyZW50SXRlbUluZGV4ICk7XG5cblx0XHRcblx0XHRpZihfZmVhdHVyZXMuaXNPbGRJT1NQaG9uZSB8fCBfZmVhdHVyZXMuaXNPbGRBbmRyb2lkKSB7XG5cdFx0XHRfaXNGaXhlZFBvc2l0aW9uID0gZmFsc2U7XG5cdFx0fVxuXHRcdFxuXHRcdHRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblx0XHRpZihfb3B0aW9ucy5tb2RhbCkge1xuXHRcdFx0aWYoIV9pc0ZpeGVkUG9zaXRpb24pIHtcblx0XHRcdFx0dGVtcGxhdGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdFx0XHR0ZW1wbGF0ZS5zdHlsZS50b3AgPSBmcmFtZXdvcmsuZ2V0U2Nyb2xsWSgpICsgJ3B4Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRlbXBsYXRlLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZihfY3VycmVudFdpbmRvd1Njcm9sbFkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0X3Nob3V0KCdpbml0aWFsTGF5b3V0Jyk7XG5cdFx0XHRfY3VycmVudFdpbmRvd1Njcm9sbFkgPSBfaW5pdGFsV2luZG93U2Nyb2xsWSA9IGZyYW1ld29yay5nZXRTY3JvbGxZKCk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIGFkZCBjbGFzc2VzIHRvIHJvb3QgZWxlbWVudCBvZiBQaG90b1N3aXBlXG5cdFx0dmFyIHJvb3RDbGFzc2VzID0gJ3Bzd3AtLW9wZW4gJztcblx0XHRpZihfb3B0aW9ucy5tYWluQ2xhc3MpIHtcblx0XHRcdHJvb3RDbGFzc2VzICs9IF9vcHRpb25zLm1haW5DbGFzcyArICcgJztcblx0XHR9XG5cdFx0aWYoX29wdGlvbnMuc2hvd0hpZGVPcGFjaXR5KSB7XG5cdFx0XHRyb290Q2xhc3NlcyArPSAncHN3cC0tYW5pbWF0ZV9vcGFjaXR5ICc7XG5cdFx0fVxuXHRcdHJvb3RDbGFzc2VzICs9IF9saWtlbHlUb3VjaERldmljZSA/ICdwc3dwLS10b3VjaCcgOiAncHN3cC0tbm90b3VjaCc7XG5cdFx0cm9vdENsYXNzZXMgKz0gX2ZlYXR1cmVzLmFuaW1hdGlvbk5hbWUgPyAnIHBzd3AtLWNzc19hbmltYXRpb24nIDogJyc7XG5cdFx0cm9vdENsYXNzZXMgKz0gX2ZlYXR1cmVzLnN2ZyA/ICcgcHN3cC0tc3ZnJyA6ICcnO1xuXHRcdGZyYW1ld29yay5hZGRDbGFzcyh0ZW1wbGF0ZSwgcm9vdENsYXNzZXMpO1xuXG5cdFx0c2VsZi51cGRhdGVTaXplKCk7XG5cblx0XHQvLyBpbml0aWFsIHVwZGF0ZVxuXHRcdF9jb250YWluZXJTaGlmdEluZGV4ID0gLTE7XG5cdFx0X2luZGV4RGlmZiA9IG51bGw7XG5cdFx0Zm9yKGkgPSAwOyBpIDwgTlVNX0hPTERFUlM7IGkrKykge1xuXHRcdFx0X3NldFRyYW5zbGF0ZVgoIChpK19jb250YWluZXJTaGlmdEluZGV4KSAqIF9zbGlkZVNpemUueCwgX2l0ZW1Ib2xkZXJzW2ldLmVsLnN0eWxlKTtcblx0XHR9XG5cblx0XHRpZighX29sZElFKSB7XG5cdFx0XHRmcmFtZXdvcmsuYmluZChzZWxmLnNjcm9sbFdyYXAsIF9kb3duRXZlbnRzLCBzZWxmKTsgLy8gbm8gZHJhZ2dpbmcgZm9yIG9sZCBJRVxuXHRcdH1cdFxuXG5cdFx0X2xpc3RlbignaW5pdGlhbFpvb21JbkVuZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5zZXRDb250ZW50KF9pdGVtSG9sZGVyc1swXSwgX2N1cnJlbnRJdGVtSW5kZXgtMSk7XG5cdFx0XHRzZWxmLnNldENvbnRlbnQoX2l0ZW1Ib2xkZXJzWzJdLCBfY3VycmVudEl0ZW1JbmRleCsxKTtcblxuXHRcdFx0X2l0ZW1Ib2xkZXJzWzBdLmVsLnN0eWxlLmRpc3BsYXkgPSBfaXRlbUhvbGRlcnNbMl0uZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cblx0XHRcdGlmKF9vcHRpb25zLmZvY3VzKSB7XG5cdFx0XHRcdC8vIGZvY3VzIGNhdXNlcyBsYXlvdXQsIFxuXHRcdFx0XHQvLyB3aGljaCBjYXVzZXMgbGFnIGR1cmluZyB0aGUgYW5pbWF0aW9uLCBcblx0XHRcdFx0Ly8gdGhhdCdzIHdoeSB3ZSBkZWxheSBpdCB1bnRpbGwgdGhlIGluaXRpYWwgem9vbSB0cmFuc2l0aW9uIGVuZHNcblx0XHRcdFx0dGVtcGxhdGUuZm9jdXMoKTtcblx0XHRcdH1cblx0XHRcdCBcblxuXHRcdFx0X2JpbmRFdmVudHMoKTtcblx0XHR9KTtcblxuXHRcdC8vIHNldCBjb250ZW50IGZvciBjZW50ZXIgc2xpZGUgKGZpcnN0IHRpbWUpXG5cdFx0c2VsZi5zZXRDb250ZW50KF9pdGVtSG9sZGVyc1sxXSwgX2N1cnJlbnRJdGVtSW5kZXgpO1xuXHRcdFxuXHRcdHNlbGYudXBkYXRlQ3Vyckl0ZW0oKTtcblxuXHRcdF9zaG91dCgnYWZ0ZXJJbml0Jyk7XG5cblx0XHRpZighX2lzRml4ZWRQb3NpdGlvbikge1xuXG5cdFx0XHQvLyBPbiBhbGwgdmVyc2lvbnMgb2YgaU9TIGxvd2VyIHRoYW4gOC4wLCB3ZSBjaGVjayBzaXplIG9mIHZpZXdwb3J0IGV2ZXJ5IHNlY29uZC5cblx0XHRcdC8vIFxuXHRcdFx0Ly8gVGhpcyBpcyBkb25lIHRvIGRldGVjdCB3aGVuIFNhZmFyaSB0b3AgJiBib3R0b20gYmFycyBhcHBlYXIsIFxuXHRcdFx0Ly8gYXMgdGhpcyBhY3Rpb24gZG9lc24ndCB0cmlnZ2VyIGFueSBldmVudHMgKGxpa2UgcmVzaXplKS4gXG5cdFx0XHQvLyBcblx0XHRcdC8vIE9uIGlPUzggdGhleSBmaXhlZCB0aGlzLlxuXHRcdFx0Ly8gXG5cdFx0XHQvLyAxMCBOb3YgMjAxNDogaU9TIDcgdXNhZ2UgfjQwJS4gaU9TIDggdXNhZ2UgNTYlLlxuXHRcdFx0XG5cdFx0XHRfdXBkYXRlU2l6ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKCFfbnVtQW5pbWF0aW9ucyAmJiAhX2lzRHJhZ2dpbmcgJiYgIV9pc1pvb21pbmcgJiYgKF9jdXJyWm9vbUxldmVsID09PSBzZWxmLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwpICApIHtcblx0XHRcdFx0XHRzZWxmLnVwZGF0ZVNpemUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgMTAwMCk7XG5cdFx0fVxuXG5cdFx0ZnJhbWV3b3JrLmFkZENsYXNzKHRlbXBsYXRlLCAncHN3cC0tdmlzaWJsZScpO1xuXHR9LFxuXG5cdC8vIENsb3NlIHRoZSBnYWxsZXJ5LCB0aGVuIGRlc3Ryb3kgaXRcblx0Y2xvc2U6IGZ1bmN0aW9uKCkge1xuXHRcdGlmKCFfaXNPcGVuKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0X2lzT3BlbiA9IGZhbHNlO1xuXHRcdF9pc0Rlc3Ryb3lpbmcgPSB0cnVlO1xuXHRcdF9zaG91dCgnY2xvc2UnKTtcblx0XHRfdW5iaW5kRXZlbnRzKCk7XG5cblx0XHRfc2hvd09ySGlkZShzZWxmLmN1cnJJdGVtLCBudWxsLCB0cnVlLCBzZWxmLmRlc3Ryb3kpO1xuXHR9LFxuXG5cdC8vIGRlc3Ryb3lzIHRoZSBnYWxsZXJ5ICh1bmJpbmRzIGV2ZW50cywgY2xlYW5zIHVwIGludGVydmFscyBhbmQgdGltZW91dHMgdG8gYXZvaWQgbWVtb3J5IGxlYWtzKVxuXHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRfc2hvdXQoJ2Rlc3Ryb3knKTtcblxuXHRcdGlmKF9zaG93T3JIaWRlVGltZW91dCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KF9zaG93T3JIaWRlVGltZW91dCk7XG5cdFx0fVxuXHRcdFxuXHRcdHRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXHRcdHRlbXBsYXRlLmNsYXNzTmFtZSA9IF9pbml0YWxDbGFzc05hbWU7XG5cblx0XHRpZihfdXBkYXRlU2l6ZUludGVydmFsKSB7XG5cdFx0XHRjbGVhckludGVydmFsKF91cGRhdGVTaXplSW50ZXJ2YWwpO1xuXHRcdH1cblxuXHRcdGZyYW1ld29yay51bmJpbmQoc2VsZi5zY3JvbGxXcmFwLCBfZG93bkV2ZW50cywgc2VsZik7XG5cblx0XHQvLyB3ZSB1bmJpbmQgc2Nyb2xsIGV2ZW50IGF0IHRoZSBlbmQsIGFzIGNsb3NpbmcgYW5pbWF0aW9uIG1heSBkZXBlbmQgb24gaXRcblx0XHRmcmFtZXdvcmsudW5iaW5kKHdpbmRvdywgJ3Njcm9sbCcsIHNlbGYpO1xuXG5cdFx0X3N0b3BEcmFnVXBkYXRlTG9vcCgpO1xuXG5cdFx0X3N0b3BBbGxBbmltYXRpb25zKCk7XG5cblx0XHRfbGlzdGVuZXJzID0gbnVsbDtcblx0fSxcblxuXHQvKipcblx0ICogUGFuIGltYWdlIHRvIHBvc2l0aW9uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4ICAgICBcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgICAgIFxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlIFdpbGwgaWdub3JlIGJvdW5kcyBpZiBzZXQgdG8gdHJ1ZS5cblx0ICovXG5cdHBhblRvOiBmdW5jdGlvbih4LHksZm9yY2UpIHtcblx0XHRpZighZm9yY2UpIHtcblx0XHRcdGlmKHggPiBfY3VyclBhbkJvdW5kcy5taW4ueCkge1xuXHRcdFx0XHR4ID0gX2N1cnJQYW5Cb3VuZHMubWluLng7XG5cdFx0XHR9IGVsc2UgaWYoeCA8IF9jdXJyUGFuQm91bmRzLm1heC54KSB7XG5cdFx0XHRcdHggPSBfY3VyclBhbkJvdW5kcy5tYXgueDtcblx0XHRcdH1cblxuXHRcdFx0aWYoeSA+IF9jdXJyUGFuQm91bmRzLm1pbi55KSB7XG5cdFx0XHRcdHkgPSBfY3VyclBhbkJvdW5kcy5taW4ueTtcblx0XHRcdH0gZWxzZSBpZih5IDwgX2N1cnJQYW5Cb3VuZHMubWF4LnkpIHtcblx0XHRcdFx0eSA9IF9jdXJyUGFuQm91bmRzLm1heC55O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRfcGFuT2Zmc2V0LnggPSB4O1xuXHRcdF9wYW5PZmZzZXQueSA9IHk7XG5cdFx0X2FwcGx5Q3VycmVudFpvb21QYW4oKTtcblx0fSxcblx0XG5cdGhhbmRsZUV2ZW50OiBmdW5jdGlvbiAoZSkge1xuXHRcdGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcblx0XHRpZihfZ2xvYmFsRXZlbnRIYW5kbGVyc1tlLnR5cGVdKSB7XG5cdFx0XHRfZ2xvYmFsRXZlbnRIYW5kbGVyc1tlLnR5cGVdKGUpO1xuXHRcdH1cblx0fSxcblxuXG5cdGdvVG86IGZ1bmN0aW9uKGluZGV4KSB7XG5cblx0XHRpbmRleCA9IF9nZXRMb29wZWRJZChpbmRleCk7XG5cblx0XHR2YXIgZGlmZiA9IGluZGV4IC0gX2N1cnJlbnRJdGVtSW5kZXg7XG5cdFx0X2luZGV4RGlmZiA9IGRpZmY7XG5cblx0XHRfY3VycmVudEl0ZW1JbmRleCA9IGluZGV4O1xuXHRcdHNlbGYuY3Vyckl0ZW0gPSBfZ2V0SXRlbUF0KCBfY3VycmVudEl0ZW1JbmRleCApO1xuXHRcdF9jdXJyUG9zaXRpb25JbmRleCAtPSBkaWZmO1xuXHRcdFxuXHRcdF9tb3ZlTWFpblNjcm9sbChfc2xpZGVTaXplLnggKiBfY3VyclBvc2l0aW9uSW5kZXgpO1xuXHRcdFxuXG5cdFx0X3N0b3BBbGxBbmltYXRpb25zKCk7XG5cdFx0X21haW5TY3JvbGxBbmltYXRpbmcgPSBmYWxzZTtcblxuXHRcdHNlbGYudXBkYXRlQ3Vyckl0ZW0oKTtcblx0fSxcblx0bmV4dDogZnVuY3Rpb24oKSB7XG5cdFx0c2VsZi5nb1RvKCBfY3VycmVudEl0ZW1JbmRleCArIDEpO1xuXHR9LFxuXHRwcmV2OiBmdW5jdGlvbigpIHtcblx0XHRzZWxmLmdvVG8oIF9jdXJyZW50SXRlbUluZGV4IC0gMSk7XG5cdH0sXG5cblx0Ly8gdXBkYXRlIGN1cnJlbnQgem9vbS9wYW4gb2JqZWN0c1xuXHR1cGRhdGVDdXJyWm9vbUl0ZW06IGZ1bmN0aW9uKGVtdWxhdGVTZXRDb250ZW50KSB7XG5cdFx0aWYoZW11bGF0ZVNldENvbnRlbnQpIHtcblx0XHRcdF9zaG91dCgnYmVmb3JlQ2hhbmdlJywgMCk7XG5cdFx0fVxuXG5cdFx0Ly8gaXRlbUhvbGRlclsxXSBpcyBtaWRkbGUgKGN1cnJlbnQpIGl0ZW1cblx0XHRpZihfaXRlbUhvbGRlcnNbMV0uZWwuY2hpbGRyZW4ubGVuZ3RoKSB7XG5cdFx0XHR2YXIgem9vbUVsZW1lbnQgPSBfaXRlbUhvbGRlcnNbMV0uZWwuY2hpbGRyZW5bMF07XG5cdFx0XHRpZiggZnJhbWV3b3JrLmhhc0NsYXNzKHpvb21FbGVtZW50LCAncHN3cF9fem9vbS13cmFwJykgKSB7XG5cdFx0XHRcdF9jdXJyWm9vbUVsZW1lbnRTdHlsZSA9IHpvb21FbGVtZW50LnN0eWxlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0X2N1cnJab29tRWxlbWVudFN0eWxlID0gbnVsbDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0X2N1cnJab29tRWxlbWVudFN0eWxlID0gbnVsbDtcblx0XHR9XG5cdFx0XG5cdFx0X2N1cnJQYW5Cb3VuZHMgPSBzZWxmLmN1cnJJdGVtLmJvdW5kcztcdFxuXHRcdF9zdGFydFpvb21MZXZlbCA9IF9jdXJyWm9vbUxldmVsID0gc2VsZi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsO1xuXG5cdFx0X3Bhbk9mZnNldC54ID0gX2N1cnJQYW5Cb3VuZHMuY2VudGVyLng7XG5cdFx0X3Bhbk9mZnNldC55ID0gX2N1cnJQYW5Cb3VuZHMuY2VudGVyLnk7XG5cblx0XHRpZihlbXVsYXRlU2V0Q29udGVudCkge1xuXHRcdFx0X3Nob3V0KCdhZnRlckNoYW5nZScpO1xuXHRcdH1cblx0fSxcblxuXG5cdGludmFsaWRhdGVDdXJySXRlbXM6IGZ1bmN0aW9uKCkge1xuXHRcdF9pdGVtc05lZWRVcGRhdGUgPSB0cnVlO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBOVU1fSE9MREVSUzsgaSsrKSB7XG5cdFx0XHRpZiggX2l0ZW1Ib2xkZXJzW2ldLml0ZW0gKSB7XG5cdFx0XHRcdF9pdGVtSG9sZGVyc1tpXS5pdGVtLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0dXBkYXRlQ3Vyckl0ZW06IGZ1bmN0aW9uKGJlZm9yZUFuaW1hdGlvbikge1xuXG5cdFx0aWYoX2luZGV4RGlmZiA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBkaWZmQWJzID0gTWF0aC5hYnMoX2luZGV4RGlmZiksXG5cdFx0XHR0ZW1wSG9sZGVyO1xuXG5cdFx0aWYoYmVmb3JlQW5pbWF0aW9uICYmIGRpZmZBYnMgPCAyKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cblx0XHRzZWxmLmN1cnJJdGVtID0gX2dldEl0ZW1BdCggX2N1cnJlbnRJdGVtSW5kZXggKTtcblx0XHRfcmVuZGVyTWF4UmVzb2x1dGlvbiA9IGZhbHNlO1xuXHRcdFxuXHRcdF9zaG91dCgnYmVmb3JlQ2hhbmdlJywgX2luZGV4RGlmZik7XG5cblx0XHRpZihkaWZmQWJzID49IE5VTV9IT0xERVJTKSB7XG5cdFx0XHRfY29udGFpbmVyU2hpZnRJbmRleCArPSBfaW5kZXhEaWZmICsgKF9pbmRleERpZmYgPiAwID8gLU5VTV9IT0xERVJTIDogTlVNX0hPTERFUlMpO1xuXHRcdFx0ZGlmZkFicyA9IE5VTV9IT0xERVJTO1xuXHRcdH1cblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGlmZkFiczsgaSsrKSB7XG5cdFx0XHRpZihfaW5kZXhEaWZmID4gMCkge1xuXHRcdFx0XHR0ZW1wSG9sZGVyID0gX2l0ZW1Ib2xkZXJzLnNoaWZ0KCk7XG5cdFx0XHRcdF9pdGVtSG9sZGVyc1tOVU1fSE9MREVSUy0xXSA9IHRlbXBIb2xkZXI7IC8vIG1vdmUgZmlyc3QgdG8gbGFzdFxuXG5cdFx0XHRcdF9jb250YWluZXJTaGlmdEluZGV4Kys7XG5cdFx0XHRcdF9zZXRUcmFuc2xhdGVYKCAoX2NvbnRhaW5lclNoaWZ0SW5kZXgrMikgKiBfc2xpZGVTaXplLngsIHRlbXBIb2xkZXIuZWwuc3R5bGUpO1xuXHRcdFx0XHRzZWxmLnNldENvbnRlbnQodGVtcEhvbGRlciwgX2N1cnJlbnRJdGVtSW5kZXggLSBkaWZmQWJzICsgaSArIDEgKyAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRlbXBIb2xkZXIgPSBfaXRlbUhvbGRlcnMucG9wKCk7XG5cdFx0XHRcdF9pdGVtSG9sZGVycy51bnNoaWZ0KCB0ZW1wSG9sZGVyICk7IC8vIG1vdmUgbGFzdCB0byBmaXJzdFxuXG5cdFx0XHRcdF9jb250YWluZXJTaGlmdEluZGV4LS07XG5cdFx0XHRcdF9zZXRUcmFuc2xhdGVYKCBfY29udGFpbmVyU2hpZnRJbmRleCAqIF9zbGlkZVNpemUueCwgdGVtcEhvbGRlci5lbC5zdHlsZSk7XG5cdFx0XHRcdHNlbGYuc2V0Q29udGVudCh0ZW1wSG9sZGVyLCBfY3VycmVudEl0ZW1JbmRleCArIGRpZmZBYnMgLSBpIC0gMSAtIDEpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fVxuXG5cdFx0Ly8gcmVzZXQgem9vbS9wYW4gb24gcHJldmlvdXMgaXRlbVxuXHRcdGlmKF9jdXJyWm9vbUVsZW1lbnRTdHlsZSAmJiBNYXRoLmFicyhfaW5kZXhEaWZmKSA9PT0gMSkge1xuXG5cdFx0XHR2YXIgcHJldkl0ZW0gPSBfZ2V0SXRlbUF0KF9wcmV2SXRlbUluZGV4KTtcblx0XHRcdGlmKHByZXZJdGVtLmluaXRpYWxab29tTGV2ZWwgIT09IF9jdXJyWm9vbUxldmVsKSB7XG5cdFx0XHRcdF9jYWxjdWxhdGVJdGVtU2l6ZShwcmV2SXRlbSAsIF92aWV3cG9ydFNpemUgKTtcblx0XHRcdFx0X3NldEltYWdlU2l6ZShwcmV2SXRlbSk7XG5cdFx0XHRcdF9hcHBseVpvb21QYW5Ub0l0ZW0oIHByZXZJdGVtICk7IFx0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyByZXNldCBkaWZmIGFmdGVyIHVwZGF0ZVxuXHRcdF9pbmRleERpZmYgPSAwO1xuXG5cdFx0c2VsZi51cGRhdGVDdXJyWm9vbUl0ZW0oKTtcblxuXHRcdF9wcmV2SXRlbUluZGV4ID0gX2N1cnJlbnRJdGVtSW5kZXg7XG5cblx0XHRfc2hvdXQoJ2FmdGVyQ2hhbmdlJyk7XG5cdFx0XG5cdH0sXG5cblxuXG5cdHVwZGF0ZVNpemU6IGZ1bmN0aW9uKGZvcmNlKSB7XG5cdFx0XG5cdFx0aWYoIV9pc0ZpeGVkUG9zaXRpb24gJiYgX29wdGlvbnMubW9kYWwpIHtcblx0XHRcdHZhciB3aW5kb3dTY3JvbGxZID0gZnJhbWV3b3JrLmdldFNjcm9sbFkoKTtcblx0XHRcdGlmKF9jdXJyZW50V2luZG93U2Nyb2xsWSAhPT0gd2luZG93U2Nyb2xsWSkge1xuXHRcdFx0XHR0ZW1wbGF0ZS5zdHlsZS50b3AgPSB3aW5kb3dTY3JvbGxZICsgJ3B4Jztcblx0XHRcdFx0X2N1cnJlbnRXaW5kb3dTY3JvbGxZID0gd2luZG93U2Nyb2xsWTtcblx0XHRcdH1cblx0XHRcdGlmKCFmb3JjZSAmJiBfd2luZG93VmlzaWJsZVNpemUueCA9PT0gd2luZG93LmlubmVyV2lkdGggJiYgX3dpbmRvd1Zpc2libGVTaXplLnkgPT09IHdpbmRvdy5pbm5lckhlaWdodCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRfd2luZG93VmlzaWJsZVNpemUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRcdFx0X3dpbmRvd1Zpc2libGVTaXplLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cblx0XHRcdC8vdGVtcGxhdGUuc3R5bGUud2lkdGggPSBfd2luZG93VmlzaWJsZVNpemUueCArICdweCc7XG5cdFx0XHR0ZW1wbGF0ZS5zdHlsZS5oZWlnaHQgPSBfd2luZG93VmlzaWJsZVNpemUueSArICdweCc7XG5cdFx0fVxuXG5cblxuXHRcdF92aWV3cG9ydFNpemUueCA9IHNlbGYuc2Nyb2xsV3JhcC5jbGllbnRXaWR0aDtcblx0XHRfdmlld3BvcnRTaXplLnkgPSBzZWxmLnNjcm9sbFdyYXAuY2xpZW50SGVpZ2h0O1xuXG5cdFx0X3VwZGF0ZVBhZ2VTY3JvbGxPZmZzZXQoKTtcblxuXHRcdF9zbGlkZVNpemUueCA9IF92aWV3cG9ydFNpemUueCArIE1hdGgucm91bmQoX3ZpZXdwb3J0U2l6ZS54ICogX29wdGlvbnMuc3BhY2luZyk7XG5cdFx0X3NsaWRlU2l6ZS55ID0gX3ZpZXdwb3J0U2l6ZS55O1xuXG5cdFx0X21vdmVNYWluU2Nyb2xsKF9zbGlkZVNpemUueCAqIF9jdXJyUG9zaXRpb25JbmRleCk7XG5cblx0XHRfc2hvdXQoJ2JlZm9yZVJlc2l6ZScpOyAvLyBldmVuIG1heSBiZSB1c2VkIGZvciBleGFtcGxlIHRvIHN3aXRjaCBpbWFnZSBzb3VyY2VzXG5cblxuXHRcdC8vIGRvbid0IHJlLWNhbGN1bGF0ZSBzaXplIG9uIGluaXRhbCBzaXplIHVwZGF0ZVxuXHRcdGlmKF9jb250YWluZXJTaGlmdEluZGV4ICE9PSB1bmRlZmluZWQpIHtcblxuXHRcdFx0dmFyIGhvbGRlcixcblx0XHRcdFx0aXRlbSxcblx0XHRcdFx0aEluZGV4O1xuXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgTlVNX0hPTERFUlM7IGkrKykge1xuXHRcdFx0XHRob2xkZXIgPSBfaXRlbUhvbGRlcnNbaV07XG5cdFx0XHRcdF9zZXRUcmFuc2xhdGVYKCAoaStfY29udGFpbmVyU2hpZnRJbmRleCkgKiBfc2xpZGVTaXplLngsIGhvbGRlci5lbC5zdHlsZSk7XG5cblx0XHRcdFx0aEluZGV4ID0gX2N1cnJlbnRJdGVtSW5kZXgraS0xO1xuXG5cdFx0XHRcdGlmKF9vcHRpb25zLmxvb3AgJiYgX2dldE51bUl0ZW1zKCkgPiAyKSB7XG5cdFx0XHRcdFx0aEluZGV4ID0gX2dldExvb3BlZElkKGhJbmRleCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyB1cGRhdGUgem9vbSBsZXZlbCBvbiBpdGVtcyBhbmQgcmVmcmVzaCBzb3VyY2UgKGlmIG5lZWRzVXBkYXRlKVxuXHRcdFx0XHRpdGVtID0gX2dldEl0ZW1BdCggaEluZGV4ICk7XG5cblx0XHRcdFx0Ly8gcmUtcmVuZGVyIGdhbGxlcnkgaXRlbSBpZiBgbmVlZHNVcGRhdGVgLFxuXHRcdFx0XHQvLyBvciBkb2Vzbid0IGhhdmUgYGJvdW5kc2AgKGVudGlyZWx5IG5ldyBzbGlkZSBvYmplY3QpXG5cdFx0XHRcdGlmKCBpdGVtICYmIChfaXRlbXNOZWVkVXBkYXRlIHx8IGl0ZW0ubmVlZHNVcGRhdGUgfHwgIWl0ZW0uYm91bmRzKSApIHtcblxuXHRcdFx0XHRcdHNlbGYuY2xlYW5TbGlkZSggaXRlbSApO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHNlbGYuc2V0Q29udGVudCggaG9sZGVyLCBoSW5kZXggKTtcblxuXHRcdFx0XHRcdC8vIGlmIFwiY2VudGVyXCIgc2xpZGVcblx0XHRcdFx0XHRpZihpID09PSAxKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmN1cnJJdGVtID0gaXRlbTtcblx0XHRcdFx0XHRcdHNlbGYudXBkYXRlQ3Vyclpvb21JdGVtKHRydWUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGl0ZW0ubmVlZHNVcGRhdGUgPSBmYWxzZTtcblxuXHRcdFx0XHR9IGVsc2UgaWYoaG9sZGVyLmluZGV4ID09PSAtMSAmJiBoSW5kZXggPj0gMCkge1xuXHRcdFx0XHRcdC8vIGFkZCBjb250ZW50IGZpcnN0IHRpbWVcblx0XHRcdFx0XHRzZWxmLnNldENvbnRlbnQoIGhvbGRlciwgaEluZGV4ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoaXRlbSAmJiBpdGVtLmNvbnRhaW5lcikge1xuXHRcdFx0XHRcdF9jYWxjdWxhdGVJdGVtU2l6ZShpdGVtLCBfdmlld3BvcnRTaXplKTtcblx0XHRcdFx0XHRfc2V0SW1hZ2VTaXplKGl0ZW0pO1xuXHRcdFx0XHRcdF9hcHBseVpvb21QYW5Ub0l0ZW0oIGl0ZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdF9pdGVtc05lZWRVcGRhdGUgPSBmYWxzZTtcblx0XHR9XHRcblxuXHRcdF9zdGFydFpvb21MZXZlbCA9IF9jdXJyWm9vbUxldmVsID0gc2VsZi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsO1xuXHRcdF9jdXJyUGFuQm91bmRzID0gc2VsZi5jdXJySXRlbS5ib3VuZHM7XG5cblx0XHRpZihfY3VyclBhbkJvdW5kcykge1xuXHRcdFx0X3Bhbk9mZnNldC54ID0gX2N1cnJQYW5Cb3VuZHMuY2VudGVyLng7XG5cdFx0XHRfcGFuT2Zmc2V0LnkgPSBfY3VyclBhbkJvdW5kcy5jZW50ZXIueTtcblx0XHRcdF9hcHBseUN1cnJlbnRab29tUGFuKCB0cnVlICk7XG5cdFx0fVxuXHRcdFxuXHRcdF9zaG91dCgncmVzaXplJyk7XG5cdH0sXG5cdFxuXHQvLyBab29tIGN1cnJlbnQgaXRlbSB0b1xuXHR6b29tVG86IGZ1bmN0aW9uKGRlc3Rab29tTGV2ZWwsIGNlbnRlclBvaW50LCBzcGVlZCwgZWFzaW5nRm4sIHVwZGF0ZUZuKSB7XG5cdFx0Lypcblx0XHRcdGlmKGRlc3Rab29tTGV2ZWwgPT09ICdmaXQnKSB7XG5cdFx0XHRcdGRlc3Rab29tTGV2ZWwgPSBzZWxmLmN1cnJJdGVtLmZpdFJhdGlvO1xuXHRcdFx0fSBlbHNlIGlmKGRlc3Rab29tTGV2ZWwgPT09ICdmaWxsJykge1xuXHRcdFx0XHRkZXN0Wm9vbUxldmVsID0gc2VsZi5jdXJySXRlbS5maWxsUmF0aW87XG5cdFx0XHR9XG5cdFx0Ki9cblxuXHRcdGlmKGNlbnRlclBvaW50KSB7XG5cdFx0XHRfc3RhcnRab29tTGV2ZWwgPSBfY3Vyclpvb21MZXZlbDtcblx0XHRcdF9taWRab29tUG9pbnQueCA9IE1hdGguYWJzKGNlbnRlclBvaW50LngpIC0gX3Bhbk9mZnNldC54IDtcblx0XHRcdF9taWRab29tUG9pbnQueSA9IE1hdGguYWJzKGNlbnRlclBvaW50LnkpIC0gX3Bhbk9mZnNldC55IDtcblx0XHRcdF9lcXVhbGl6ZVBvaW50cyhfc3RhcnRQYW5PZmZzZXQsIF9wYW5PZmZzZXQpO1xuXHRcdH1cblxuXHRcdHZhciBkZXN0UGFuQm91bmRzID0gX2NhbGN1bGF0ZVBhbkJvdW5kcyhkZXN0Wm9vbUxldmVsLCBmYWxzZSksXG5cdFx0XHRkZXN0UGFuT2Zmc2V0ID0ge307XG5cblx0XHRfbW9kaWZ5RGVzdFBhbk9mZnNldCgneCcsIGRlc3RQYW5Cb3VuZHMsIGRlc3RQYW5PZmZzZXQsIGRlc3Rab29tTGV2ZWwpO1xuXHRcdF9tb2RpZnlEZXN0UGFuT2Zmc2V0KCd5JywgZGVzdFBhbkJvdW5kcywgZGVzdFBhbk9mZnNldCwgZGVzdFpvb21MZXZlbCk7XG5cblx0XHR2YXIgaW5pdGlhbFpvb21MZXZlbCA9IF9jdXJyWm9vbUxldmVsO1xuXHRcdHZhciBpbml0aWFsUGFuT2Zmc2V0ID0ge1xuXHRcdFx0eDogX3Bhbk9mZnNldC54LFxuXHRcdFx0eTogX3Bhbk9mZnNldC55XG5cdFx0fTtcblxuXHRcdF9yb3VuZFBvaW50KGRlc3RQYW5PZmZzZXQpO1xuXG5cdFx0dmFyIG9uVXBkYXRlID0gZnVuY3Rpb24obm93KSB7XG5cdFx0XHRpZihub3cgPT09IDEpIHtcblx0XHRcdFx0X2N1cnJab29tTGV2ZWwgPSBkZXN0Wm9vbUxldmVsO1xuXHRcdFx0XHRfcGFuT2Zmc2V0LnggPSBkZXN0UGFuT2Zmc2V0Lng7XG5cdFx0XHRcdF9wYW5PZmZzZXQueSA9IGRlc3RQYW5PZmZzZXQueTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdF9jdXJyWm9vbUxldmVsID0gKGRlc3Rab29tTGV2ZWwgLSBpbml0aWFsWm9vbUxldmVsKSAqIG5vdyArIGluaXRpYWxab29tTGV2ZWw7XG5cdFx0XHRcdF9wYW5PZmZzZXQueCA9IChkZXN0UGFuT2Zmc2V0LnggLSBpbml0aWFsUGFuT2Zmc2V0LngpICogbm93ICsgaW5pdGlhbFBhbk9mZnNldC54O1xuXHRcdFx0XHRfcGFuT2Zmc2V0LnkgPSAoZGVzdFBhbk9mZnNldC55IC0gaW5pdGlhbFBhbk9mZnNldC55KSAqIG5vdyArIGluaXRpYWxQYW5PZmZzZXQueTtcblx0XHRcdH1cblxuXHRcdFx0aWYodXBkYXRlRm4pIHtcblx0XHRcdFx0dXBkYXRlRm4obm93KTtcblx0XHRcdH1cblxuXHRcdFx0X2FwcGx5Q3VycmVudFpvb21QYW4oIG5vdyA9PT0gMSApO1xuXHRcdH07XG5cblx0XHRpZihzcGVlZCkge1xuXHRcdFx0X2FuaW1hdGVQcm9wKCdjdXN0b21ab29tVG8nLCAwLCAxLCBzcGVlZCwgZWFzaW5nRm4gfHwgZnJhbWV3b3JrLmVhc2luZy5zaW5lLmluT3V0LCBvblVwZGF0ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9uVXBkYXRlKDEpO1xuXHRcdH1cblx0fVxuXG5cbn07XG5cblxuLyo+PmNvcmUqL1xuXG4vKj4+Z2VzdHVyZXMqL1xuLyoqXG4gKiBNb3VzZS90b3VjaC9wb2ludGVyIGV2ZW50IGhhbmRsZXJzLlxuICogXG4gKiBzZXBhcmF0ZWQgZnJvbSBAY29yZS5qcyBmb3IgcmVhZGFiaWxpdHlcbiAqL1xuXG52YXIgTUlOX1NXSVBFX0RJU1RBTkNFID0gMzAsXG5cdERJUkVDVElPTl9DSEVDS19PRkZTRVQgPSAxMDsgLy8gYW1vdW50IG9mIHBpeGVscyB0byBkcmFnIHRvIGRldGVybWluZSBkaXJlY3Rpb24gb2Ygc3dpcGVcblxudmFyIF9nZXN0dXJlU3RhcnRUaW1lLFxuXHRfZ2VzdHVyZUNoZWNrU3BlZWRUaW1lLFxuXG5cdC8vIHBvb2wgb2Ygb2JqZWN0cyB0aGF0IGFyZSB1c2VkIGR1cmluZyBkcmFnZ2luZyBvZiB6b29taW5nXG5cdHAgPSB7fSwgLy8gZmlyc3QgcG9pbnRcblx0cDIgPSB7fSwgLy8gc2Vjb25kIHBvaW50IChmb3Igem9vbSBnZXN0dXJlKVxuXHRkZWx0YSA9IHt9LFxuXHRfY3VyclBvaW50ID0ge30sXG5cdF9zdGFydFBvaW50ID0ge30sXG5cdF9jdXJyUG9pbnRlcnMgPSBbXSxcblx0X3N0YXJ0TWFpblNjcm9sbFBvcyA9IHt9LFxuXHRfcmVsZWFzZUFuaW1EYXRhLFxuXHRfcG9zUG9pbnRzID0gW10sIC8vIGFycmF5IG9mIHBvaW50cyBkdXJpbmcgZHJhZ2dpbmcsIHVzZWQgdG8gZGV0ZXJtaW5lIHR5cGUgb2YgZ2VzdHVyZVxuXHRfdGVtcFBvaW50ID0ge30sXG5cblx0X2lzWm9vbWluZ0luLFxuXHRfdmVydGljYWxEcmFnSW5pdGlhdGVkLFxuXHRfb2xkQW5kcm9pZFRvdWNoRW5kVGltZW91dCxcblx0X2N1cnJab29tZWRJdGVtSW5kZXggPSAwLFxuXHRfY2VudGVyUG9pbnQgPSBfZ2V0RW1wdHlQb2ludCgpLFxuXHRfbGFzdFJlbGVhc2VUaW1lID0gMCxcblx0X2lzRHJhZ2dpbmcsIC8vIGF0IGxlYXN0IG9uZSBwb2ludGVyIGlzIGRvd25cblx0X2lzTXVsdGl0b3VjaCwgLy8gYXQgbGVhc3QgdHdvIF9wb2ludGVycyBhcmUgZG93blxuXHRfem9vbVN0YXJ0ZWQsIC8vIHpvb20gbGV2ZWwgY2hhbmdlZCBkdXJpbmcgem9vbSBnZXN0dXJlXG5cdF9tb3ZlZCxcblx0X2RyYWdBbmltRnJhbWUsXG5cdF9tYWluU2Nyb2xsU2hpZnRlZCxcblx0X2N1cnJlbnRQb2ludHMsIC8vIGFycmF5IG9mIGN1cnJlbnQgdG91Y2ggcG9pbnRzXG5cdF9pc1pvb21pbmcsXG5cdF9jdXJyUG9pbnRzRGlzdGFuY2UsXG5cdF9zdGFydFBvaW50c0Rpc3RhbmNlLFxuXHRfY3VyclBhbkJvdW5kcyxcblx0X21haW5TY3JvbGxQb3MgPSBfZ2V0RW1wdHlQb2ludCgpLFxuXHRfY3Vyclpvb21FbGVtZW50U3R5bGUsXG5cdF9tYWluU2Nyb2xsQW5pbWF0aW5nLCAvLyB0cnVlLCBpZiBhbmltYXRpb24gYWZ0ZXIgc3dpcGUgZ2VzdHVyZSBpcyBydW5uaW5nXG5cdF9taWRab29tUG9pbnQgPSBfZ2V0RW1wdHlQb2ludCgpLFxuXHRfY3VyckNlbnRlclBvaW50ID0gX2dldEVtcHR5UG9pbnQoKSxcblx0X2RpcmVjdGlvbixcblx0X2lzRmlyc3RNb3ZlLFxuXHRfb3BhY2l0eUNoYW5nZWQsXG5cdF9iZ09wYWNpdHksXG5cdF93YXNPdmVySW5pdGlhbFpvb20sXG5cblx0X2lzRXF1YWxQb2ludHMgPSBmdW5jdGlvbihwMSwgcDIpIHtcblx0XHRyZXR1cm4gcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55O1xuXHR9LFxuXHRfaXNOZWFyYnlQb2ludHMgPSBmdW5jdGlvbih0b3VjaDAsIHRvdWNoMSkge1xuXHRcdHJldHVybiBNYXRoLmFicyh0b3VjaDAueCAtIHRvdWNoMS54KSA8IERPVUJMRV9UQVBfUkFESVVTICYmIE1hdGguYWJzKHRvdWNoMC55IC0gdG91Y2gxLnkpIDwgRE9VQkxFX1RBUF9SQURJVVM7XG5cdH0sXG5cdF9jYWxjdWxhdGVQb2ludHNEaXN0YW5jZSA9IGZ1bmN0aW9uKHAxLCBwMikge1xuXHRcdF90ZW1wUG9pbnQueCA9IE1hdGguYWJzKCBwMS54IC0gcDIueCApO1xuXHRcdF90ZW1wUG9pbnQueSA9IE1hdGguYWJzKCBwMS55IC0gcDIueSApO1xuXHRcdHJldHVybiBNYXRoLnNxcnQoX3RlbXBQb2ludC54ICogX3RlbXBQb2ludC54ICsgX3RlbXBQb2ludC55ICogX3RlbXBQb2ludC55KTtcblx0fSxcblx0X3N0b3BEcmFnVXBkYXRlTG9vcCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKF9kcmFnQW5pbUZyYW1lKSB7XG5cdFx0XHRfY2FuY2VsQUYoX2RyYWdBbmltRnJhbWUpO1xuXHRcdFx0X2RyYWdBbmltRnJhbWUgPSBudWxsO1xuXHRcdH1cblx0fSxcblx0X2RyYWdVcGRhdGVMb29wID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoX2lzRHJhZ2dpbmcpIHtcblx0XHRcdF9kcmFnQW5pbUZyYW1lID0gX3JlcXVlc3RBRihfZHJhZ1VwZGF0ZUxvb3ApO1xuXHRcdFx0X3JlbmRlck1vdmVtZW50KCk7XG5cdFx0fVxuXHR9LFxuXHRfY2FuUGFuID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICEoX29wdGlvbnMuc2NhbGVNb2RlID09PSAnZml0JyAmJiBfY3Vyclpvb21MZXZlbCA9PT0gIHNlbGYuY3Vyckl0ZW0uaW5pdGlhbFpvb21MZXZlbCk7XG5cdH0sXG5cdFxuXHQvLyBmaW5kIHRoZSBjbG9zZXN0IHBhcmVudCBET00gZWxlbWVudFxuXHRfY2xvc2VzdEVsZW1lbnQgPSBmdW5jdGlvbihlbCwgZm4pIHtcblx0ICBcdGlmKCFlbCB8fCBlbCA9PT0gZG9jdW1lbnQpIHtcblx0ICBcdFx0cmV0dXJuIGZhbHNlO1xuXHQgIFx0fVxuXG5cdCAgXHQvLyBkb24ndCBzZWFyY2ggZWxlbWVudHMgYWJvdmUgcHN3cF9fc2Nyb2xsLXdyYXBcblx0ICBcdGlmKGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSAmJiBlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykuaW5kZXhPZigncHN3cF9fc2Nyb2xsLXdyYXAnKSA+IC0xICkge1xuXHQgIFx0XHRyZXR1cm4gZmFsc2U7XG5cdCAgXHR9XG5cblx0ICBcdGlmKCBmbihlbCkgKSB7XG5cdCAgXHRcdHJldHVybiBlbDtcblx0ICBcdH1cblxuXHQgIFx0cmV0dXJuIF9jbG9zZXN0RWxlbWVudChlbC5wYXJlbnROb2RlLCBmbik7XG5cdH0sXG5cblx0X3ByZXZlbnRPYmogPSB7fSxcblx0X3ByZXZlbnREZWZhdWx0RXZlbnRCZWhhdmlvdXIgPSBmdW5jdGlvbihlLCBpc0Rvd24pIHtcblx0ICAgIF9wcmV2ZW50T2JqLnByZXZlbnQgPSAhX2Nsb3Nlc3RFbGVtZW50KGUudGFyZ2V0LCBfb3B0aW9ucy5pc0NsaWNrYWJsZUVsZW1lbnQpO1xuXG5cdFx0X3Nob3V0KCdwcmV2ZW50RHJhZ0V2ZW50JywgZSwgaXNEb3duLCBfcHJldmVudE9iaik7XG5cdFx0cmV0dXJuIF9wcmV2ZW50T2JqLnByZXZlbnQ7XG5cblx0fSxcblx0X2NvbnZlcnRUb3VjaFRvUG9pbnQgPSBmdW5jdGlvbih0b3VjaCwgcCkge1xuXHRcdHAueCA9IHRvdWNoLnBhZ2VYO1xuXHRcdHAueSA9IHRvdWNoLnBhZ2VZO1xuXHRcdHAuaWQgPSB0b3VjaC5pZGVudGlmaWVyO1xuXHRcdHJldHVybiBwO1xuXHR9LFxuXHRfZmluZENlbnRlck9mUG9pbnRzID0gZnVuY3Rpb24ocDEsIHAyLCBwQ2VudGVyKSB7XG5cdFx0cENlbnRlci54ID0gKHAxLnggKyBwMi54KSAqIDAuNTtcblx0XHRwQ2VudGVyLnkgPSAocDEueSArIHAyLnkpICogMC41O1xuXHR9LFxuXHRfcHVzaFBvc1BvaW50ID0gZnVuY3Rpb24odGltZSwgeCwgeSkge1xuXHRcdGlmKHRpbWUgLSBfZ2VzdHVyZUNoZWNrU3BlZWRUaW1lID4gNTApIHtcblx0XHRcdHZhciBvID0gX3Bvc1BvaW50cy5sZW5ndGggPiAyID8gX3Bvc1BvaW50cy5zaGlmdCgpIDoge307XG5cdFx0XHRvLnggPSB4O1xuXHRcdFx0by55ID0geTsgXG5cdFx0XHRfcG9zUG9pbnRzLnB1c2gobyk7XG5cdFx0XHRfZ2VzdHVyZUNoZWNrU3BlZWRUaW1lID0gdGltZTtcblx0XHR9XG5cdH0sXG5cblx0X2NhbGN1bGF0ZVZlcnRpY2FsRHJhZ09wYWNpdHlSYXRpbyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB5T2Zmc2V0ID0gX3Bhbk9mZnNldC55IC0gc2VsZi5jdXJySXRlbS5pbml0aWFsUG9zaXRpb24ueTsgLy8gZGlmZmVyZW5jZSBiZXR3ZWVuIGluaXRpYWwgYW5kIGN1cnJlbnQgcG9zaXRpb25cblx0XHRyZXR1cm4gMSAtICBNYXRoLmFicyggeU9mZnNldCAvIChfdmlld3BvcnRTaXplLnkgLyAyKSAgKTtcblx0fSxcblxuXHRcblx0Ly8gcG9pbnRzIHBvb2wsIHJldXNlZCBkdXJpbmcgdG91Y2ggZXZlbnRzXG5cdF9lUG9pbnQxID0ge30sXG5cdF9lUG9pbnQyID0ge30sXG5cdF90ZW1wUG9pbnRzQXJyID0gW10sXG5cdF90ZW1wQ291bnRlcixcblx0X2dldFRvdWNoUG9pbnRzID0gZnVuY3Rpb24oZSkge1xuXHRcdC8vIGNsZWFuIHVwIHByZXZpb3VzIHBvaW50cywgd2l0aG91dCByZWNyZWF0aW5nIGFycmF5XG5cdFx0d2hpbGUoX3RlbXBQb2ludHNBcnIubGVuZ3RoID4gMCkge1xuXHRcdFx0X3RlbXBQb2ludHNBcnIucG9wKCk7XG5cdFx0fVxuXG5cdFx0aWYoIV9wb2ludGVyRXZlbnRFbmFibGVkKSB7XG5cdFx0XHRpZihlLnR5cGUuaW5kZXhPZigndG91Y2gnKSA+IC0xKSB7XG5cblx0XHRcdFx0aWYoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0X3RlbXBQb2ludHNBcnJbMF0gPSBfY29udmVydFRvdWNoVG9Qb2ludChlLnRvdWNoZXNbMF0sIF9lUG9pbnQxKTtcblx0XHRcdFx0XHRpZihlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0X3RlbXBQb2ludHNBcnJbMV0gPSBfY29udmVydFRvdWNoVG9Qb2ludChlLnRvdWNoZXNbMV0sIF9lUG9pbnQyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRfZVBvaW50MS54ID0gZS5wYWdlWDtcblx0XHRcdFx0X2VQb2ludDEueSA9IGUucGFnZVk7XG5cdFx0XHRcdF9lUG9pbnQxLmlkID0gJyc7XG5cdFx0XHRcdF90ZW1wUG9pbnRzQXJyWzBdID0gX2VQb2ludDE7Ly9fZVBvaW50MTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0X3RlbXBDb3VudGVyID0gMDtcblx0XHRcdC8vIHdlIGNhbiB1c2UgZm9yRWFjaCwgYXMgcG9pbnRlciBldmVudHMgYXJlIHN1cHBvcnRlZCBvbmx5IGluIG1vZGVybiBicm93c2Vyc1xuXHRcdFx0X2N1cnJQb2ludGVycy5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcblx0XHRcdFx0aWYoX3RlbXBDb3VudGVyID09PSAwKSB7XG5cdFx0XHRcdFx0X3RlbXBQb2ludHNBcnJbMF0gPSBwO1xuXHRcdFx0XHR9IGVsc2UgaWYoX3RlbXBDb3VudGVyID09PSAxKSB7XG5cdFx0XHRcdFx0X3RlbXBQb2ludHNBcnJbMV0gPSBwO1xuXHRcdFx0XHR9XG5cdFx0XHRcdF90ZW1wQ291bnRlcisrO1xuXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIF90ZW1wUG9pbnRzQXJyO1xuXHR9LFxuXG5cdF9wYW5Pck1vdmVNYWluU2Nyb2xsID0gZnVuY3Rpb24oYXhpcywgZGVsdGEpIHtcblxuXHRcdHZhciBwYW5GcmljdGlvbixcblx0XHRcdG92ZXJEaWZmID0gMCxcblx0XHRcdG5ld09mZnNldCA9IF9wYW5PZmZzZXRbYXhpc10gKyBkZWx0YVtheGlzXSxcblx0XHRcdHN0YXJ0T3ZlckRpZmYsXG5cdFx0XHRkaXIgPSBkZWx0YVtheGlzXSA+IDAsXG5cdFx0XHRuZXdNYWluU2Nyb2xsUG9zaXRpb24gPSBfbWFpblNjcm9sbFBvcy54ICsgZGVsdGEueCxcblx0XHRcdG1haW5TY3JvbGxEaWZmID0gX21haW5TY3JvbGxQb3MueCAtIF9zdGFydE1haW5TY3JvbGxQb3MueCxcblx0XHRcdG5ld1BhblBvcyxcblx0XHRcdG5ld01haW5TY3JvbGxQb3M7XG5cblx0XHQvLyBjYWxjdWxhdGUgZmRpc3RhbmNlIG92ZXIgdGhlIGJvdW5kcyBhbmQgZnJpY3Rpb25cblx0XHRpZihuZXdPZmZzZXQgPiBfY3VyclBhbkJvdW5kcy5taW5bYXhpc10gfHwgbmV3T2Zmc2V0IDwgX2N1cnJQYW5Cb3VuZHMubWF4W2F4aXNdKSB7XG5cdFx0XHRwYW5GcmljdGlvbiA9IF9vcHRpb25zLnBhbkVuZEZyaWN0aW9uO1xuXHRcdFx0Ly8gTGluZWFyIGluY3JlYXNpbmcgb2YgZnJpY3Rpb24sIHNvIGF0IDEvNCBvZiB2aWV3cG9ydCBpdCdzIGF0IG1heCB2YWx1ZS4gXG5cdFx0XHQvLyBMb29rcyBub3QgYXMgbmljZSBhcyB3YXMgZXhwZWN0ZWQuIExlZnQgZm9yIGhpc3RvcnkuXG5cdFx0XHQvLyBwYW5GcmljdGlvbiA9ICgxIC0gKF9wYW5PZmZzZXRbYXhpc10gKyBkZWx0YVtheGlzXSArIHBhbkJvdW5kcy5taW5bYXhpc10pIC8gKF92aWV3cG9ydFNpemVbYXhpc10gLyA0KSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYW5GcmljdGlvbiA9IDE7XG5cdFx0fVxuXHRcdFxuXHRcdG5ld09mZnNldCA9IF9wYW5PZmZzZXRbYXhpc10gKyBkZWx0YVtheGlzXSAqIHBhbkZyaWN0aW9uO1xuXG5cdFx0Ly8gbW92ZSBtYWluIHNjcm9sbCBvciBzdGFydCBwYW5uaW5nXG5cdFx0aWYoX29wdGlvbnMuYWxsb3dQYW5Ub05leHQgfHwgX2N1cnJab29tTGV2ZWwgPT09IHNlbGYuY3Vyckl0ZW0uaW5pdGlhbFpvb21MZXZlbCkge1xuXG5cblx0XHRcdGlmKCFfY3Vyclpvb21FbGVtZW50U3R5bGUpIHtcblx0XHRcdFx0XG5cdFx0XHRcdG5ld01haW5TY3JvbGxQb3MgPSBuZXdNYWluU2Nyb2xsUG9zaXRpb247XG5cblx0XHRcdH0gZWxzZSBpZihfZGlyZWN0aW9uID09PSAnaCcgJiYgYXhpcyA9PT0gJ3gnICYmICFfem9vbVN0YXJ0ZWQgKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZihkaXIpIHtcblx0XHRcdFx0XHRpZihuZXdPZmZzZXQgPiBfY3VyclBhbkJvdW5kcy5taW5bYXhpc10pIHtcblx0XHRcdFx0XHRcdHBhbkZyaWN0aW9uID0gX29wdGlvbnMucGFuRW5kRnJpY3Rpb247XG5cdFx0XHRcdFx0XHRvdmVyRGlmZiA9IF9jdXJyUGFuQm91bmRzLm1pbltheGlzXSAtIG5ld09mZnNldDtcblx0XHRcdFx0XHRcdHN0YXJ0T3ZlckRpZmYgPSBfY3VyclBhbkJvdW5kcy5taW5bYXhpc10gLSBfc3RhcnRQYW5PZmZzZXRbYXhpc107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIGRyYWcgcmlnaHRcblx0XHRcdFx0XHRpZiggKHN0YXJ0T3ZlckRpZmYgPD0gMCB8fCBtYWluU2Nyb2xsRGlmZiA8IDApICYmIF9nZXROdW1JdGVtcygpID4gMSApIHtcblx0XHRcdFx0XHRcdG5ld01haW5TY3JvbGxQb3MgPSBuZXdNYWluU2Nyb2xsUG9zaXRpb247XG5cdFx0XHRcdFx0XHRpZihtYWluU2Nyb2xsRGlmZiA8IDAgJiYgbmV3TWFpblNjcm9sbFBvc2l0aW9uID4gX3N0YXJ0TWFpblNjcm9sbFBvcy54KSB7XG5cdFx0XHRcdFx0XHRcdG5ld01haW5TY3JvbGxQb3MgPSBfc3RhcnRNYWluU2Nyb2xsUG9zLng7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmKF9jdXJyUGFuQm91bmRzLm1pbi54ICE9PSBfY3VyclBhbkJvdW5kcy5tYXgueCkge1xuXHRcdFx0XHRcdFx0XHRuZXdQYW5Qb3MgPSBuZXdPZmZzZXQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGlmKG5ld09mZnNldCA8IF9jdXJyUGFuQm91bmRzLm1heFtheGlzXSApIHtcblx0XHRcdFx0XHRcdHBhbkZyaWN0aW9uID1fb3B0aW9ucy5wYW5FbmRGcmljdGlvbjtcblx0XHRcdFx0XHRcdG92ZXJEaWZmID0gbmV3T2Zmc2V0IC0gX2N1cnJQYW5Cb3VuZHMubWF4W2F4aXNdO1xuXHRcdFx0XHRcdFx0c3RhcnRPdmVyRGlmZiA9IF9zdGFydFBhbk9mZnNldFtheGlzXSAtIF9jdXJyUGFuQm91bmRzLm1heFtheGlzXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiggKHN0YXJ0T3ZlckRpZmYgPD0gMCB8fCBtYWluU2Nyb2xsRGlmZiA+IDApICYmIF9nZXROdW1JdGVtcygpID4gMSApIHtcblx0XHRcdFx0XHRcdG5ld01haW5TY3JvbGxQb3MgPSBuZXdNYWluU2Nyb2xsUG9zaXRpb247XG5cblx0XHRcdFx0XHRcdGlmKG1haW5TY3JvbGxEaWZmID4gMCAmJiBuZXdNYWluU2Nyb2xsUG9zaXRpb24gPCBfc3RhcnRNYWluU2Nyb2xsUG9zLngpIHtcblx0XHRcdFx0XHRcdFx0bmV3TWFpblNjcm9sbFBvcyA9IF9zdGFydE1haW5TY3JvbGxQb3MueDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZihfY3VyclBhbkJvdW5kcy5taW4ueCAhPT0gX2N1cnJQYW5Cb3VuZHMubWF4LngpIHtcblx0XHRcdFx0XHRcdFx0bmV3UGFuUG9zID0gbmV3T2Zmc2V0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHQvL1xuXHRcdFx0fVxuXG5cdFx0XHRpZihheGlzID09PSAneCcpIHtcblxuXHRcdFx0XHRpZihuZXdNYWluU2Nyb2xsUG9zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRfbW92ZU1haW5TY3JvbGwobmV3TWFpblNjcm9sbFBvcywgdHJ1ZSk7XG5cdFx0XHRcdFx0aWYobmV3TWFpblNjcm9sbFBvcyA9PT0gX3N0YXJ0TWFpblNjcm9sbFBvcy54KSB7XG5cdFx0XHRcdFx0XHRfbWFpblNjcm9sbFNoaWZ0ZWQgPSBmYWxzZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0X21haW5TY3JvbGxTaGlmdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihfY3VyclBhbkJvdW5kcy5taW4ueCAhPT0gX2N1cnJQYW5Cb3VuZHMubWF4LngpIHtcblx0XHRcdFx0XHRpZihuZXdQYW5Qb3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0X3Bhbk9mZnNldC54ID0gbmV3UGFuUG9zO1xuXHRcdFx0XHRcdH0gZWxzZSBpZighX21haW5TY3JvbGxTaGlmdGVkKSB7XG5cdFx0XHRcdFx0XHRfcGFuT2Zmc2V0LnggKz0gZGVsdGEueCAqIHBhbkZyaWN0aW9uO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBuZXdNYWluU2Nyb2xsUG9zICE9PSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZighX21haW5TY3JvbGxBbmltYXRpbmcpIHtcblx0XHRcdFxuXHRcdFx0aWYoIV9tYWluU2Nyb2xsU2hpZnRlZCkge1xuXHRcdFx0XHRpZihfY3Vyclpvb21MZXZlbCA+IHNlbGYuY3Vyckl0ZW0uZml0UmF0aW8pIHtcblx0XHRcdFx0XHRfcGFuT2Zmc2V0W2F4aXNdICs9IGRlbHRhW2F4aXNdICogcGFuRnJpY3Rpb247XG5cdFx0XHRcdFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdFxuXHRcdH1cblx0XHRcblx0fSxcblxuXHQvLyBQb2ludGVyZG93bi90b3VjaHN0YXJ0L21vdXNlZG93biBoYW5kbGVyXG5cdF9vbkRyYWdTdGFydCA9IGZ1bmN0aW9uKGUpIHtcblxuXHRcdC8vIEFsbG93IGRyYWdnaW5nIG9ubHkgdmlhIGxlZnQgbW91c2UgYnV0dG9uLlxuXHRcdC8vIEFzIHRoaXMgaGFuZGxlciBpcyBub3QgYWRkZWQgaW4gSUU4IC0gd2UgaWdub3JlIGUud2hpY2hcblx0XHQvLyBcblx0XHQvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19wcm9wZXJ0aWVzLmh0bWxcblx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQuYnV0dG9uXG5cdFx0aWYoZS50eXBlID09PSAnbW91c2Vkb3duJyAmJiBlLmJ1dHRvbiA+IDAgICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmKF9pbml0aWFsWm9vbVJ1bm5pbmcpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZihfb2xkQW5kcm9pZFRvdWNoRW5kVGltZW91dCAmJiBlLnR5cGUgPT09ICdtb3VzZWRvd24nKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYoX3ByZXZlbnREZWZhdWx0RXZlbnRCZWhhdmlvdXIoZSwgdHJ1ZSkpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblxuXG5cdFx0X3Nob3V0KCdwb2ludGVyRG93bicpO1xuXG5cdFx0aWYoX3BvaW50ZXJFdmVudEVuYWJsZWQpIHtcblx0XHRcdHZhciBwb2ludGVySW5kZXggPSBmcmFtZXdvcmsuYXJyYXlTZWFyY2goX2N1cnJQb2ludGVycywgZS5wb2ludGVySWQsICdpZCcpO1xuXHRcdFx0aWYocG9pbnRlckluZGV4IDwgMCkge1xuXHRcdFx0XHRwb2ludGVySW5kZXggPSBfY3VyclBvaW50ZXJzLmxlbmd0aDtcblx0XHRcdH1cblx0XHRcdF9jdXJyUG9pbnRlcnNbcG9pbnRlckluZGV4XSA9IHt4OmUucGFnZVgsIHk6ZS5wYWdlWSwgaWQ6IGUucG9pbnRlcklkfTtcblx0XHR9XG5cdFx0XG5cblxuXHRcdHZhciBzdGFydFBvaW50c0xpc3QgPSBfZ2V0VG91Y2hQb2ludHMoZSksXG5cdFx0XHRudW1Qb2ludHMgPSBzdGFydFBvaW50c0xpc3QubGVuZ3RoO1xuXG5cdFx0X2N1cnJlbnRQb2ludHMgPSBudWxsO1xuXG5cdFx0X3N0b3BBbGxBbmltYXRpb25zKCk7XG5cblx0XHQvLyBpbml0IGRyYWdcblx0XHRpZighX2lzRHJhZ2dpbmcgfHwgbnVtUG9pbnRzID09PSAxKSB7XG5cblx0XHRcdFxuXG5cdFx0XHRfaXNEcmFnZ2luZyA9IF9pc0ZpcnN0TW92ZSA9IHRydWU7XG5cdFx0XHRmcmFtZXdvcmsuYmluZCh3aW5kb3csIF91cE1vdmVFdmVudHMsIHNlbGYpO1xuXG5cdFx0XHRfaXNab29taW5nSW4gPSBcblx0XHRcdFx0X3dhc092ZXJJbml0aWFsWm9vbSA9IFxuXHRcdFx0XHRfb3BhY2l0eUNoYW5nZWQgPSBcblx0XHRcdFx0X3ZlcnRpY2FsRHJhZ0luaXRpYXRlZCA9IFxuXHRcdFx0XHRfbWFpblNjcm9sbFNoaWZ0ZWQgPSBcblx0XHRcdFx0X21vdmVkID0gXG5cdFx0XHRcdF9pc011bHRpdG91Y2ggPSBcblx0XHRcdFx0X3pvb21TdGFydGVkID0gZmFsc2U7XG5cblx0XHRcdF9kaXJlY3Rpb24gPSBudWxsO1xuXG5cdFx0XHRfc2hvdXQoJ2ZpcnN0VG91Y2hTdGFydCcsIHN0YXJ0UG9pbnRzTGlzdCk7XG5cblx0XHRcdF9lcXVhbGl6ZVBvaW50cyhfc3RhcnRQYW5PZmZzZXQsIF9wYW5PZmZzZXQpO1xuXG5cdFx0XHRfY3VyclBhbkRpc3QueCA9IF9jdXJyUGFuRGlzdC55ID0gMDtcblx0XHRcdF9lcXVhbGl6ZVBvaW50cyhfY3VyclBvaW50LCBzdGFydFBvaW50c0xpc3RbMF0pO1xuXHRcdFx0X2VxdWFsaXplUG9pbnRzKF9zdGFydFBvaW50LCBfY3VyclBvaW50KTtcblxuXHRcdFx0Ly9fZXF1YWxpemVQb2ludHMoX3N0YXJ0TWFpblNjcm9sbFBvcywgX21haW5TY3JvbGxQb3MpO1xuXHRcdFx0X3N0YXJ0TWFpblNjcm9sbFBvcy54ID0gX3NsaWRlU2l6ZS54ICogX2N1cnJQb3NpdGlvbkluZGV4O1xuXG5cdFx0XHRfcG9zUG9pbnRzID0gW3tcblx0XHRcdFx0eDogX2N1cnJQb2ludC54LFxuXHRcdFx0XHR5OiBfY3VyclBvaW50Lnlcblx0XHRcdH1dO1xuXG5cdFx0XHRfZ2VzdHVyZUNoZWNrU3BlZWRUaW1lID0gX2dlc3R1cmVTdGFydFRpbWUgPSBfZ2V0Q3VycmVudFRpbWUoKTtcblxuXHRcdFx0Ly9fbWFpblNjcm9sbEFuaW1hdGlvbkVuZCh0cnVlKTtcblx0XHRcdF9jYWxjdWxhdGVQYW5Cb3VuZHMoIF9jdXJyWm9vbUxldmVsLCB0cnVlICk7XG5cdFx0XHRcblx0XHRcdC8vIFN0YXJ0IHJlbmRlcmluZ1xuXHRcdFx0X3N0b3BEcmFnVXBkYXRlTG9vcCgpO1xuXHRcdFx0X2RyYWdVcGRhdGVMb29wKCk7XG5cdFx0XHRcblx0XHR9XG5cblx0XHQvLyBpbml0IHpvb21cblx0XHRpZighX2lzWm9vbWluZyAmJiBudW1Qb2ludHMgPiAxICYmICFfbWFpblNjcm9sbEFuaW1hdGluZyAmJiAhX21haW5TY3JvbGxTaGlmdGVkKSB7XG5cdFx0XHRfc3RhcnRab29tTGV2ZWwgPSBfY3Vyclpvb21MZXZlbDtcblx0XHRcdF96b29tU3RhcnRlZCA9IGZhbHNlOyAvLyB0cnVlIGlmIHpvb20gY2hhbmdlZCBhdCBsZWFzdCBvbmNlXG5cblx0XHRcdF9pc1pvb21pbmcgPSBfaXNNdWx0aXRvdWNoID0gdHJ1ZTtcblx0XHRcdF9jdXJyUGFuRGlzdC55ID0gX2N1cnJQYW5EaXN0LnggPSAwO1xuXG5cdFx0XHRfZXF1YWxpemVQb2ludHMoX3N0YXJ0UGFuT2Zmc2V0LCBfcGFuT2Zmc2V0KTtcblxuXHRcdFx0X2VxdWFsaXplUG9pbnRzKHAsIHN0YXJ0UG9pbnRzTGlzdFswXSk7XG5cdFx0XHRfZXF1YWxpemVQb2ludHMocDIsIHN0YXJ0UG9pbnRzTGlzdFsxXSk7XG5cblx0XHRcdF9maW5kQ2VudGVyT2ZQb2ludHMocCwgcDIsIF9jdXJyQ2VudGVyUG9pbnQpO1xuXG5cdFx0XHRfbWlkWm9vbVBvaW50LnggPSBNYXRoLmFicyhfY3VyckNlbnRlclBvaW50LngpIC0gX3Bhbk9mZnNldC54O1xuXHRcdFx0X21pZFpvb21Qb2ludC55ID0gTWF0aC5hYnMoX2N1cnJDZW50ZXJQb2ludC55KSAtIF9wYW5PZmZzZXQueTtcblx0XHRcdF9jdXJyUG9pbnRzRGlzdGFuY2UgPSBfc3RhcnRQb2ludHNEaXN0YW5jZSA9IF9jYWxjdWxhdGVQb2ludHNEaXN0YW5jZShwLCBwMik7XG5cdFx0fVxuXG5cblx0fSxcblxuXHQvLyBQb2ludGVybW92ZS90b3VjaG1vdmUvbW91c2Vtb3ZlIGhhbmRsZXJcblx0X29uRHJhZ01vdmUgPSBmdW5jdGlvbihlKSB7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZihfcG9pbnRlckV2ZW50RW5hYmxlZCkge1xuXHRcdFx0dmFyIHBvaW50ZXJJbmRleCA9IGZyYW1ld29yay5hcnJheVNlYXJjaChfY3VyclBvaW50ZXJzLCBlLnBvaW50ZXJJZCwgJ2lkJyk7XG5cdFx0XHRpZihwb2ludGVySW5kZXggPiAtMSkge1xuXHRcdFx0XHR2YXIgcCA9IF9jdXJyUG9pbnRlcnNbcG9pbnRlckluZGV4XTtcblx0XHRcdFx0cC54ID0gZS5wYWdlWDtcblx0XHRcdFx0cC55ID0gZS5wYWdlWTsgXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYoX2lzRHJhZ2dpbmcpIHtcblx0XHRcdHZhciB0b3VjaGVzTGlzdCA9IF9nZXRUb3VjaFBvaW50cyhlKTtcblx0XHRcdGlmKCFfZGlyZWN0aW9uICYmICFfbW92ZWQgJiYgIV9pc1pvb21pbmcpIHtcblxuXHRcdFx0XHRpZihfbWFpblNjcm9sbFBvcy54ICE9PSBfc2xpZGVTaXplLnggKiBfY3VyclBvc2l0aW9uSW5kZXgpIHtcblx0XHRcdFx0XHQvLyBpZiBtYWluIHNjcm9sbCBwb3NpdGlvbiBpcyBzaGlmdGVkIOKAkyBkaXJlY3Rpb24gaXMgYWx3YXlzIGhvcml6b250YWxcblx0XHRcdFx0XHRfZGlyZWN0aW9uID0gJ2gnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciBkaWZmID0gTWF0aC5hYnModG91Y2hlc0xpc3RbMF0ueCAtIF9jdXJyUG9pbnQueCkgLSBNYXRoLmFicyh0b3VjaGVzTGlzdFswXS55IC0gX2N1cnJQb2ludC55KTtcblx0XHRcdFx0XHQvLyBjaGVjayB0aGUgZGlyZWN0aW9uIG9mIG1vdmVtZW50XG5cdFx0XHRcdFx0aWYoTWF0aC5hYnMoZGlmZikgPj0gRElSRUNUSU9OX0NIRUNLX09GRlNFVCkge1xuXHRcdFx0XHRcdFx0X2RpcmVjdGlvbiA9IGRpZmYgPiAwID8gJ2gnIDogJ3YnO1xuXHRcdFx0XHRcdFx0X2N1cnJlbnRQb2ludHMgPSB0b3VjaGVzTGlzdDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRfY3VycmVudFBvaW50cyA9IHRvdWNoZXNMaXN0O1xuXHRcdFx0fVxuXHRcdH1cdFxuXHR9LFxuXHQvLyBcblx0X3JlbmRlck1vdmVtZW50ID0gIGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYoIV9jdXJyZW50UG9pbnRzKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG51bVBvaW50cyA9IF9jdXJyZW50UG9pbnRzLmxlbmd0aDtcblxuXHRcdGlmKG51bVBvaW50cyA9PT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdF9lcXVhbGl6ZVBvaW50cyhwLCBfY3VycmVudFBvaW50c1swXSk7XG5cblx0XHRkZWx0YS54ID0gcC54IC0gX2N1cnJQb2ludC54O1xuXHRcdGRlbHRhLnkgPSBwLnkgLSBfY3VyclBvaW50Lnk7XG5cblx0XHRpZihfaXNab29taW5nICYmIG51bVBvaW50cyA+IDEpIHtcblx0XHRcdC8vIEhhbmRsZSBiZWhhdmlvdXIgZm9yIG1vcmUgdGhhbiAxIHBvaW50XG5cblx0XHRcdF9jdXJyUG9pbnQueCA9IHAueDtcblx0XHRcdF9jdXJyUG9pbnQueSA9IHAueTtcblx0XHRcblx0XHRcdC8vIGNoZWNrIGlmIG9uZSBvZiB0d28gcG9pbnRzIGNoYW5nZWRcblx0XHRcdGlmKCAhZGVsdGEueCAmJiAhZGVsdGEueSAmJiBfaXNFcXVhbFBvaW50cyhfY3VycmVudFBvaW50c1sxXSwgcDIpICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdF9lcXVhbGl6ZVBvaW50cyhwMiwgX2N1cnJlbnRQb2ludHNbMV0pO1xuXG5cblx0XHRcdGlmKCFfem9vbVN0YXJ0ZWQpIHtcblx0XHRcdFx0X3pvb21TdGFydGVkID0gdHJ1ZTtcblx0XHRcdFx0X3Nob3V0KCd6b29tR2VzdHVyZVN0YXJ0ZWQnKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gRGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG5cdFx0XHR2YXIgcG9pbnRzRGlzdGFuY2UgPSBfY2FsY3VsYXRlUG9pbnRzRGlzdGFuY2UocCxwMik7XG5cblx0XHRcdHZhciB6b29tTGV2ZWwgPSBfY2FsY3VsYXRlWm9vbUxldmVsKHBvaW50c0Rpc3RhbmNlKTtcblxuXHRcdFx0Ly8gc2xpZ2h0bHkgb3ZlciB0aGUgb2YgaW5pdGlhbCB6b29tIGxldmVsXG5cdFx0XHRpZih6b29tTGV2ZWwgPiBzZWxmLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwgKyBzZWxmLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwgLyAxNSkge1xuXHRcdFx0XHRfd2FzT3ZlckluaXRpYWxab29tID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgdGhlIGZyaWN0aW9uIGlmIHpvb20gbGV2ZWwgaXMgb3V0IG9mIHRoZSBib3VuZHNcblx0XHRcdHZhciB6b29tRnJpY3Rpb24gPSAxLFxuXHRcdFx0XHRtaW5ab29tTGV2ZWwgPSBfZ2V0TWluWm9vbUxldmVsKCksXG5cdFx0XHRcdG1heFpvb21MZXZlbCA9IF9nZXRNYXhab29tTGV2ZWwoKTtcblxuXHRcdFx0aWYgKCB6b29tTGV2ZWwgPCBtaW5ab29tTGV2ZWwgKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZihfb3B0aW9ucy5waW5jaFRvQ2xvc2UgJiYgIV93YXNPdmVySW5pdGlhbFpvb20gJiYgX3N0YXJ0Wm9vbUxldmVsIDw9IHNlbGYuY3Vyckl0ZW0uaW5pdGlhbFpvb21MZXZlbCkge1xuXHRcdFx0XHRcdC8vIGZhZGUgb3V0IGJhY2tncm91bmQgaWYgem9vbWluZyBvdXRcblx0XHRcdFx0XHR2YXIgbWludXNEaWZmID0gbWluWm9vbUxldmVsIC0gem9vbUxldmVsO1xuXHRcdFx0XHRcdHZhciBwZXJjZW50ID0gMSAtIG1pbnVzRGlmZiAvIChtaW5ab29tTGV2ZWwgLyAxLjIpO1xuXG5cdFx0XHRcdFx0X2FwcGx5QmdPcGFjaXR5KHBlcmNlbnQpO1xuXHRcdFx0XHRcdF9zaG91dCgnb25QaW5jaENsb3NlJywgcGVyY2VudCk7XG5cdFx0XHRcdFx0X29wYWNpdHlDaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR6b29tRnJpY3Rpb24gPSAobWluWm9vbUxldmVsIC0gem9vbUxldmVsKSAvIG1pblpvb21MZXZlbDtcblx0XHRcdFx0XHRpZih6b29tRnJpY3Rpb24gPiAxKSB7XG5cdFx0XHRcdFx0XHR6b29tRnJpY3Rpb24gPSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR6b29tTGV2ZWwgPSBtaW5ab29tTGV2ZWwgLSB6b29tRnJpY3Rpb24gKiAobWluWm9vbUxldmVsIC8gMyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9IGVsc2UgaWYgKCB6b29tTGV2ZWwgPiBtYXhab29tTGV2ZWwgKSB7XG5cdFx0XHRcdC8vIDEuNSAtIGV4dHJhIHpvb20gbGV2ZWwgYWJvdmUgdGhlIG1heC4gRS5nLiBpZiBtYXggaXMgeDYsIHJlYWwgbWF4IDYgKyAxLjUgPSA3LjVcblx0XHRcdFx0em9vbUZyaWN0aW9uID0gKHpvb21MZXZlbCAtIG1heFpvb21MZXZlbCkgLyAoIG1pblpvb21MZXZlbCAqIDYgKTtcblx0XHRcdFx0aWYoem9vbUZyaWN0aW9uID4gMSkge1xuXHRcdFx0XHRcdHpvb21GcmljdGlvbiA9IDE7XG5cdFx0XHRcdH1cblx0XHRcdFx0em9vbUxldmVsID0gbWF4Wm9vbUxldmVsICsgem9vbUZyaWN0aW9uICogbWluWm9vbUxldmVsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZih6b29tRnJpY3Rpb24gPCAwKSB7XG5cdFx0XHRcdHpvb21GcmljdGlvbiA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGRpc3RhbmNlIGJldHdlZW4gdG91Y2ggcG9pbnRzIGFmdGVyIGZyaWN0aW9uIGlzIGFwcGxpZWRcblx0XHRcdF9jdXJyUG9pbnRzRGlzdGFuY2UgPSBwb2ludHNEaXN0YW5jZTtcblxuXHRcdFx0Ly8gX2NlbnRlclBvaW50IC0gVGhlIHBvaW50IGluIHRoZSBtaWRkbGUgb2YgdHdvIHBvaW50ZXJzXG5cdFx0XHRfZmluZENlbnRlck9mUG9pbnRzKHAsIHAyLCBfY2VudGVyUG9pbnQpO1xuXHRcdFxuXHRcdFx0Ly8gcGFuaW5nIHdpdGggdHdvIHBvaW50ZXJzIHByZXNzZWRcblx0XHRcdF9jdXJyUGFuRGlzdC54ICs9IF9jZW50ZXJQb2ludC54IC0gX2N1cnJDZW50ZXJQb2ludC54O1xuXHRcdFx0X2N1cnJQYW5EaXN0LnkgKz0gX2NlbnRlclBvaW50LnkgLSBfY3VyckNlbnRlclBvaW50Lnk7XG5cdFx0XHRfZXF1YWxpemVQb2ludHMoX2N1cnJDZW50ZXJQb2ludCwgX2NlbnRlclBvaW50KTtcblxuXHRcdFx0X3Bhbk9mZnNldC54ID0gX2NhbGN1bGF0ZVBhbk9mZnNldCgneCcsIHpvb21MZXZlbCk7XG5cdFx0XHRfcGFuT2Zmc2V0LnkgPSBfY2FsY3VsYXRlUGFuT2Zmc2V0KCd5Jywgem9vbUxldmVsKTtcblxuXHRcdFx0X2lzWm9vbWluZ0luID0gem9vbUxldmVsID4gX2N1cnJab29tTGV2ZWw7XG5cdFx0XHRfY3Vyclpvb21MZXZlbCA9IHpvb21MZXZlbDtcblx0XHRcdF9hcHBseUN1cnJlbnRab29tUGFuKCk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBoYW5kbGUgYmVoYXZpb3VyIGZvciBvbmUgcG9pbnQgKGRyYWdnaW5nIG9yIHBhbm5pbmcpXG5cblx0XHRcdGlmKCFfZGlyZWN0aW9uKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYoX2lzRmlyc3RNb3ZlKSB7XG5cdFx0XHRcdF9pc0ZpcnN0TW92ZSA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vIHN1YnRyYWN0IGRyYWcgZGlzdGFuY2UgdGhhdCB3YXMgdXNlZCBkdXJpbmcgdGhlIGRldGVjdGlvbiBkaXJlY3Rpb24gIFxuXG5cdFx0XHRcdGlmKCBNYXRoLmFicyhkZWx0YS54KSA+PSBESVJFQ1RJT05fQ0hFQ0tfT0ZGU0VUKSB7XG5cdFx0XHRcdFx0ZGVsdGEueCAtPSBfY3VycmVudFBvaW50c1swXS54IC0gX3N0YXJ0UG9pbnQueDtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0aWYoIE1hdGguYWJzKGRlbHRhLnkpID49IERJUkVDVElPTl9DSEVDS19PRkZTRVQpIHtcblx0XHRcdFx0XHRkZWx0YS55IC09IF9jdXJyZW50UG9pbnRzWzBdLnkgLSBfc3RhcnRQb2ludC55O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdF9jdXJyUG9pbnQueCA9IHAueDtcblx0XHRcdF9jdXJyUG9pbnQueSA9IHAueTtcblxuXHRcdFx0Ly8gZG8gbm90aGluZyBpZiBwb2ludGVycyBwb3NpdGlvbiBoYXNuJ3QgY2hhbmdlZFxuXHRcdFx0aWYoZGVsdGEueCA9PT0gMCAmJiBkZWx0YS55ID09PSAwKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYoX2RpcmVjdGlvbiA9PT0gJ3YnICYmIF9vcHRpb25zLmNsb3NlT25WZXJ0aWNhbERyYWcpIHtcblx0XHRcdFx0aWYoIV9jYW5QYW4oKSkge1xuXHRcdFx0XHRcdF9jdXJyUGFuRGlzdC55ICs9IGRlbHRhLnk7XG5cdFx0XHRcdFx0X3Bhbk9mZnNldC55ICs9IGRlbHRhLnk7XG5cblx0XHRcdFx0XHR2YXIgb3BhY2l0eVJhdGlvID0gX2NhbGN1bGF0ZVZlcnRpY2FsRHJhZ09wYWNpdHlSYXRpbygpO1xuXG5cdFx0XHRcdFx0X3ZlcnRpY2FsRHJhZ0luaXRpYXRlZCA9IHRydWU7XG5cdFx0XHRcdFx0X3Nob3V0KCdvblZlcnRpY2FsRHJhZycsIG9wYWNpdHlSYXRpbyk7XG5cblx0XHRcdFx0XHRfYXBwbHlCZ09wYWNpdHkob3BhY2l0eVJhdGlvKTtcblx0XHRcdFx0XHRfYXBwbHlDdXJyZW50Wm9vbVBhbigpO1xuXHRcdFx0XHRcdHJldHVybiA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0X3B1c2hQb3NQb2ludChfZ2V0Q3VycmVudFRpbWUoKSwgcC54LCBwLnkpO1xuXG5cdFx0XHRfbW92ZWQgPSB0cnVlO1xuXHRcdFx0X2N1cnJQYW5Cb3VuZHMgPSBzZWxmLmN1cnJJdGVtLmJvdW5kcztcblx0XHRcdFxuXHRcdFx0dmFyIG1haW5TY3JvbGxDaGFuZ2VkID0gX3Bhbk9yTW92ZU1haW5TY3JvbGwoJ3gnLCBkZWx0YSk7XG5cdFx0XHRpZighbWFpblNjcm9sbENoYW5nZWQpIHtcblx0XHRcdFx0X3Bhbk9yTW92ZU1haW5TY3JvbGwoJ3knLCBkZWx0YSk7XG5cblx0XHRcdFx0X3JvdW5kUG9pbnQoX3Bhbk9mZnNldCk7XG5cdFx0XHRcdF9hcHBseUN1cnJlbnRab29tUGFuKCk7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fSxcblx0XG5cdC8vIFBvaW50ZXJ1cC9wb2ludGVyY2FuY2VsL3RvdWNoZW5kL3RvdWNoY2FuY2VsL21vdXNldXAgZXZlbnQgaGFuZGxlclxuXHRfb25EcmFnUmVsZWFzZSA9IGZ1bmN0aW9uKGUpIHtcblxuXHRcdGlmKF9mZWF0dXJlcy5pc09sZEFuZHJvaWQgKSB7XG5cblx0XHRcdGlmKF9vbGRBbmRyb2lkVG91Y2hFbmRUaW1lb3V0ICYmIGUudHlwZSA9PT0gJ21vdXNldXAnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gb24gQW5kcm9pZCAodjQuMSwgNC4yLCA0LjMgJiBwb3NzaWJseSBvbGRlcikgXG5cdFx0XHQvLyBnaG9zdCBtb3VzZWRvd24vdXAgZXZlbnQgaXNuJ3QgcHJldmVudGFibGUgdmlhIGUucHJldmVudERlZmF1bHQsXG5cdFx0XHQvLyB3aGljaCBjYXVzZXMgZmFrZSBtb3VzZWRvd24gZXZlbnRcblx0XHRcdC8vIHNvIHdlIGJsb2NrIG1vdXNlZG93bi91cCBmb3IgNjAwbXNcblx0XHRcdGlmKCBlLnR5cGUuaW5kZXhPZigndG91Y2gnKSA+IC0xICkge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQoX29sZEFuZHJvaWRUb3VjaEVuZFRpbWVvdXQpO1xuXHRcdFx0XHRfb2xkQW5kcm9pZFRvdWNoRW5kVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0X29sZEFuZHJvaWRUb3VjaEVuZFRpbWVvdXQgPSAwO1xuXHRcdFx0XHR9LCA2MDApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fVxuXG5cdFx0X3Nob3V0KCdwb2ludGVyVXAnKTtcblxuXHRcdGlmKF9wcmV2ZW50RGVmYXVsdEV2ZW50QmVoYXZpb3VyKGUsIGZhbHNlKSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHZhciByZWxlYXNlUG9pbnQ7XG5cblx0XHRpZihfcG9pbnRlckV2ZW50RW5hYmxlZCkge1xuXHRcdFx0dmFyIHBvaW50ZXJJbmRleCA9IGZyYW1ld29yay5hcnJheVNlYXJjaChfY3VyclBvaW50ZXJzLCBlLnBvaW50ZXJJZCwgJ2lkJyk7XG5cdFx0XHRcblx0XHRcdGlmKHBvaW50ZXJJbmRleCA+IC0xKSB7XG5cdFx0XHRcdHJlbGVhc2VQb2ludCA9IF9jdXJyUG9pbnRlcnMuc3BsaWNlKHBvaW50ZXJJbmRleCwgMSlbMF07XG5cblx0XHRcdFx0aWYobmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcblx0XHRcdFx0XHR2YXIgTVNQT0lOVEVSX1RZUEVTID0ge1xuXHRcdFx0XHRcdFx0NDogJ21vdXNlJywgLy8gZXZlbnQuTVNQT0lOVEVSX1RZUEVfTU9VU0Vcblx0XHRcdFx0XHRcdDI6ICd0b3VjaCcsIC8vIGV2ZW50Lk1TUE9JTlRFUl9UWVBFX1RPVUNIIFxuXHRcdFx0XHRcdFx0MzogJ3BlbicgLy8gZXZlbnQuTVNQT0lOVEVSX1RZUEVfUEVOXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRyZWxlYXNlUG9pbnQudHlwZSA9IE1TUE9JTlRFUl9UWVBFU1tlLnBvaW50ZXJUeXBlXTtcblxuXHRcdFx0XHRcdGlmKCFyZWxlYXNlUG9pbnQudHlwZSkge1xuXHRcdFx0XHRcdFx0cmVsZWFzZVBvaW50LnR5cGUgPSBlLnBvaW50ZXJUeXBlIHx8ICdtb3VzZSc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlbGVhc2VQb2ludC50eXBlID0gZS5wb2ludGVyVHlwZSB8fCAnbW91c2UnO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgdG91Y2hMaXN0ID0gX2dldFRvdWNoUG9pbnRzKGUpLFxuXHRcdFx0Z2VzdHVyZVR5cGUsXG5cdFx0XHRudW1Qb2ludHMgPSB0b3VjaExpc3QubGVuZ3RoO1xuXG5cdFx0aWYoZS50eXBlID09PSAnbW91c2V1cCcpIHtcblx0XHRcdG51bVBvaW50cyA9IDA7XG5cdFx0fVxuXG5cdFx0Ly8gRG8gbm90aGluZyBpZiB0aGVyZSB3ZXJlIDMgdG91Y2ggcG9pbnRzIG9yIG1vcmVcblx0XHRpZihudW1Qb2ludHMgPT09IDIpIHtcblx0XHRcdF9jdXJyZW50UG9pbnRzID0gbnVsbDtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIGlmIHNlY29uZCBwb2ludGVyIHJlbGVhc2VkXG5cdFx0aWYobnVtUG9pbnRzID09PSAxKSB7XG5cdFx0XHRfZXF1YWxpemVQb2ludHMoX3N0YXJ0UG9pbnQsIHRvdWNoTGlzdFswXSk7XG5cdFx0fVx0XHRcdFx0XG5cblxuXHRcdC8vIHBvaW50ZXIgaGFzbid0IG1vdmVkLCBzZW5kIFwidGFwIHJlbGVhc2VcIiBwb2ludFxuXHRcdGlmKG51bVBvaW50cyA9PT0gMCAmJiAhX2RpcmVjdGlvbiAmJiAhX21haW5TY3JvbGxBbmltYXRpbmcpIHtcblx0XHRcdGlmKCFyZWxlYXNlUG9pbnQpIHtcblx0XHRcdFx0aWYoZS50eXBlID09PSAnbW91c2V1cCcpIHtcblx0XHRcdFx0XHRyZWxlYXNlUG9pbnQgPSB7eDogZS5wYWdlWCwgeTogZS5wYWdlWSwgdHlwZTonbW91c2UnfTtcblx0XHRcdFx0fSBlbHNlIGlmKGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlc1swXSkge1xuXHRcdFx0XHRcdHJlbGVhc2VQb2ludCA9IHt4OiBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLCB5OiBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLCB0eXBlOid0b3VjaCd9O1xuXHRcdFx0XHR9XHRcdFxuXHRcdFx0fVxuXG5cdFx0XHRfc2hvdXQoJ3RvdWNoUmVsZWFzZScsIGUsIHJlbGVhc2VQb2ludCk7XG5cdFx0fVxuXG5cdFx0Ly8gRGlmZmVyZW5jZSBpbiB0aW1lIGJldHdlZW4gcmVsZWFzaW5nIG9mIHR3byBsYXN0IHRvdWNoIHBvaW50cyAoem9vbSBnZXN0dXJlKVxuXHRcdHZhciByZWxlYXNlVGltZURpZmYgPSAtMTtcblxuXHRcdC8vIEdlc3R1cmUgY29tcGxldGVkLCBubyBwb2ludGVycyBsZWZ0XG5cdFx0aWYobnVtUG9pbnRzID09PSAwKSB7XG5cdFx0XHRfaXNEcmFnZ2luZyA9IGZhbHNlO1xuXHRcdFx0ZnJhbWV3b3JrLnVuYmluZCh3aW5kb3csIF91cE1vdmVFdmVudHMsIHNlbGYpO1xuXG5cdFx0XHRfc3RvcERyYWdVcGRhdGVMb29wKCk7XG5cblx0XHRcdGlmKF9pc1pvb21pbmcpIHtcblx0XHRcdFx0Ly8gVHdvIHBvaW50cyByZWxlYXNlZCBhdCB0aGUgc2FtZSB0aW1lXG5cdFx0XHRcdHJlbGVhc2VUaW1lRGlmZiA9IDA7XG5cdFx0XHR9IGVsc2UgaWYoX2xhc3RSZWxlYXNlVGltZSAhPT0gLTEpIHtcblx0XHRcdFx0cmVsZWFzZVRpbWVEaWZmID0gX2dldEN1cnJlbnRUaW1lKCkgLSBfbGFzdFJlbGVhc2VUaW1lO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRfbGFzdFJlbGVhc2VUaW1lID0gbnVtUG9pbnRzID09PSAxID8gX2dldEN1cnJlbnRUaW1lKCkgOiAtMTtcblx0XHRcblx0XHRpZihyZWxlYXNlVGltZURpZmYgIT09IC0xICYmIHJlbGVhc2VUaW1lRGlmZiA8IDE1MCkge1xuXHRcdFx0Z2VzdHVyZVR5cGUgPSAnem9vbSc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGdlc3R1cmVUeXBlID0gJ3N3aXBlJztcblx0XHR9XG5cblx0XHRpZihfaXNab29taW5nICYmIG51bVBvaW50cyA8IDIpIHtcblx0XHRcdF9pc1pvb21pbmcgPSBmYWxzZTtcblxuXHRcdFx0Ly8gT25seSBzZWNvbmQgcG9pbnQgcmVsZWFzZWRcblx0XHRcdGlmKG51bVBvaW50cyA9PT0gMSkge1xuXHRcdFx0XHRnZXN0dXJlVHlwZSA9ICd6b29tUG9pbnRlclVwJztcblx0XHRcdH1cblx0XHRcdF9zaG91dCgnem9vbUdlc3R1cmVFbmRlZCcpO1xuXHRcdH1cblxuXHRcdF9jdXJyZW50UG9pbnRzID0gbnVsbDtcblx0XHRpZighX21vdmVkICYmICFfem9vbVN0YXJ0ZWQgJiYgIV9tYWluU2Nyb2xsQW5pbWF0aW5nICYmICFfdmVydGljYWxEcmFnSW5pdGlhdGVkKSB7XG5cdFx0XHQvLyBub3RoaW5nIHRvIGFuaW1hdGVcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdF9zdG9wQWxsQW5pbWF0aW9ucygpO1xuXG5cdFx0XG5cdFx0aWYoIV9yZWxlYXNlQW5pbURhdGEpIHtcblx0XHRcdF9yZWxlYXNlQW5pbURhdGEgPSBfaW5pdERyYWdSZWxlYXNlQW5pbWF0aW9uRGF0YSgpO1xuXHRcdH1cblx0XHRcblx0XHRfcmVsZWFzZUFuaW1EYXRhLmNhbGN1bGF0ZVN3aXBlU3BlZWQoJ3gnKTtcblxuXG5cdFx0aWYoX3ZlcnRpY2FsRHJhZ0luaXRpYXRlZCkge1xuXG5cdFx0XHR2YXIgb3BhY2l0eVJhdGlvID0gX2NhbGN1bGF0ZVZlcnRpY2FsRHJhZ09wYWNpdHlSYXRpbygpO1xuXG5cdFx0XHRpZihvcGFjaXR5UmF0aW8gPCBfb3B0aW9ucy52ZXJ0aWNhbERyYWdSYW5nZSkge1xuXHRcdFx0XHRzZWxmLmNsb3NlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgaW5pdGFsUGFuWSA9IF9wYW5PZmZzZXQueSxcblx0XHRcdFx0XHRpbml0aWFsQmdPcGFjaXR5ID0gX2JnT3BhY2l0eTtcblxuXHRcdFx0XHRfYW5pbWF0ZVByb3AoJ3ZlcnRpY2FsRHJhZycsIDAsIDEsIDMwMCwgZnJhbWV3b3JrLmVhc2luZy5jdWJpYy5vdXQsIGZ1bmN0aW9uKG5vdykge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdF9wYW5PZmZzZXQueSA9IChzZWxmLmN1cnJJdGVtLmluaXRpYWxQb3NpdGlvbi55IC0gaW5pdGFsUGFuWSkgKiBub3cgKyBpbml0YWxQYW5ZO1xuXG5cdFx0XHRcdFx0X2FwcGx5QmdPcGFjaXR5KCAgKDEgLSBpbml0aWFsQmdPcGFjaXR5KSAqIG5vdyArIGluaXRpYWxCZ09wYWNpdHkgKTtcblx0XHRcdFx0XHRfYXBwbHlDdXJyZW50Wm9vbVBhbigpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRfc2hvdXQoJ29uVmVydGljYWxEcmFnJywgMSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblxuXHRcdC8vIG1haW4gc2Nyb2xsIFxuXHRcdGlmKCAgKF9tYWluU2Nyb2xsU2hpZnRlZCB8fCBfbWFpblNjcm9sbEFuaW1hdGluZykgJiYgbnVtUG9pbnRzID09PSAwKSB7XG5cdFx0XHR2YXIgaXRlbUNoYW5nZWQgPSBfZmluaXNoU3dpcGVNYWluU2Nyb2xsR2VzdHVyZShnZXN0dXJlVHlwZSwgX3JlbGVhc2VBbmltRGF0YSk7XG5cdFx0XHRpZihpdGVtQ2hhbmdlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRnZXN0dXJlVHlwZSA9ICd6b29tUG9pbnRlclVwJztcblx0XHR9XG5cblx0XHQvLyBwcmV2ZW50IHpvb20vcGFuIGFuaW1hdGlvbiB3aGVuIG1haW4gc2Nyb2xsIGFuaW1hdGlvbiBydW5zXG5cdFx0aWYoX21haW5TY3JvbGxBbmltYXRpbmcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gQ29tcGxldGUgc2ltcGxlIHpvb20gZ2VzdHVyZSAocmVzZXQgem9vbSBsZXZlbCBpZiBpdCdzIG91dCBvZiB0aGUgYm91bmRzKSAgXG5cdFx0aWYoZ2VzdHVyZVR5cGUgIT09ICdzd2lwZScpIHtcblx0XHRcdF9jb21wbGV0ZVpvb21HZXN0dXJlKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHQvLyBDb21wbGV0ZSBwYW4gZ2VzdHVyZSBpZiBtYWluIHNjcm9sbCBpcyBub3Qgc2hpZnRlZCwgYW5kIGl0J3MgcG9zc2libGUgdG8gcGFuIGN1cnJlbnQgaW1hZ2Vcblx0XHRpZighX21haW5TY3JvbGxTaGlmdGVkICYmIF9jdXJyWm9vbUxldmVsID4gc2VsZi5jdXJySXRlbS5maXRSYXRpbykge1xuXHRcdFx0X2NvbXBsZXRlUGFuR2VzdHVyZShfcmVsZWFzZUFuaW1EYXRhKTtcblx0XHR9XG5cdH0sXG5cblxuXHQvLyBSZXR1cm5zIG9iamVjdCB3aXRoIGRhdGEgYWJvdXQgZ2VzdHVyZVxuXHQvLyBJdCdzIGNyZWF0ZWQgb25seSBvbmNlIGFuZCB0aGVuIHJldXNlZFxuXHRfaW5pdERyYWdSZWxlYXNlQW5pbWF0aW9uRGF0YSAgPSBmdW5jdGlvbigpIHtcblx0XHQvLyB0ZW1wIGxvY2FsIHZhcnNcblx0XHR2YXIgbGFzdEZsaWNrRHVyYXRpb24sXG5cdFx0XHR0ZW1wUmVsZWFzZVBvcztcblxuXHRcdC8vIHMgPSB0aGlzXG5cdFx0dmFyIHMgPSB7XG5cdFx0XHRsYXN0RmxpY2tPZmZzZXQ6IHt9LFxuXHRcdFx0bGFzdEZsaWNrRGlzdDoge30sXG5cdFx0XHRsYXN0RmxpY2tTcGVlZDoge30sXG5cdFx0XHRzbG93RG93blJhdGlvOiAge30sXG5cdFx0XHRzbG93RG93blJhdGlvUmV2ZXJzZTogIHt9LFxuXHRcdFx0c3BlZWREZWNlbGVyYXRpb25SYXRpbzogIHt9LFxuXHRcdFx0c3BlZWREZWNlbGVyYXRpb25SYXRpb0FiczogIHt9LFxuXHRcdFx0ZGlzdGFuY2VPZmZzZXQ6ICB7fSxcblx0XHRcdGJhY2tBbmltRGVzdGluYXRpb246IHt9LFxuXHRcdFx0YmFja0FuaW1TdGFydGVkOiB7fSxcblx0XHRcdGNhbGN1bGF0ZVN3aXBlU3BlZWQ6IGZ1bmN0aW9uKGF4aXMpIHtcblx0XHRcdFx0XG5cblx0XHRcdFx0aWYoIF9wb3NQb2ludHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdGxhc3RGbGlja0R1cmF0aW9uID0gX2dldEN1cnJlbnRUaW1lKCkgLSBfZ2VzdHVyZUNoZWNrU3BlZWRUaW1lICsgNTA7XG5cdFx0XHRcdFx0dGVtcFJlbGVhc2VQb3MgPSBfcG9zUG9pbnRzW19wb3NQb2ludHMubGVuZ3RoLTJdW2F4aXNdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxhc3RGbGlja0R1cmF0aW9uID0gX2dldEN1cnJlbnRUaW1lKCkgLSBfZ2VzdHVyZVN0YXJ0VGltZTsgLy8gdG90YWwgZ2VzdHVyZSBkdXJhdGlvblxuXHRcdFx0XHRcdHRlbXBSZWxlYXNlUG9zID0gX3N0YXJ0UG9pbnRbYXhpc107XG5cdFx0XHRcdH1cblx0XHRcdFx0cy5sYXN0RmxpY2tPZmZzZXRbYXhpc10gPSBfY3VyclBvaW50W2F4aXNdIC0gdGVtcFJlbGVhc2VQb3M7XG5cdFx0XHRcdHMubGFzdEZsaWNrRGlzdFtheGlzXSA9IE1hdGguYWJzKHMubGFzdEZsaWNrT2Zmc2V0W2F4aXNdKTtcblx0XHRcdFx0aWYocy5sYXN0RmxpY2tEaXN0W2F4aXNdID4gMjApIHtcblx0XHRcdFx0XHRzLmxhc3RGbGlja1NwZWVkW2F4aXNdID0gcy5sYXN0RmxpY2tPZmZzZXRbYXhpc10gLyBsYXN0RmxpY2tEdXJhdGlvbjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzLmxhc3RGbGlja1NwZWVkW2F4aXNdID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiggTWF0aC5hYnMocy5sYXN0RmxpY2tTcGVlZFtheGlzXSkgPCAwLjEgKSB7XG5cdFx0XHRcdFx0cy5sYXN0RmxpY2tTcGVlZFtheGlzXSA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHMuc2xvd0Rvd25SYXRpb1theGlzXSA9IDAuOTU7XG5cdFx0XHRcdHMuc2xvd0Rvd25SYXRpb1JldmVyc2VbYXhpc10gPSAxIC0gcy5zbG93RG93blJhdGlvW2F4aXNdO1xuXHRcdFx0XHRzLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9bYXhpc10gPSAxO1xuXHRcdFx0fSxcblxuXHRcdFx0Y2FsY3VsYXRlT3ZlckJvdW5kc0FuaW1PZmZzZXQ6IGZ1bmN0aW9uKGF4aXMsIHNwZWVkKSB7XG5cdFx0XHRcdGlmKCFzLmJhY2tBbmltU3RhcnRlZFtheGlzXSkge1xuXG5cdFx0XHRcdFx0aWYoX3Bhbk9mZnNldFtheGlzXSA+IF9jdXJyUGFuQm91bmRzLm1pbltheGlzXSkge1xuXHRcdFx0XHRcdFx0cy5iYWNrQW5pbURlc3RpbmF0aW9uW2F4aXNdID0gX2N1cnJQYW5Cb3VuZHMubWluW2F4aXNdO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0fSBlbHNlIGlmKF9wYW5PZmZzZXRbYXhpc10gPCBfY3VyclBhbkJvdW5kcy5tYXhbYXhpc10pIHtcblx0XHRcdFx0XHRcdHMuYmFja0FuaW1EZXN0aW5hdGlvbltheGlzXSA9IF9jdXJyUGFuQm91bmRzLm1heFtheGlzXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZihzLmJhY2tBbmltRGVzdGluYXRpb25bYXhpc10gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0cy5zbG93RG93blJhdGlvW2F4aXNdID0gMC43O1xuXHRcdFx0XHRcdFx0cy5zbG93RG93blJhdGlvUmV2ZXJzZVtheGlzXSA9IDEgLSBzLnNsb3dEb3duUmF0aW9bYXhpc107XG5cdFx0XHRcdFx0XHRpZihzLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnNbYXhpc10gPCAwLjA1KSB7XG5cblx0XHRcdFx0XHRcdFx0cy5sYXN0RmxpY2tTcGVlZFtheGlzXSA9IDA7XG5cdFx0XHRcdFx0XHRcdHMuYmFja0FuaW1TdGFydGVkW2F4aXNdID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0XHRfYW5pbWF0ZVByb3AoJ2JvdW5jZVpvb21QYW4nK2F4aXMsX3Bhbk9mZnNldFtheGlzXSwgXG5cdFx0XHRcdFx0XHRcdFx0cy5iYWNrQW5pbURlc3RpbmF0aW9uW2F4aXNdLCBcblx0XHRcdFx0XHRcdFx0XHRzcGVlZCB8fCAzMDAsIFxuXHRcdFx0XHRcdFx0XHRcdGZyYW1ld29yay5lYXNpbmcuc2luZS5vdXQsIFxuXHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKHBvcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0X3Bhbk9mZnNldFtheGlzXSA9IHBvcztcblx0XHRcdFx0XHRcdFx0XHRcdF9hcHBseUN1cnJlbnRab29tUGFuKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZWR1Y2VzIHRoZSBzcGVlZCBieSBzbG93RG93blJhdGlvIChwZXIgMTBtcylcblx0XHRcdGNhbGN1bGF0ZUFuaW1PZmZzZXQ6IGZ1bmN0aW9uKGF4aXMpIHtcblx0XHRcdFx0aWYoIXMuYmFja0FuaW1TdGFydGVkW2F4aXNdKSB7XG5cdFx0XHRcdFx0cy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2F4aXNdID0gcy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2F4aXNdICogKHMuc2xvd0Rvd25SYXRpb1theGlzXSArIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cy5zbG93RG93blJhdGlvUmV2ZXJzZVtheGlzXSAtIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cy5zbG93RG93blJhdGlvUmV2ZXJzZVtheGlzXSAqIHMudGltZURpZmYgLyAxMCk7XG5cblx0XHRcdFx0XHRzLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnNbYXhpc10gPSBNYXRoLmFicyhzLmxhc3RGbGlja1NwZWVkW2F4aXNdICogcy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2F4aXNdKTtcblx0XHRcdFx0XHRzLmRpc3RhbmNlT2Zmc2V0W2F4aXNdID0gcy5sYXN0RmxpY2tTcGVlZFtheGlzXSAqIHMuc3BlZWREZWNlbGVyYXRpb25SYXRpb1theGlzXSAqIHMudGltZURpZmY7XG5cdFx0XHRcdFx0X3Bhbk9mZnNldFtheGlzXSArPSBzLmRpc3RhbmNlT2Zmc2V0W2F4aXNdO1xuXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdHBhbkFuaW1Mb29wOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBfYW5pbWF0aW9ucy56b29tUGFuICkge1xuXHRcdFx0XHRcdF9hbmltYXRpb25zLnpvb21QYW4ucmFmID0gX3JlcXVlc3RBRihzLnBhbkFuaW1Mb29wKTtcblxuXHRcdFx0XHRcdHMubm93ID0gX2dldEN1cnJlbnRUaW1lKCk7XG5cdFx0XHRcdFx0cy50aW1lRGlmZiA9IHMubm93IC0gcy5sYXN0Tm93O1xuXHRcdFx0XHRcdHMubGFzdE5vdyA9IHMubm93O1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHMuY2FsY3VsYXRlQW5pbU9mZnNldCgneCcpO1xuXHRcdFx0XHRcdHMuY2FsY3VsYXRlQW5pbU9mZnNldCgneScpO1xuXG5cdFx0XHRcdFx0X2FwcGx5Q3VycmVudFpvb21QYW4oKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRzLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KCd4Jyk7XG5cdFx0XHRcdFx0cy5jYWxjdWxhdGVPdmVyQm91bmRzQW5pbU9mZnNldCgneScpO1xuXG5cblx0XHRcdFx0XHRpZiAocy5zcGVlZERlY2VsZXJhdGlvblJhdGlvQWJzLnggPCAwLjA1ICYmIHMuc3BlZWREZWNlbGVyYXRpb25SYXRpb0Ficy55IDwgMC4wNSkge1xuXG5cdFx0XHRcdFx0XHQvLyByb3VuZCBwYW4gcG9zaXRpb25cblx0XHRcdFx0XHRcdF9wYW5PZmZzZXQueCA9IE1hdGgucm91bmQoX3Bhbk9mZnNldC54KTtcblx0XHRcdFx0XHRcdF9wYW5PZmZzZXQueSA9IE1hdGgucm91bmQoX3Bhbk9mZnNldC55KTtcblx0XHRcdFx0XHRcdF9hcHBseUN1cnJlbnRab29tUGFuKCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdF9zdG9wQW5pbWF0aW9uKCd6b29tUGFuJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHR9O1xuXHRcdHJldHVybiBzO1xuXHR9LFxuXG5cdF9jb21wbGV0ZVBhbkdlc3R1cmUgPSBmdW5jdGlvbihhbmltRGF0YSkge1xuXHRcdC8vIGNhbGN1bGF0ZSBzd2lwZSBzcGVlZCBmb3IgWSBheGlzIChwYWFubmluZylcblx0XHRhbmltRGF0YS5jYWxjdWxhdGVTd2lwZVNwZWVkKCd5Jyk7XG5cblx0XHRfY3VyclBhbkJvdW5kcyA9IHNlbGYuY3Vyckl0ZW0uYm91bmRzO1xuXHRcdFxuXHRcdGFuaW1EYXRhLmJhY2tBbmltRGVzdGluYXRpb24gPSB7fTtcblx0XHRhbmltRGF0YS5iYWNrQW5pbVN0YXJ0ZWQgPSB7fTtcblxuXHRcdC8vIEF2b2lkIGFjY2VsZXJhdGlvbiBhbmltYXRpb24gaWYgc3BlZWQgaXMgdG9vIGxvd1xuXHRcdGlmKE1hdGguYWJzKGFuaW1EYXRhLmxhc3RGbGlja1NwZWVkLngpIDw9IDAuMDUgJiYgTWF0aC5hYnMoYW5pbURhdGEubGFzdEZsaWNrU3BlZWQueSkgPD0gMC4wNSApIHtcblx0XHRcdGFuaW1EYXRhLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnMueCA9IGFuaW1EYXRhLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnMueSA9IDA7XG5cblx0XHRcdC8vIFJ1biBwYW4gZHJhZyByZWxlYXNlIGFuaW1hdGlvbi4gRS5nLiBpZiB5b3UgZHJhZyBpbWFnZSBhbmQgcmVsZWFzZSBmaW5nZXIgd2l0aG91dCBtb21lbnR1bS5cblx0XHRcdGFuaW1EYXRhLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KCd4Jyk7XG5cdFx0XHRhbmltRGF0YS5jYWxjdWxhdGVPdmVyQm91bmRzQW5pbU9mZnNldCgneScpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gQW5pbWF0aW9uIGxvb3AgdGhhdCBjb250cm9scyB0aGUgYWNjZWxlcmF0aW9uIGFmdGVyIHBhbiBnZXN0dXJlIGVuZHNcblx0XHRfcmVnaXN0ZXJTdGFydEFuaW1hdGlvbignem9vbVBhbicpO1xuXHRcdGFuaW1EYXRhLmxhc3ROb3cgPSBfZ2V0Q3VycmVudFRpbWUoKTtcblx0XHRhbmltRGF0YS5wYW5BbmltTG9vcCgpO1xuXHR9LFxuXG5cblx0X2ZpbmlzaFN3aXBlTWFpblNjcm9sbEdlc3R1cmUgPSBmdW5jdGlvbihnZXN0dXJlVHlwZSwgX3JlbGVhc2VBbmltRGF0YSkge1xuXHRcdHZhciBpdGVtQ2hhbmdlZDtcblx0XHRpZighX21haW5TY3JvbGxBbmltYXRpbmcpIHtcblx0XHRcdF9jdXJyWm9vbWVkSXRlbUluZGV4ID0gX2N1cnJlbnRJdGVtSW5kZXg7XG5cdFx0fVxuXG5cblx0XHRcblx0XHR2YXIgaXRlbXNEaWZmO1xuXG5cdFx0aWYoZ2VzdHVyZVR5cGUgPT09ICdzd2lwZScpIHtcblx0XHRcdHZhciB0b3RhbFNoaWZ0RGlzdCA9IF9jdXJyUG9pbnQueCAtIF9zdGFydFBvaW50LngsXG5cdFx0XHRcdGlzRmFzdExhc3RGbGljayA9IF9yZWxlYXNlQW5pbURhdGEubGFzdEZsaWNrRGlzdC54IDwgMTA7XG5cblx0XHRcdC8vIGlmIGNvbnRhaW5lciBpcyBzaGlmdGVkIGZvciBtb3JlIHRoYW4gTUlOX1NXSVBFX0RJU1RBTkNFLCBcblx0XHRcdC8vIGFuZCBsYXN0IGZsaWNrIGdlc3R1cmUgd2FzIGluIHJpZ2h0IGRpcmVjdGlvblxuXHRcdFx0aWYodG90YWxTaGlmdERpc3QgPiBNSU5fU1dJUEVfRElTVEFOQ0UgJiYgXG5cdFx0XHRcdChpc0Zhc3RMYXN0RmxpY2sgfHwgX3JlbGVhc2VBbmltRGF0YS5sYXN0RmxpY2tPZmZzZXQueCA+IDIwKSApIHtcblx0XHRcdFx0Ly8gZ28gdG8gcHJldiBpdGVtXG5cdFx0XHRcdGl0ZW1zRGlmZiA9IC0xO1xuXHRcdFx0fSBlbHNlIGlmKHRvdGFsU2hpZnREaXN0IDwgLU1JTl9TV0lQRV9ESVNUQU5DRSAmJiBcblx0XHRcdFx0KGlzRmFzdExhc3RGbGljayB8fCBfcmVsZWFzZUFuaW1EYXRhLmxhc3RGbGlja09mZnNldC54IDwgLTIwKSApIHtcblx0XHRcdFx0Ly8gZ28gdG8gbmV4dCBpdGVtXG5cdFx0XHRcdGl0ZW1zRGlmZiA9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIG5leHRDaXJjbGU7XG5cblx0XHRpZihpdGVtc0RpZmYpIHtcblx0XHRcdFxuXHRcdFx0X2N1cnJlbnRJdGVtSW5kZXggKz0gaXRlbXNEaWZmO1xuXG5cdFx0XHRpZihfY3VycmVudEl0ZW1JbmRleCA8IDApIHtcblx0XHRcdFx0X2N1cnJlbnRJdGVtSW5kZXggPSBfb3B0aW9ucy5sb29wID8gX2dldE51bUl0ZW1zKCktMSA6IDA7XG5cdFx0XHRcdG5leHRDaXJjbGUgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmKF9jdXJyZW50SXRlbUluZGV4ID49IF9nZXROdW1JdGVtcygpKSB7XG5cdFx0XHRcdF9jdXJyZW50SXRlbUluZGV4ID0gX29wdGlvbnMubG9vcCA/IDAgOiBfZ2V0TnVtSXRlbXMoKS0xO1xuXHRcdFx0XHRuZXh0Q2lyY2xlID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYoIW5leHRDaXJjbGUgfHwgX29wdGlvbnMubG9vcCkge1xuXHRcdFx0XHRfaW5kZXhEaWZmICs9IGl0ZW1zRGlmZjtcblx0XHRcdFx0X2N1cnJQb3NpdGlvbkluZGV4IC09IGl0ZW1zRGlmZjtcblx0XHRcdFx0aXRlbUNoYW5nZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0XG5cblx0XHRcdFxuXHRcdH1cblxuXHRcdHZhciBhbmltYXRlVG9YID0gX3NsaWRlU2l6ZS54ICogX2N1cnJQb3NpdGlvbkluZGV4O1xuXHRcdHZhciBhbmltYXRlVG9EaXN0ID0gTWF0aC5hYnMoIGFuaW1hdGVUb1ggLSBfbWFpblNjcm9sbFBvcy54ICk7XG5cdFx0dmFyIGZpbmlzaEFuaW1EdXJhdGlvbjtcblxuXG5cdFx0aWYoIWl0ZW1DaGFuZ2VkICYmIGFuaW1hdGVUb1ggPiBfbWFpblNjcm9sbFBvcy54ICE9PSBfcmVsZWFzZUFuaW1EYXRhLmxhc3RGbGlja1NwZWVkLnggPiAwKSB7XG5cdFx0XHQvLyBcInJldHVybiB0byBjdXJyZW50XCIgZHVyYXRpb24sIGUuZy4gd2hlbiBkcmFnZ2luZyBmcm9tIHNsaWRlIDAgdG8gLTFcblx0XHRcdGZpbmlzaEFuaW1EdXJhdGlvbiA9IDMzMzsgXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZpbmlzaEFuaW1EdXJhdGlvbiA9IE1hdGguYWJzKF9yZWxlYXNlQW5pbURhdGEubGFzdEZsaWNrU3BlZWQueCkgPiAwID8gXG5cdFx0XHRcdFx0XHRcdFx0XHRhbmltYXRlVG9EaXN0IC8gTWF0aC5hYnMoX3JlbGVhc2VBbmltRGF0YS5sYXN0RmxpY2tTcGVlZC54KSA6IFxuXHRcdFx0XHRcdFx0XHRcdFx0MzMzO1xuXG5cdFx0XHRmaW5pc2hBbmltRHVyYXRpb24gPSBNYXRoLm1pbihmaW5pc2hBbmltRHVyYXRpb24sIDQwMCk7XG5cdFx0XHRmaW5pc2hBbmltRHVyYXRpb24gPSBNYXRoLm1heChmaW5pc2hBbmltRHVyYXRpb24sIDI1MCk7XG5cdFx0fVxuXG5cdFx0aWYoX2N1cnJab29tZWRJdGVtSW5kZXggPT09IF9jdXJyZW50SXRlbUluZGV4KSB7XG5cdFx0XHRpdGVtQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdH1cblx0XHRcblx0XHRfbWFpblNjcm9sbEFuaW1hdGluZyA9IHRydWU7XG5cdFx0XG5cdFx0X3Nob3V0KCdtYWluU2Nyb2xsQW5pbVN0YXJ0Jyk7XG5cblx0XHRfYW5pbWF0ZVByb3AoJ21haW5TY3JvbGwnLCBfbWFpblNjcm9sbFBvcy54LCBhbmltYXRlVG9YLCBmaW5pc2hBbmltRHVyYXRpb24sIGZyYW1ld29yay5lYXNpbmcuY3ViaWMub3V0LCBcblx0XHRcdF9tb3ZlTWFpblNjcm9sbCxcblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRfc3RvcEFsbEFuaW1hdGlvbnMoKTtcblx0XHRcdFx0X21haW5TY3JvbGxBbmltYXRpbmcgPSBmYWxzZTtcblx0XHRcdFx0X2N1cnJab29tZWRJdGVtSW5kZXggPSAtMTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmKGl0ZW1DaGFuZ2VkIHx8IF9jdXJyWm9vbWVkSXRlbUluZGV4ICE9PSBfY3VycmVudEl0ZW1JbmRleCkge1xuXHRcdFx0XHRcdHNlbGYudXBkYXRlQ3Vyckl0ZW0oKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0X3Nob3V0KCdtYWluU2Nyb2xsQW5pbUNvbXBsZXRlJyk7XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGlmKGl0ZW1DaGFuZ2VkKSB7XG5cdFx0XHRzZWxmLnVwZGF0ZUN1cnJJdGVtKHRydWUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBpdGVtQ2hhbmdlZDtcblx0fSxcblxuXHRfY2FsY3VsYXRlWm9vbUxldmVsID0gZnVuY3Rpb24odG91Y2hlc0Rpc3RhbmNlKSB7XG5cdFx0cmV0dXJuICAxIC8gX3N0YXJ0UG9pbnRzRGlzdGFuY2UgKiB0b3VjaGVzRGlzdGFuY2UgKiBfc3RhcnRab29tTGV2ZWw7XG5cdH0sXG5cblx0Ly8gUmVzZXRzIHpvb20gaWYgaXQncyBvdXQgb2YgYm91bmRzXG5cdF9jb21wbGV0ZVpvb21HZXN0dXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRlc3Rab29tTGV2ZWwgPSBfY3Vyclpvb21MZXZlbCxcblx0XHRcdG1pblpvb21MZXZlbCA9IF9nZXRNaW5ab29tTGV2ZWwoKSxcblx0XHRcdG1heFpvb21MZXZlbCA9IF9nZXRNYXhab29tTGV2ZWwoKTtcblxuXHRcdGlmICggX2N1cnJab29tTGV2ZWwgPCBtaW5ab29tTGV2ZWwgKSB7XG5cdFx0XHRkZXN0Wm9vbUxldmVsID0gbWluWm9vbUxldmVsO1xuXHRcdH0gZWxzZSBpZiAoIF9jdXJyWm9vbUxldmVsID4gbWF4Wm9vbUxldmVsICkge1xuXHRcdFx0ZGVzdFpvb21MZXZlbCA9IG1heFpvb21MZXZlbDtcblx0XHR9XG5cblx0XHR2YXIgZGVzdE9wYWNpdHkgPSAxLFxuXHRcdFx0b25VcGRhdGUsXG5cdFx0XHRpbml0aWFsT3BhY2l0eSA9IF9iZ09wYWNpdHk7XG5cblx0XHRpZihfb3BhY2l0eUNoYW5nZWQgJiYgIV9pc1pvb21pbmdJbiAmJiAhX3dhc092ZXJJbml0aWFsWm9vbSAmJiBfY3Vyclpvb21MZXZlbCA8IG1pblpvb21MZXZlbCkge1xuXHRcdFx0Ly9fY2xvc2VkQnlTY3JvbGwgPSB0cnVlO1xuXHRcdFx0c2VsZi5jbG9zZSgpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYoX29wYWNpdHlDaGFuZ2VkKSB7XG5cdFx0XHRvblVwZGF0ZSA9IGZ1bmN0aW9uKG5vdykge1xuXHRcdFx0XHRfYXBwbHlCZ09wYWNpdHkoICAoZGVzdE9wYWNpdHkgLSBpbml0aWFsT3BhY2l0eSkgKiBub3cgKyBpbml0aWFsT3BhY2l0eSApO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRzZWxmLnpvb21UbyhkZXN0Wm9vbUxldmVsLCAwLCAyMDAsICBmcmFtZXdvcmsuZWFzaW5nLmN1YmljLm91dCwgb25VcGRhdGUpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cbl9yZWdpc3Rlck1vZHVsZSgnR2VzdHVyZXMnLCB7XG5cdHB1YmxpY01ldGhvZHM6IHtcblxuXHRcdGluaXRHZXN0dXJlczogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIGhlbHBlciBmdW5jdGlvbiB0aGF0IGJ1aWxkcyB0b3VjaC9wb2ludGVyL21vdXNlIGV2ZW50c1xuXHRcdFx0dmFyIGFkZEV2ZW50TmFtZXMgPSBmdW5jdGlvbihwcmVmLCBkb3duLCBtb3ZlLCB1cCwgY2FuY2VsKSB7XG5cdFx0XHRcdF9kcmFnU3RhcnRFdmVudCA9IHByZWYgKyBkb3duO1xuXHRcdFx0XHRfZHJhZ01vdmVFdmVudCA9IHByZWYgKyBtb3ZlO1xuXHRcdFx0XHRfZHJhZ0VuZEV2ZW50ID0gcHJlZiArIHVwO1xuXHRcdFx0XHRpZihjYW5jZWwpIHtcblx0XHRcdFx0XHRfZHJhZ0NhbmNlbEV2ZW50ID0gcHJlZiArIGNhbmNlbDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRfZHJhZ0NhbmNlbEV2ZW50ID0gJyc7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdF9wb2ludGVyRXZlbnRFbmFibGVkID0gX2ZlYXR1cmVzLnBvaW50ZXJFdmVudDtcblx0XHRcdGlmKF9wb2ludGVyRXZlbnRFbmFibGVkICYmIF9mZWF0dXJlcy50b3VjaCkge1xuXHRcdFx0XHQvLyB3ZSBkb24ndCBuZWVkIHRvdWNoIGV2ZW50cywgaWYgYnJvd3NlciBzdXBwb3J0cyBwb2ludGVyIGV2ZW50c1xuXHRcdFx0XHRfZmVhdHVyZXMudG91Y2ggPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYoX3BvaW50ZXJFdmVudEVuYWJsZWQpIHtcblx0XHRcdFx0aWYobmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcblx0XHRcdFx0XHQvLyBJRTEwIHBvaW50ZXIgZXZlbnRzIGFyZSBjYXNlLXNlbnNpdGl2ZVxuXHRcdFx0XHRcdGFkZEV2ZW50TmFtZXMoJ01TUG9pbnRlcicsICdEb3duJywgJ01vdmUnLCAnVXAnLCAnQ2FuY2VsJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWRkRXZlbnROYW1lcygncG9pbnRlcicsICdkb3duJywgJ21vdmUnLCAndXAnLCAnY2FuY2VsJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZihfZmVhdHVyZXMudG91Y2gpIHtcblx0XHRcdFx0YWRkRXZlbnROYW1lcygndG91Y2gnLCAnc3RhcnQnLCAnbW92ZScsICdlbmQnLCAnY2FuY2VsJyk7XG5cdFx0XHRcdF9saWtlbHlUb3VjaERldmljZSA9IHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhZGRFdmVudE5hbWVzKCdtb3VzZScsICdkb3duJywgJ21vdmUnLCAndXAnKTtcdFxuXHRcdFx0fVxuXG5cdFx0XHRfdXBNb3ZlRXZlbnRzID0gX2RyYWdNb3ZlRXZlbnQgKyAnICcgKyBfZHJhZ0VuZEV2ZW50ICArICcgJyArICBfZHJhZ0NhbmNlbEV2ZW50O1xuXHRcdFx0X2Rvd25FdmVudHMgPSBfZHJhZ1N0YXJ0RXZlbnQ7XG5cblx0XHRcdGlmKF9wb2ludGVyRXZlbnRFbmFibGVkICYmICFfbGlrZWx5VG91Y2hEZXZpY2UpIHtcblx0XHRcdFx0X2xpa2VseVRvdWNoRGV2aWNlID0gKG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEpIHx8IChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDEpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gbWFrZSB2YXJpYWJsZSBwdWJsaWNcblx0XHRcdHNlbGYubGlrZWx5VG91Y2hEZXZpY2UgPSBfbGlrZWx5VG91Y2hEZXZpY2U7IFxuXHRcdFx0XG5cdFx0XHRfZ2xvYmFsRXZlbnRIYW5kbGVyc1tfZHJhZ1N0YXJ0RXZlbnRdID0gX29uRHJhZ1N0YXJ0O1xuXHRcdFx0X2dsb2JhbEV2ZW50SGFuZGxlcnNbX2RyYWdNb3ZlRXZlbnRdID0gX29uRHJhZ01vdmU7XG5cdFx0XHRfZ2xvYmFsRXZlbnRIYW5kbGVyc1tfZHJhZ0VuZEV2ZW50XSA9IF9vbkRyYWdSZWxlYXNlOyAvLyB0aGUgS3Jha2VuXG5cblx0XHRcdGlmKF9kcmFnQ2FuY2VsRXZlbnQpIHtcblx0XHRcdFx0X2dsb2JhbEV2ZW50SGFuZGxlcnNbX2RyYWdDYW5jZWxFdmVudF0gPSBfZ2xvYmFsRXZlbnRIYW5kbGVyc1tfZHJhZ0VuZEV2ZW50XTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQmluZCBtb3VzZSBldmVudHMgb24gZGV2aWNlIHdpdGggZGV0ZWN0ZWQgaGFyZHdhcmUgdG91Y2ggc3VwcG9ydCwgaW4gY2FzZSBpdCBzdXBwb3J0cyBtdWx0aXBsZSB0eXBlcyBvZiBpbnB1dC5cblx0XHRcdGlmKF9mZWF0dXJlcy50b3VjaCkge1xuXHRcdFx0XHRfZG93bkV2ZW50cyArPSAnIG1vdXNlZG93bic7XG5cdFx0XHRcdF91cE1vdmVFdmVudHMgKz0gJyBtb3VzZW1vdmUgbW91c2V1cCc7XG5cdFx0XHRcdF9nbG9iYWxFdmVudEhhbmRsZXJzLm1vdXNlZG93biA9IF9nbG9iYWxFdmVudEhhbmRsZXJzW19kcmFnU3RhcnRFdmVudF07XG5cdFx0XHRcdF9nbG9iYWxFdmVudEhhbmRsZXJzLm1vdXNlbW92ZSA9IF9nbG9iYWxFdmVudEhhbmRsZXJzW19kcmFnTW92ZUV2ZW50XTtcblx0XHRcdFx0X2dsb2JhbEV2ZW50SGFuZGxlcnMubW91c2V1cCA9IF9nbG9iYWxFdmVudEhhbmRsZXJzW19kcmFnRW5kRXZlbnRdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZighX2xpa2VseVRvdWNoRGV2aWNlKSB7XG5cdFx0XHRcdC8vIGRvbid0IGFsbG93IHBhbiB0byBuZXh0IHNsaWRlIGZyb20gem9vbWVkIHN0YXRlIG9uIERlc2t0b3Bcblx0XHRcdFx0X29wdGlvbnMuYWxsb3dQYW5Ub05leHQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0fVxufSk7XG5cblxuLyo+Pmdlc3R1cmVzKi9cblxuLyo+PnNob3ctaGlkZS10cmFuc2l0aW9uKi9cbi8qKlxuICogc2hvdy1oaWRlLXRyYW5zaXRpb24uanM6XG4gKlxuICogTWFuYWdlcyBpbml0aWFsIG9wZW5pbmcgb3IgY2xvc2luZyB0cmFuc2l0aW9uLlxuICpcbiAqIElmIHlvdSdyZSBub3QgcGxhbm5pbmcgdG8gdXNlIHRyYW5zaXRpb24gZm9yIGdhbGxlcnkgYXQgYWxsLFxuICogeW91IG1heSBzZXQgb3B0aW9ucyBoaWRlQW5pbWF0aW9uRHVyYXRpb24gYW5kIHNob3dBbmltYXRpb25EdXJhdGlvbiB0byAwLFxuICogYW5kIGp1c3QgZGVsZXRlIHN0YXJ0QW5pbWF0aW9uIGZ1bmN0aW9uLlxuICogXG4gKi9cblxuXG52YXIgX3Nob3dPckhpZGVUaW1lb3V0LFxuXHRfc2hvd09ySGlkZSA9IGZ1bmN0aW9uKGl0ZW0sIGltZywgb3V0LCBjb21wbGV0ZUZuKSB7XG5cblx0XHRpZihfc2hvd09ySGlkZVRpbWVvdXQpIHtcblx0XHRcdGNsZWFyVGltZW91dChfc2hvd09ySGlkZVRpbWVvdXQpO1xuXHRcdH1cblxuXHRcdF9pbml0aWFsWm9vbVJ1bm5pbmcgPSB0cnVlO1xuXHRcdF9pbml0aWFsQ29udGVudFNldCA9IHRydWU7XG5cdFx0XG5cdFx0Ly8gZGltZW5zaW9ucyBvZiBzbWFsbCB0aHVtYm5haWwge3g6LHk6LHc6fS5cblx0XHQvLyBIZWlnaHQgaXMgb3B0aW9uYWwsIGFzIGNhbGN1bGF0ZWQgYmFzZWQgb24gbGFyZ2UgaW1hZ2UuXG5cdFx0dmFyIHRodW1iQm91bmRzOyBcblx0XHRpZihpdGVtLmluaXRpYWxMYXlvdXQpIHtcblx0XHRcdHRodW1iQm91bmRzID0gaXRlbS5pbml0aWFsTGF5b3V0O1xuXHRcdFx0aXRlbS5pbml0aWFsTGF5b3V0ID0gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGh1bWJCb3VuZHMgPSBfb3B0aW9ucy5nZXRUaHVtYkJvdW5kc0ZuICYmIF9vcHRpb25zLmdldFRodW1iQm91bmRzRm4oX2N1cnJlbnRJdGVtSW5kZXgpO1xuXHRcdH1cblxuXHRcdHZhciBkdXJhdGlvbiA9IG91dCA/IF9vcHRpb25zLmhpZGVBbmltYXRpb25EdXJhdGlvbiA6IF9vcHRpb25zLnNob3dBbmltYXRpb25EdXJhdGlvbjtcblxuXHRcdHZhciBvbkNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRfc3RvcEFuaW1hdGlvbignaW5pdGlhbFpvb20nKTtcblx0XHRcdGlmKCFvdXQpIHtcblx0XHRcdFx0X2FwcGx5QmdPcGFjaXR5KDEpO1xuXHRcdFx0XHRpZihpbWcpIHtcblx0XHRcdFx0XHRpbWcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnJhbWV3b3JrLmFkZENsYXNzKHRlbXBsYXRlLCAncHN3cC0tYW5pbWF0ZWQtaW4nKTtcblx0XHRcdFx0X3Nob3V0KCdpbml0aWFsWm9vbScgKyAob3V0ID8gJ091dEVuZCcgOiAnSW5FbmQnKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLnRlbXBsYXRlLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcblx0XHRcdFx0c2VsZi5iZy5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKGNvbXBsZXRlRm4pIHtcblx0XHRcdFx0Y29tcGxldGVGbigpO1xuXHRcdFx0fVxuXHRcdFx0X2luaXRpYWxab29tUnVubmluZyA9IGZhbHNlO1xuXHRcdH07XG5cblx0XHQvLyBpZiBib3VuZHMgYXJlbid0IHByb3ZpZGVkLCBqdXN0IG9wZW4gZ2FsbGVyeSB3aXRob3V0IGFuaW1hdGlvblxuXHRcdGlmKCFkdXJhdGlvbiB8fCAhdGh1bWJCb3VuZHMgfHwgdGh1bWJCb3VuZHMueCA9PT0gdW5kZWZpbmVkKSB7XG5cblx0XHRcdF9zaG91dCgnaW5pdGlhbFpvb20nICsgKG91dCA/ICdPdXQnIDogJ0luJykgKTtcblxuXHRcdFx0X2N1cnJab29tTGV2ZWwgPSBpdGVtLmluaXRpYWxab29tTGV2ZWw7XG5cdFx0XHRfZXF1YWxpemVQb2ludHMoX3Bhbk9mZnNldCwgIGl0ZW0uaW5pdGlhbFBvc2l0aW9uICk7XG5cdFx0XHRfYXBwbHlDdXJyZW50Wm9vbVBhbigpO1xuXG5cdFx0XHR0ZW1wbGF0ZS5zdHlsZS5vcGFjaXR5ID0gb3V0ID8gMCA6IDE7XG5cdFx0XHRfYXBwbHlCZ09wYWNpdHkoMSk7XG5cblx0XHRcdGlmKGR1cmF0aW9uKSB7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0b25Db21wbGV0ZSgpO1xuXHRcdFx0XHR9LCBkdXJhdGlvbik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvbkNvbXBsZXRlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgc3RhcnRBbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbG9zZVdpdGhSYWYgPSBfY2xvc2VkQnlTY3JvbGwsXG5cdFx0XHRcdGZhZGVFdmVyeXRoaW5nID0gIXNlbGYuY3Vyckl0ZW0uc3JjIHx8IHNlbGYuY3Vyckl0ZW0ubG9hZEVycm9yIHx8IF9vcHRpb25zLnNob3dIaWRlT3BhY2l0eTtcblx0XHRcdFxuXHRcdFx0Ly8gYXBwbHkgaHctYWNjZWxlcmF0aW9uIHRvIGltYWdlXG5cdFx0XHRpZihpdGVtLm1pbmlJbWcpIHtcblx0XHRcdFx0aXRlbS5taW5pSW1nLnN0eWxlLndlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXHRcdFx0fVxuXG5cdFx0XHRpZighb3V0KSB7XG5cdFx0XHRcdF9jdXJyWm9vbUxldmVsID0gdGh1bWJCb3VuZHMudyAvIGl0ZW0udztcblx0XHRcdFx0X3Bhbk9mZnNldC54ID0gdGh1bWJCb3VuZHMueDtcblx0XHRcdFx0X3Bhbk9mZnNldC55ID0gdGh1bWJCb3VuZHMueSAtIF9pbml0YWxXaW5kb3dTY3JvbGxZO1xuXG5cdFx0XHRcdHNlbGZbZmFkZUV2ZXJ5dGhpbmcgPyAndGVtcGxhdGUnIDogJ2JnJ10uc3R5bGUub3BhY2l0eSA9IDAuMDAxO1xuXHRcdFx0XHRfYXBwbHlDdXJyZW50Wm9vbVBhbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRfcmVnaXN0ZXJTdGFydEFuaW1hdGlvbignaW5pdGlhbFpvb20nKTtcblx0XHRcdFxuXHRcdFx0aWYob3V0ICYmICFjbG9zZVdpdGhSYWYpIHtcblx0XHRcdFx0ZnJhbWV3b3JrLnJlbW92ZUNsYXNzKHRlbXBsYXRlLCAncHN3cC0tYW5pbWF0ZWQtaW4nKTtcblx0XHRcdH1cblxuXHRcdFx0aWYoZmFkZUV2ZXJ5dGhpbmcpIHtcblx0XHRcdFx0aWYob3V0KSB7XG5cdFx0XHRcdFx0ZnJhbWV3b3JrWyAoY2xvc2VXaXRoUmFmID8gJ3JlbW92ZScgOiAnYWRkJykgKyAnQ2xhc3MnIF0odGVtcGxhdGUsICdwc3dwLS1hbmltYXRlX29wYWNpdHknKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZnJhbWV3b3JrLmFkZENsYXNzKHRlbXBsYXRlLCAncHN3cC0tYW5pbWF0ZV9vcGFjaXR5Jyk7XG5cdFx0XHRcdFx0fSwgMzApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdF9zaG93T3JIaWRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0X3Nob3V0KCdpbml0aWFsWm9vbScgKyAob3V0ID8gJ091dCcgOiAnSW4nKSApO1xuXHRcdFx0XHRcblxuXHRcdFx0XHRpZighb3V0KSB7XG5cblx0XHRcdFx0XHQvLyBcImluXCIgYW5pbWF0aW9uIGFsd2F5cyB1c2VzIENTUyB0cmFuc2l0aW9ucyAoaW5zdGVhZCBvZiByQUYpLlxuXHRcdFx0XHRcdC8vIENTUyB0cmFuc2l0aW9uIHdvcmsgZmFzdGVyIGhlcmUsIFxuXHRcdFx0XHRcdC8vIGFzIGRldmVsb3BlciBtYXkgYWxzbyB3YW50IHRvIGFuaW1hdGUgb3RoZXIgdGhpbmdzLCBcblx0XHRcdFx0XHQvLyBsaWtlIHVpIG9uIHRvcCBvZiBzbGlkaW5nIGFyZWEsIHdoaWNoIGNhbiBiZSBhbmltYXRlZCBqdXN0IHZpYSBDU1Ncblx0XHRcdFx0XHRcblx0XHRcdFx0XHRfY3Vyclpvb21MZXZlbCA9IGl0ZW0uaW5pdGlhbFpvb21MZXZlbDtcblx0XHRcdFx0XHRfZXF1YWxpemVQb2ludHMoX3Bhbk9mZnNldCwgIGl0ZW0uaW5pdGlhbFBvc2l0aW9uICk7XG5cdFx0XHRcdFx0X2FwcGx5Q3VycmVudFpvb21QYW4oKTtcblx0XHRcdFx0XHRfYXBwbHlCZ09wYWNpdHkoMSk7XG5cblx0XHRcdFx0XHRpZihmYWRlRXZlcnl0aGluZykge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGUuc3R5bGUub3BhY2l0eSA9IDE7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdF9hcHBseUJnT3BhY2l0eSgxKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfc2hvd09ySGlkZVRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uQ29tcGxldGUsIGR1cmF0aW9uICsgMjApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gXCJvdXRcIiBhbmltYXRpb24gdXNlcyByQUYgb25seSB3aGVuIFBob3RvU3dpcGUgaXMgY2xvc2VkIGJ5IGJyb3dzZXIgc2Nyb2xsLCB0byByZWNhbGN1bGF0ZSBwb3NpdGlvblxuXHRcdFx0XHRcdHZhciBkZXN0Wm9vbUxldmVsID0gdGh1bWJCb3VuZHMudyAvIGl0ZW0udyxcblx0XHRcdFx0XHRcdGluaXRpYWxQYW5PZmZzZXQgPSB7XG5cdFx0XHRcdFx0XHRcdHg6IF9wYW5PZmZzZXQueCxcblx0XHRcdFx0XHRcdFx0eTogX3Bhbk9mZnNldC55XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0aW5pdGlhbFpvb21MZXZlbCA9IF9jdXJyWm9vbUxldmVsLFxuXHRcdFx0XHRcdFx0aW5pdGFsQmdPcGFjaXR5ID0gX2JnT3BhY2l0eSxcblx0XHRcdFx0XHRcdG9uVXBkYXRlID0gZnVuY3Rpb24obm93KSB7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRpZihub3cgPT09IDEpIHtcblx0XHRcdFx0XHRcdFx0XHRfY3Vyclpvb21MZXZlbCA9IGRlc3Rab29tTGV2ZWw7XG5cdFx0XHRcdFx0XHRcdFx0X3Bhbk9mZnNldC54ID0gdGh1bWJCb3VuZHMueDtcblx0XHRcdFx0XHRcdFx0XHRfcGFuT2Zmc2V0LnkgPSB0aHVtYkJvdW5kcy55ICAtIF9jdXJyZW50V2luZG93U2Nyb2xsWTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRfY3Vyclpvb21MZXZlbCA9IChkZXN0Wm9vbUxldmVsIC0gaW5pdGlhbFpvb21MZXZlbCkgKiBub3cgKyBpbml0aWFsWm9vbUxldmVsO1xuXHRcdFx0XHRcdFx0XHRcdF9wYW5PZmZzZXQueCA9ICh0aHVtYkJvdW5kcy54IC0gaW5pdGlhbFBhbk9mZnNldC54KSAqIG5vdyArIGluaXRpYWxQYW5PZmZzZXQueDtcblx0XHRcdFx0XHRcdFx0XHRfcGFuT2Zmc2V0LnkgPSAodGh1bWJCb3VuZHMueSAtIF9jdXJyZW50V2luZG93U2Nyb2xsWSAtIGluaXRpYWxQYW5PZmZzZXQueSkgKiBub3cgKyBpbml0aWFsUGFuT2Zmc2V0Lnk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdF9hcHBseUN1cnJlbnRab29tUGFuKCk7XG5cdFx0XHRcdFx0XHRcdGlmKGZhZGVFdmVyeXRoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGUuc3R5bGUub3BhY2l0eSA9IDEgLSBub3c7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0X2FwcGx5QmdPcGFjaXR5KCBpbml0YWxCZ09wYWNpdHkgLSBub3cgKiBpbml0YWxCZ09wYWNpdHkgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGlmKGNsb3NlV2l0aFJhZikge1xuXHRcdFx0XHRcdFx0X2FuaW1hdGVQcm9wKCdpbml0aWFsWm9vbScsIDAsIDEsIGR1cmF0aW9uLCBmcmFtZXdvcmsuZWFzaW5nLmN1YmljLm91dCwgb25VcGRhdGUsIG9uQ29tcGxldGUpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRvblVwZGF0ZSgxKTtcblx0XHRcdFx0XHRcdF9zaG93T3JIaWRlVGltZW91dCA9IHNldFRpbWVvdXQob25Db21wbGV0ZSwgZHVyYXRpb24gKyAyMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcblx0XHRcdH0sIG91dCA/IDI1IDogOTApOyAvLyBNYWluIHB1cnBvc2Ugb2YgdGhpcyBkZWxheSBpcyB0byBnaXZlIGJyb3dzZXIgdGltZSB0byBwYWludCBhbmRcblx0XHRcdFx0XHQvLyBjcmVhdGUgY29tcG9zaXRlIGxheWVycyBvZiBQaG90b1N3aXBlIFVJIHBhcnRzIChiYWNrZ3JvdW5kLCBjb250cm9scywgY2FwdGlvbiwgYXJyb3dzKS5cblx0XHRcdFx0XHQvLyBXaGljaCBhdm9pZHMgbGFnIGF0IHRoZSBiZWdpbm5pbmcgb2Ygc2NhbGUgdHJhbnNpdGlvbi5cblx0XHR9O1xuXHRcdHN0YXJ0QW5pbWF0aW9uKCk7XG5cblx0XHRcblx0fTtcblxuLyo+PnNob3ctaGlkZS10cmFuc2l0aW9uKi9cblxuLyo+Pml0ZW1zLWNvbnRyb2xsZXIqL1xuLyoqXG4qXG4qIENvbnRyb2xsZXIgbWFuYWdlcyBnYWxsZXJ5IGl0ZW1zLCB0aGVpciBkaW1lbnNpb25zLCBhbmQgdGhlaXIgY29udGVudC5cbiogXG4qL1xuXG52YXIgX2l0ZW1zLFxuXHRfdGVtcFBhbkFyZWFTaXplID0ge30sXG5cdF9pbWFnZXNUb0FwcGVuZFBvb2wgPSBbXSxcblx0X2luaXRpYWxDb250ZW50U2V0LFxuXHRfaW5pdGlhbFpvb21SdW5uaW5nLFxuXHRfY29udHJvbGxlckRlZmF1bHRPcHRpb25zID0ge1xuXHRcdGluZGV4OiAwLFxuXHRcdGVycm9yTXNnOiAnPGRpdiBjbGFzcz1cInBzd3BfX2Vycm9yLW1zZ1wiPjxhIGhyZWY9XCIldXJsJVwiIHRhcmdldD1cIl9ibGFua1wiPlRoZSBpbWFnZTwvYT4gY291bGQgbm90IGJlIGxvYWRlZC48L2Rpdj4nLFxuXHRcdGZvcmNlUHJvZ3Jlc3NpdmVMb2FkaW5nOiBmYWxzZSwgLy8gVE9ET1xuXHRcdHByZWxvYWQ6IFsxLDFdLFxuXHRcdGdldE51bUl0ZW1zRm46IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIF9pdGVtcy5sZW5ndGg7XG5cdFx0fVxuXHR9O1xuXG5cbnZhciBfZ2V0SXRlbUF0LFxuXHRfZ2V0TnVtSXRlbXMsXG5cdF9pbml0aWFsSXNMb29wLFxuXHRfZ2V0WmVyb0JvdW5kcyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjZW50ZXI6e3g6MCx5OjB9LCBcblx0XHRcdG1heDp7eDowLHk6MH0sIFxuXHRcdFx0bWluOnt4OjAseTowfVxuXHRcdH07XG5cdH0sXG5cdF9jYWxjdWxhdGVTaW5nbGVJdGVtUGFuQm91bmRzID0gZnVuY3Rpb24oaXRlbSwgcmVhbFBhbkVsZW1lbnRXLCByZWFsUGFuRWxlbWVudEggKSB7XG5cdFx0dmFyIGJvdW5kcyA9IGl0ZW0uYm91bmRzO1xuXG5cdFx0Ly8gcG9zaXRpb24gb2YgZWxlbWVudCB3aGVuIGl0J3MgY2VudGVyZWRcblx0XHRib3VuZHMuY2VudGVyLnggPSBNYXRoLnJvdW5kKChfdGVtcFBhbkFyZWFTaXplLnggLSByZWFsUGFuRWxlbWVudFcpIC8gMik7XG5cdFx0Ym91bmRzLmNlbnRlci55ID0gTWF0aC5yb3VuZCgoX3RlbXBQYW5BcmVhU2l6ZS55IC0gcmVhbFBhbkVsZW1lbnRIKSAvIDIpICsgaXRlbS52R2FwLnRvcDtcblxuXHRcdC8vIG1heGltdW0gcGFuIHBvc2l0aW9uXG5cdFx0Ym91bmRzLm1heC54ID0gKHJlYWxQYW5FbGVtZW50VyA+IF90ZW1wUGFuQXJlYVNpemUueCkgPyBcblx0XHRcdFx0XHRcdFx0TWF0aC5yb3VuZChfdGVtcFBhbkFyZWFTaXplLnggLSByZWFsUGFuRWxlbWVudFcpIDogXG5cdFx0XHRcdFx0XHRcdGJvdW5kcy5jZW50ZXIueDtcblx0XHRcblx0XHRib3VuZHMubWF4LnkgPSAocmVhbFBhbkVsZW1lbnRIID4gX3RlbXBQYW5BcmVhU2l6ZS55KSA/IFxuXHRcdFx0XHRcdFx0XHRNYXRoLnJvdW5kKF90ZW1wUGFuQXJlYVNpemUueSAtIHJlYWxQYW5FbGVtZW50SCkgKyBpdGVtLnZHYXAudG9wIDogXG5cdFx0XHRcdFx0XHRcdGJvdW5kcy5jZW50ZXIueTtcblx0XHRcblx0XHQvLyBtaW5pbXVtIHBhbiBwb3NpdGlvblxuXHRcdGJvdW5kcy5taW4ueCA9IChyZWFsUGFuRWxlbWVudFcgPiBfdGVtcFBhbkFyZWFTaXplLngpID8gMCA6IGJvdW5kcy5jZW50ZXIueDtcblx0XHRib3VuZHMubWluLnkgPSAocmVhbFBhbkVsZW1lbnRIID4gX3RlbXBQYW5BcmVhU2l6ZS55KSA/IGl0ZW0udkdhcC50b3AgOiBib3VuZHMuY2VudGVyLnk7XG5cdH0sXG5cdF9jYWxjdWxhdGVJdGVtU2l6ZSA9IGZ1bmN0aW9uKGl0ZW0sIHZpZXdwb3J0U2l6ZSwgem9vbUxldmVsKSB7XG5cblx0XHRpZiAoaXRlbS5zcmMgJiYgIWl0ZW0ubG9hZEVycm9yKSB7XG5cdFx0XHR2YXIgaXNJbml0aWFsID0gIXpvb21MZXZlbDtcblx0XHRcdFxuXHRcdFx0aWYoaXNJbml0aWFsKSB7XG5cdFx0XHRcdGlmKCFpdGVtLnZHYXApIHtcblx0XHRcdFx0XHRpdGVtLnZHYXAgPSB7dG9wOjAsYm90dG9tOjB9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGFsbG93cyBvdmVycmlkaW5nIHZlcnRpY2FsIG1hcmdpbiBmb3IgaW5kaXZpZHVhbCBpdGVtc1xuXHRcdFx0XHRfc2hvdXQoJ3BhcnNlVmVydGljYWxNYXJnaW4nLCBpdGVtKTtcblx0XHRcdH1cblxuXG5cdFx0XHRfdGVtcFBhbkFyZWFTaXplLnggPSB2aWV3cG9ydFNpemUueDtcblx0XHRcdF90ZW1wUGFuQXJlYVNpemUueSA9IHZpZXdwb3J0U2l6ZS55IC0gaXRlbS52R2FwLnRvcCAtIGl0ZW0udkdhcC5ib3R0b207XG5cblx0XHRcdGlmIChpc0luaXRpYWwpIHtcblx0XHRcdFx0dmFyIGhSYXRpbyA9IF90ZW1wUGFuQXJlYVNpemUueCAvIGl0ZW0udztcblx0XHRcdFx0dmFyIHZSYXRpbyA9IF90ZW1wUGFuQXJlYVNpemUueSAvIGl0ZW0uaDtcblxuXHRcdFx0XHRpdGVtLmZpdFJhdGlvID0gaFJhdGlvIDwgdlJhdGlvID8gaFJhdGlvIDogdlJhdGlvO1xuXHRcdFx0XHQvL2l0ZW0uZmlsbFJhdGlvID0gaFJhdGlvID4gdlJhdGlvID8gaFJhdGlvIDogdlJhdGlvO1xuXG5cdFx0XHRcdHZhciBzY2FsZU1vZGUgPSBfb3B0aW9ucy5zY2FsZU1vZGU7XG5cblx0XHRcdFx0aWYgKHNjYWxlTW9kZSA9PT0gJ29yaWcnKSB7XG5cdFx0XHRcdFx0em9vbUxldmVsID0gMTtcblx0XHRcdFx0fSBlbHNlIGlmIChzY2FsZU1vZGUgPT09ICdmaXQnKSB7XG5cdFx0XHRcdFx0em9vbUxldmVsID0gaXRlbS5maXRSYXRpbztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh6b29tTGV2ZWwgPiAxKSB7XG5cdFx0XHRcdFx0em9vbUxldmVsID0gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGl0ZW0uaW5pdGlhbFpvb21MZXZlbCA9IHpvb21MZXZlbDtcblx0XHRcdFx0XG5cdFx0XHRcdGlmKCFpdGVtLmJvdW5kcykge1xuXHRcdFx0XHRcdC8vIHJldXNlIGJvdW5kcyBvYmplY3Rcblx0XHRcdFx0XHRpdGVtLmJvdW5kcyA9IF9nZXRaZXJvQm91bmRzKCk7IFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmKCF6b29tTGV2ZWwpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRfY2FsY3VsYXRlU2luZ2xlSXRlbVBhbkJvdW5kcyhpdGVtLCBpdGVtLncgKiB6b29tTGV2ZWwsIGl0ZW0uaCAqIHpvb21MZXZlbCk7XG5cblx0XHRcdGlmIChpc0luaXRpYWwgJiYgem9vbUxldmVsID09PSBpdGVtLmluaXRpYWxab29tTGV2ZWwpIHtcblx0XHRcdFx0aXRlbS5pbml0aWFsUG9zaXRpb24gPSBpdGVtLmJvdW5kcy5jZW50ZXI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBpdGVtLmJvdW5kcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aXRlbS53ID0gaXRlbS5oID0gMDtcblx0XHRcdGl0ZW0uaW5pdGlhbFpvb21MZXZlbCA9IGl0ZW0uZml0UmF0aW8gPSAxO1xuXHRcdFx0aXRlbS5ib3VuZHMgPSBfZ2V0WmVyb0JvdW5kcygpO1xuXHRcdFx0aXRlbS5pbml0aWFsUG9zaXRpb24gPSBpdGVtLmJvdW5kcy5jZW50ZXI7XG5cblx0XHRcdC8vIGlmIGl0J3Mgbm90IGltYWdlLCB3ZSByZXR1cm4gemVybyBib3VuZHMgKGNvbnRlbnQgaXMgbm90IHpvb21hYmxlKVxuXHRcdFx0cmV0dXJuIGl0ZW0uYm91bmRzO1xuXHRcdH1cblx0XHRcblx0fSxcblxuXHRcblxuXG5cdF9hcHBlbmRJbWFnZSA9IGZ1bmN0aW9uKGluZGV4LCBpdGVtLCBiYXNlRGl2LCBpbWcsIHByZXZlbnRBbmltYXRpb24sIGtlZXBQbGFjZWhvbGRlcikge1xuXHRcdFxuXG5cdFx0aWYoaXRlbS5sb2FkRXJyb3IpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZihpbWcpIHtcblxuXHRcdFx0aXRlbS5pbWFnZUFwcGVuZGVkID0gdHJ1ZTtcblx0XHRcdF9zZXRJbWFnZVNpemUoaXRlbSwgaW1nLCAoaXRlbSA9PT0gc2VsZi5jdXJySXRlbSAmJiBfcmVuZGVyTWF4UmVzb2x1dGlvbikgKTtcblx0XHRcdFxuXHRcdFx0YmFzZURpdi5hcHBlbmRDaGlsZChpbWcpO1xuXG5cdFx0XHRpZihrZWVwUGxhY2Vob2xkZXIpIHtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZihpdGVtICYmIGl0ZW0ubG9hZGVkICYmIGl0ZW0ucGxhY2Vob2xkZXIpIHtcblx0XHRcdFx0XHRcdGl0ZW0ucGxhY2Vob2xkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdFx0XHRcdGl0ZW0ucGxhY2Vob2xkZXIgPSBudWxsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgNTAwKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdFxuXG5cblx0X3ByZWxvYWRJbWFnZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRpdGVtLmxvYWRpbmcgPSB0cnVlO1xuXHRcdGl0ZW0ubG9hZGVkID0gZmFsc2U7XG5cdFx0dmFyIGltZyA9IGl0ZW0uaW1nID0gZnJhbWV3b3JrLmNyZWF0ZUVsKCdwc3dwX19pbWcnLCAnaW1nJyk7XG5cdFx0dmFyIG9uQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdGl0ZW0ubG9hZGluZyA9IGZhbHNlO1xuXHRcdFx0aXRlbS5sb2FkZWQgPSB0cnVlO1xuXG5cdFx0XHRpZihpdGVtLmxvYWRDb21wbGV0ZSkge1xuXHRcdFx0XHRpdGVtLmxvYWRDb21wbGV0ZShpdGVtKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGl0ZW0uaW1nID0gbnVsbDsgLy8gbm8gbmVlZCB0byBzdG9yZSBpbWFnZSBvYmplY3Rcblx0XHRcdH1cblx0XHRcdGltZy5vbmxvYWQgPSBpbWcub25lcnJvciA9IG51bGw7XG5cdFx0XHRpbWcgPSBudWxsO1xuXHRcdH07XG5cdFx0aW1nLm9ubG9hZCA9IG9uQ29tcGxldGU7XG5cdFx0aW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdGl0ZW0ubG9hZEVycm9yID0gdHJ1ZTtcblx0XHRcdG9uQ29tcGxldGUoKTtcblx0XHR9O1x0XHRcblxuXHRcdGltZy5zcmMgPSBpdGVtLnNyYzsvLyArICc/YT0nICsgTWF0aC5yYW5kb20oKTtcblxuXHRcdHJldHVybiBpbWc7XG5cdH0sXG5cdF9jaGVja0ZvckVycm9yID0gZnVuY3Rpb24oaXRlbSwgY2xlYW5VcCkge1xuXHRcdGlmKGl0ZW0uc3JjICYmIGl0ZW0ubG9hZEVycm9yICYmIGl0ZW0uY29udGFpbmVyKSB7XG5cblx0XHRcdGlmKGNsZWFuVXApIHtcblx0XHRcdFx0aXRlbS5jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cdFx0XHR9XG5cblx0XHRcdGl0ZW0uY29udGFpbmVyLmlubmVySFRNTCA9IF9vcHRpb25zLmVycm9yTXNnLnJlcGxhY2UoJyV1cmwlJywgIGl0ZW0uc3JjICk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFxuXHRcdH1cblx0fSxcblx0X3NldEltYWdlU2l6ZSA9IGZ1bmN0aW9uKGl0ZW0sIGltZywgbWF4UmVzKSB7XG5cdFx0aWYoIWl0ZW0uc3JjKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYoIWltZykge1xuXHRcdFx0aW1nID0gaXRlbS5jb250YWluZXIubGFzdENoaWxkO1xuXHRcdH1cblxuXHRcdHZhciB3ID0gbWF4UmVzID8gaXRlbS53IDogTWF0aC5yb3VuZChpdGVtLncgKiBpdGVtLmZpdFJhdGlvKSxcblx0XHRcdGggPSBtYXhSZXMgPyBpdGVtLmggOiBNYXRoLnJvdW5kKGl0ZW0uaCAqIGl0ZW0uZml0UmF0aW8pO1xuXHRcdFxuXHRcdGlmKGl0ZW0ucGxhY2Vob2xkZXIgJiYgIWl0ZW0ubG9hZGVkKSB7XG5cdFx0XHRpdGVtLnBsYWNlaG9sZGVyLnN0eWxlLndpZHRoID0gdyArICdweCc7XG5cdFx0XHRpdGVtLnBsYWNlaG9sZGVyLnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xuXHRcdH1cblxuXHRcdGltZy5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuXHRcdGltZy5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4Jztcblx0fSxcblx0X2FwcGVuZEltYWdlc1Bvb2wgPSBmdW5jdGlvbigpIHtcblxuXHRcdGlmKF9pbWFnZXNUb0FwcGVuZFBvb2wubGVuZ3RoKSB7XG5cdFx0XHR2YXIgcG9vbEl0ZW07XG5cblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBfaW1hZ2VzVG9BcHBlbmRQb29sLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHBvb2xJdGVtID0gX2ltYWdlc1RvQXBwZW5kUG9vbFtpXTtcblx0XHRcdFx0aWYoIHBvb2xJdGVtLmhvbGRlci5pbmRleCA9PT0gcG9vbEl0ZW0uaW5kZXggKSB7XG5cdFx0XHRcdFx0X2FwcGVuZEltYWdlKHBvb2xJdGVtLmluZGV4LCBwb29sSXRlbS5pdGVtLCBwb29sSXRlbS5iYXNlRGl2LCBwb29sSXRlbS5pbWcsIGZhbHNlLCBwb29sSXRlbS5jbGVhclBsYWNlaG9sZGVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0X2ltYWdlc1RvQXBwZW5kUG9vbCA9IFtdO1xuXHRcdH1cblx0fTtcblx0XG5cblxuX3JlZ2lzdGVyTW9kdWxlKCdDb250cm9sbGVyJywge1xuXG5cdHB1YmxpY01ldGhvZHM6IHtcblxuXHRcdGxhenlMb2FkSXRlbTogZnVuY3Rpb24oaW5kZXgpIHtcblx0XHRcdGluZGV4ID0gX2dldExvb3BlZElkKGluZGV4KTtcblx0XHRcdHZhciBpdGVtID0gX2dldEl0ZW1BdChpbmRleCk7XG5cblx0XHRcdGlmKCFpdGVtIHx8ICgoaXRlbS5sb2FkZWQgfHwgaXRlbS5sb2FkaW5nKSAmJiAhX2l0ZW1zTmVlZFVwZGF0ZSkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRfc2hvdXQoJ2dldHRpbmdEYXRhJywgaW5kZXgsIGl0ZW0pO1xuXG5cdFx0XHRpZiAoIWl0ZW0uc3JjKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0X3ByZWxvYWRJbWFnZShpdGVtKTtcblx0XHR9LFxuXHRcdGluaXRDb250cm9sbGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdGZyYW1ld29yay5leHRlbmQoX29wdGlvbnMsIF9jb250cm9sbGVyRGVmYXVsdE9wdGlvbnMsIHRydWUpO1xuXHRcdFx0c2VsZi5pdGVtcyA9IF9pdGVtcyA9IGl0ZW1zO1xuXHRcdFx0X2dldEl0ZW1BdCA9IHNlbGYuZ2V0SXRlbUF0O1xuXHRcdFx0X2dldE51bUl0ZW1zID0gX29wdGlvbnMuZ2V0TnVtSXRlbXNGbjsgLy9zZWxmLmdldE51bUl0ZW1zO1xuXG5cblxuXHRcdFx0X2luaXRpYWxJc0xvb3AgPSBfb3B0aW9ucy5sb29wO1xuXHRcdFx0aWYoX2dldE51bUl0ZW1zKCkgPCAzKSB7XG5cdFx0XHRcdF9vcHRpb25zLmxvb3AgPSBmYWxzZTsgLy8gZGlzYWJsZSBsb29wIGlmIGxlc3MgdGhlbiAzIGl0ZW1zXG5cdFx0XHR9XG5cblx0XHRcdF9saXN0ZW4oJ2JlZm9yZUNoYW5nZScsIGZ1bmN0aW9uKGRpZmYpIHtcblxuXHRcdFx0XHR2YXIgcCA9IF9vcHRpb25zLnByZWxvYWQsXG5cdFx0XHRcdFx0aXNOZXh0ID0gZGlmZiA9PT0gbnVsbCA/IHRydWUgOiAoZGlmZiA+PSAwKSxcblx0XHRcdFx0XHRwcmVsb2FkQmVmb3JlID0gTWF0aC5taW4ocFswXSwgX2dldE51bUl0ZW1zKCkgKSxcblx0XHRcdFx0XHRwcmVsb2FkQWZ0ZXIgPSBNYXRoLm1pbihwWzFdLCBfZ2V0TnVtSXRlbXMoKSApLFxuXHRcdFx0XHRcdGk7XG5cblxuXHRcdFx0XHRmb3IoaSA9IDE7IGkgPD0gKGlzTmV4dCA/IHByZWxvYWRBZnRlciA6IHByZWxvYWRCZWZvcmUpOyBpKyspIHtcblx0XHRcdFx0XHRzZWxmLmxhenlMb2FkSXRlbShfY3VycmVudEl0ZW1JbmRleCtpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IoaSA9IDE7IGkgPD0gKGlzTmV4dCA/IHByZWxvYWRCZWZvcmUgOiBwcmVsb2FkQWZ0ZXIpOyBpKyspIHtcblx0XHRcdFx0XHRzZWxmLmxhenlMb2FkSXRlbShfY3VycmVudEl0ZW1JbmRleC1pKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdF9saXN0ZW4oJ2luaXRpYWxMYXlvdXQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5jdXJySXRlbS5pbml0aWFsTGF5b3V0ID0gX29wdGlvbnMuZ2V0VGh1bWJCb3VuZHNGbiAmJiBfb3B0aW9ucy5nZXRUaHVtYkJvdW5kc0ZuKF9jdXJyZW50SXRlbUluZGV4KTtcblx0XHRcdH0pO1xuXG5cdFx0XHRfbGlzdGVuKCdtYWluU2Nyb2xsQW5pbUNvbXBsZXRlJywgX2FwcGVuZEltYWdlc1Bvb2wpO1xuXHRcdFx0X2xpc3RlbignaW5pdGlhbFpvb21JbkVuZCcsIF9hcHBlbmRJbWFnZXNQb29sKTtcblxuXG5cblx0XHRcdF9saXN0ZW4oJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGl0ZW07XG5cdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBfaXRlbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpdGVtID0gX2l0ZW1zW2ldO1xuXHRcdFx0XHRcdC8vIHJlbW92ZSByZWZlcmVuY2UgdG8gRE9NIGVsZW1lbnRzLCBmb3IgR0Ncblx0XHRcdFx0XHRpZihpdGVtLmNvbnRhaW5lcikge1xuXHRcdFx0XHRcdFx0aXRlbS5jb250YWluZXIgPSBudWxsOyBcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYoaXRlbS5wbGFjZWhvbGRlcikge1xuXHRcdFx0XHRcdFx0aXRlbS5wbGFjZWhvbGRlciA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKGl0ZW0uaW1nKSB7XG5cdFx0XHRcdFx0XHRpdGVtLmltZyA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKGl0ZW0ucHJlbG9hZGVyKSB7XG5cdFx0XHRcdFx0XHRpdGVtLnByZWxvYWRlciA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKGl0ZW0ubG9hZEVycm9yKSB7XG5cdFx0XHRcdFx0XHRpdGVtLmxvYWRlZCA9IGl0ZW0ubG9hZEVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdF9pbWFnZXNUb0FwcGVuZFBvb2wgPSBudWxsO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXG5cdFx0Z2V0SXRlbUF0OiBmdW5jdGlvbihpbmRleCkge1xuXHRcdFx0aWYgKGluZGV4ID49IDApIHtcblx0XHRcdFx0cmV0dXJuIF9pdGVtc1tpbmRleF0gIT09IHVuZGVmaW5lZCA/IF9pdGVtc1tpbmRleF0gOiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXG5cdFx0YWxsb3dQcm9ncmVzc2l2ZUltZzogZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyAxLiBQcm9ncmVzc2l2ZSBpbWFnZSBsb2FkaW5nIGlzbid0IHdvcmtpbmcgb24gd2Via2l0L2JsaW5rIFxuXHRcdFx0Ly8gICAgd2hlbiBody1hY2NlbGVyYXRpb24gKGUuZy4gdHJhbnNsYXRlWikgaXMgYXBwbGllZCB0byBJTUcgZWxlbWVudC5cblx0XHRcdC8vICAgIFRoYXQncyB3aHkgaW4gUGhvdG9Td2lwZSBwYXJlbnQgZWxlbWVudCBnZXRzIHpvb20gdHJhbnNmb3JtLCBub3QgaW1hZ2UgaXRzZWxmLlxuXHRcdFx0Ly8gICAgXG5cdFx0XHQvLyAyLiBQcm9ncmVzc2l2ZSBpbWFnZSBsb2FkaW5nIHNvbWV0aW1lcyBibGlua3MgaW4gd2Via2l0L2JsaW5rIHdoZW4gYXBwbHlpbmcgYW5pbWF0aW9uIHRvIHBhcmVudCBlbGVtZW50LlxuXHRcdFx0Ly8gICAgVGhhdCdzIHdoeSBpdCdzIGRpc2FibGVkIG9uIHRvdWNoIGRldmljZXMgKG1haW5seSBiZWNhdXNlIG9mIHN3aXBlIHRyYW5zaXRpb24pXG5cdFx0XHQvLyAgICBcblx0XHRcdC8vIDMuIFByb2dyZXNzaXZlIGltYWdlIGxvYWRpbmcgc29tZXRpbWVzIGRvZXNuJ3Qgd29yayBpbiBJRSAodXAgdG8gMTEpLlxuXG5cdFx0XHQvLyBEb24ndCBhbGxvdyBwcm9ncmVzc2l2ZSBsb2FkaW5nIG9uIG5vbi1sYXJnZSB0b3VjaCBkZXZpY2VzXG5cdFx0XHRyZXR1cm4gX29wdGlvbnMuZm9yY2VQcm9ncmVzc2l2ZUxvYWRpbmcgfHwgIV9saWtlbHlUb3VjaERldmljZSB8fCBfb3B0aW9ucy5tb3VzZVVzZWQgfHwgc2NyZWVuLndpZHRoID4gMTIwMDsgXG5cdFx0XHQvLyAxMjAwIC0gdG8gZWxpbWluYXRlIHRvdWNoIGRldmljZXMgd2l0aCBsYXJnZSBzY3JlZW4gKGxpa2UgQ2hyb21lYm9vayBQaXhlbClcblx0XHR9LFxuXG5cdFx0c2V0Q29udGVudDogZnVuY3Rpb24oaG9sZGVyLCBpbmRleCkge1xuXG5cdFx0XHRpZihfb3B0aW9ucy5sb29wKSB7XG5cdFx0XHRcdGluZGV4ID0gX2dldExvb3BlZElkKGluZGV4KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHByZXZJdGVtID0gc2VsZi5nZXRJdGVtQXQoaG9sZGVyLmluZGV4KTtcblx0XHRcdGlmKHByZXZJdGVtKSB7XG5cdFx0XHRcdHByZXZJdGVtLmNvbnRhaW5lciA9IG51bGw7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIGl0ZW0gPSBzZWxmLmdldEl0ZW1BdChpbmRleCksXG5cdFx0XHRcdGltZztcblx0XHRcdFxuXHRcdFx0aWYoIWl0ZW0pIHtcblx0XHRcdFx0aG9sZGVyLmVsLmlubmVySFRNTCA9ICcnO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIGFsbG93IHRvIG92ZXJyaWRlIGRhdGFcblx0XHRcdF9zaG91dCgnZ2V0dGluZ0RhdGEnLCBpbmRleCwgaXRlbSk7XG5cblx0XHRcdGhvbGRlci5pbmRleCA9IGluZGV4O1xuXHRcdFx0aG9sZGVyLml0ZW0gPSBpdGVtO1xuXG5cdFx0XHQvLyBiYXNlIGNvbnRhaW5lciBESVYgaXMgY3JlYXRlZCBvbmx5IG9uY2UgZm9yIGVhY2ggb2YgMyBob2xkZXJzXG5cdFx0XHR2YXIgYmFzZURpdiA9IGl0ZW0uY29udGFpbmVyID0gZnJhbWV3b3JrLmNyZWF0ZUVsKCdwc3dwX196b29tLXdyYXAnKTsgXG5cblx0XHRcdFxuXG5cdFx0XHRpZighaXRlbS5zcmMgJiYgaXRlbS5odG1sKSB7XG5cdFx0XHRcdGlmKGl0ZW0uaHRtbC50YWdOYW1lKSB7XG5cdFx0XHRcdFx0YmFzZURpdi5hcHBlbmRDaGlsZChpdGVtLmh0bWwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJhc2VEaXYuaW5uZXJIVE1MID0gaXRlbS5odG1sO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdF9jaGVja0ZvckVycm9yKGl0ZW0pO1xuXG5cdFx0XHRfY2FsY3VsYXRlSXRlbVNpemUoaXRlbSwgX3ZpZXdwb3J0U2l6ZSk7XG5cdFx0XHRcblx0XHRcdGlmKGl0ZW0uc3JjICYmICFpdGVtLmxvYWRFcnJvciAmJiAhaXRlbS5sb2FkZWQpIHtcblxuXHRcdFx0XHRpdGVtLmxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblxuXHRcdFx0XHRcdC8vIGdhbGxlcnkgY2xvc2VkIGJlZm9yZSBpbWFnZSBmaW5pc2hlZCBsb2FkaW5nXG5cdFx0XHRcdFx0aWYoIV9pc09wZW4pIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBjaGVjayBpZiBob2xkZXIgaGFzbid0IGNoYW5nZWQgd2hpbGUgaW1hZ2Ugd2FzIGxvYWRpbmdcblx0XHRcdFx0XHRpZihob2xkZXIgJiYgaG9sZGVyLmluZGV4ID09PSBpbmRleCApIHtcblx0XHRcdFx0XHRcdGlmKCBfY2hlY2tGb3JFcnJvcihpdGVtLCB0cnVlKSApIHtcblx0XHRcdFx0XHRcdFx0aXRlbS5sb2FkQ29tcGxldGUgPSBpdGVtLmltZyA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdF9jYWxjdWxhdGVJdGVtU2l6ZShpdGVtLCBfdmlld3BvcnRTaXplKTtcblx0XHRcdFx0XHRcdFx0X2FwcGx5Wm9vbVBhblRvSXRlbShpdGVtKTtcblxuXHRcdFx0XHRcdFx0XHRpZihob2xkZXIuaW5kZXggPT09IF9jdXJyZW50SXRlbUluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gcmVjYWxjdWxhdGUgZGltZW5zaW9uc1xuXHRcdFx0XHRcdFx0XHRcdHNlbGYudXBkYXRlQ3Vyclpvb21JdGVtKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoICFpdGVtLmltYWdlQXBwZW5kZWQgKSB7XG5cdFx0XHRcdFx0XHRcdGlmKF9mZWF0dXJlcy50cmFuc2Zvcm0gJiYgKF9tYWluU2Nyb2xsQW5pbWF0aW5nIHx8IF9pbml0aWFsWm9vbVJ1bm5pbmcpICkge1xuXHRcdFx0XHRcdFx0XHRcdF9pbWFnZXNUb0FwcGVuZFBvb2wucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRpdGVtOml0ZW0sXG5cdFx0XHRcdFx0XHRcdFx0XHRiYXNlRGl2OmJhc2VEaXYsXG5cdFx0XHRcdFx0XHRcdFx0XHRpbWc6aXRlbS5pbWcsXG5cdFx0XHRcdFx0XHRcdFx0XHRpbmRleDppbmRleCxcblx0XHRcdFx0XHRcdFx0XHRcdGhvbGRlcjpob2xkZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGVhclBsYWNlaG9sZGVyOnRydWVcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRfYXBwZW5kSW1hZ2UoaW5kZXgsIGl0ZW0sIGJhc2VEaXYsIGl0ZW0uaW1nLCBfbWFpblNjcm9sbEFuaW1hdGluZyB8fCBfaW5pdGlhbFpvb21SdW5uaW5nLCB0cnVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIHByZWxvYWRlciAmIG1pbmktaW1nXG5cdFx0XHRcdFx0XHRcdGlmKCFfaW5pdGlhbFpvb21SdW5uaW5nICYmIGl0ZW0ucGxhY2Vob2xkZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRpdGVtLnBsYWNlaG9sZGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdFx0XHRcdFx0aXRlbS5wbGFjZWhvbGRlciA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpdGVtLmxvYWRDb21wbGV0ZSA9IG51bGw7XG5cdFx0XHRcdFx0aXRlbS5pbWcgPSBudWxsOyAvLyBubyBuZWVkIHRvIHN0b3JlIGltYWdlIGVsZW1lbnQgYWZ0ZXIgaXQncyBhZGRlZFxuXG5cdFx0XHRcdFx0X3Nob3V0KCdpbWFnZUxvYWRDb21wbGV0ZScsIGluZGV4LCBpdGVtKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRpZihmcmFtZXdvcmsuZmVhdHVyZXMudHJhbnNmb3JtKSB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0dmFyIHBsYWNlaG9sZGVyQ2xhc3NOYW1lID0gJ3Bzd3BfX2ltZyBwc3dwX19pbWctLXBsYWNlaG9sZGVyJzsgXG5cdFx0XHRcdFx0cGxhY2Vob2xkZXJDbGFzc05hbWUgKz0gKGl0ZW0ubXNyYyA/ICcnIDogJyBwc3dwX19pbWctLXBsYWNlaG9sZGVyLS1ibGFuaycpO1xuXG5cdFx0XHRcdFx0dmFyIHBsYWNlaG9sZGVyID0gZnJhbWV3b3JrLmNyZWF0ZUVsKHBsYWNlaG9sZGVyQ2xhc3NOYW1lLCBpdGVtLm1zcmMgPyAnaW1nJyA6ICcnKTtcblx0XHRcdFx0XHRpZihpdGVtLm1zcmMpIHtcblx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyLnNyYyA9IGl0ZW0ubXNyYztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0X3NldEltYWdlU2l6ZShpdGVtLCBwbGFjZWhvbGRlcik7XG5cblx0XHRcdFx0XHRiYXNlRGl2LmFwcGVuZENoaWxkKHBsYWNlaG9sZGVyKTtcblx0XHRcdFx0XHRpdGVtLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG5cblx0XHRcdFx0fVxuXHRcdFx0XHRcblxuXHRcdFx0XHRcblxuXHRcdFx0XHRpZighaXRlbS5sb2FkaW5nKSB7XG5cdFx0XHRcdFx0X3ByZWxvYWRJbWFnZShpdGVtKTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0aWYoIHNlbGYuYWxsb3dQcm9ncmVzc2l2ZUltZygpICkge1xuXHRcdFx0XHRcdC8vIGp1c3QgYXBwZW5kIGltYWdlXG5cdFx0XHRcdFx0aWYoIV9pbml0aWFsQ29udGVudFNldCAmJiBfZmVhdHVyZXMudHJhbnNmb3JtKSB7XG5cdFx0XHRcdFx0XHRfaW1hZ2VzVG9BcHBlbmRQb29sLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRpdGVtOml0ZW0sIFxuXHRcdFx0XHRcdFx0XHRiYXNlRGl2OmJhc2VEaXYsIFxuXHRcdFx0XHRcdFx0XHRpbWc6aXRlbS5pbWcsIFxuXHRcdFx0XHRcdFx0XHRpbmRleDppbmRleCwgXG5cdFx0XHRcdFx0XHRcdGhvbGRlcjpob2xkZXJcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRfYXBwZW5kSW1hZ2UoaW5kZXgsIGl0ZW0sIGJhc2VEaXYsIGl0ZW0uaW1nLCB0cnVlLCB0cnVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9IGVsc2UgaWYoaXRlbS5zcmMgJiYgIWl0ZW0ubG9hZEVycm9yKSB7XG5cdFx0XHRcdC8vIGltYWdlIG9iamVjdCBpcyBjcmVhdGVkIGV2ZXJ5IHRpbWUsIGR1ZSB0byBidWdzIG9mIGltYWdlIGxvYWRpbmcgJiBkZWxheSB3aGVuIHN3aXRjaGluZyBpbWFnZXNcblx0XHRcdFx0aW1nID0gZnJhbWV3b3JrLmNyZWF0ZUVsKCdwc3dwX19pbWcnLCAnaW1nJyk7XG5cdFx0XHRcdGltZy5zdHlsZS5vcGFjaXR5ID0gMTtcblx0XHRcdFx0aW1nLnNyYyA9IGl0ZW0uc3JjO1xuXHRcdFx0XHRfc2V0SW1hZ2VTaXplKGl0ZW0sIGltZyk7XG5cdFx0XHRcdF9hcHBlbmRJbWFnZShpbmRleCwgaXRlbSwgYmFzZURpdiwgaW1nLCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdFxuXG5cdFx0XHRpZighX2luaXRpYWxDb250ZW50U2V0ICYmIGluZGV4ID09PSBfY3VycmVudEl0ZW1JbmRleCkge1xuXHRcdFx0XHRfY3Vyclpvb21FbGVtZW50U3R5bGUgPSBiYXNlRGl2LnN0eWxlO1xuXHRcdFx0XHRfc2hvd09ySGlkZShpdGVtLCAoaW1nIHx8aXRlbS5pbWcpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRfYXBwbHlab29tUGFuVG9JdGVtKGl0ZW0pO1xuXHRcdFx0fVxuXG5cdFx0XHRob2xkZXIuZWwuaW5uZXJIVE1MID0gJyc7XG5cdFx0XHRob2xkZXIuZWwuYXBwZW5kQ2hpbGQoYmFzZURpdik7XG5cdFx0fSxcblxuXHRcdGNsZWFuU2xpZGU6IGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdFx0aWYoaXRlbS5pbWcgKSB7XG5cdFx0XHRcdGl0ZW0uaW1nLm9ubG9hZCA9IGl0ZW0uaW1nLm9uZXJyb3IgPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0aXRlbS5sb2FkZWQgPSBpdGVtLmxvYWRpbmcgPSBpdGVtLmltZyA9IGl0ZW0uaW1hZ2VBcHBlbmRlZCA9IGZhbHNlO1xuXHRcdH1cblxuXHR9XG59KTtcblxuLyo+Pml0ZW1zLWNvbnRyb2xsZXIqL1xuXG4vKj4+dGFwKi9cbi8qKlxuICogdGFwLmpzOlxuICpcbiAqIERpc3BsYXRjaGVzIHRhcCBhbmQgZG91YmxlLXRhcCBldmVudHMuXG4gKiBcbiAqL1xuXG52YXIgdGFwVGltZXIsXG5cdHRhcFJlbGVhc2VQb2ludCA9IHt9LFxuXHRfZGlzcGF0Y2hUYXBFdmVudCA9IGZ1bmN0aW9uKG9yaWdFdmVudCwgcmVsZWFzZVBvaW50LCBwb2ludGVyVHlwZSkge1x0XHRcblx0XHR2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCAnQ3VzdG9tRXZlbnQnICksXG5cdFx0XHRlRGV0YWlsID0ge1xuXHRcdFx0XHRvcmlnRXZlbnQ6b3JpZ0V2ZW50LCBcblx0XHRcdFx0dGFyZ2V0Om9yaWdFdmVudC50YXJnZXQsIFxuXHRcdFx0XHRyZWxlYXNlUG9pbnQ6IHJlbGVhc2VQb2ludCwgXG5cdFx0XHRcdHBvaW50ZXJUeXBlOnBvaW50ZXJUeXBlIHx8ICd0b3VjaCdcblx0XHRcdH07XG5cblx0XHRlLmluaXRDdXN0b21FdmVudCggJ3Bzd3BUYXAnLCB0cnVlLCB0cnVlLCBlRGV0YWlsICk7XG5cdFx0b3JpZ0V2ZW50LnRhcmdldC5kaXNwYXRjaEV2ZW50KGUpO1xuXHR9O1xuXG5fcmVnaXN0ZXJNb2R1bGUoJ1RhcCcsIHtcblx0cHVibGljTWV0aG9kczoge1xuXHRcdGluaXRUYXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0X2xpc3RlbignZmlyc3RUb3VjaFN0YXJ0Jywgc2VsZi5vblRhcFN0YXJ0KTtcblx0XHRcdF9saXN0ZW4oJ3RvdWNoUmVsZWFzZScsIHNlbGYub25UYXBSZWxlYXNlKTtcblx0XHRcdF9saXN0ZW4oJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGFwUmVsZWFzZVBvaW50ID0ge307XG5cdFx0XHRcdHRhcFRpbWVyID0gbnVsbDtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0b25UYXBTdGFydDogZnVuY3Rpb24odG91Y2hMaXN0KSB7XG5cdFx0XHRpZih0b3VjaExpc3QubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGFwVGltZXIpO1xuXHRcdFx0XHR0YXBUaW1lciA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRvblRhcFJlbGVhc2U6IGZ1bmN0aW9uKGUsIHJlbGVhc2VQb2ludCkge1xuXHRcdFx0aWYoIXJlbGVhc2VQb2ludCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmKCFfbW92ZWQgJiYgIV9pc011bHRpdG91Y2ggJiYgIV9udW1BbmltYXRpb25zKSB7XG5cdFx0XHRcdHZhciBwMCA9IHJlbGVhc2VQb2ludDtcblx0XHRcdFx0aWYodGFwVGltZXIpIHtcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGFwVGltZXIpO1xuXHRcdFx0XHRcdHRhcFRpbWVyID0gbnVsbDtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGlmIHRhcGVkIG9uIHRoZSBzYW1lIHBsYWNlXG5cdFx0XHRcdFx0aWYgKCBfaXNOZWFyYnlQb2ludHMocDAsIHRhcFJlbGVhc2VQb2ludCkgKSB7XG5cdFx0XHRcdFx0XHRfc2hvdXQoJ2RvdWJsZVRhcCcsIHAwKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihyZWxlYXNlUG9pbnQudHlwZSA9PT0gJ21vdXNlJykge1xuXHRcdFx0XHRcdF9kaXNwYXRjaFRhcEV2ZW50KGUsIHJlbGVhc2VQb2ludCwgJ21vdXNlJyk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGNsaWNrZWRUYWdOYW1lID0gZS50YXJnZXQudGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuXHRcdFx0XHQvLyBhdm9pZCBkb3VibGUgdGFwIGRlbGF5IG9uIGJ1dHRvbnMgYW5kIGVsZW1lbnRzIHRoYXQgaGF2ZSBjbGFzcyBwc3dwX19zaW5nbGUtdGFwXG5cdFx0XHRcdGlmKGNsaWNrZWRUYWdOYW1lID09PSAnQlVUVE9OJyB8fCBmcmFtZXdvcmsuaGFzQ2xhc3MoZS50YXJnZXQsICdwc3dwX19zaW5nbGUtdGFwJykgKSB7XG5cdFx0XHRcdFx0X2Rpc3BhdGNoVGFwRXZlbnQoZSwgcmVsZWFzZVBvaW50KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfZXF1YWxpemVQb2ludHModGFwUmVsZWFzZVBvaW50LCBwMCk7XG5cblx0XHRcdFx0dGFwVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdF9kaXNwYXRjaFRhcEV2ZW50KGUsIHJlbGVhc2VQb2ludCk7XG5cdFx0XHRcdFx0dGFwVGltZXIgPSBudWxsO1xuXHRcdFx0XHR9LCAzMDApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cbi8qPj50YXAqL1xuXG4vKj4+ZGVza3RvcC16b29tKi9cbi8qKlxuICpcbiAqIGRlc2t0b3Atem9vbS5qczpcbiAqXG4gKiAtIEJpbmRzIG1vdXNld2hlZWwgZXZlbnQgZm9yIHBhbmluZyB6b29tZWQgaW1hZ2UuXG4gKiAtIE1hbmFnZXMgXCJkcmFnZ2luZ1wiLCBcInpvb21lZC1pblwiLCBcInpvb20tb3V0XCIgY2xhc3Nlcy5cbiAqICAgKHdoaWNoIGFyZSB1c2VkIGZvciBjdXJzb3JzIGFuZCB6b29tIGljb24pXG4gKiAtIEFkZHMgdG9nZ2xlRGVza3RvcFpvb20gZnVuY3Rpb24uXG4gKiBcbiAqL1xuXG52YXIgX3doZWVsRGVsdGE7XG5cdFxuX3JlZ2lzdGVyTW9kdWxlKCdEZXNrdG9wWm9vbScsIHtcblxuXHRwdWJsaWNNZXRob2RzOiB7XG5cblx0XHRpbml0RGVza3RvcFpvb206IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRpZihfb2xkSUUpIHtcblx0XHRcdFx0Ly8gbm8gem9vbSBmb3Igb2xkIElFICg8PTgpXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYoX2xpa2VseVRvdWNoRGV2aWNlKSB7XG5cdFx0XHRcdC8vIGlmIGRldGVjdGVkIGhhcmR3YXJlIHRvdWNoIHN1cHBvcnQsIHdlIHdhaXQgdW50aWwgbW91c2UgaXMgdXNlZCxcblx0XHRcdFx0Ly8gYW5kIG9ubHkgdGhlbiBhcHBseSBkZXNrdG9wLXpvb20gZmVhdHVyZXNcblx0XHRcdFx0X2xpc3RlbignbW91c2VVc2VkJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5zZXR1cERlc2t0b3Bab29tKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5zZXR1cERlc2t0b3Bab29tKHRydWUpO1xuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdHNldHVwRGVza3RvcFpvb206IGZ1bmN0aW9uKG9uSW5pdCkge1xuXG5cdFx0XHRfd2hlZWxEZWx0YSA9IHt9O1xuXG5cdFx0XHR2YXIgZXZlbnRzID0gJ3doZWVsIG1vdXNld2hlZWwgRE9NTW91c2VTY3JvbGwnO1xuXHRcdFx0XG5cdFx0XHRfbGlzdGVuKCdiaW5kRXZlbnRzJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZyYW1ld29yay5iaW5kKHRlbXBsYXRlLCBldmVudHMsICBzZWxmLmhhbmRsZU1vdXNlV2hlZWwpO1xuXHRcdFx0fSk7XG5cblx0XHRcdF9saXN0ZW4oJ3VuYmluZEV2ZW50cycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZihfd2hlZWxEZWx0YSkge1xuXHRcdFx0XHRcdGZyYW1ld29yay51bmJpbmQodGVtcGxhdGUsIGV2ZW50cywgc2VsZi5oYW5kbGVNb3VzZVdoZWVsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHNlbGYubW91c2Vab29tZWRJbiA9IGZhbHNlO1xuXG5cdFx0XHR2YXIgaGFzRHJhZ2dpbmdDbGFzcyxcblx0XHRcdFx0dXBkYXRlWm9vbWFibGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZihzZWxmLm1vdXNlWm9vbWVkSW4pIHtcblx0XHRcdFx0XHRcdGZyYW1ld29yay5yZW1vdmVDbGFzcyh0ZW1wbGF0ZSwgJ3Bzd3AtLXpvb21lZC1pbicpO1xuXHRcdFx0XHRcdFx0c2VsZi5tb3VzZVpvb21lZEluID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKF9jdXJyWm9vbUxldmVsIDwgMSkge1xuXHRcdFx0XHRcdFx0ZnJhbWV3b3JrLmFkZENsYXNzKHRlbXBsYXRlLCAncHN3cC0tem9vbS1hbGxvd2VkJyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZyYW1ld29yay5yZW1vdmVDbGFzcyh0ZW1wbGF0ZSwgJ3Bzd3AtLXpvb20tYWxsb3dlZCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZW1vdmVEcmFnZ2luZ0NsYXNzKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlbW92ZURyYWdnaW5nQ2xhc3MgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZihoYXNEcmFnZ2luZ0NsYXNzKSB7XG5cdFx0XHRcdFx0XHRmcmFtZXdvcmsucmVtb3ZlQ2xhc3ModGVtcGxhdGUsICdwc3dwLS1kcmFnZ2luZycpO1xuXHRcdFx0XHRcdFx0aGFzRHJhZ2dpbmdDbGFzcyA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0X2xpc3RlbigncmVzaXplJyAsIHVwZGF0ZVpvb21hYmxlKTtcblx0XHRcdF9saXN0ZW4oJ2FmdGVyQ2hhbmdlJyAsIHVwZGF0ZVpvb21hYmxlKTtcblx0XHRcdF9saXN0ZW4oJ3BvaW50ZXJEb3duJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKHNlbGYubW91c2Vab29tZWRJbikge1xuXHRcdFx0XHRcdGhhc0RyYWdnaW5nQ2xhc3MgPSB0cnVlO1xuXHRcdFx0XHRcdGZyYW1ld29yay5hZGRDbGFzcyh0ZW1wbGF0ZSwgJ3Bzd3AtLWRyYWdnaW5nJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0X2xpc3RlbigncG9pbnRlclVwJywgcmVtb3ZlRHJhZ2dpbmdDbGFzcyk7XG5cblx0XHRcdGlmKCFvbkluaXQpIHtcblx0XHRcdFx0dXBkYXRlWm9vbWFibGUoKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdH0sXG5cblx0XHRoYW5kbGVNb3VzZVdoZWVsOiBmdW5jdGlvbihlKSB7XG5cblx0XHRcdGlmKF9jdXJyWm9vbUxldmVsIDw9IHNlbGYuY3Vyckl0ZW0uZml0UmF0aW8pIHtcblx0XHRcdFx0aWYoIF9vcHRpb25zLm1vZGFsICkge1xuXG5cdFx0XHRcdFx0aWYgKCFfb3B0aW9ucy5jbG9zZU9uU2Nyb2xsIHx8IF9udW1BbmltYXRpb25zIHx8IF9pc0RyYWdnaW5nKSB7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmKF90cmFuc2Zvcm1LZXkgJiYgTWF0aC5hYnMoZS5kZWx0YVkpID4gMikge1xuXHRcdFx0XHRcdFx0Ly8gY2xvc2UgUGhvdG9Td2lwZVxuXHRcdFx0XHRcdFx0Ly8gaWYgYnJvd3NlciBzdXBwb3J0cyB0cmFuc2Zvcm1zICYgc2Nyb2xsIGNoYW5nZWQgZW5vdWdoXG5cdFx0XHRcdFx0XHRfY2xvc2VkQnlTY3JvbGwgPSB0cnVlO1xuXHRcdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBhbGxvdyBqdXN0IG9uZSBldmVudCB0byBmaXJlXG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvd2hlZWxcblx0XHRcdF93aGVlbERlbHRhLnggPSAwO1xuXG5cdFx0XHRpZignZGVsdGFYJyBpbiBlKSB7XG5cdFx0XHRcdGlmKGUuZGVsdGFNb2RlID09PSAxIC8qIERPTV9ERUxUQV9MSU5FICovKSB7XG5cdFx0XHRcdFx0Ly8gMTggLSBhdmVyYWdlIGxpbmUgaGVpZ2h0XG5cdFx0XHRcdFx0X3doZWVsRGVsdGEueCA9IGUuZGVsdGFYICogMTg7XG5cdFx0XHRcdFx0X3doZWVsRGVsdGEueSA9IGUuZGVsdGFZICogMTg7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0X3doZWVsRGVsdGEueCA9IGUuZGVsdGFYO1xuXHRcdFx0XHRcdF93aGVlbERlbHRhLnkgPSBlLmRlbHRhWTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmKCd3aGVlbERlbHRhJyBpbiBlKSB7XG5cdFx0XHRcdGlmKGUud2hlZWxEZWx0YVgpIHtcblx0XHRcdFx0XHRfd2hlZWxEZWx0YS54ID0gLTAuMTYgKiBlLndoZWVsRGVsdGFYO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGUud2hlZWxEZWx0YVkpIHtcblx0XHRcdFx0XHRfd2hlZWxEZWx0YS55ID0gLTAuMTYgKiBlLndoZWVsRGVsdGFZO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdF93aGVlbERlbHRhLnkgPSAtMC4xNiAqIGUud2hlZWxEZWx0YTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmKCdkZXRhaWwnIGluIGUpIHtcblx0XHRcdFx0X3doZWVsRGVsdGEueSA9IGUuZGV0YWlsO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRfY2FsY3VsYXRlUGFuQm91bmRzKF9jdXJyWm9vbUxldmVsLCB0cnVlKTtcblxuXHRcdFx0dmFyIG5ld1BhblggPSBfcGFuT2Zmc2V0LnggLSBfd2hlZWxEZWx0YS54LFxuXHRcdFx0XHRuZXdQYW5ZID0gX3Bhbk9mZnNldC55IC0gX3doZWVsRGVsdGEueTtcblxuXHRcdFx0Ly8gb25seSBwcmV2ZW50IHNjcm9sbGluZyBpbiBub25tb2RhbCBtb2RlIHdoZW4gbm90IGF0IGVkZ2VzXG5cdFx0XHRpZiAoX29wdGlvbnMubW9kYWwgfHxcblx0XHRcdFx0KFxuXHRcdFx0XHRuZXdQYW5YIDw9IF9jdXJyUGFuQm91bmRzLm1pbi54ICYmIG5ld1BhblggPj0gX2N1cnJQYW5Cb3VuZHMubWF4LnggJiZcblx0XHRcdFx0bmV3UGFuWSA8PSBfY3VyclBhbkJvdW5kcy5taW4ueSAmJiBuZXdQYW5ZID49IF9jdXJyUGFuQm91bmRzLm1heC55XG5cdFx0XHRcdCkgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVE9ETzogdXNlIHJBRiBpbnN0ZWFkIG9mIG1vdXNld2hlZWw/XG5cdFx0XHRzZWxmLnBhblRvKG5ld1BhblgsIG5ld1BhblkpO1xuXHRcdH0sXG5cblx0XHR0b2dnbGVEZXNrdG9wWm9vbTogZnVuY3Rpb24oY2VudGVyUG9pbnQpIHtcblx0XHRcdGNlbnRlclBvaW50ID0gY2VudGVyUG9pbnQgfHwge3g6X3ZpZXdwb3J0U2l6ZS54LzIgKyBfb2Zmc2V0LngsIHk6X3ZpZXdwb3J0U2l6ZS55LzIgKyBfb2Zmc2V0LnkgfTtcblxuXHRcdFx0dmFyIGRvdWJsZVRhcFpvb21MZXZlbCA9IF9vcHRpb25zLmdldERvdWJsZVRhcFpvb20odHJ1ZSwgc2VsZi5jdXJySXRlbSk7XG5cdFx0XHR2YXIgem9vbU91dCA9IF9jdXJyWm9vbUxldmVsID09PSBkb3VibGVUYXBab29tTGV2ZWw7XG5cdFx0XHRcblx0XHRcdHNlbGYubW91c2Vab29tZWRJbiA9ICF6b29tT3V0O1xuXG5cdFx0XHRzZWxmLnpvb21Ubyh6b29tT3V0ID8gc2VsZi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsIDogZG91YmxlVGFwWm9vbUxldmVsLCBjZW50ZXJQb2ludCwgMzMzKTtcblx0XHRcdGZyYW1ld29ya1sgKCF6b29tT3V0ID8gJ2FkZCcgOiAncmVtb3ZlJykgKyAnQ2xhc3MnXSh0ZW1wbGF0ZSwgJ3Bzd3AtLXpvb21lZC1pbicpO1xuXHRcdH1cblxuXHR9XG59KTtcblxuXG4vKj4+ZGVza3RvcC16b29tKi9cblxuLyo+Pmhpc3RvcnkqL1xuLyoqXG4gKlxuICogaGlzdG9yeS5qczpcbiAqXG4gKiAtIEJhY2sgYnV0dG9uIHRvIGNsb3NlIGdhbGxlcnkuXG4gKiBcbiAqIC0gVW5pcXVlIFVSTCBmb3IgZWFjaCBzbGlkZTogZXhhbXBsZS5jb20vJnBpZD0xJmdpZD0zXG4gKiAgICh3aGVyZSBQSUQgaXMgcGljdHVyZSBpbmRleCwgYW5kIEdJRCBhbmQgZ2FsbGVyeSBpbmRleClcbiAqICAgXG4gKiAtIFN3aXRjaCBVUkwgd2hlbiBzbGlkZXMgY2hhbmdlLlxuICogXG4gKi9cblxuXG52YXIgX2hpc3RvcnlEZWZhdWx0T3B0aW9ucyA9IHtcblx0aGlzdG9yeTogdHJ1ZSxcblx0Z2FsbGVyeVVJRDogMVxufTtcblxudmFyIF9oaXN0b3J5VXBkYXRlVGltZW91dCxcblx0X2hhc2hDaGFuZ2VUaW1lb3V0LFxuXHRfaGFzaEFuaW1DaGVja1RpbWVvdXQsXG5cdF9oYXNoQ2hhbmdlZEJ5U2NyaXB0LFxuXHRfaGFzaENoYW5nZWRCeUhpc3RvcnksXG5cdF9oYXNoUmVzZXRlZCxcblx0X2luaXRpYWxIYXNoLFxuXHRfaGlzdG9yeUNoYW5nZWQsXG5cdF9jbG9zZWRGcm9tVVJMLFxuXHRfdXJsQ2hhbmdlZE9uY2UsXG5cdF93aW5kb3dMb2MsXG5cblx0X3N1cHBvcnRzUHVzaFN0YXRlLFxuXG5cdF9nZXRIYXNoID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIF93aW5kb3dMb2MuaGFzaC5zdWJzdHJpbmcoMSk7XG5cdH0sXG5cdF9jbGVhbkhpc3RvcnlUaW1lb3V0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYoX2hpc3RvcnlVcGRhdGVUaW1lb3V0KSB7XG5cdFx0XHRjbGVhclRpbWVvdXQoX2hpc3RvcnlVcGRhdGVUaW1lb3V0KTtcblx0XHR9XG5cblx0XHRpZihfaGFzaEFuaW1DaGVja1RpbWVvdXQpIHtcblx0XHRcdGNsZWFyVGltZW91dChfaGFzaEFuaW1DaGVja1RpbWVvdXQpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBwaWQgLSBQaWN0dXJlIGluZGV4XG5cdC8vIGdpZCAtIEdhbGxlcnkgaW5kZXhcblx0X3BhcnNlSXRlbUluZGV4RnJvbVVSTCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBoYXNoID0gX2dldEhhc2goKSxcblx0XHRcdHBhcmFtcyA9IHt9O1xuXG5cdFx0aWYoaGFzaC5sZW5ndGggPCA1KSB7IC8vIHBpZD0xXG5cdFx0XHRyZXR1cm4gcGFyYW1zO1xuXHRcdH1cblxuXHRcdHZhciBpLCB2YXJzID0gaGFzaC5zcGxpdCgnJicpO1xuXHRcdGZvciAoaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZighdmFyc1tpXSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHZhciBwYWlyID0gdmFyc1tpXS5zcGxpdCgnPScpO1x0XG5cdFx0XHRpZihwYWlyLmxlbmd0aCA8IDIpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRwYXJhbXNbcGFpclswXV0gPSBwYWlyWzFdO1xuXHRcdH1cblx0XHRpZihfb3B0aW9ucy5nYWxsZXJ5UElEcykge1xuXHRcdFx0Ly8gZGV0ZWN0IGN1c3RvbSBwaWQgaW4gaGFzaCBhbmQgc2VhcmNoIGZvciBpdCBhbW9uZyB0aGUgaXRlbXMgY29sbGVjdGlvblxuXHRcdFx0dmFyIHNlYXJjaGZvciA9IHBhcmFtcy5waWQ7XG5cdFx0XHRwYXJhbXMucGlkID0gMDsgLy8gaWYgY3VzdG9tIHBpZCBjYW5ub3QgYmUgZm91bmQsIGZhbGxiYWNrIHRvIHRoZSBmaXJzdCBpdGVtXG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBfaXRlbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYoX2l0ZW1zW2ldLnBpZCA9PT0gc2VhcmNoZm9yKSB7XG5cdFx0XHRcdFx0cGFyYW1zLnBpZCA9IGk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cGFyYW1zLnBpZCA9IHBhcnNlSW50KHBhcmFtcy5waWQsMTApLTE7XG5cdFx0fVxuXHRcdGlmKCBwYXJhbXMucGlkIDwgMCApIHtcblx0XHRcdHBhcmFtcy5waWQgPSAwO1xuXHRcdH1cblx0XHRyZXR1cm4gcGFyYW1zO1xuXHR9LFxuXHRfdXBkYXRlSGFzaCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYoX2hhc2hBbmltQ2hlY2tUaW1lb3V0KSB7XG5cdFx0XHRjbGVhclRpbWVvdXQoX2hhc2hBbmltQ2hlY2tUaW1lb3V0KTtcblx0XHR9XG5cblxuXHRcdGlmKF9udW1BbmltYXRpb25zIHx8IF9pc0RyYWdnaW5nKSB7XG5cdFx0XHQvLyBjaGFuZ2luZyBicm93c2VyIFVSTCBmb3JjZXMgbGF5b3V0L3BhaW50IGluIHNvbWUgYnJvd3NlcnMsIHdoaWNoIGNhdXNlcyBub3RpY2FibGUgbGFnIGR1cmluZyBhbmltYXRpb25cblx0XHRcdC8vIHRoYXQncyB3aHkgd2UgdXBkYXRlIGhhc2ggb25seSB3aGVuIG5vIGFuaW1hdGlvbnMgcnVubmluZ1xuXHRcdFx0X2hhc2hBbmltQ2hlY2tUaW1lb3V0ID0gc2V0VGltZW91dChfdXBkYXRlSGFzaCwgNTAwKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0aWYoX2hhc2hDaGFuZ2VkQnlTY3JpcHQpIHtcblx0XHRcdGNsZWFyVGltZW91dChfaGFzaENoYW5nZVRpbWVvdXQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRfaGFzaENoYW5nZWRCeVNjcmlwdCA9IHRydWU7XG5cdFx0fVxuXG5cblx0XHR2YXIgcGlkID0gKF9jdXJyZW50SXRlbUluZGV4ICsgMSk7XG5cdFx0dmFyIGl0ZW0gPSBfZ2V0SXRlbUF0KCBfY3VycmVudEl0ZW1JbmRleCApO1xuXHRcdGlmKGl0ZW0uaGFzT3duUHJvcGVydHkoJ3BpZCcpKSB7XG5cdFx0XHQvLyBjYXJyeSBmb3J3YXJkIGFueSBjdXN0b20gcGlkIGFzc2lnbmVkIHRvIHRoZSBpdGVtXG5cdFx0XHRwaWQgPSBpdGVtLnBpZDtcblx0XHR9XG5cdFx0dmFyIG5ld0hhc2ggPSBfaW5pdGlhbEhhc2ggKyAnJicgICsgICdnaWQ9JyArIF9vcHRpb25zLmdhbGxlcnlVSUQgKyAnJicgKyAncGlkPScgKyBwaWQ7XG5cblx0XHRpZighX2hpc3RvcnlDaGFuZ2VkKSB7XG5cdFx0XHRpZihfd2luZG93TG9jLmhhc2guaW5kZXhPZihuZXdIYXNoKSA9PT0gLTEpIHtcblx0XHRcdFx0X3VybENoYW5nZWRPbmNlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdC8vIGZpcnN0IHRpbWUgLSBhZGQgbmV3IGhpc29yeSByZWNvcmQsIHRoZW4ganVzdCByZXBsYWNlXG5cdFx0fVxuXG5cdFx0dmFyIG5ld1VSTCA9IF93aW5kb3dMb2MuaHJlZi5zcGxpdCgnIycpWzBdICsgJyMnICsgIG5ld0hhc2g7XG5cblx0XHRpZiggX3N1cHBvcnRzUHVzaFN0YXRlICkge1xuXG5cdFx0XHRpZignIycgKyBuZXdIYXNoICE9PSB3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuXHRcdFx0XHRoaXN0b3J5W19oaXN0b3J5Q2hhbmdlZCA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKCcnLCBkb2N1bWVudC50aXRsZSwgbmV3VVJMKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZihfaGlzdG9yeUNoYW5nZWQpIHtcblx0XHRcdFx0X3dpbmRvd0xvYy5yZXBsYWNlKCBuZXdVUkwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdF93aW5kb3dMb2MuaGFzaCA9IG5ld0hhc2g7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdFxuXG5cdFx0X2hpc3RvcnlDaGFuZ2VkID0gdHJ1ZTtcblx0XHRfaGFzaENoYW5nZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0X2hhc2hDaGFuZ2VkQnlTY3JpcHQgPSBmYWxzZTtcblx0XHR9LCA2MCk7XG5cdH07XG5cblxuXG5cdFxuXG5fcmVnaXN0ZXJNb2R1bGUoJ0hpc3RvcnknLCB7XG5cblx0XG5cblx0cHVibGljTWV0aG9kczoge1xuXHRcdGluaXRIaXN0b3J5OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0ZnJhbWV3b3JrLmV4dGVuZChfb3B0aW9ucywgX2hpc3RvcnlEZWZhdWx0T3B0aW9ucywgdHJ1ZSk7XG5cblx0XHRcdGlmKCAhX29wdGlvbnMuaGlzdG9yeSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cblx0XHRcdF93aW5kb3dMb2MgPSB3aW5kb3cubG9jYXRpb247XG5cdFx0XHRfdXJsQ2hhbmdlZE9uY2UgPSBmYWxzZTtcblx0XHRcdF9jbG9zZWRGcm9tVVJMID0gZmFsc2U7XG5cdFx0XHRfaGlzdG9yeUNoYW5nZWQgPSBmYWxzZTtcblx0XHRcdF9pbml0aWFsSGFzaCA9IF9nZXRIYXNoKCk7XG5cdFx0XHRfc3VwcG9ydHNQdXNoU3RhdGUgPSAoJ3B1c2hTdGF0ZScgaW4gaGlzdG9yeSk7XG5cblxuXHRcdFx0aWYoX2luaXRpYWxIYXNoLmluZGV4T2YoJ2dpZD0nKSA+IC0xKSB7XG5cdFx0XHRcdF9pbml0aWFsSGFzaCA9IF9pbml0aWFsSGFzaC5zcGxpdCgnJmdpZD0nKVswXTtcblx0XHRcdFx0X2luaXRpYWxIYXNoID0gX2luaXRpYWxIYXNoLnNwbGl0KCc/Z2lkPScpWzBdO1xuXHRcdFx0fVxuXHRcdFx0XG5cblx0XHRcdF9saXN0ZW4oJ2FmdGVyQ2hhbmdlJywgc2VsZi51cGRhdGVVUkwpO1xuXHRcdFx0X2xpc3RlbigndW5iaW5kRXZlbnRzJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZyYW1ld29yay51bmJpbmQod2luZG93LCAnaGFzaGNoYW5nZScsIHNlbGYub25IYXNoQ2hhbmdlKTtcblx0XHRcdH0pO1xuXG5cblx0XHRcdHZhciByZXR1cm5Ub09yaWdpbmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdF9oYXNoUmVzZXRlZCA9IHRydWU7XG5cdFx0XHRcdGlmKCFfY2xvc2VkRnJvbVVSTCkge1xuXG5cdFx0XHRcdFx0aWYoX3VybENoYW5nZWRPbmNlKSB7XG5cdFx0XHRcdFx0XHRoaXN0b3J5LmJhY2soKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRpZihfaW5pdGlhbEhhc2gpIHtcblx0XHRcdFx0XHRcdFx0X3dpbmRvd0xvYy5oYXNoID0gX2luaXRpYWxIYXNoO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aWYgKF9zdXBwb3J0c1B1c2hTdGF0ZSkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIGhhc2ggZnJvbSB1cmwgd2l0aG91dCByZWZyZXNoaW5nIGl0IG9yIHNjcm9sbGluZyB0byB0b3Bcblx0XHRcdFx0XHRcdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZSgnJywgZG9jdW1lbnQudGl0bGUsICBfd2luZG93TG9jLnBhdGhuYW1lICsgX3dpbmRvd0xvYy5zZWFyY2ggKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRfd2luZG93TG9jLmhhc2ggPSAnJztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9jbGVhbkhpc3RvcnlUaW1lb3V0cygpO1xuXHRcdFx0fTtcblxuXG5cdFx0XHRfbGlzdGVuKCd1bmJpbmRFdmVudHMnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYoX2Nsb3NlZEJ5U2Nyb2xsKSB7XG5cdFx0XHRcdFx0Ly8gaWYgUGhvdG9Td2lwZSBpcyBjbG9zZWQgYnkgc2Nyb2xsLCB3ZSBnbyBcImJhY2tcIiBiZWZvcmUgdGhlIGNsb3NpbmcgYW5pbWF0aW9uIHN0YXJ0c1xuXHRcdFx0XHRcdC8vIHRoaXMgaXMgZG9uZSB0byBrZWVwIHRoZSBzY3JvbGwgcG9zaXRpb25cblx0XHRcdFx0XHRyZXR1cm5Ub09yaWdpbmFsKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0X2xpc3RlbignZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZighX2hhc2hSZXNldGVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuVG9PcmlnaW5hbCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdF9saXN0ZW4oJ2ZpcnN0VXBkYXRlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdF9jdXJyZW50SXRlbUluZGV4ID0gX3BhcnNlSXRlbUluZGV4RnJvbVVSTCgpLnBpZDtcblx0XHRcdH0pO1xuXG5cdFx0XHRcblxuXHRcdFx0XG5cdFx0XHR2YXIgaW5kZXggPSBfaW5pdGlhbEhhc2guaW5kZXhPZigncGlkPScpO1xuXHRcdFx0aWYoaW5kZXggPiAtMSkge1xuXHRcdFx0XHRfaW5pdGlhbEhhc2ggPSBfaW5pdGlhbEhhc2guc3Vic3RyaW5nKDAsIGluZGV4KTtcblx0XHRcdFx0aWYoX2luaXRpYWxIYXNoLnNsaWNlKC0xKSA9PT0gJyYnKSB7XG5cdFx0XHRcdFx0X2luaXRpYWxIYXNoID0gX2luaXRpYWxIYXNoLnNsaWNlKDAsIC0xKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKF9pc09wZW4pIHsgLy8gaGFzbid0IGRlc3Ryb3llZCB5ZXRcblx0XHRcdFx0XHRmcmFtZXdvcmsuYmluZCh3aW5kb3csICdoYXNoY2hhbmdlJywgc2VsZi5vbkhhc2hDaGFuZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCA0MCk7XG5cdFx0XHRcblx0XHR9LFxuXHRcdG9uSGFzaENoYW5nZTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdGlmKF9nZXRIYXNoKCkgPT09IF9pbml0aWFsSGFzaCkge1xuXG5cdFx0XHRcdF9jbG9zZWRGcm9tVVJMID0gdHJ1ZTtcblx0XHRcdFx0c2VsZi5jbG9zZSgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZighX2hhc2hDaGFuZ2VkQnlTY3JpcHQpIHtcblxuXHRcdFx0XHRfaGFzaENoYW5nZWRCeUhpc3RvcnkgPSB0cnVlO1xuXHRcdFx0XHRzZWxmLmdvVG8oIF9wYXJzZUl0ZW1JbmRleEZyb21VUkwoKS5waWQgKTtcblx0XHRcdFx0X2hhc2hDaGFuZ2VkQnlIaXN0b3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9LFxuXHRcdHVwZGF0ZVVSTDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIERlbGF5IHRoZSB1cGRhdGUgb2YgVVJMLCB0byBhdm9pZCBsYWcgZHVyaW5nIHRyYW5zaXRpb24sIFxuXHRcdFx0Ly8gYW5kIHRvIG5vdCB0byB0cmlnZ2VyIGFjdGlvbnMgbGlrZSBcInJlZnJlc2ggcGFnZSBzb3VuZFwiIG9yIFwiYmxpbmtpbmcgZmF2aWNvblwiIHRvIG9mdGVuXG5cdFx0XHRcblx0XHRcdF9jbGVhbkhpc3RvcnlUaW1lb3V0cygpO1xuXHRcdFx0XG5cblx0XHRcdGlmKF9oYXNoQ2hhbmdlZEJ5SGlzdG9yeSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmKCFfaGlzdG9yeUNoYW5nZWQpIHtcblx0XHRcdFx0X3VwZGF0ZUhhc2goKTsgLy8gZmlyc3QgdGltZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0X2hpc3RvcnlVcGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChfdXBkYXRlSGFzaCwgODAwKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHR9XG59KTtcblxuXG4vKj4+aGlzdG9yeSovXG5cdGZyYW1ld29yay5leHRlbmQoc2VsZiwgcHVibGljTWV0aG9kcyk7IH07XG5cdHJldHVybiBQaG90b1N3aXBlO1xufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/photoswipe/dist/photoswipe.js\n");

/***/ }),

/***/ "./node_modules/rimg-shopify/dist/index.es.js":
/*!****************************************************!*\
  !*** ./node_modules/rimg-shopify/dist/index.es.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var rimg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rimg */ \"./node_modules/rimg/dist/index.es.js\");\n/*!\n * rimg-shopify v2.4.0\n * (c) 2019 Pixel Union\n */\n\n\n/**\n * Polyfill for Element.matches().\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n */\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n    var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n        i = matches.length;\n    while (--i >= 0 && matches.item(i) !== this) {}\n    return i > -1;\n  };\n}\n\nvar state = {\n  init: init,\n  watch: watch,\n  unwatch: unwatch\n};\n\nfunction init() {\n  var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[data-rimg=\"lazy\"]';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  state.selector = selector;\n  state.instance = Object(rimg__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(selector, options);\n  state.loadedWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\n  // Listen for Shopify theme editor events\n  document.addEventListener('shopify:section:load', function (event) {\n    return watch(event.target);\n  });\n\n  window.addEventListener('resize', function () {\n    return _update();\n  });\n\n  document.addEventListener('shopify:section:unload', function (event) {\n    return unwatch(event.target);\n  });\n\n  // Listen for custom events to allow themes to hook into rimg\n  document.addEventListener('theme:rimg:watch', function (event) {\n    return watch(event.target);\n  });\n\n  document.addEventListener('theme:rimg:unwatch', function (event) {\n    return unwatch(event.target);\n  });\n\n  // Support custom events triggered through jQuery\n  // See: https://github.com/jquery/jquery/issues/3347\n  if (window.jQuery) {\n    jQuery(document).on({\n      'theme:rimg:watch': function themeRimgWatch(event) {\n        return watch(event.target);\n      },\n      'theme:rimg:unwatch': function themeRimgUnwatch(event) {\n        return unwatch(event.target);\n      }\n    });\n  }\n}\n\n/**\n * Track an element, and its children.\n *\n * @param {HTMLElement} el\n */\nfunction watch(el) {\n  // Track element\n  if (typeof el.matches === 'function' && el.matches(state.selector)) {\n    state.instance.track(el);\n  }\n\n  // Track element's children\n  state.instance.track(el.querySelectorAll(state.selector));\n}\n\n/**\n * Untrack an element, and its children\n *\n * @param {HTMLElement} el\n * @private\n */\nfunction unwatch(el) {\n  // Untrack element's children\n  state.instance.untrack(el.querySelectorAll(state.selector));\n\n  // Untrack element\n  if (typeof el.matches === 'function' && el.matches(state.selector)) {\n    state.instance.untrack(el);\n  }\n}\n\n/**\n * Update an element, and its children.\n *\n * @param {HTMLElement} el\n */\nfunction _update() {\n  var currentWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\n  // Return if we're not 2x smaller, or larger than the existing loading size\n  if (currentWidth / state.loadedWidth > 0.5 && currentWidth / state.loadedWidth < 2) {\n    return;\n  }\n\n  state.loadedWidth = currentWidth;\n  state.instance.update();\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (state);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmltZy1zaG9waWZ5L2Rpc3QvaW5kZXguZXMuanM/OWYwYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDd0I7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLG9EQUFJO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSxvRUFBSyxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3JpbWctc2hvcGlmeS9kaXN0L2luZGV4LmVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiByaW1nLXNob3BpZnkgdjIuNC4wXG4gKiAoYykgMjAxOSBQaXhlbCBVbmlvblxuICovXG5pbXBvcnQgcmltZyBmcm9tICdyaW1nJztcblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgRWxlbWVudC5tYXRjaGVzKCkuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9tYXRjaGVzXG4gKi9cbmlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBmdW5jdGlvbiAocykge1xuICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuICAgICAgICBpID0gbWF0Y2hlcy5sZW5ndGg7XG4gICAgd2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbiAgICByZXR1cm4gaSA+IC0xO1xuICB9O1xufVxuXG52YXIgc3RhdGUgPSB7XG4gIGluaXQ6IGluaXQsXG4gIHdhdGNoOiB3YXRjaCxcbiAgdW53YXRjaDogdW53YXRjaFxufTtcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgdmFyIHNlbGVjdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnW2RhdGEtcmltZz1cImxhenlcIl0nO1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgc3RhdGUuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgc3RhdGUuaW5zdGFuY2UgPSByaW1nKHNlbGVjdG9yLCBvcHRpb25zKTtcbiAgc3RhdGUubG9hZGVkV2lkdGggPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuXG4gIC8vIExpc3RlbiBmb3IgU2hvcGlmeSB0aGVtZSBlZGl0b3IgZXZlbnRzXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6c2VjdGlvbjpsb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIHdhdGNoKGV2ZW50LnRhcmdldCk7XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF91cGRhdGUoKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2hvcGlmeTpzZWN0aW9uOnVubG9hZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiB1bndhdGNoKGV2ZW50LnRhcmdldCk7XG4gIH0pO1xuXG4gIC8vIExpc3RlbiBmb3IgY3VzdG9tIGV2ZW50cyB0byBhbGxvdyB0aGVtZXMgdG8gaG9vayBpbnRvIHJpbWdcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndGhlbWU6cmltZzp3YXRjaCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiB3YXRjaChldmVudC50YXJnZXQpO1xuICB9KTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0aGVtZTpyaW1nOnVud2F0Y2gnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gdW53YXRjaChldmVudC50YXJnZXQpO1xuICB9KTtcblxuICAvLyBTdXBwb3J0IGN1c3RvbSBldmVudHMgdHJpZ2dlcmVkIHRocm91Z2ggalF1ZXJ5XG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvaXNzdWVzLzMzNDdcbiAgaWYgKHdpbmRvdy5qUXVlcnkpIHtcbiAgICBqUXVlcnkoZG9jdW1lbnQpLm9uKHtcbiAgICAgICd0aGVtZTpyaW1nOndhdGNoJzogZnVuY3Rpb24gdGhlbWVSaW1nV2F0Y2goZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHdhdGNoKGV2ZW50LnRhcmdldCk7XG4gICAgICB9LFxuICAgICAgJ3RoZW1lOnJpbWc6dW53YXRjaCc6IGZ1bmN0aW9uIHRoZW1lUmltZ1Vud2F0Y2goZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHVud2F0Y2goZXZlbnQudGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFRyYWNrIGFuIGVsZW1lbnQsIGFuZCBpdHMgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxcbiAqL1xuZnVuY3Rpb24gd2F0Y2goZWwpIHtcbiAgLy8gVHJhY2sgZWxlbWVudFxuICBpZiAodHlwZW9mIGVsLm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiYgZWwubWF0Y2hlcyhzdGF0ZS5zZWxlY3RvcikpIHtcbiAgICBzdGF0ZS5pbnN0YW5jZS50cmFjayhlbCk7XG4gIH1cblxuICAvLyBUcmFjayBlbGVtZW50J3MgY2hpbGRyZW5cbiAgc3RhdGUuaW5zdGFuY2UudHJhY2soZWwucXVlcnlTZWxlY3RvckFsbChzdGF0ZS5zZWxlY3RvcikpO1xufVxuXG4vKipcbiAqIFVudHJhY2sgYW4gZWxlbWVudCwgYW5kIGl0cyBjaGlsZHJlblxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB1bndhdGNoKGVsKSB7XG4gIC8vIFVudHJhY2sgZWxlbWVudCdzIGNoaWxkcmVuXG4gIHN0YXRlLmluc3RhbmNlLnVudHJhY2soZWwucXVlcnlTZWxlY3RvckFsbChzdGF0ZS5zZWxlY3RvcikpO1xuXG4gIC8vIFVudHJhY2sgZWxlbWVudFxuICBpZiAodHlwZW9mIGVsLm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiYgZWwubWF0Y2hlcyhzdGF0ZS5zZWxlY3RvcikpIHtcbiAgICBzdGF0ZS5pbnN0YW5jZS51bnRyYWNrKGVsKTtcbiAgfVxufVxuXG4vKipcbiAqIFVwZGF0ZSBhbiBlbGVtZW50LCBhbmQgaXRzIGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKi9cbmZ1bmN0aW9uIF91cGRhdGUoKSB7XG4gIHZhciBjdXJyZW50V2lkdGggPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuXG4gIC8vIFJldHVybiBpZiB3ZSdyZSBub3QgMnggc21hbGxlciwgb3IgbGFyZ2VyIHRoYW4gdGhlIGV4aXN0aW5nIGxvYWRpbmcgc2l6ZVxuICBpZiAoY3VycmVudFdpZHRoIC8gc3RhdGUubG9hZGVkV2lkdGggPiAwLjUgJiYgY3VycmVudFdpZHRoIC8gc3RhdGUubG9hZGVkV2lkdGggPCAyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3RhdGUubG9hZGVkV2lkdGggPSBjdXJyZW50V2lkdGg7XG4gIHN0YXRlLmluc3RhbmNlLnVwZGF0ZSgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdGF0ZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/rimg-shopify/dist/index.es.js\n");

/***/ }),

/***/ "./node_modules/rimg/dist/index.es.js":
/*!********************************************!*\
  !*** ./node_modules/rimg/dist/index.es.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*!\n * rimg v2.1.7\n * (c) 2018 Pixel Union\n */\n/**\n * The default template render function. Turns a template string into an image\n * URL.\n *\n * @param {String} template\n * @param {Size} size\n * @returns {String}\n */\nfunction defaultTemplateRender(template, size) {\n  return template.replace('{size}', size.width + 'x' + size.height);\n}\n\n/**\n * @type Settings\n */\nvar defaults = {\n  scale: 1,\n  template: false,\n  templateRender: defaultTemplateRender,\n  max: { width: Infinity, height: Infinity },\n  round: 32,\n  placeholder: false,\n  crop: null\n};\n\n/**\n * Get a data attribute value from an element, with a default fallback and\n * sanitization step.\n *\n * @param {Element} el\n *\n * @param {String} name\n *        The data attribute name.\n *\n * @param {Object} options\n *        An object holding fallback values if the data attribute does not\n *        exist. If this object doesn't have the property, we further fallback\n *        to our defaults.\n *\n * @param {Function} [sanitize]\n *        A function to sanitize the data attribute value with.\n *\n * @returns {String|*}\n */\nfunction getData(el, name, options, sanitize) {\n  var attr = 'data-rimg-' + name;\n  if (!el.hasAttribute(attr)) return options[name] || defaults[name];\n\n  var value = el.getAttribute(attr);\n\n  return sanitize ? sanitize(value) : value;\n}\n\n/**\n * Sanitize data attributes that represent a size (in the form of `10x10`).\n *\n * @param {String} value\n * @returns {Object} An object with `width` and `height` properties.\n */\nfunction parseSize(value) {\n  value = value.split('x');\n  return { width: parseInt(value[0], 10), height: parseInt(value[1], 10) };\n}\n\n/**\n * Loads information about an element.\n *\n * Options can be set on the element itself using data attributes, or through\n * the `options` parameter. Data attributes take priority.\n *\n * @param {HTMLElement} el\n * @param {Settings} options\n * @returns {Item}\n */\nfunction parseItem(el) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var isImage = el.hasAttribute('data-rimg-template');\n\n  /**\n   * @typedef {Settings} Item\n   */\n  return {\n    el: el,\n\n    // Type of element\n    isImage: isImage,\n    isBackgroundImage: isImage && el.tagName !== 'IMG',\n\n    // Image scale\n    scale: getData(el, 'scale', options),\n\n    // Device density\n    density: window.devicePixelRatio || 1,\n\n    // Image template URL\n    template: getData(el, 'template', options),\n    templateRender: options.templateRender || defaults.templateRender,\n\n    // Maximum image dimensions\n    max: getData(el, 'max', options, parseSize),\n\n    // Round image dimensions to the nearest multiple\n    round: getData(el, 'round', options),\n\n    // Placeholder image dimensions\n    placeholder: getData(el, 'placeholder', options, parseSize),\n\n    // Crop value; null if image is uncropped, otherwise equal to the Shopify crop parameter ('center', 'top', etc.)\n    crop: getData(el, 'crop', options, function (value) {\n      return value === '' ? null : value;\n    })\n  };\n}\n\n/**\n * Round to the nearest multiple.\n *\n * This is so we don't tax the image server too much.\n *\n * @param {Number} size The size, in pixels.\n * @param {Number} [multiple] The multiple to round to the nearest.\n * @param {Number} [maxLimit] Maximum allowed value - value to return if rounded multiple is above this limit\n * @returns {Number}\n */\nfunction roundSize(size) {\n  var multiple = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 32;\n  var maxLimit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Infinity;\n\n  return size === 0 ? multiple : Math.min(Math.ceil(size / multiple) * multiple, maxLimit);\n}\n\n/**\n * Get the size of an element.\n *\n * If it is too small, it's parent element is checked, and so on. This helps\n * avoid the situation where an element doesn't have a size yet or is positioned\n * out of the layout.\n *\n * @param {HTMLElement} el\n * @return {Object} size\n * @return {Number} size.width The width, in pixels.\n * @return {Number} size.height The height, in pixels.\n */\nfunction getElementSize(el) {\n  var size = { width: 0, height: 0 };\n\n  while (el) {\n    size.width = el.offsetWidth;\n    size.height = el.offsetHeight;\n    if (size.width > 20 && size.height > 20) break;\n    el = el.parentNode;\n  }\n\n  return size;\n}\n\n/**\n * Trigger a custom event.\n *\n * Note: this approach is deprecated, but still required to support older\n * browsers such as IE 10.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\n *\n * @param {HTMLElement} el\n *        The element to trigger the event on.\n *\n * @param {String} name\n *        The event name.\n *\n * @returns {Boolean}\n *          True if the event was canceled.\n */\nfunction trigger(el, name) {\n  var event = document.createEvent('Event');\n  event.initEvent(name, true, true);\n  return !el.dispatchEvent(event);\n}\n\n/**\n * Return the maximum supported density of the image, given the container.\n *\n * @param {Item} item\n * @param {Size} size\n */\nfunction supportedDensity(item, size) {\n  return Math.min(Math.min(Math.max(item.max.width / size.width, 1), item.density), Math.min(Math.max(item.max.height / size.height, 1), item.density)).toFixed(2);\n}\n\n/**\n * Set the image URL on the element. Supports background images and `srcset`.\n *\n * @param {Item} item\n * @param {Size} size\n * @param {Boolean} isPlaceholder\n */\nfunction setImage(item, size, isPlaceholder, onLoad) {\n  var render = item.templateRender;\n  var density = isPlaceholder ? 1 : supportedDensity(item, size);\n  var round = isPlaceholder ? 1 : item.round;\n\n  // Calculate the final display size, taking into account the image's\n  // maximum dimensions.\n  var targetWidth = size.width * density;\n  var targetHeight = size.height * density;\n\n  var displaySize = void 0;\n\n  if (item.crop) {\n    displaySize = {\n      width: roundSize(targetWidth, round, item.max.width),\n      height: roundSize(targetHeight, round, item.max.height)\n    };\n  } else {\n    // Shopify serves images clamped by the requested dimensions (fitted to the smallest dimension).\n    // To get the desired and expected pixel density we need to request cover dimensions (fitted to largest dimension).\n    // This isn't a problem with cropped images which are served at the exact dimension requested.\n    var containerAspectRatio = size.width / size.height;\n    var imageAspectRatio = item.max.width / item.max.height;\n\n    if (containerAspectRatio > imageAspectRatio) {\n      // fit width\n      displaySize = {\n        width: roundSize(targetWidth, round, item.max.width),\n        height: roundSize(targetWidth / imageAspectRatio, round, item.max.height)\n      };\n    } else {\n      // fit height\n      displaySize = {\n        width: roundSize(targetHeight * imageAspectRatio, round, item.max.width),\n        height: roundSize(targetHeight, round, item.max.height)\n      };\n    }\n  }\n\n  var url = render(item.template, displaySize);\n\n  // On load callback\n  var image = new Image();\n  image.onload = onLoad;\n  image.src = url;\n\n  // Set image\n  if (item.isBackgroundImage) {\n    item.el.style.backgroundImage = 'url(\\'' + url + '\\')';\n  } else {\n    item.el.setAttribute('srcset', url + ' ' + density + 'x');\n  }\n}\n\n/**\n * Load the image, set loaded status, and trigger the load event.\n *\n * @fires rimg:load\n * @fires rimg:error\n * @param {Item} item\n * @param {Size} size\n */\nfunction loadFullImage(item, size) {\n  var el = item.el;\n\n  setImage(item, size, false, function (event) {\n    if (event.type === 'load') {\n      el.setAttribute('data-rimg', 'loaded');\n    } else {\n      el.setAttribute('data-rimg', 'error');\n      trigger(el, 'rimg:error');\n    }\n\n    trigger(el, 'rimg:load');\n  });\n}\n\n/**\n * Load in a responsive image.\n *\n * Sets the image's `srcset` attribute to the final image URLs, calculated based\n * on the actual size the image is being shown at.\n *\n * @fires rimg:loading\n *        The image URLs have been set and we are waiting for them to load.\n *\n * @fires rimg:loaded\n *        The final image has loaded.\n *\n * @fires rimg:error\n *        The final image failed loading.\n *\n * @param {Item} item\n */\nfunction loadImage(item) {\n  var el = item.el;\n\n  // Already loaded?\n  var status = el.getAttribute('data-rimg');\n  if (status === 'loading' || status === 'loaded') return;\n\n  // Is the SVG loaded?\n  if (!el.complete && !item.isBackgroundImage) {\n    // Wait for the load event, then call load image\n    el.addEventListener('load', function cb() {\n      el.removeEventListener('load', cb);\n      loadImage(item);\n    });\n\n    return;\n  }\n\n  // Trigger loading event, and stop if cancelled\n  if (trigger(el, 'rimg:loading')) return;\n\n  // Mark as loading\n  el.setAttribute('data-rimg', 'loading');\n\n  // Get element size. This is used as the ideal display size.\n  var size = getElementSize(item.el);\n\n  size.width *= item.scale;\n  size.height *= item.scale;\n\n  if (item.placeholder) {\n    // Load a placeholder image first, followed by the full image. Force the\n    // element to keep its dimensions while it loads. If the image is smaller\n    // than the element size, use the image's size. Density is taken into account\n    // for HiDPI devices to avoid blurry images.\n    if (!item.isBackgroundImage) {\n      el.setAttribute('width', Math.min(Math.floor(item.max.width / item.density), size.width));\n      el.setAttribute('height', Math.min(Math.floor(item.max.height / item.density), size.height));\n    }\n\n    setImage(item, item.placeholder, true, function () {\n      return loadFullImage(item, size);\n    });\n  } else {\n    loadFullImage(item, size);\n  }\n}\n\n/**\n * Prepare an element to be displayed on the screen.\n *\n * Images have special logic applied to them to swap out the different sources.\n *\n * @fires rimg:enter\n *        The element is entering the viewport.\n *\n * @param {HTMLElement} el\n * @param {Settings} options\n */\nfunction load(el, options) {\n  if (!el) return;\n  trigger(el, 'rimg:enter');\n\n  var item = parseItem(el, options);\n\n  if (item.isImage) {\n    if (!item.isBackgroundImage) {\n      el.setAttribute('data-rimg-template-svg', el.getAttribute('srcset'));\n    }\n\n    loadImage(item);\n  }\n}\n\n/**\n * Reset an element's state so that its image can be recalculated.\n *\n * @fires rimg:update\n *        The element is being updated.\n *\n * @param {HTMLElement} el\n * @param {Settings} options\n */\nfunction update(el, options) {\n  if (!el) return;\n  trigger(el, 'rimg:update');\n\n  var item = parseItem(el, options);\n\n  if (item.isImage) {\n    if (!item.isBackgroundImage) {\n      el.setAttribute('data-rimg', 'lazy');\n      el.setAttribute('srcset', el.getAttribute('data-rimg-template-svg'));\n    }\n\n    loadImage(item);\n  }\n}\n\n/**\n * Returns true if the element is within the viewport.\n * @param {HTMLElement} el\n * @returns {Boolean}\n */\nfunction inViewport(el) {\n  if (!el.offsetWidth || !el.offsetHeight || !el.getClientRects().length) {\n    return false;\n  }\n\n  var root = document.documentElement;\n  var width = Math.min(root.clientWidth, window.innerWidth);\n  var height = Math.min(root.clientHeight, window.innerHeight);\n  var rect = el.getBoundingClientRect();\n\n  return rect.bottom >= 0 && rect.right >= 0 && rect.top <= height && rect.left <= width;\n}\n\n/**\n * @typedef {Object} Size\n * @property {Number} width\n * @property {Number} height\n */\n\n/**\n * A function to turn a template string into a URL.\n *\n * @callback TemplateRenderer\n * @param {String} template\n * @param {Size} size\n * @returns {String}\n */\n\n/**\n * @typedef {Object} Settings\n *\n * @property {String} [template]\n *           A template string used to generate URLs for an image. This allows us to\n *           dynamically load images with sizes to match the container's size.\n *\n * @property {TemplateRenderer} [templateRender]\n *           A function to turn a template string into a URL.\n *\n * @property {Size} [max]\n *           The maximum available size for the image. This ensures we don't\n *           try to load an image larger than is possible.\n *\n * @property {Number} [scale]\n *           A number to scale the final image dimensions by.\n *           Only applies to lazy-loaded images. Defaults to 1.\n *\n * @property {Number} [round]\n *           Round image dimensions to the nearest multiple. This is intended to\n *           tax the image server less by lowering the number of possible image\n *           sizes requested.\n *\n * @property {Size} [placeholder]\n *           The size of the lo-fi image to load before the full image.\n *\n * @property {String} [crop]\n *           Crop value; null if image is uncropped, otherwise equal\n *           to the Shopify crop parameter ('center', 'top', etc.).\n */\n\n/**\n * Initialize the responsive image handler.\n *\n * @param {String|HTMLElement|NodeList} selector\n *        The CSS selector, element, or elements to track for lazy-loading.\n *\n * @param {Settings} options\n *\n * @returns {PublicApi}\n */\nfunction rimg() {\n  var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[data-rimg=\"lazy\"]';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // Intersections\n  var io = new IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      if (entry.isIntersecting || entry.intersectionRatio > 0) {\n        io.unobserve(entry.target);\n        load(entry.target, options);\n      }\n    });\n  }, {\n    // Watch the viewport, with 20% vertical margins\n    rootMargin: '20% 0px'\n  });\n\n  /**\n   * @typedef {Object} PublicApi\n   */\n  var api = {\n    /**\n     * Track a new selector, element, or nodelist for lazy-loading.\n     * @type Function\n     * @param {String|HTMLElement|NodeList} selector\n     */\n    track: function track() {\n      var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[data-rimg=\"lazy\"]';\n\n      var els = querySelector(selector);\n\n      for (var i = 0; i < els.length; i++) {\n        // If an element is already in the viewport, load it right away. This\n        // fixes a race-condition with dynamically added elements.\n        if (inViewport(els[i])) {\n          load(els[i], options);\n        } else {\n          io.observe(els[i]);\n        }\n      }\n    },\n\n\n    /**\n     * Update element(s) that have already been loaded to force their images\n     * to be recalculated.\n     * @type Function\n     * @param {String|HTMLElement|NodeList} selector\n     */\n    update: function update$$1() {\n      var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[data-rimg=\"loaded\"]';\n\n      var els = querySelector(selector);\n      for (var i = 0; i < els.length; i++) {\n        update(els[i], options);\n      }\n    },\n\n\n    /**\n     * Stop tracking element(s) for lazy-loading.\n     * @type Function\n     * @param {String|HTMLElement|NodeList} selector\n     */\n    untrack: function untrack() {\n      var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[data-rimg]';\n\n      var els = querySelector(selector);\n      for (var i = 0; i < els.length; i++) {\n        io.unobserve(els[i]);\n      }\n    },\n\n\n    /**\n     * Unload all event handlers and observers.\n     * @type Function\n     */\n    unload: function unload() {\n      io.disconnect();\n    }\n  };\n\n  // Add initial elements\n  api.track(selector);\n\n  return api;\n}\n\n/**\n * Finds a group of elements on the page.\n *\n * @param {String|HTMLElement|NodeList} selector\n * @returns {Object} An array-like object.\n */\nfunction querySelector(selector) {\n  if (typeof selector === 'string') {\n    return document.querySelectorAll(selector);\n  }\n\n  if (selector instanceof HTMLElement) {\n    return [selector];\n  }\n\n  if (selector instanceof NodeList) {\n    return selector;\n  }\n\n  return [];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (rimg);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmltZy9kaXN0L2luZGV4LmVzLmpzPzM2OTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsS0FBSztBQUNoQixhQUFhO0FBQ2I7QUFDQTtBQUNBLDRCQUE0QixLQUFLO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvQ0FBb0M7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQixhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FB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QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLEtBQUs7QUFDbkI7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQix3QkFBd0I7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QztBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0QkFBNEI7QUFDM0M7QUFDQTtBQUNBOztBQUVBOztBQUVBLHFCQUFxQixnQkFBZ0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRCQUE0QjtBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRCQUE0QjtBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QyxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRWUsbUVBQUksRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9yaW1nL2Rpc3QvaW5kZXguZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIHJpbWcgdjIuMS43XG4gKiAoYykgMjAxOCBQaXhlbCBVbmlvblxuICovXG4vKipcbiAqIFRoZSBkZWZhdWx0IHRlbXBsYXRlIHJlbmRlciBmdW5jdGlvbi4gVHVybnMgYSB0ZW1wbGF0ZSBzdHJpbmcgaW50byBhbiBpbWFnZVxuICogVVJMLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wbGF0ZVxuICogQHBhcmFtIHtTaXplfSBzaXplXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkZWZhdWx0VGVtcGxhdGVSZW5kZXIodGVtcGxhdGUsIHNpemUpIHtcbiAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoJ3tzaXplfScsIHNpemUud2lkdGggKyAneCcgKyBzaXplLmhlaWdodCk7XG59XG5cbi8qKlxuICogQHR5cGUgU2V0dGluZ3NcbiAqL1xudmFyIGRlZmF1bHRzID0ge1xuICBzY2FsZTogMSxcbiAgdGVtcGxhdGU6IGZhbHNlLFxuICB0ZW1wbGF0ZVJlbmRlcjogZGVmYXVsdFRlbXBsYXRlUmVuZGVyLFxuICBtYXg6IHsgd2lkdGg6IEluZmluaXR5LCBoZWlnaHQ6IEluZmluaXR5IH0sXG4gIHJvdW5kOiAzMixcbiAgcGxhY2Vob2xkZXI6IGZhbHNlLFxuICBjcm9wOiBudWxsXG59O1xuXG4vKipcbiAqIEdldCBhIGRhdGEgYXR0cmlidXRlIHZhbHVlIGZyb20gYW4gZWxlbWVudCwgd2l0aCBhIGRlZmF1bHQgZmFsbGJhY2sgYW5kXG4gKiBzYW5pdGl6YXRpb24gc3RlcC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqICAgICAgICBUaGUgZGF0YSBhdHRyaWJ1dGUgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogICAgICAgIEFuIG9iamVjdCBob2xkaW5nIGZhbGxiYWNrIHZhbHVlcyBpZiB0aGUgZGF0YSBhdHRyaWJ1dGUgZG9lcyBub3RcbiAqICAgICAgICBleGlzdC4gSWYgdGhpcyBvYmplY3QgZG9lc24ndCBoYXZlIHRoZSBwcm9wZXJ0eSwgd2UgZnVydGhlciBmYWxsYmFja1xuICogICAgICAgIHRvIG91ciBkZWZhdWx0cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc2FuaXRpemVdXG4gKiAgICAgICAgQSBmdW5jdGlvbiB0byBzYW5pdGl6ZSB0aGUgZGF0YSBhdHRyaWJ1dGUgdmFsdWUgd2l0aC5cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfCp9XG4gKi9cbmZ1bmN0aW9uIGdldERhdGEoZWwsIG5hbWUsIG9wdGlvbnMsIHNhbml0aXplKSB7XG4gIHZhciBhdHRyID0gJ2RhdGEtcmltZy0nICsgbmFtZTtcbiAgaWYgKCFlbC5oYXNBdHRyaWJ1dGUoYXR0cikpIHJldHVybiBvcHRpb25zW25hbWVdIHx8IGRlZmF1bHRzW25hbWVdO1xuXG4gIHZhciB2YWx1ZSA9IGVsLmdldEF0dHJpYnV0ZShhdHRyKTtcblxuICByZXR1cm4gc2FuaXRpemUgPyBzYW5pdGl6ZSh2YWx1ZSkgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZSBkYXRhIGF0dHJpYnV0ZXMgdGhhdCByZXByZXNlbnQgYSBzaXplIChpbiB0aGUgZm9ybSBvZiBgMTB4MTBgKS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHByb3BlcnRpZXMuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU2l6ZSh2YWx1ZSkge1xuICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCd4Jyk7XG4gIHJldHVybiB7IHdpZHRoOiBwYXJzZUludCh2YWx1ZVswXSwgMTApLCBoZWlnaHQ6IHBhcnNlSW50KHZhbHVlWzFdLCAxMCkgfTtcbn1cblxuLyoqXG4gKiBMb2FkcyBpbmZvcm1hdGlvbiBhYm91dCBhbiBlbGVtZW50LlxuICpcbiAqIE9wdGlvbnMgY2FuIGJlIHNldCBvbiB0aGUgZWxlbWVudCBpdHNlbGYgdXNpbmcgZGF0YSBhdHRyaWJ1dGVzLCBvciB0aHJvdWdoXG4gKiB0aGUgYG9wdGlvbnNgIHBhcmFtZXRlci4gRGF0YSBhdHRyaWJ1dGVzIHRha2UgcHJpb3JpdHkuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U2V0dGluZ3N9IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtJdGVtfVxuICovXG5mdW5jdGlvbiBwYXJzZUl0ZW0oZWwpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIHZhciBpc0ltYWdlID0gZWwuaGFzQXR0cmlidXRlKCdkYXRhLXJpbWctdGVtcGxhdGUnKTtcblxuICAvKipcbiAgICogQHR5cGVkZWYge1NldHRpbmdzfSBJdGVtXG4gICAqL1xuICByZXR1cm4ge1xuICAgIGVsOiBlbCxcblxuICAgIC8vIFR5cGUgb2YgZWxlbWVudFxuICAgIGlzSW1hZ2U6IGlzSW1hZ2UsXG4gICAgaXNCYWNrZ3JvdW5kSW1hZ2U6IGlzSW1hZ2UgJiYgZWwudGFnTmFtZSAhPT0gJ0lNRycsXG5cbiAgICAvLyBJbWFnZSBzY2FsZVxuICAgIHNjYWxlOiBnZXREYXRhKGVsLCAnc2NhbGUnLCBvcHRpb25zKSxcblxuICAgIC8vIERldmljZSBkZW5zaXR5XG4gICAgZGVuc2l0eTogd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcblxuICAgIC8vIEltYWdlIHRlbXBsYXRlIFVSTFxuICAgIHRlbXBsYXRlOiBnZXREYXRhKGVsLCAndGVtcGxhdGUnLCBvcHRpb25zKSxcbiAgICB0ZW1wbGF0ZVJlbmRlcjogb3B0aW9ucy50ZW1wbGF0ZVJlbmRlciB8fCBkZWZhdWx0cy50ZW1wbGF0ZVJlbmRlcixcblxuICAgIC8vIE1heGltdW0gaW1hZ2UgZGltZW5zaW9uc1xuICAgIG1heDogZ2V0RGF0YShlbCwgJ21heCcsIG9wdGlvbnMsIHBhcnNlU2l6ZSksXG5cbiAgICAvLyBSb3VuZCBpbWFnZSBkaW1lbnNpb25zIHRvIHRoZSBuZWFyZXN0IG11bHRpcGxlXG4gICAgcm91bmQ6IGdldERhdGEoZWwsICdyb3VuZCcsIG9wdGlvbnMpLFxuXG4gICAgLy8gUGxhY2Vob2xkZXIgaW1hZ2UgZGltZW5zaW9uc1xuICAgIHBsYWNlaG9sZGVyOiBnZXREYXRhKGVsLCAncGxhY2Vob2xkZXInLCBvcHRpb25zLCBwYXJzZVNpemUpLFxuXG4gICAgLy8gQ3JvcCB2YWx1ZTsgbnVsbCBpZiBpbWFnZSBpcyB1bmNyb3BwZWQsIG90aGVyd2lzZSBlcXVhbCB0byB0aGUgU2hvcGlmeSBjcm9wIHBhcmFtZXRlciAoJ2NlbnRlcicsICd0b3AnLCBldGMuKVxuICAgIGNyb3A6IGdldERhdGEoZWwsICdjcm9wJywgb3B0aW9ucywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6IHZhbHVlO1xuICAgIH0pXG4gIH07XG59XG5cbi8qKlxuICogUm91bmQgdG8gdGhlIG5lYXJlc3QgbXVsdGlwbGUuXG4gKlxuICogVGhpcyBpcyBzbyB3ZSBkb24ndCB0YXggdGhlIGltYWdlIHNlcnZlciB0b28gbXVjaC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gc2l6ZSBUaGUgc2l6ZSwgaW4gcGl4ZWxzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFttdWx0aXBsZV0gVGhlIG11bHRpcGxlIHRvIHJvdW5kIHRvIHRoZSBuZWFyZXN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IFttYXhMaW1pdF0gTWF4aW11bSBhbGxvd2VkIHZhbHVlIC0gdmFsdWUgdG8gcmV0dXJuIGlmIHJvdW5kZWQgbXVsdGlwbGUgaXMgYWJvdmUgdGhpcyBsaW1pdFxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gcm91bmRTaXplKHNpemUpIHtcbiAgdmFyIG11bHRpcGxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAzMjtcbiAgdmFyIG1heExpbWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBJbmZpbml0eTtcblxuICByZXR1cm4gc2l6ZSA9PT0gMCA/IG11bHRpcGxlIDogTWF0aC5taW4oTWF0aC5jZWlsKHNpemUgLyBtdWx0aXBsZSkgKiBtdWx0aXBsZSwgbWF4TGltaXQpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc2l6ZSBvZiBhbiBlbGVtZW50LlxuICpcbiAqIElmIGl0IGlzIHRvbyBzbWFsbCwgaXQncyBwYXJlbnQgZWxlbWVudCBpcyBjaGVja2VkLCBhbmQgc28gb24uIFRoaXMgaGVscHNcbiAqIGF2b2lkIHRoZSBzaXR1YXRpb24gd2hlcmUgYW4gZWxlbWVudCBkb2Vzbid0IGhhdmUgYSBzaXplIHlldCBvciBpcyBwb3NpdGlvbmVkXG4gKiBvdXQgb2YgdGhlIGxheW91dC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbFxuICogQHJldHVybiB7T2JqZWN0fSBzaXplXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHNpemUud2lkdGggVGhlIHdpZHRoLCBpbiBwaXhlbHMuXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHNpemUuaGVpZ2h0IFRoZSBoZWlnaHQsIGluIHBpeGVscy5cbiAqL1xuZnVuY3Rpb24gZ2V0RWxlbWVudFNpemUoZWwpIHtcbiAgdmFyIHNpemUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcblxuICB3aGlsZSAoZWwpIHtcbiAgICBzaXplLndpZHRoID0gZWwub2Zmc2V0V2lkdGg7XG4gICAgc2l6ZS5oZWlnaHQgPSBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgaWYgKHNpemUud2lkdGggPiAyMCAmJiBzaXplLmhlaWdodCA+IDIwKSBicmVhaztcbiAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gIH1cblxuICByZXR1cm4gc2l6ZTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGEgY3VzdG9tIGV2ZW50LlxuICpcbiAqIE5vdGU6IHRoaXMgYXBwcm9hY2ggaXMgZGVwcmVjYXRlZCwgYnV0IHN0aWxsIHJlcXVpcmVkIHRvIHN1cHBvcnQgb2xkZXJcbiAqIGJyb3dzZXJzIHN1Y2ggYXMgSUUgMTAuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9FdmVudHMvQ3JlYXRpbmdfYW5kX3RyaWdnZXJpbmdfZXZlbnRzXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxcbiAqICAgICAgICBUaGUgZWxlbWVudCB0byB0cmlnZ2VyIHRoZSBldmVudCBvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogICAgICAgIFRoZSBldmVudCBuYW1lLlxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICogICAgICAgICAgVHJ1ZSBpZiB0aGUgZXZlbnQgd2FzIGNhbmNlbGVkLlxuICovXG5mdW5jdGlvbiB0cmlnZ2VyKGVsLCBuYW1lKSB7XG4gIHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICBldmVudC5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgdHJ1ZSk7XG4gIHJldHVybiAhZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBtYXhpbXVtIHN1cHBvcnRlZCBkZW5zaXR5IG9mIHRoZSBpbWFnZSwgZ2l2ZW4gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0ge0l0ZW19IGl0ZW1cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZVxuICovXG5mdW5jdGlvbiBzdXBwb3J0ZWREZW5zaXR5KGl0ZW0sIHNpemUpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KGl0ZW0ubWF4LndpZHRoIC8gc2l6ZS53aWR0aCwgMSksIGl0ZW0uZGVuc2l0eSksIE1hdGgubWluKE1hdGgubWF4KGl0ZW0ubWF4LmhlaWdodCAvIHNpemUuaGVpZ2h0LCAxKSwgaXRlbS5kZW5zaXR5KSkudG9GaXhlZCgyKTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGltYWdlIFVSTCBvbiB0aGUgZWxlbWVudC4gU3VwcG9ydHMgYmFja2dyb3VuZCBpbWFnZXMgYW5kIGBzcmNzZXRgLlxuICpcbiAqIEBwYXJhbSB7SXRlbX0gaXRlbVxuICogQHBhcmFtIHtTaXplfSBzaXplXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzUGxhY2Vob2xkZXJcbiAqL1xuZnVuY3Rpb24gc2V0SW1hZ2UoaXRlbSwgc2l6ZSwgaXNQbGFjZWhvbGRlciwgb25Mb2FkKSB7XG4gIHZhciByZW5kZXIgPSBpdGVtLnRlbXBsYXRlUmVuZGVyO1xuICB2YXIgZGVuc2l0eSA9IGlzUGxhY2Vob2xkZXIgPyAxIDogc3VwcG9ydGVkRGVuc2l0eShpdGVtLCBzaXplKTtcbiAgdmFyIHJvdW5kID0gaXNQbGFjZWhvbGRlciA/IDEgOiBpdGVtLnJvdW5kO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgZmluYWwgZGlzcGxheSBzaXplLCB0YWtpbmcgaW50byBhY2NvdW50IHRoZSBpbWFnZSdzXG4gIC8vIG1heGltdW0gZGltZW5zaW9ucy5cbiAgdmFyIHRhcmdldFdpZHRoID0gc2l6ZS53aWR0aCAqIGRlbnNpdHk7XG4gIHZhciB0YXJnZXRIZWlnaHQgPSBzaXplLmhlaWdodCAqIGRlbnNpdHk7XG5cbiAgdmFyIGRpc3BsYXlTaXplID0gdm9pZCAwO1xuXG4gIGlmIChpdGVtLmNyb3ApIHtcbiAgICBkaXNwbGF5U2l6ZSA9IHtcbiAgICAgIHdpZHRoOiByb3VuZFNpemUodGFyZ2V0V2lkdGgsIHJvdW5kLCBpdGVtLm1heC53aWR0aCksXG4gICAgICBoZWlnaHQ6IHJvdW5kU2l6ZSh0YXJnZXRIZWlnaHQsIHJvdW5kLCBpdGVtLm1heC5oZWlnaHQpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTaG9waWZ5IHNlcnZlcyBpbWFnZXMgY2xhbXBlZCBieSB0aGUgcmVxdWVzdGVkIGRpbWVuc2lvbnMgKGZpdHRlZCB0byB0aGUgc21hbGxlc3QgZGltZW5zaW9uKS5cbiAgICAvLyBUbyBnZXQgdGhlIGRlc2lyZWQgYW5kIGV4cGVjdGVkIHBpeGVsIGRlbnNpdHkgd2UgbmVlZCB0byByZXF1ZXN0IGNvdmVyIGRpbWVuc2lvbnMgKGZpdHRlZCB0byBsYXJnZXN0IGRpbWVuc2lvbikuXG4gICAgLy8gVGhpcyBpc24ndCBhIHByb2JsZW0gd2l0aCBjcm9wcGVkIGltYWdlcyB3aGljaCBhcmUgc2VydmVkIGF0IHRoZSBleGFjdCBkaW1lbnNpb24gcmVxdWVzdGVkLlxuICAgIHZhciBjb250YWluZXJBc3BlY3RSYXRpbyA9IHNpemUud2lkdGggLyBzaXplLmhlaWdodDtcbiAgICB2YXIgaW1hZ2VBc3BlY3RSYXRpbyA9IGl0ZW0ubWF4LndpZHRoIC8gaXRlbS5tYXguaGVpZ2h0O1xuXG4gICAgaWYgKGNvbnRhaW5lckFzcGVjdFJhdGlvID4gaW1hZ2VBc3BlY3RSYXRpbykge1xuICAgICAgLy8gZml0IHdpZHRoXG4gICAgICBkaXNwbGF5U2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IHJvdW5kU2l6ZSh0YXJnZXRXaWR0aCwgcm91bmQsIGl0ZW0ubWF4LndpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiByb3VuZFNpemUodGFyZ2V0V2lkdGggLyBpbWFnZUFzcGVjdFJhdGlvLCByb3VuZCwgaXRlbS5tYXguaGVpZ2h0KVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZml0IGhlaWdodFxuICAgICAgZGlzcGxheVNpemUgPSB7XG4gICAgICAgIHdpZHRoOiByb3VuZFNpemUodGFyZ2V0SGVpZ2h0ICogaW1hZ2VBc3BlY3RSYXRpbywgcm91bmQsIGl0ZW0ubWF4LndpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiByb3VuZFNpemUodGFyZ2V0SGVpZ2h0LCByb3VuZCwgaXRlbS5tYXguaGVpZ2h0KVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgdXJsID0gcmVuZGVyKGl0ZW0udGVtcGxhdGUsIGRpc3BsYXlTaXplKTtcblxuICAvLyBPbiBsb2FkIGNhbGxiYWNrXG4gIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICBpbWFnZS5vbmxvYWQgPSBvbkxvYWQ7XG4gIGltYWdlLnNyYyA9IHVybDtcblxuICAvLyBTZXQgaW1hZ2VcbiAgaWYgKGl0ZW0uaXNCYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICBpdGVtLmVsLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXFwnJyArIHVybCArICdcXCcpJztcbiAgfSBlbHNlIHtcbiAgICBpdGVtLmVsLnNldEF0dHJpYnV0ZSgnc3Jjc2V0JywgdXJsICsgJyAnICsgZGVuc2l0eSArICd4Jyk7XG4gIH1cbn1cblxuLyoqXG4gKiBMb2FkIHRoZSBpbWFnZSwgc2V0IGxvYWRlZCBzdGF0dXMsIGFuZCB0cmlnZ2VyIHRoZSBsb2FkIGV2ZW50LlxuICpcbiAqIEBmaXJlcyByaW1nOmxvYWRcbiAqIEBmaXJlcyByaW1nOmVycm9yXG4gKiBAcGFyYW0ge0l0ZW19IGl0ZW1cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZVxuICovXG5mdW5jdGlvbiBsb2FkRnVsbEltYWdlKGl0ZW0sIHNpemUpIHtcbiAgdmFyIGVsID0gaXRlbS5lbDtcblxuICBzZXRJbWFnZShpdGVtLCBzaXplLCBmYWxzZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJykge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXJpbWcnLCAnbG9hZGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1yaW1nJywgJ2Vycm9yJyk7XG4gICAgICB0cmlnZ2VyKGVsLCAncmltZzplcnJvcicpO1xuICAgIH1cblxuICAgIHRyaWdnZXIoZWwsICdyaW1nOmxvYWQnKTtcbiAgfSk7XG59XG5cbi8qKlxuICogTG9hZCBpbiBhIHJlc3BvbnNpdmUgaW1hZ2UuXG4gKlxuICogU2V0cyB0aGUgaW1hZ2UncyBgc3Jjc2V0YCBhdHRyaWJ1dGUgdG8gdGhlIGZpbmFsIGltYWdlIFVSTHMsIGNhbGN1bGF0ZWQgYmFzZWRcbiAqIG9uIHRoZSBhY3R1YWwgc2l6ZSB0aGUgaW1hZ2UgaXMgYmVpbmcgc2hvd24gYXQuXG4gKlxuICogQGZpcmVzIHJpbWc6bG9hZGluZ1xuICogICAgICAgIFRoZSBpbWFnZSBVUkxzIGhhdmUgYmVlbiBzZXQgYW5kIHdlIGFyZSB3YWl0aW5nIGZvciB0aGVtIHRvIGxvYWQuXG4gKlxuICogQGZpcmVzIHJpbWc6bG9hZGVkXG4gKiAgICAgICAgVGhlIGZpbmFsIGltYWdlIGhhcyBsb2FkZWQuXG4gKlxuICogQGZpcmVzIHJpbWc6ZXJyb3JcbiAqICAgICAgICBUaGUgZmluYWwgaW1hZ2UgZmFpbGVkIGxvYWRpbmcuXG4gKlxuICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gKi9cbmZ1bmN0aW9uIGxvYWRJbWFnZShpdGVtKSB7XG4gIHZhciBlbCA9IGl0ZW0uZWw7XG5cbiAgLy8gQWxyZWFkeSBsb2FkZWQ/XG4gIHZhciBzdGF0dXMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmltZycpO1xuICBpZiAoc3RhdHVzID09PSAnbG9hZGluZycgfHwgc3RhdHVzID09PSAnbG9hZGVkJykgcmV0dXJuO1xuXG4gIC8vIElzIHRoZSBTVkcgbG9hZGVkP1xuICBpZiAoIWVsLmNvbXBsZXRlICYmICFpdGVtLmlzQmFja2dyb3VuZEltYWdlKSB7XG4gICAgLy8gV2FpdCBmb3IgdGhlIGxvYWQgZXZlbnQsIHRoZW4gY2FsbCBsb2FkIGltYWdlXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uIGNiKCkge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNiKTtcbiAgICAgIGxvYWRJbWFnZShpdGVtKTtcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRyaWdnZXIgbG9hZGluZyBldmVudCwgYW5kIHN0b3AgaWYgY2FuY2VsbGVkXG4gIGlmICh0cmlnZ2VyKGVsLCAncmltZzpsb2FkaW5nJykpIHJldHVybjtcblxuICAvLyBNYXJrIGFzIGxvYWRpbmdcbiAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXJpbWcnLCAnbG9hZGluZycpO1xuXG4gIC8vIEdldCBlbGVtZW50IHNpemUuIFRoaXMgaXMgdXNlZCBhcyB0aGUgaWRlYWwgZGlzcGxheSBzaXplLlxuICB2YXIgc2l6ZSA9IGdldEVsZW1lbnRTaXplKGl0ZW0uZWwpO1xuXG4gIHNpemUud2lkdGggKj0gaXRlbS5zY2FsZTtcbiAgc2l6ZS5oZWlnaHQgKj0gaXRlbS5zY2FsZTtcblxuICBpZiAoaXRlbS5wbGFjZWhvbGRlcikge1xuICAgIC8vIExvYWQgYSBwbGFjZWhvbGRlciBpbWFnZSBmaXJzdCwgZm9sbG93ZWQgYnkgdGhlIGZ1bGwgaW1hZ2UuIEZvcmNlIHRoZVxuICAgIC8vIGVsZW1lbnQgdG8ga2VlcCBpdHMgZGltZW5zaW9ucyB3aGlsZSBpdCBsb2Fkcy4gSWYgdGhlIGltYWdlIGlzIHNtYWxsZXJcbiAgICAvLyB0aGFuIHRoZSBlbGVtZW50IHNpemUsIHVzZSB0aGUgaW1hZ2UncyBzaXplLiBEZW5zaXR5IGlzIHRha2VuIGludG8gYWNjb3VudFxuICAgIC8vIGZvciBIaURQSSBkZXZpY2VzIHRvIGF2b2lkIGJsdXJyeSBpbWFnZXMuXG4gICAgaWYgKCFpdGVtLmlzQmFja2dyb3VuZEltYWdlKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgTWF0aC5taW4oTWF0aC5mbG9vcihpdGVtLm1heC53aWR0aCAvIGl0ZW0uZGVuc2l0eSksIHNpemUud2lkdGgpKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgTWF0aC5taW4oTWF0aC5mbG9vcihpdGVtLm1heC5oZWlnaHQgLyBpdGVtLmRlbnNpdHkpLCBzaXplLmhlaWdodCkpO1xuICAgIH1cblxuICAgIHNldEltYWdlKGl0ZW0sIGl0ZW0ucGxhY2Vob2xkZXIsIHRydWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBsb2FkRnVsbEltYWdlKGl0ZW0sIHNpemUpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGxvYWRGdWxsSW1hZ2UoaXRlbSwgc2l6ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQcmVwYXJlIGFuIGVsZW1lbnQgdG8gYmUgZGlzcGxheWVkIG9uIHRoZSBzY3JlZW4uXG4gKlxuICogSW1hZ2VzIGhhdmUgc3BlY2lhbCBsb2dpYyBhcHBsaWVkIHRvIHRoZW0gdG8gc3dhcCBvdXQgdGhlIGRpZmZlcmVudCBzb3VyY2VzLlxuICpcbiAqIEBmaXJlcyByaW1nOmVudGVyXG4gKiAgICAgICAgVGhlIGVsZW1lbnQgaXMgZW50ZXJpbmcgdGhlIHZpZXdwb3J0LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1NldHRpbmdzfSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGxvYWQoZWwsIG9wdGlvbnMpIHtcbiAgaWYgKCFlbCkgcmV0dXJuO1xuICB0cmlnZ2VyKGVsLCAncmltZzplbnRlcicpO1xuXG4gIHZhciBpdGVtID0gcGFyc2VJdGVtKGVsLCBvcHRpb25zKTtcblxuICBpZiAoaXRlbS5pc0ltYWdlKSB7XG4gICAgaWYgKCFpdGVtLmlzQmFja2dyb3VuZEltYWdlKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmltZy10ZW1wbGF0ZS1zdmcnLCBlbC5nZXRBdHRyaWJ1dGUoJ3NyY3NldCcpKTtcbiAgICB9XG5cbiAgICBsb2FkSW1hZ2UoaXRlbSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXNldCBhbiBlbGVtZW50J3Mgc3RhdGUgc28gdGhhdCBpdHMgaW1hZ2UgY2FuIGJlIHJlY2FsY3VsYXRlZC5cbiAqXG4gKiBAZmlyZXMgcmltZzp1cGRhdGVcbiAqICAgICAgICBUaGUgZWxlbWVudCBpcyBiZWluZyB1cGRhdGVkLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1NldHRpbmdzfSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZShlbCwgb3B0aW9ucykge1xuICBpZiAoIWVsKSByZXR1cm47XG4gIHRyaWdnZXIoZWwsICdyaW1nOnVwZGF0ZScpO1xuXG4gIHZhciBpdGVtID0gcGFyc2VJdGVtKGVsLCBvcHRpb25zKTtcblxuICBpZiAoaXRlbS5pc0ltYWdlKSB7XG4gICAgaWYgKCFpdGVtLmlzQmFja2dyb3VuZEltYWdlKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmltZycsICdsYXp5Jyk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3NyY3NldCcsIGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1yaW1nLXRlbXBsYXRlLXN2ZycpKTtcbiAgICB9XG5cbiAgICBsb2FkSW1hZ2UoaXRlbSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaXMgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaW5WaWV3cG9ydChlbCkge1xuICBpZiAoIWVsLm9mZnNldFdpZHRoIHx8ICFlbC5vZmZzZXRIZWlnaHQgfHwgIWVsLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciB3aWR0aCA9IE1hdGgubWluKHJvb3QuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgdmFyIGhlaWdodCA9IE1hdGgubWluKHJvb3QuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHJldHVybiByZWN0LmJvdHRvbSA+PSAwICYmIHJlY3QucmlnaHQgPj0gMCAmJiByZWN0LnRvcCA8PSBoZWlnaHQgJiYgcmVjdC5sZWZ0IDw9IHdpZHRoO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNpemVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB3aWR0aFxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGhlaWdodFxuICovXG5cbi8qKlxuICogQSBmdW5jdGlvbiB0byB0dXJuIGEgdGVtcGxhdGUgc3RyaW5nIGludG8gYSBVUkwuXG4gKlxuICogQGNhbGxiYWNrIFRlbXBsYXRlUmVuZGVyZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wbGF0ZVxuICogQHBhcmFtIHtTaXplfSBzaXplXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2V0dGluZ3NcbiAqXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW3RlbXBsYXRlXVxuICogICAgICAgICAgIEEgdGVtcGxhdGUgc3RyaW5nIHVzZWQgdG8gZ2VuZXJhdGUgVVJMcyBmb3IgYW4gaW1hZ2UuIFRoaXMgYWxsb3dzIHVzIHRvXG4gKiAgICAgICAgICAgZHluYW1pY2FsbHkgbG9hZCBpbWFnZXMgd2l0aCBzaXplcyB0byBtYXRjaCB0aGUgY29udGFpbmVyJ3Mgc2l6ZS5cbiAqXG4gKiBAcHJvcGVydHkge1RlbXBsYXRlUmVuZGVyZXJ9IFt0ZW1wbGF0ZVJlbmRlcl1cbiAqICAgICAgICAgICBBIGZ1bmN0aW9uIHRvIHR1cm4gYSB0ZW1wbGF0ZSBzdHJpbmcgaW50byBhIFVSTC5cbiAqXG4gKiBAcHJvcGVydHkge1NpemV9IFttYXhdXG4gKiAgICAgICAgICAgVGhlIG1heGltdW0gYXZhaWxhYmxlIHNpemUgZm9yIHRoZSBpbWFnZS4gVGhpcyBlbnN1cmVzIHdlIGRvbid0XG4gKiAgICAgICAgICAgdHJ5IHRvIGxvYWQgYW4gaW1hZ2UgbGFyZ2VyIHRoYW4gaXMgcG9zc2libGUuXG4gKlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtzY2FsZV1cbiAqICAgICAgICAgICBBIG51bWJlciB0byBzY2FsZSB0aGUgZmluYWwgaW1hZ2UgZGltZW5zaW9ucyBieS5cbiAqICAgICAgICAgICBPbmx5IGFwcGxpZXMgdG8gbGF6eS1sb2FkZWQgaW1hZ2VzLiBEZWZhdWx0cyB0byAxLlxuICpcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbcm91bmRdXG4gKiAgICAgICAgICAgUm91bmQgaW1hZ2UgZGltZW5zaW9ucyB0byB0aGUgbmVhcmVzdCBtdWx0aXBsZS4gVGhpcyBpcyBpbnRlbmRlZCB0b1xuICogICAgICAgICAgIHRheCB0aGUgaW1hZ2Ugc2VydmVyIGxlc3MgYnkgbG93ZXJpbmcgdGhlIG51bWJlciBvZiBwb3NzaWJsZSBpbWFnZVxuICogICAgICAgICAgIHNpemVzIHJlcXVlc3RlZC5cbiAqXG4gKiBAcHJvcGVydHkge1NpemV9IFtwbGFjZWhvbGRlcl1cbiAqICAgICAgICAgICBUaGUgc2l6ZSBvZiB0aGUgbG8tZmkgaW1hZ2UgdG8gbG9hZCBiZWZvcmUgdGhlIGZ1bGwgaW1hZ2UuXG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IFtjcm9wXVxuICogICAgICAgICAgIENyb3AgdmFsdWU7IG51bGwgaWYgaW1hZ2UgaXMgdW5jcm9wcGVkLCBvdGhlcndpc2UgZXF1YWxcbiAqICAgICAgICAgICB0byB0aGUgU2hvcGlmeSBjcm9wIHBhcmFtZXRlciAoJ2NlbnRlcicsICd0b3AnLCBldGMuKS5cbiAqL1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIHJlc3BvbnNpdmUgaW1hZ2UgaGFuZGxlci5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxOb2RlTGlzdH0gc2VsZWN0b3JcbiAqICAgICAgICBUaGUgQ1NTIHNlbGVjdG9yLCBlbGVtZW50LCBvciBlbGVtZW50cyB0byB0cmFjayBmb3IgbGF6eS1sb2FkaW5nLlxuICpcbiAqIEBwYXJhbSB7U2V0dGluZ3N9IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyB7UHVibGljQXBpfVxuICovXG5mdW5jdGlvbiByaW1nKCkge1xuICB2YXIgc2VsZWN0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdbZGF0YS1yaW1nPVwibGF6eVwiXSc7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAvLyBJbnRlcnNlY3Rpb25zXG4gIHZhciBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykge1xuICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZyB8fCBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApIHtcbiAgICAgICAgaW8udW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG4gICAgICAgIGxvYWQoZW50cnkudGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwge1xuICAgIC8vIFdhdGNoIHRoZSB2aWV3cG9ydCwgd2l0aCAyMCUgdmVydGljYWwgbWFyZ2luc1xuICAgIHJvb3RNYXJnaW46ICcyMCUgMHB4J1xuICB9KTtcblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gUHVibGljQXBpXG4gICAqL1xuICB2YXIgYXBpID0ge1xuICAgIC8qKlxuICAgICAqIFRyYWNrIGEgbmV3IHNlbGVjdG9yLCBlbGVtZW50LCBvciBub2RlbGlzdCBmb3IgbGF6eS1sb2FkaW5nLlxuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8Tm9kZUxpc3R9IHNlbGVjdG9yXG4gICAgICovXG4gICAgdHJhY2s6IGZ1bmN0aW9uIHRyYWNrKCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnW2RhdGEtcmltZz1cImxhenlcIl0nO1xuXG4gICAgICB2YXIgZWxzID0gcXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIElmIGFuIGVsZW1lbnQgaXMgYWxyZWFkeSBpbiB0aGUgdmlld3BvcnQsIGxvYWQgaXQgcmlnaHQgYXdheS4gVGhpc1xuICAgICAgICAvLyBmaXhlcyBhIHJhY2UtY29uZGl0aW9uIHdpdGggZHluYW1pY2FsbHkgYWRkZWQgZWxlbWVudHMuXG4gICAgICAgIGlmIChpblZpZXdwb3J0KGVsc1tpXSkpIHtcbiAgICAgICAgICBsb2FkKGVsc1tpXSwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW8ub2JzZXJ2ZShlbHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGVsZW1lbnQocykgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBsb2FkZWQgdG8gZm9yY2UgdGhlaXIgaW1hZ2VzXG4gICAgICogdG8gYmUgcmVjYWxjdWxhdGVkLlxuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8Tm9kZUxpc3R9IHNlbGVjdG9yXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUkJDEoKSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdbZGF0YS1yaW1nPVwibG9hZGVkXCJdJztcblxuICAgICAgdmFyIGVscyA9IHF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdXBkYXRlKGVsc1tpXSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogU3RvcCB0cmFja2luZyBlbGVtZW50KHMpIGZvciBsYXp5LWxvYWRpbmcuXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxOb2RlTGlzdH0gc2VsZWN0b3JcbiAgICAgKi9cbiAgICB1bnRyYWNrOiBmdW5jdGlvbiB1bnRyYWNrKCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnW2RhdGEtcmltZ10nO1xuXG4gICAgICB2YXIgZWxzID0gcXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpby51bm9ic2VydmUoZWxzW2ldKTtcbiAgICAgIH1cbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBVbmxvYWQgYWxsIGV2ZW50IGhhbmRsZXJzIGFuZCBvYnNlcnZlcnMuXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uIHVubG9hZCgpIHtcbiAgICAgIGlvLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWRkIGluaXRpYWwgZWxlbWVudHNcbiAgYXBpLnRyYWNrKHNlbGVjdG9yKTtcblxuICByZXR1cm4gYXBpO1xufVxuXG4vKipcbiAqIEZpbmRzIGEgZ3JvdXAgb2YgZWxlbWVudHMgb24gdGhlIHBhZ2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8Tm9kZUxpc3R9IHNlbGVjdG9yXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBhcnJheS1saWtlIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gcXVlcnlTZWxlY3RvcihzZWxlY3Rvcikge1xuICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgfVxuXG4gIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIFtzZWxlY3Rvcl07XG4gIH1cblxuICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmltZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/rimg/dist/index.es.js\n");

/***/ }),

/***/ "./node_modules/scriptjs/dist/script.js":
/*!**********************************************!*\
  !*** ./node_modules/scriptjs/dist/script.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  * $script.js JS loader & dependency manager\n  * https://github.com/ded/script.js\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, definition) {\n  if ( true && module.exports) module.exports = definition()\n  else if (true) !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n  else {}\n})('$script', function () {\n  var doc = document\n    , head = doc.getElementsByTagName('head')[0]\n    , s = 'string'\n    , f = false\n    , push = 'push'\n    , readyState = 'readyState'\n    , onreadystatechange = 'onreadystatechange'\n    , list = {}\n    , ids = {}\n    , delay = {}\n    , scripts = {}\n    , scriptpath\n    , urlArgs\n\n  function every(ar, fn) {\n    for (var i = 0, j = ar.length; i < j; ++i) if (!fn(ar[i])) return f\n    return 1\n  }\n  function each(ar, fn) {\n    every(ar, function (el) {\n      fn(el)\n      return 1\n    })\n  }\n\n  function $script(paths, idOrDone, optDone) {\n    paths = paths[push] ? paths : [paths]\n    var idOrDoneIsDone = idOrDone && idOrDone.call\n      , done = idOrDoneIsDone ? idOrDone : optDone\n      , id = idOrDoneIsDone ? paths.join('') : idOrDone\n      , queue = paths.length\n    function loopFn(item) {\n      return item.call ? item() : list[item]\n    }\n    function callback() {\n      if (!--queue) {\n        list[id] = 1\n        done && done()\n        for (var dset in delay) {\n          every(dset.split('|'), loopFn) && !each(delay[dset], loopFn) && (delay[dset] = [])\n        }\n      }\n    }\n    setTimeout(function () {\n      each(paths, function loading(path, force) {\n        if (path === null) return callback()\n        \n        if (!force && !/^https?:\\/\\//.test(path) && scriptpath) {\n          path = (path.indexOf('.js') === -1) ? scriptpath + path + '.js' : scriptpath + path;\n        }\n        \n        if (scripts[path]) {\n          if (id) ids[id] = 1\n          return (scripts[path] == 2) ? callback() : setTimeout(function () { loading(path, true) }, 0)\n        }\n\n        scripts[path] = 1\n        if (id) ids[id] = 1\n        create(path, callback)\n      })\n    }, 0)\n    return $script\n  }\n\n  function create(path, fn) {\n    var el = doc.createElement('script'), loaded\n    el.onload = el.onerror = el[onreadystatechange] = function () {\n      if ((el[readyState] && !(/^c|loade/.test(el[readyState]))) || loaded) return;\n      el.onload = el[onreadystatechange] = null\n      loaded = 1\n      scripts[path] = 2\n      fn()\n    }\n    el.async = 1\n    el.src = urlArgs ? path + (path.indexOf('?') === -1 ? '?' : '&') + urlArgs : path;\n    head.insertBefore(el, head.lastChild)\n  }\n\n  $script.get = create\n\n  $script.order = function (scripts, id, done) {\n    (function callback(s) {\n      s = scripts.shift()\n      !scripts.length ? $script(s, id, done) : $script(s, callback)\n    }())\n  }\n\n  $script.path = function (p) {\n    scriptpath = p\n  }\n  $script.urlArgs = function (str) {\n    urlArgs = str;\n  }\n  $script.ready = function (deps, ready, req) {\n    deps = deps[push] ? deps : [deps]\n    var missing = [];\n    !each(deps, function (dep) {\n      list[dep] || missing[push](dep);\n    }) && every(deps, function (dep) {return list[dep]}) ?\n      ready() : !function (key) {\n      delay[key] = delay[key] || []\n      delay[key][push](ready)\n      req && req(missing)\n    }(deps.join('|'))\n    return $script\n  }\n\n  $script.done = function (idOrDone) {\n    $script([null], idOrDone)\n  }\n\n  return $script\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2NyaXB0anMvZGlzdC9zY3JpcHQuanM/YTIzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxLQUE0QjtBQUNsQyxXQUFXLElBQXlDLEVBQUUsb0NBQU8sVUFBVTtBQUFBO0FBQUE7QUFBQTtBQUFBLG9HQUFDO0FBQ3hFLE9BQU8sRUFBeUI7QUFDaEMsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDLE9BQU87QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZFQUE2RSxzQkFBc0I7QUFDbkc7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGlDQUFpQyxpQkFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3NjcmlwdGpzL2Rpc3Qvc2NyaXB0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gICogJHNjcmlwdC5qcyBKUyBsb2FkZXIgJiBkZXBlbmRlbmN5IG1hbmFnZXJcbiAgKiBodHRwczovL2dpdGh1Yi5jb20vZGVkL3NjcmlwdC5qc1xuICAqIChjKSBEdXN0aW4gRGlheiAyMDE0IHwgTGljZW5zZSBNSVRcbiAgKi9cblxuKGZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uKSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKVxuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgZGVmaW5lKGRlZmluaXRpb24pXG4gIGVsc2UgdGhpc1tuYW1lXSA9IGRlZmluaXRpb24oKVxufSkoJyRzY3JpcHQnLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBkb2MgPSBkb2N1bWVudFxuICAgICwgaGVhZCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdXG4gICAgLCBzID0gJ3N0cmluZydcbiAgICAsIGYgPSBmYWxzZVxuICAgICwgcHVzaCA9ICdwdXNoJ1xuICAgICwgcmVhZHlTdGF0ZSA9ICdyZWFkeVN0YXRlJ1xuICAgICwgb25yZWFkeXN0YXRlY2hhbmdlID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSdcbiAgICAsIGxpc3QgPSB7fVxuICAgICwgaWRzID0ge31cbiAgICAsIGRlbGF5ID0ge31cbiAgICAsIHNjcmlwdHMgPSB7fVxuICAgICwgc2NyaXB0cGF0aFxuICAgICwgdXJsQXJnc1xuXG4gIGZ1bmN0aW9uIGV2ZXJ5KGFyLCBmbikge1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gYXIubGVuZ3RoOyBpIDwgajsgKytpKSBpZiAoIWZuKGFyW2ldKSkgcmV0dXJuIGZcbiAgICByZXR1cm4gMVxuICB9XG4gIGZ1bmN0aW9uIGVhY2goYXIsIGZuKSB7XG4gICAgZXZlcnkoYXIsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgZm4oZWwpXG4gICAgICByZXR1cm4gMVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiAkc2NyaXB0KHBhdGhzLCBpZE9yRG9uZSwgb3B0RG9uZSkge1xuICAgIHBhdGhzID0gcGF0aHNbcHVzaF0gPyBwYXRocyA6IFtwYXRoc11cbiAgICB2YXIgaWRPckRvbmVJc0RvbmUgPSBpZE9yRG9uZSAmJiBpZE9yRG9uZS5jYWxsXG4gICAgICAsIGRvbmUgPSBpZE9yRG9uZUlzRG9uZSA/IGlkT3JEb25lIDogb3B0RG9uZVxuICAgICAgLCBpZCA9IGlkT3JEb25lSXNEb25lID8gcGF0aHMuam9pbignJykgOiBpZE9yRG9uZVxuICAgICAgLCBxdWV1ZSA9IHBhdGhzLmxlbmd0aFxuICAgIGZ1bmN0aW9uIGxvb3BGbihpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5jYWxsID8gaXRlbSgpIDogbGlzdFtpdGVtXVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgIGlmICghLS1xdWV1ZSkge1xuICAgICAgICBsaXN0W2lkXSA9IDFcbiAgICAgICAgZG9uZSAmJiBkb25lKClcbiAgICAgICAgZm9yICh2YXIgZHNldCBpbiBkZWxheSkge1xuICAgICAgICAgIGV2ZXJ5KGRzZXQuc3BsaXQoJ3wnKSwgbG9vcEZuKSAmJiAhZWFjaChkZWxheVtkc2V0XSwgbG9vcEZuKSAmJiAoZGVsYXlbZHNldF0gPSBbXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGVhY2gocGF0aHMsIGZ1bmN0aW9uIGxvYWRpbmcocGF0aCwgZm9yY2UpIHtcbiAgICAgICAgaWYgKHBhdGggPT09IG51bGwpIHJldHVybiBjYWxsYmFjaygpXG4gICAgICAgIFxuICAgICAgICBpZiAoIWZvcmNlICYmICEvXmh0dHBzPzpcXC9cXC8vLnRlc3QocGF0aCkgJiYgc2NyaXB0cGF0aCkge1xuICAgICAgICAgIHBhdGggPSAocGF0aC5pbmRleE9mKCcuanMnKSA9PT0gLTEpID8gc2NyaXB0cGF0aCArIHBhdGggKyAnLmpzJyA6IHNjcmlwdHBhdGggKyBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2NyaXB0c1twYXRoXSkge1xuICAgICAgICAgIGlmIChpZCkgaWRzW2lkXSA9IDFcbiAgICAgICAgICByZXR1cm4gKHNjcmlwdHNbcGF0aF0gPT0gMikgPyBjYWxsYmFjaygpIDogc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGxvYWRpbmcocGF0aCwgdHJ1ZSkgfSwgMClcbiAgICAgICAgfVxuXG4gICAgICAgIHNjcmlwdHNbcGF0aF0gPSAxXG4gICAgICAgIGlmIChpZCkgaWRzW2lkXSA9IDFcbiAgICAgICAgY3JlYXRlKHBhdGgsIGNhbGxiYWNrKVxuICAgICAgfSlcbiAgICB9LCAwKVxuICAgIHJldHVybiAkc2NyaXB0XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGUocGF0aCwgZm4pIHtcbiAgICB2YXIgZWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0JyksIGxvYWRlZFxuICAgIGVsLm9ubG9hZCA9IGVsLm9uZXJyb3IgPSBlbFtvbnJlYWR5c3RhdGVjaGFuZ2VdID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKChlbFtyZWFkeVN0YXRlXSAmJiAhKC9eY3xsb2FkZS8udGVzdChlbFtyZWFkeVN0YXRlXSkpKSB8fCBsb2FkZWQpIHJldHVybjtcbiAgICAgIGVsLm9ubG9hZCA9IGVsW29ucmVhZHlzdGF0ZWNoYW5nZV0gPSBudWxsXG4gICAgICBsb2FkZWQgPSAxXG4gICAgICBzY3JpcHRzW3BhdGhdID0gMlxuICAgICAgZm4oKVxuICAgIH1cbiAgICBlbC5hc3luYyA9IDFcbiAgICBlbC5zcmMgPSB1cmxBcmdzID8gcGF0aCArIChwYXRoLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgdXJsQXJncyA6IHBhdGg7XG4gICAgaGVhZC5pbnNlcnRCZWZvcmUoZWwsIGhlYWQubGFzdENoaWxkKVxuICB9XG5cbiAgJHNjcmlwdC5nZXQgPSBjcmVhdGVcblxuICAkc2NyaXB0Lm9yZGVyID0gZnVuY3Rpb24gKHNjcmlwdHMsIGlkLCBkb25lKSB7XG4gICAgKGZ1bmN0aW9uIGNhbGxiYWNrKHMpIHtcbiAgICAgIHMgPSBzY3JpcHRzLnNoaWZ0KClcbiAgICAgICFzY3JpcHRzLmxlbmd0aCA/ICRzY3JpcHQocywgaWQsIGRvbmUpIDogJHNjcmlwdChzLCBjYWxsYmFjaylcbiAgICB9KCkpXG4gIH1cblxuICAkc2NyaXB0LnBhdGggPSBmdW5jdGlvbiAocCkge1xuICAgIHNjcmlwdHBhdGggPSBwXG4gIH1cbiAgJHNjcmlwdC51cmxBcmdzID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHVybEFyZ3MgPSBzdHI7XG4gIH1cbiAgJHNjcmlwdC5yZWFkeSA9IGZ1bmN0aW9uIChkZXBzLCByZWFkeSwgcmVxKSB7XG4gICAgZGVwcyA9IGRlcHNbcHVzaF0gPyBkZXBzIDogW2RlcHNdXG4gICAgdmFyIG1pc3NpbmcgPSBbXTtcbiAgICAhZWFjaChkZXBzLCBmdW5jdGlvbiAoZGVwKSB7XG4gICAgICBsaXN0W2RlcF0gfHwgbWlzc2luZ1twdXNoXShkZXApO1xuICAgIH0pICYmIGV2ZXJ5KGRlcHMsIGZ1bmN0aW9uIChkZXApIHtyZXR1cm4gbGlzdFtkZXBdfSkgP1xuICAgICAgcmVhZHkoKSA6ICFmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBkZWxheVtrZXldID0gZGVsYXlba2V5XSB8fCBbXVxuICAgICAgZGVsYXlba2V5XVtwdXNoXShyZWFkeSlcbiAgICAgIHJlcSAmJiByZXEobWlzc2luZylcbiAgICB9KGRlcHMuam9pbignfCcpKVxuICAgIHJldHVybiAkc2NyaXB0XG4gIH1cblxuICAkc2NyaXB0LmRvbmUgPSBmdW5jdGlvbiAoaWRPckRvbmUpIHtcbiAgICAkc2NyaXB0KFtudWxsXSwgaWRPckRvbmUpXG4gIH1cblxuICByZXR1cm4gJHNjcmlwdFxufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/scriptjs/dist/script.js\n");

/***/ }),

/***/ "./node_modules/shopify-asyncview/dist/index.es.js":
/*!*********************************************************!*\
  !*** ./node_modules/shopify-asyncview/dist/index.es.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n  /*!\n   * shopify-asyncview v2.0.3\n   * (c) 2019 Pixel Union\n  */\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar deferred = {};\n\nvar AsyncView =\n/*#__PURE__*/\nfunction () {\n  function AsyncView() {\n    _classCallCheck(this, AsyncView);\n  }\n\n  _createClass(AsyncView, null, [{\n    key: \"load\",\n\n    /**\n     * Load the template given by the provided URL into the provided\n     * view\n     *\n     * @param {string} url - The url to load\n     * @param {object} query - An object containing additional query parameters of the URL\n     * @param {string} query.view - A required query parameter indicating which view to load\n     * @param {object} [options] - Config options\n     * @param {string} [options.hash] - A hash of the current page content\n     */\n    value: function load(url) {\n      var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (!('view' in query)) {\n        return Promise.reject(new Error('\\'view\\' not found in \\'query\\' parameter'));\n      }\n\n      var querylessUrl = url.replace(/\\?[^#]+/, '');\n      var queryParamsString = new RegExp(/.+\\?([^#]+)/).exec(url);\n      var queryParams = query;\n\n      if (queryParamsString && queryParamsString.length >= 2) {\n        queryParamsString[1].split('&').forEach(function (param) {\n          var _param$split = param.split('='),\n              _param$split2 = _slicedToArray(_param$split, 2),\n              key = _param$split2[0],\n              value = _param$split2[1];\n\n          queryParams[key] = value;\n        });\n      } // NOTE: We're adding an additional timestamp to the query.\n      // This is to prevent certain browsers from returning cached\n      // versions of the url we are requesting.\n      // See this PR for more info: https://github.com/pixelunion/shopify-asyncview/pull/4\n\n\n      var cachebustingParams = _objectSpread2({}, queryParams, {\n        _: new Date().getTime()\n      });\n\n      var hashUrl = querylessUrl.replace(/([^#]+)(.*)/, function (match, address, hash) {\n        return \"\".concat(address, \"?\").concat(Object.keys(queryParams).sort().map(function (key) {\n          return \"\".concat(key, \"=\").concat(encodeURIComponent(queryParams[key]));\n        }).join('&')).concat(hash);\n      });\n      var requestUrl = querylessUrl.replace(/([^#]+)(.*)/, function (match, address, hash) {\n        return \"\".concat(address, \"?\").concat(Object.keys(cachebustingParams).sort().map(function (key) {\n          return \"\".concat(key, \"=\").concat(encodeURIComponent(cachebustingParams[key]));\n        }).join('&')).concat(hash);\n      });\n      var promise = new Promise(function (resolve, reject) {\n        var data;\n\n        if (hashUrl in deferred) {\n          resolve(deferred[hashUrl]);\n          return;\n        }\n\n        deferred[hashUrl] = promise;\n\n        if (options.hash) {\n          data = sessionStorage.getItem(hashUrl);\n\n          if (data) {\n            var deserialized = JSON.parse(data);\n\n            if (options.hash === deserialized.options.hash) {\n              delete deferred[hashUrl];\n              resolve(deserialized);\n              return;\n            }\n          }\n        }\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', requestUrl, true);\n\n        xhr.onload = function () {\n          var el = xhr.response;\n          var newOptions = {};\n          var optionsEl = el.querySelector('[data-options]');\n\n          if (optionsEl && optionsEl.innerHTML) {\n            newOptions = JSON.parse(el.querySelector('[data-options]').innerHTML);\n          }\n\n          var htmlEls = el.querySelectorAll('[data-html]');\n          var newHtml = {};\n\n          if (htmlEls.length === 1 && htmlEls[0].getAttribute('data-html') === '') {\n            newHtml = htmlEls[0].innerHTML;\n          } else {\n            for (var i = 0; i < htmlEls.length; i++) {\n              newHtml[htmlEls[i].getAttribute('data-html')] = htmlEls[i].innerHTML;\n            }\n          }\n\n          var dataEls = el.querySelectorAll('[data-data]');\n          var newData = {};\n\n          if (dataEls.length === 1 && dataEls[0].getAttribute('data-data') === '') {\n            newData = JSON.parse(dataEls[0].innerHTML);\n          } else {\n            for (var _i = 0; _i < dataEls.length; _i++) {\n              newData[dataEls[_i].getAttribute('data-data')] = JSON.parse(dataEls[_i].innerHTML);\n            }\n          }\n\n          if (options.hash) {\n            try {\n              sessionStorage.setItem(hashUrl, JSON.stringify({\n                options: newOptions,\n                data: newData,\n                html: newHtml\n              }));\n            } catch (error) {\n              console.error(error);\n            }\n          }\n\n          delete deferred[hashUrl];\n          resolve({\n            data: newData,\n            html: newHtml\n          });\n        };\n\n        xhr.onerror = function () {\n          delete deferred[hashUrl];\n          reject();\n        };\n\n        xhr.responseType = 'document';\n        xhr.send();\n      });\n      return promise;\n    }\n  }]);\n\n  return AsyncView;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AsyncView);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hvcGlmeS1hc3luY3ZpZXcvZGlzdC9pbmRleC5lcy5qcz8wODdiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZDQUE2QywrQkFBK0I7QUFDNUU7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBOzs7QUFHQSxnREFBZ0Q7QUFDaEQ7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsMkJBQTJCLG9CQUFvQjtBQUMvQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYLDRCQUE0QixxQkFBcUI7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVjLHdFQUFTLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2hvcGlmeS1hc3luY3ZpZXcvZGlzdC9pbmRleC5lcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuICAvKiFcbiAgICogc2hvcGlmeS1hc3luY3ZpZXcgdjIuMC4zXG4gICAqIChjKSAyMDE5IFBpeGVsIFVuaW9uXG4gICovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICB9KTtcbiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gIH1cblxuICByZXR1cm4ga2V5cztcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICBpZiAoaSAlIDIpIHtcbiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcbiAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xufVxuXG52YXIgZGVmZXJyZWQgPSB7fTtcblxudmFyIEFzeW5jVmlldyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFzeW5jVmlldygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXN5bmNWaWV3KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBc3luY1ZpZXcsIG51bGwsIFt7XG4gICAga2V5OiBcImxvYWRcIixcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHRlbXBsYXRlIGdpdmVuIGJ5IHRoZSBwcm92aWRlZCBVUkwgaW50byB0aGUgcHJvdmlkZWRcbiAgICAgKiB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byBsb2FkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHF1ZXJ5IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBxdWVyeSBwYXJhbWV0ZXJzIG9mIHRoZSBVUkxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkudmlldyAtIEEgcmVxdWlyZWQgcXVlcnkgcGFyYW1ldGVyIGluZGljYXRpbmcgd2hpY2ggdmlldyB0byBsb2FkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIENvbmZpZyBvcHRpb25zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmhhc2hdIC0gQSBoYXNoIG9mIHRoZSBjdXJyZW50IHBhZ2UgY29udGVudFxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKHVybCkge1xuICAgICAgdmFyIHF1ZXJ5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICAgICAgaWYgKCEoJ3ZpZXcnIGluIHF1ZXJ5KSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdcXCd2aWV3XFwnIG5vdCBmb3VuZCBpbiBcXCdxdWVyeVxcJyBwYXJhbWV0ZXInKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBxdWVyeWxlc3NVcmwgPSB1cmwucmVwbGFjZSgvXFw/W14jXSsvLCAnJyk7XG4gICAgICB2YXIgcXVlcnlQYXJhbXNTdHJpbmcgPSBuZXcgUmVnRXhwKC8uK1xcPyhbXiNdKykvKS5leGVjKHVybCk7XG4gICAgICB2YXIgcXVlcnlQYXJhbXMgPSBxdWVyeTtcblxuICAgICAgaWYgKHF1ZXJ5UGFyYW1zU3RyaW5nICYmIHF1ZXJ5UGFyYW1zU3RyaW5nLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zU3RyaW5nWzFdLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICB2YXIgX3BhcmFtJHNwbGl0ID0gcGFyYW0uc3BsaXQoJz0nKSxcbiAgICAgICAgICAgICAgX3BhcmFtJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9wYXJhbSRzcGxpdCwgMiksXG4gICAgICAgICAgICAgIGtleSA9IF9wYXJhbSRzcGxpdDJbMF0sXG4gICAgICAgICAgICAgIHZhbHVlID0gX3BhcmFtJHNwbGl0MlsxXTtcblxuICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIE5PVEU6IFdlJ3JlIGFkZGluZyBhbiBhZGRpdGlvbmFsIHRpbWVzdGFtcCB0byB0aGUgcXVlcnkuXG4gICAgICAvLyBUaGlzIGlzIHRvIHByZXZlbnQgY2VydGFpbiBicm93c2VycyBmcm9tIHJldHVybmluZyBjYWNoZWRcbiAgICAgIC8vIHZlcnNpb25zIG9mIHRoZSB1cmwgd2UgYXJlIHJlcXVlc3RpbmcuXG4gICAgICAvLyBTZWUgdGhpcyBQUiBmb3IgbW9yZSBpbmZvOiBodHRwczovL2dpdGh1Yi5jb20vcGl4ZWx1bmlvbi9zaG9waWZ5LWFzeW5jdmlldy9wdWxsLzRcblxuXG4gICAgICB2YXIgY2FjaGVidXN0aW5nUGFyYW1zID0gX29iamVjdFNwcmVhZDIoe30sIHF1ZXJ5UGFyYW1zLCB7XG4gICAgICAgIF86IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICB9KTtcblxuICAgICAgdmFyIGhhc2hVcmwgPSBxdWVyeWxlc3NVcmwucmVwbGFjZSgvKFteI10rKSguKikvLCBmdW5jdGlvbiAobWF0Y2gsIGFkZHJlc3MsIGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGFkZHJlc3MsIFwiP1wiKS5jb25jYXQoT2JqZWN0LmtleXMocXVlcnlQYXJhbXMpLnNvcnQoKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChrZXksIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5UGFyYW1zW2tleV0pKTtcbiAgICAgICAgfSkuam9pbignJicpKS5jb25jYXQoaGFzaCk7XG4gICAgICB9KTtcbiAgICAgIHZhciByZXF1ZXN0VXJsID0gcXVlcnlsZXNzVXJsLnJlcGxhY2UoLyhbXiNdKykoLiopLywgZnVuY3Rpb24gKG1hdGNoLCBhZGRyZXNzLCBoYXNoKSB7XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChhZGRyZXNzLCBcIj9cIikuY29uY2F0KE9iamVjdC5rZXlzKGNhY2hlYnVzdGluZ1BhcmFtcykuc29ydCgpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGtleSwgXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoY2FjaGVidXN0aW5nUGFyYW1zW2tleV0pKTtcbiAgICAgICAgfSkuam9pbignJicpKS5jb25jYXQoaGFzaCk7XG4gICAgICB9KTtcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZGF0YTtcblxuICAgICAgICBpZiAoaGFzaFVybCBpbiBkZWZlcnJlZCkge1xuICAgICAgICAgIHJlc29sdmUoZGVmZXJyZWRbaGFzaFVybF0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZmVycmVkW2hhc2hVcmxdID0gcHJvbWlzZTtcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgICAgICAgZGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oaGFzaFVybCk7XG5cbiAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRlc2VyaWFsaXplZCA9IEpTT04ucGFyc2UoZGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc2ggPT09IGRlc2VyaWFsaXplZC5vcHRpb25zLmhhc2gpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGRlZmVycmVkW2hhc2hVcmxdO1xuICAgICAgICAgICAgICByZXNvbHZlKGRlc2VyaWFsaXplZCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCByZXF1ZXN0VXJsLCB0cnVlKTtcblxuICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBlbCA9IHhoci5yZXNwb25zZTtcbiAgICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IHt9O1xuICAgICAgICAgIHZhciBvcHRpb25zRWwgPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1vcHRpb25zXScpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnNFbCAmJiBvcHRpb25zRWwuaW5uZXJIVE1MKSB7XG4gICAgICAgICAgICBuZXdPcHRpb25zID0gSlNPTi5wYXJzZShlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1vcHRpb25zXScpLmlubmVySFRNTCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGh0bWxFbHMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1odG1sXScpO1xuICAgICAgICAgIHZhciBuZXdIdG1sID0ge307XG5cbiAgICAgICAgICBpZiAoaHRtbEVscy5sZW5ndGggPT09IDEgJiYgaHRtbEVsc1swXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaHRtbCcpID09PSAnJykge1xuICAgICAgICAgICAgbmV3SHRtbCA9IGh0bWxFbHNbMF0uaW5uZXJIVE1MO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGh0bWxFbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgbmV3SHRtbFtodG1sRWxzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1odG1sJyldID0gaHRtbEVsc1tpXS5pbm5lckhUTUw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGRhdGFFbHMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1kYXRhXScpO1xuICAgICAgICAgIHZhciBuZXdEYXRhID0ge307XG5cbiAgICAgICAgICBpZiAoZGF0YUVscy5sZW5ndGggPT09IDEgJiYgZGF0YUVsc1swXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0YScpID09PSAnJykge1xuICAgICAgICAgICAgbmV3RGF0YSA9IEpTT04ucGFyc2UoZGF0YUVsc1swXS5pbm5lckhUTUwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZGF0YUVscy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgbmV3RGF0YVtkYXRhRWxzW19pXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0YScpXSA9IEpTT04ucGFyc2UoZGF0YUVsc1tfaV0uaW5uZXJIVE1MKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGhhc2hVcmwsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBuZXdPcHRpb25zLFxuICAgICAgICAgICAgICAgIGRhdGE6IG5ld0RhdGEsXG4gICAgICAgICAgICAgICAgaHRtbDogbmV3SHRtbFxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWxldGUgZGVmZXJyZWRbaGFzaFVybF07XG4gICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICBkYXRhOiBuZXdEYXRhLFxuICAgICAgICAgICAgaHRtbDogbmV3SHRtbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRlbGV0ZSBkZWZlcnJlZFtoYXNoVXJsXTtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2RvY3VtZW50JztcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFzeW5jVmlldztcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgQXN5bmNWaWV3O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/shopify-asyncview/dist/index.es.js\n");

/***/ }),

/***/ "./node_modules/shopify-variants/dist/shopify-variants.es.js":
/*!*******************************************************************!*\
  !*** ./node_modules/shopify-variants/dist/shopify-variants.es.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\n/*!\n * shopify-variants v1.4.1\n * (c) 2019 Pixel Union\n */\n\n\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar Node =\n/*#__PURE__*/\nfunction () {\n  function Node(variant) {\n    _classCallCheck(this, Node);\n\n    this.variant = variant;\n    this.optionsCount = this.variant.options.length;\n    this.neighbors = [];\n\n    for (var i = 0; i < this.optionsCount; i++) {\n      this.neighbors.push([]);\n    }\n  }\n\n  _createClass(Node, [{\n    key: \"addNeighbor\",\n    value: function addNeighbor(variant) {\n      for (var i = 0; i < this.optionsCount; i++) {\n        if (this.variant.options[i] !== variant.options[i]) {\n          this.neighbors[i].push(variant);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"getValidOptions\",\n    value: function getValidOptions() {\n      var _this = this;\n\n      var options = [];\n\n      var _loop = function _loop(i) {\n        var variants = [_this.variant].concat(_toConsumableArray(_this.neighbors[i]));\n        options[i] = {};\n        variants.forEach(function (item) {\n          var variant = item;\n          var option = variant.options[i];\n          options[i][option] = {\n            available: options[i][option] && options[i][option].available || variant.available\n          };\n        });\n      };\n\n      for (var i = 0; i < this.optionsCount; i++) {\n        _loop(i);\n      }\n\n      return options;\n    }\n  }]);\n\n  return Node;\n}();\n\nfunction getVariantFromOptions(variants, options) {\n  var variant = null;\n  variants.forEach(function (potentialVariant) {\n    var found = true;\n\n    for (var i = 0; i < potentialVariant.options.length; i++) {\n      if (options[i] !== potentialVariant.options[i]) {\n        found = false;\n      }\n    }\n\n    if (found) {\n      variant = potentialVariant;\n    }\n  });\n  return variant || false;\n}\n\nfunction getClosestVariantFromOptions(variants, options) {\n  var closestVariant = null;\n  var matchingValues = 0;\n  variants.forEach(function (variant) {\n    var tempMatchingValues = 0;\n\n    for (var i = 0; i < variant.options.length; i++) {\n      if (options[i] === variant.options[i]) {\n        tempMatchingValues++;\n      } else {\n        break;\n      }\n    }\n\n    if (tempMatchingValues >= matchingValues) {\n      closestVariant = variant;\n      matchingValues = tempMatchingValues;\n    }\n  });\n  return closestVariant || false;\n}\n\nfunction getVariantOrClosestFromOptions(variants, options) {\n  return getVariantFromOptions(variants, options) || getClosestVariantFromOptions(variants, options);\n}\n\nfunction getAvailableOptionsFromVariant(variants, variant) {\n  var nodeMap = {};\n  variants.forEach(function (v) {\n    nodeMap[v.id] = new Node(v);\n    variants.forEach(function (v2) {\n      nodeMap[v.id].addNeighbor(v2);\n    });\n  });\n  return nodeMap[variant.id].getValidOptions();\n}\n\nvar Variants =\n/*#__PURE__*/\nfunction () {\n  function Variants(product, $variants, $options, config) {\n    var _this = this;\n\n    _classCallCheck(this, Variants);\n\n    var defaultConfig = {\n      disableUnavailableVariants: true,\n      switchCallback: function switchCallback() {},\n      mixedControls: false,\n      optionDataAttribute: 'data-product-option'\n    };\n    this.optionsTypes = {\n      select: 'select',\n      radio: 'input[type=\"radio\"]'\n    };\n    this.events = [];\n    this.product = product;\n    this.optionsCount = this.product.options.length;\n    this.variants = $variants.get(0);\n    this.options = $options.get();\n    this.selectOptions = this.options.filter(function (option) {\n      return option.matches(_this.optionsTypes.select);\n    });\n    this.radioOptions = this.options.filter(function (option) {\n      return option.matches(_this.optionsTypes.radio);\n    });\n    this.config = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(defaultConfig, config);\n\n    if (this.selectOptions.length === 0 && this.radioOptions.length === 0) {\n      console.warn('Shopify Variants: Option set is not a valid type');\n    }\n\n    this._bindEvents();\n\n    this._switchVariant(this._getSelectedOptions(), true);\n  }\n\n  _createClass(Variants, [{\n    key: \"isDefault\",\n    value: function isDefault() {\n      return this.product.variants[0].public_title === null;\n    }\n  }, {\n    key: \"getSelectedVariant\",\n    value: function getSelectedVariant() {\n      if (this.isDefault()) {\n        return this.product.variants[0];\n      }\n\n      return getVariantFromOptions(this.product.variants, this._getSelectedOptions());\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this._unbindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      for (var i = 0; i < this.options.length; i++) {\n        var option = this.options[i];\n\n        var fn = function fn(event) {\n          var target = event.target;\n\n          if (_this2.config.mixedControls) {\n            _this2._switchVariant(_this2._getSelectedOptionsMixed());\n          } else if (target.matches(_this2.optionsTypes.select)) {\n            _this2._switchVariant(_this2._getSelectedOptionsSelect());\n          } else if (target.matches(_this2.optionsTypes.radio)) {\n            _this2._switchVariant(_this2._getSelectedOptionsRadio());\n          }\n        };\n\n        option.addEventListener('change', fn);\n        this.events.push({\n          el: option,\n          fn: fn\n        });\n      }\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      this.events.forEach(function (_ref) {\n        var el = _ref.el,\n            fn = _ref.fn;\n        return el.removeEventListener('change', fn);\n      });\n    }\n  }, {\n    key: \"_getSelectedOptions\",\n    value: function _getSelectedOptions() {\n      // Note that we only support 1 mixed set of controls, or multiple complete sets\n      // of selects and/or radios but not multiple mixed sets.\n      if (this.config.mixedControls) {\n        return this._getSelectedOptionsMixed();\n      } // If multiple complete sets are present, we can can/do assume that all controls\n      // are in sync, because shopify-variants keeps them that way.\n\n\n      if (this.selectOptions.length > 0) {\n        return this._getSelectedOptionsSelect();\n      }\n\n      if (this.radioOptions.length > 0) {\n        return this._getSelectedOptionsRadio();\n      }\n\n      return [];\n    }\n  }, {\n    key: \"_getSelectedOptionsMixed\",\n    value: function _getSelectedOptionsMixed() {\n      var options = [];\n      this.selectOptions.forEach(function (option) {\n        var optionNumber = parseInt(option.dataset.productOption, 10);\n        options[optionNumber] = option.value;\n      });\n      this.radioOptions.forEach(function (option) {\n        if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(option).is(':checked')) {\n          var optionNumber = parseInt(option.dataset.productOption, 10);\n          options[optionNumber] = option.value;\n        }\n      });\n      return options;\n    }\n  }, {\n    key: \"_getSelectedOptionsSelect\",\n    value: function _getSelectedOptionsSelect() {\n      var options = [];\n\n      for (var i = 0; i < this.selectOptions.length; i++) {\n        var option = this.selectOptions[i];\n        options.push(option.value);\n      }\n\n      return options;\n    }\n  }, {\n    key: \"_getSelectedOptionsRadio\",\n    value: function _getSelectedOptionsRadio() {\n      var options = [];\n\n      for (var i = 0; i < this.radioOptions.length; i++) {\n        var option = this.radioOptions[i];\n\n        if (option.checked) {\n          options.push(option.value);\n        }\n      }\n\n      return options;\n    }\n  }, {\n    key: \"selectVariant\",\n    value: function selectVariant(id) {\n      var targetVariant = this.product.variants.filter(function (variant) {\n        return variant.id === id;\n      })[0];\n\n      if (targetVariant) {\n        this._switchVariant(targetVariant.options);\n      }\n    }\n  }, {\n    key: \"_switchVariant\",\n    value: function _switchVariant() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._getSelectedOptions();\n      var firstLoad = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var product = this.product;\n      var variant = null;\n      var availableOptions = null;\n      variant = getVariantOrClosestFromOptions(product.variants, options);\n\n      if (!variant) {\n        return;\n      }\n\n      availableOptions = getAvailableOptionsFromVariant(product.variants, variant);\n\n      this._switchVariantSelect(variant, availableOptions);\n\n      this._switchVariantRadio(variant, availableOptions);\n\n      this.variants.value = variant.id; // Trigger event, IE11 compatible but could be deprecated in the future\n\n      var event = document.createEvent('Event');\n      event.initEvent('change', true, false);\n      this.variants.dispatchEvent(event);\n      var data = {\n        product: product,\n        variant: variant,\n        firstLoad: firstLoad\n      };\n      this.config.switchCallback(data);\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).trigger('shopify-variants:switch-variant', data);\n    }\n  }, {\n    key: \"_switchVariantSelect\",\n    value: function _switchVariantSelect(variant, availableOptions) {\n      if (this.selectOptions.length === 0) {\n        return;\n      } // Iterate over each option type\n\n\n      for (var i = 0; i < this.product.options.length; i++) {\n        // Corresponding select dropdown, if it exists\n        var input = null;\n\n        if (this.config.mixedControls) {\n          for (var j = 0; j < this.selectOptions.length; j++) {\n            var option = this.selectOptions[j];\n\n            if (option.matches(\"[\".concat(this.config.optionDataAttribute, \"=\\\"\").concat(i, \"\\\"]\"))) {\n              input = option;\n              break;\n            }\n          }\n        } else {\n          // For non-mixed controls, we assume select elements match the order and number of options\n          input = this.selectOptions[i];\n        }\n\n        if (input) {\n          // Iterate over each option on dropdown\n          var options = input.querySelectorAll('option');\n\n          for (var _j = 0; _j < options.length; _j++) {\n            var _option = options[_j];\n            var value = _option.value; // Not an available option\n\n            _option.disabled = !availableOptions[i][value] || !availableOptions[i][value].available && this.config.disableUnavailableVariants;\n            _option.selected = false; // Dropdown option matches variant option\n\n            if (variant.options[i] === value) {\n              _option.disabled = false;\n              _option.selected = true;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_switchVariantRadio\",\n    value: function _switchVariantRadio(variant, availableOptions) {\n      var _this3 = this;\n\n      if (this.radioOptions.length === 0) {\n        return;\n      }\n\n      for (var i = 0; i < this.radioOptions.length; i++) {\n        var option = this.radioOptions[i];\n        option.disabled = true;\n        option.checked = false;\n        option.setAttribute('data-soldout', false);\n      }\n\n      var _loop = function _loop(_i) {\n        var selector = encodeURIComponent(_this3.product.options[_i]).replace(/%20/g, '+').replace(/[!'()*]/g, function (_char) {\n          return \"%\".concat(_char.charCodeAt(0).toString(16).toUpperCase());\n        });\n\n        var options = _this3.radioOptions.filter(function (option) {\n          return option.matches(\"[name=\\\"\".concat(selector, \"\\\"]\"));\n        });\n\n        for (var j = 0; j < options.length; j++) {\n          var _option2 = options[j];\n\n          if (variant.options[_i] === _option2.value) {\n            _option2.checked = true;\n          }\n\n          if (availableOptions[_i][_option2.value]) {\n            _option2.disabled = false;\n\n            if (!availableOptions[_i][_option2.value].available && _this3.config.disableUnavailableVariants) {\n              _option2.disabled = true;\n\n              _option2.setAttribute('data-soldout', true);\n            }\n          }\n        }\n      };\n\n      for (var _i = 0; _i < this.product.options.length; _i++) {\n        _loop(_i);\n      }\n    }\n  }]);\n\n  return Variants;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Variants);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hvcGlmeS12YXJpYW50cy9kaXN0L3Nob3BpZnktdmFyaWFudHMuZXMuanM/NWFmZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVCOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaURBQWlELGdCQUFnQjs7QUFFakU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQSxxQkFBcUIsdUJBQXVCO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixxQ0FBcUM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsNEJBQTRCO0FBQy9DO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFD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YXJpYW50cy5lcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyohXG4gKiBzaG9waWZ5LXZhcmlhbnRzIHYxLjQuMVxuICogKGMpIDIwMTkgUGl4ZWwgVW5pb25cbiAqL1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG59XG5cbnZhciBOb2RlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTm9kZSh2YXJpYW50KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vZGUpO1xuXG4gICAgdGhpcy52YXJpYW50ID0gdmFyaWFudDtcbiAgICB0aGlzLm9wdGlvbnNDb3VudCA9IHRoaXMudmFyaWFudC5vcHRpb25zLmxlbmd0aDtcbiAgICB0aGlzLm5laWdoYm9ycyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnNDb3VudDsgaSsrKSB7XG4gICAgICB0aGlzLm5laWdoYm9ycy5wdXNoKFtdKTtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTm9kZSwgW3tcbiAgICBrZXk6IFwiYWRkTmVpZ2hib3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTmVpZ2hib3IodmFyaWFudCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnNDb3VudDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnZhcmlhbnQub3B0aW9uc1tpXSAhPT0gdmFyaWFudC5vcHRpb25zW2ldKSB7XG4gICAgICAgICAgdGhpcy5uZWlnaGJvcnNbaV0ucHVzaCh2YXJpYW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRWYWxpZE9wdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsaWRPcHRpb25zKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIG9wdGlvbnMgPSBbXTtcblxuICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgICB2YXIgdmFyaWFudHMgPSBbX3RoaXMudmFyaWFudF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5uZWlnaGJvcnNbaV0pKTtcbiAgICAgICAgb3B0aW9uc1tpXSA9IHt9O1xuICAgICAgICB2YXJpYW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgdmFyIHZhcmlhbnQgPSBpdGVtO1xuICAgICAgICAgIHZhciBvcHRpb24gPSB2YXJpYW50Lm9wdGlvbnNbaV07XG4gICAgICAgICAgb3B0aW9uc1tpXVtvcHRpb25dID0ge1xuICAgICAgICAgICAgYXZhaWxhYmxlOiBvcHRpb25zW2ldW29wdGlvbl0gJiYgb3B0aW9uc1tpXVtvcHRpb25dLmF2YWlsYWJsZSB8fCB2YXJpYW50LmF2YWlsYWJsZVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnNDb3VudDsgaSsrKSB7XG4gICAgICAgIF9sb29wKGkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTm9kZTtcbn0oKTtcblxuZnVuY3Rpb24gZ2V0VmFyaWFudEZyb21PcHRpb25zKHZhcmlhbnRzLCBvcHRpb25zKSB7XG4gIHZhciB2YXJpYW50ID0gbnVsbDtcbiAgdmFyaWFudHMuZm9yRWFjaChmdW5jdGlvbiAocG90ZW50aWFsVmFyaWFudCkge1xuICAgIHZhciBmb3VuZCA9IHRydWU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvdGVudGlhbFZhcmlhbnQub3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9wdGlvbnNbaV0gIT09IHBvdGVudGlhbFZhcmlhbnQub3B0aW9uc1tpXSkge1xuICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmb3VuZCkge1xuICAgICAgdmFyaWFudCA9IHBvdGVudGlhbFZhcmlhbnQ7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHZhcmlhbnQgfHwgZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldENsb3Nlc3RWYXJpYW50RnJvbU9wdGlvbnModmFyaWFudHMsIG9wdGlvbnMpIHtcbiAgdmFyIGNsb3Nlc3RWYXJpYW50ID0gbnVsbDtcbiAgdmFyIG1hdGNoaW5nVmFsdWVzID0gMDtcbiAgdmFyaWFudHMuZm9yRWFjaChmdW5jdGlvbiAodmFyaWFudCkge1xuICAgIHZhciB0ZW1wTWF0Y2hpbmdWYWx1ZXMgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJpYW50Lm9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChvcHRpb25zW2ldID09PSB2YXJpYW50Lm9wdGlvbnNbaV0pIHtcbiAgICAgICAgdGVtcE1hdGNoaW5nVmFsdWVzKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGVtcE1hdGNoaW5nVmFsdWVzID49IG1hdGNoaW5nVmFsdWVzKSB7XG4gICAgICBjbG9zZXN0VmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICBtYXRjaGluZ1ZhbHVlcyA9IHRlbXBNYXRjaGluZ1ZhbHVlcztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xvc2VzdFZhcmlhbnQgfHwgZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFZhcmlhbnRPckNsb3Nlc3RGcm9tT3B0aW9ucyh2YXJpYW50cywgb3B0aW9ucykge1xuICByZXR1cm4gZ2V0VmFyaWFudEZyb21PcHRpb25zKHZhcmlhbnRzLCBvcHRpb25zKSB8fCBnZXRDbG9zZXN0VmFyaWFudEZyb21PcHRpb25zKHZhcmlhbnRzLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXZhaWxhYmxlT3B0aW9uc0Zyb21WYXJpYW50KHZhcmlhbnRzLCB2YXJpYW50KSB7XG4gIHZhciBub2RlTWFwID0ge307XG4gIHZhcmlhbnRzLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICBub2RlTWFwW3YuaWRdID0gbmV3IE5vZGUodik7XG4gICAgdmFyaWFudHMuZm9yRWFjaChmdW5jdGlvbiAodjIpIHtcbiAgICAgIG5vZGVNYXBbdi5pZF0uYWRkTmVpZ2hib3IodjIpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIG5vZGVNYXBbdmFyaWFudC5pZF0uZ2V0VmFsaWRPcHRpb25zKCk7XG59XG5cbnZhciBWYXJpYW50cyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFZhcmlhbnRzKHByb2R1Y3QsICR2YXJpYW50cywgJG9wdGlvbnMsIGNvbmZpZykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmFyaWFudHMpO1xuXG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XG4gICAgICBkaXNhYmxlVW5hdmFpbGFibGVWYXJpYW50czogdHJ1ZSxcbiAgICAgIHN3aXRjaENhbGxiYWNrOiBmdW5jdGlvbiBzd2l0Y2hDYWxsYmFjaygpIHt9LFxuICAgICAgbWl4ZWRDb250cm9sczogZmFsc2UsXG4gICAgICBvcHRpb25EYXRhQXR0cmlidXRlOiAnZGF0YS1wcm9kdWN0LW9wdGlvbidcbiAgICB9O1xuICAgIHRoaXMub3B0aW9uc1R5cGVzID0ge1xuICAgICAgc2VsZWN0OiAnc2VsZWN0JyxcbiAgICAgIHJhZGlvOiAnaW5wdXRbdHlwZT1cInJhZGlvXCJdJ1xuICAgIH07XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICB0aGlzLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgIHRoaXMub3B0aW9uc0NvdW50ID0gdGhpcy5wcm9kdWN0Lm9wdGlvbnMubGVuZ3RoO1xuICAgIHRoaXMudmFyaWFudHMgPSAkdmFyaWFudHMuZ2V0KDApO1xuICAgIHRoaXMub3B0aW9ucyA9ICRvcHRpb25zLmdldCgpO1xuICAgIHRoaXMuc2VsZWN0T3B0aW9ucyA9IHRoaXMub3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgcmV0dXJuIG9wdGlvbi5tYXRjaGVzKF90aGlzLm9wdGlvbnNUeXBlcy5zZWxlY3QpO1xuICAgIH0pO1xuICAgIHRoaXMucmFkaW9PcHRpb25zID0gdGhpcy5vcHRpb25zLmZpbHRlcihmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICByZXR1cm4gb3B0aW9uLm1hdGNoZXMoX3RoaXMub3B0aW9uc1R5cGVzLnJhZGlvKTtcbiAgICB9KTtcbiAgICB0aGlzLmNvbmZpZyA9ICQuZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XG5cbiAgICBpZiAodGhpcy5zZWxlY3RPcHRpb25zLmxlbmd0aCA9PT0gMCAmJiB0aGlzLnJhZGlvT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUud2FybignU2hvcGlmeSBWYXJpYW50czogT3B0aW9uIHNldCBpcyBub3QgYSB2YWxpZCB0eXBlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuXG4gICAgdGhpcy5fc3dpdGNoVmFyaWFudCh0aGlzLl9nZXRTZWxlY3RlZE9wdGlvbnMoKSwgdHJ1ZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVmFyaWFudHMsIFt7XG4gICAga2V5OiBcImlzRGVmYXVsdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0RlZmF1bHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9kdWN0LnZhcmlhbnRzWzBdLnB1YmxpY190aXRsZSA9PT0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2VsZWN0ZWRWYXJpYW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkVmFyaWFudCgpIHtcbiAgICAgIGlmICh0aGlzLmlzRGVmYXVsdCgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3QudmFyaWFudHNbMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRWYXJpYW50RnJvbU9wdGlvbnModGhpcy5wcm9kdWN0LnZhcmlhbnRzLCB0aGlzLl9nZXRTZWxlY3RlZE9wdGlvbnMoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVubG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmxvYWQoKSB7XG4gICAgICB0aGlzLl91bmJpbmRFdmVudHMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2JpbmRFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2JpbmRFdmVudHMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9wdGlvbiA9IHRoaXMub3B0aW9uc1tpXTtcblxuICAgICAgICB2YXIgZm4gPSBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgICBpZiAoX3RoaXMyLmNvbmZpZy5taXhlZENvbnRyb2xzKSB7XG4gICAgICAgICAgICBfdGhpczIuX3N3aXRjaFZhcmlhbnQoX3RoaXMyLl9nZXRTZWxlY3RlZE9wdGlvbnNNaXhlZCgpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5tYXRjaGVzKF90aGlzMi5vcHRpb25zVHlwZXMuc2VsZWN0KSkge1xuICAgICAgICAgICAgX3RoaXMyLl9zd2l0Y2hWYXJpYW50KF90aGlzMi5fZ2V0U2VsZWN0ZWRPcHRpb25zU2VsZWN0KCkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0Lm1hdGNoZXMoX3RoaXMyLm9wdGlvbnNUeXBlcy5yYWRpbykpIHtcbiAgICAgICAgICAgIF90aGlzMi5fc3dpdGNoVmFyaWFudChfdGhpczIuX2dldFNlbGVjdGVkT3B0aW9uc1JhZGlvKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZm4pO1xuICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICBlbDogb3B0aW9uLFxuICAgICAgICAgIGZuOiBmblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3VuYmluZEV2ZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5iaW5kRXZlbnRzKCkge1xuICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgZWwgPSBfcmVmLmVsLFxuICAgICAgICAgICAgZm4gPSBfcmVmLmZuO1xuICAgICAgICByZXR1cm4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZm4pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTZWxlY3RlZE9wdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNlbGVjdGVkT3B0aW9ucygpIHtcbiAgICAgIC8vIE5vdGUgdGhhdCB3ZSBvbmx5IHN1cHBvcnQgMSBtaXhlZCBzZXQgb2YgY29udHJvbHMsIG9yIG11bHRpcGxlIGNvbXBsZXRlIHNldHNcbiAgICAgIC8vIG9mIHNlbGVjdHMgYW5kL29yIHJhZGlvcyBidXQgbm90IG11bHRpcGxlIG1peGVkIHNldHMuXG4gICAgICBpZiAodGhpcy5jb25maWcubWl4ZWRDb250cm9scykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U2VsZWN0ZWRPcHRpb25zTWl4ZWQoKTtcbiAgICAgIH0gLy8gSWYgbXVsdGlwbGUgY29tcGxldGUgc2V0cyBhcmUgcHJlc2VudCwgd2UgY2FuIGNhbi9kbyBhc3N1bWUgdGhhdCBhbGwgY29udHJvbHNcbiAgICAgIC8vIGFyZSBpbiBzeW5jLCBiZWNhdXNlIHNob3BpZnktdmFyaWFudHMga2VlcHMgdGhlbSB0aGF0IHdheS5cblxuXG4gICAgICBpZiAodGhpcy5zZWxlY3RPcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFNlbGVjdGVkT3B0aW9uc1NlbGVjdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5yYWRpb09wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U2VsZWN0ZWRPcHRpb25zUmFkaW8oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0U2VsZWN0ZWRPcHRpb25zTWl4ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNlbGVjdGVkT3B0aW9uc01peGVkKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBbXTtcbiAgICAgIHRoaXMuc2VsZWN0T3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbk51bWJlciA9IHBhcnNlSW50KG9wdGlvbi5kYXRhc2V0LnByb2R1Y3RPcHRpb24sIDEwKTtcbiAgICAgICAgb3B0aW9uc1tvcHRpb25OdW1iZXJdID0gb3B0aW9uLnZhbHVlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJhZGlvT3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgaWYgKCQob3B0aW9uKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgIHZhciBvcHRpb25OdW1iZXIgPSBwYXJzZUludChvcHRpb24uZGF0YXNldC5wcm9kdWN0T3B0aW9uLCAxMCk7XG4gICAgICAgICAgb3B0aW9uc1tvcHRpb25OdW1iZXJdID0gb3B0aW9uLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0U2VsZWN0ZWRPcHRpb25zU2VsZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTZWxlY3RlZE9wdGlvbnNTZWxlY3QoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0T3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3B0aW9uID0gdGhpcy5zZWxlY3RPcHRpb25zW2ldO1xuICAgICAgICBvcHRpb25zLnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTZWxlY3RlZE9wdGlvbnNSYWRpb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U2VsZWN0ZWRPcHRpb25zUmFkaW8oKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFkaW9PcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvcHRpb24gPSB0aGlzLnJhZGlvT3B0aW9uc1tpXTtcblxuICAgICAgICBpZiAob3B0aW9uLmNoZWNrZWQpIHtcbiAgICAgICAgICBvcHRpb25zLnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0VmFyaWFudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RWYXJpYW50KGlkKSB7XG4gICAgICB2YXIgdGFyZ2V0VmFyaWFudCA9IHRoaXMucHJvZHVjdC52YXJpYW50cy5maWx0ZXIoZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgcmV0dXJuIHZhcmlhbnQuaWQgPT09IGlkO1xuICAgICAgfSlbMF07XG5cbiAgICAgIGlmICh0YXJnZXRWYXJpYW50KSB7XG4gICAgICAgIHRoaXMuX3N3aXRjaFZhcmlhbnQodGFyZ2V0VmFyaWFudC5vcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3N3aXRjaFZhcmlhbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3N3aXRjaFZhcmlhbnQoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5fZ2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgICB2YXIgZmlyc3RMb2FkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgIHZhciBwcm9kdWN0ID0gdGhpcy5wcm9kdWN0O1xuICAgICAgdmFyIHZhcmlhbnQgPSBudWxsO1xuICAgICAgdmFyIGF2YWlsYWJsZU9wdGlvbnMgPSBudWxsO1xuICAgICAgdmFyaWFudCA9IGdldFZhcmlhbnRPckNsb3Nlc3RGcm9tT3B0aW9ucyhwcm9kdWN0LnZhcmlhbnRzLCBvcHRpb25zKTtcblxuICAgICAgaWYgKCF2YXJpYW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXZhaWxhYmxlT3B0aW9ucyA9IGdldEF2YWlsYWJsZU9wdGlvbnNGcm9tVmFyaWFudChwcm9kdWN0LnZhcmlhbnRzLCB2YXJpYW50KTtcblxuICAgICAgdGhpcy5fc3dpdGNoVmFyaWFudFNlbGVjdCh2YXJpYW50LCBhdmFpbGFibGVPcHRpb25zKTtcblxuICAgICAgdGhpcy5fc3dpdGNoVmFyaWFudFJhZGlvKHZhcmlhbnQsIGF2YWlsYWJsZU9wdGlvbnMpO1xuXG4gICAgICB0aGlzLnZhcmlhbnRzLnZhbHVlID0gdmFyaWFudC5pZDsgLy8gVHJpZ2dlciBldmVudCwgSUUxMSBjb21wYXRpYmxlIGJ1dCBjb3VsZCBiZSBkZXByZWNhdGVkIGluIHRoZSBmdXR1cmVcblxuICAgICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICBldmVudC5pbml0RXZlbnQoJ2NoYW5nZScsIHRydWUsIGZhbHNlKTtcbiAgICAgIHRoaXMudmFyaWFudHMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgcHJvZHVjdDogcHJvZHVjdCxcbiAgICAgICAgdmFyaWFudDogdmFyaWFudCxcbiAgICAgICAgZmlyc3RMb2FkOiBmaXJzdExvYWRcbiAgICAgIH07XG4gICAgICB0aGlzLmNvbmZpZy5zd2l0Y2hDYWxsYmFjayhkYXRhKTtcbiAgICAgICQod2luZG93KS50cmlnZ2VyKCdzaG9waWZ5LXZhcmlhbnRzOnN3aXRjaC12YXJpYW50JywgZGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zd2l0Y2hWYXJpYW50U2VsZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zd2l0Y2hWYXJpYW50U2VsZWN0KHZhcmlhbnQsIGF2YWlsYWJsZU9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdE9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gSXRlcmF0ZSBvdmVyIGVhY2ggb3B0aW9uIHR5cGVcblxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvZHVjdC5vcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIENvcnJlc3BvbmRpbmcgc2VsZWN0IGRyb3Bkb3duLCBpZiBpdCBleGlzdHNcbiAgICAgICAgdmFyIGlucHV0ID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcubWl4ZWRDb250cm9scykge1xuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5zZWxlY3RPcHRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gdGhpcy5zZWxlY3RPcHRpb25zW2pdO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9uLm1hdGNoZXMoXCJbXCIuY29uY2F0KHRoaXMuY29uZmlnLm9wdGlvbkRhdGFBdHRyaWJ1dGUsIFwiPVxcXCJcIikuY29uY2F0KGksIFwiXFxcIl1cIikpKSB7XG4gICAgICAgICAgICAgIGlucHV0ID0gb3B0aW9uO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRm9yIG5vbi1taXhlZCBjb250cm9scywgd2UgYXNzdW1lIHNlbGVjdCBlbGVtZW50cyBtYXRjaCB0aGUgb3JkZXIgYW5kIG51bWJlciBvZiBvcHRpb25zXG4gICAgICAgICAgaW5wdXQgPSB0aGlzLnNlbGVjdE9wdGlvbnNbaV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgZWFjaCBvcHRpb24gb24gZHJvcGRvd25cbiAgICAgICAgICB2YXIgb3B0aW9ucyA9IGlucHV0LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpO1xuXG4gICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IG9wdGlvbnMubGVuZ3RoOyBfaisrKSB7XG4gICAgICAgICAgICB2YXIgX29wdGlvbiA9IG9wdGlvbnNbX2pdO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gX29wdGlvbi52YWx1ZTsgLy8gTm90IGFuIGF2YWlsYWJsZSBvcHRpb25cblxuICAgICAgICAgICAgX29wdGlvbi5kaXNhYmxlZCA9ICFhdmFpbGFibGVPcHRpb25zW2ldW3ZhbHVlXSB8fCAhYXZhaWxhYmxlT3B0aW9uc1tpXVt2YWx1ZV0uYXZhaWxhYmxlICYmIHRoaXMuY29uZmlnLmRpc2FibGVVbmF2YWlsYWJsZVZhcmlhbnRzO1xuICAgICAgICAgICAgX29wdGlvbi5zZWxlY3RlZCA9IGZhbHNlOyAvLyBEcm9wZG93biBvcHRpb24gbWF0Y2hlcyB2YXJpYW50IG9wdGlvblxuXG4gICAgICAgICAgICBpZiAodmFyaWFudC5vcHRpb25zW2ldID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICBfb3B0aW9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIF9vcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc3dpdGNoVmFyaWFudFJhZGlvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zd2l0Y2hWYXJpYW50UmFkaW8odmFyaWFudCwgYXZhaWxhYmxlT3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnJhZGlvT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFkaW9PcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvcHRpb24gPSB0aGlzLnJhZGlvT3B0aW9uc1tpXTtcbiAgICAgICAgb3B0aW9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgb3B0aW9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zb2xkb3V0JywgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChfaSkge1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSBlbmNvZGVVUklDb21wb25lbnQoX3RoaXMzLnByb2R1Y3Qub3B0aW9uc1tfaV0pLnJlcGxhY2UoLyUyMC9nLCAnKycpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKF9jaGFyKSB7XG4gICAgICAgICAgcmV0dXJuIFwiJVwiLmNvbmNhdChfY2hhci5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpczMucmFkaW9PcHRpb25zLmZpbHRlcihmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIG9wdGlvbi5tYXRjaGVzKFwiW25hbWU9XFxcIlwiLmNvbmNhdChzZWxlY3RvciwgXCJcXFwiXVwiKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb3B0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBfb3B0aW9uMiA9IG9wdGlvbnNbal07XG5cbiAgICAgICAgICBpZiAodmFyaWFudC5vcHRpb25zW19pXSA9PT0gX29wdGlvbjIudmFsdWUpIHtcbiAgICAgICAgICAgIF9vcHRpb24yLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhdmFpbGFibGVPcHRpb25zW19pXVtfb3B0aW9uMi52YWx1ZV0pIHtcbiAgICAgICAgICAgIF9vcHRpb24yLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICghYXZhaWxhYmxlT3B0aW9uc1tfaV1bX29wdGlvbjIudmFsdWVdLmF2YWlsYWJsZSAmJiBfdGhpczMuY29uZmlnLmRpc2FibGVVbmF2YWlsYWJsZVZhcmlhbnRzKSB7XG4gICAgICAgICAgICAgIF9vcHRpb24yLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBfb3B0aW9uMi5zZXRBdHRyaWJ1dGUoJ2RhdGEtc29sZG91dCcsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMucHJvZHVjdC5vcHRpb25zLmxlbmd0aDsgX2krKykge1xuICAgICAgICBfbG9vcChfaSk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFZhcmlhbnRzO1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBWYXJpYW50cztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/shopify-variants/dist/shopify-variants.es.js\n");

/***/ }),

/***/ "./node_modules/twitter-fetcher/js/twitterFetcher_min.js":
/*!***************************************************************!*\
  !*** ./node_modules/twitter-fetcher/js/twitterFetcher_min.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*********************************************************************\n * @license\n*  #### Twitter Post Fetcher v17.1.0 ####\n*  Coded by Jason Mayes 2015. A present to all the developers out there.\n*  www.jasonmayes.com\n*  Please keep this disclaimer with my code if you use it. Thanks. :-)\n*  Got feedback or questions, ask here:\n*  http://www.jasonmayes.com/projects/twitterApi/\n*  Github: https://github.com/jasonmayes/Twitter-Post-Fetcher\n*  Updates will be posted to this site.\n*********************************************************************/\n!function(e,t){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined}(0,function(){var _=\"\",y=20,T=!0,k=[],C=!1,x=!0,E=!0,N=null,A=!0,I=!0,B=null,L=!0,M=!1,i=!1,R=!1,H=!0,a=\"en\",j=!0,q=!1,n=null;function P(e){return e.replace(/<b[^>]*>(.*?)<\\/b>/gi,function(e,t){return t}).replace(/class=\"(?!(tco-hidden|tco-display|tco-ellipsis))+.*?\"|data-query-source=\".*?\"|dir=\".*?\"|rel=\".*?\"/gi,\"\")}function S(e){for(var t=e.getElementsByTagName(\"a\"),i=t.length-1;0<=i;i--)t[i].setAttribute(\"target\",\"_blank\")}function U(e,t){for(var i=[],a=new RegExp(\"(^| )\"+t+\"( |$)\"),n=e.getElementsByTagName(\"*\"),s=0,l=n.length;s<l;s++)a.test(n[s].className)&&i.push(n[s]);return i}function F(e){if(void 0!==e&&0<=e.innerHTML.indexOf(\"data-image\")){var t=e.innerHTML.split('data-image=\"')[1].split('\"')[0];return decodeURIComponent(t)+\".jpg\"}}var O={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction=\"default\"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.showReplies&&(e.showReplies=!1),void 0===e.useEmoji&&(e.useEmoji=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),void 0===e.dataOnly&&(e.dataOnly=!1),C)k.push(e);else{C=!0,_=e.domId,y=e.maxTweets,T=e.enableLinks,E=e.showUser,x=e.showTime,I=e.showRetweet,N=e.dateFunction,B=e.customCallback,L=e.showInteraction,M=e.showImages,i=e.showReplies,R=e.useEmoji,H=e.linksInNewWindow,j=e.showPermalinks,q=e.dataOnly;var t=document.getElementsByTagName(\"head\")[0];null!==n&&t.removeChild(n),(n=document.createElement(\"script\")).type=\"text/javascript\",void 0!==e.list?n.src=\"https://syndication.twitter.com/timeline/list?callback=__twttrf.callback&dnt=false&list_slug=\"+e.list.listSlug+\"&screen_name=\"+e.list.screenName+\"&suppress_response_codes=true&lang=\"+(e.lang||a)+\"&rnd=\"+Math.random():void 0!==e.profile?n.src=\"https://syndication.twitter.com/timeline/profile?callback=__twttrf.callback&dnt=false&screen_name=\"+e.profile.screenName+\"&with_replies=\"+i+\"&suppress_response_codes=true&lang=\"+(e.lang||a)+\"&rnd=\"+Math.random():void 0!==e.likes?n.src=\"https://syndication.twitter.com/timeline/likes?callback=__twttrf.callback&dnt=false&screen_name=\"+e.likes.screenName+\"&suppress_response_codes=true&lang=\"+(e.lang||a)+\"&rnd=\"+Math.random():n.src=\"https://cdn.syndication.twimg.com/widgets/timelines/\"+e.id+\"?&lang=\"+(e.lang||a)+\"&callback=__twttrf.callback&suppress_response_codes=true&rnd=\"+Math.random(),t.appendChild(n)}},callback:function(e){if(void 0===e||void 0===e.body)return C=!1,void(0<k.length&&(O.fetch(k[0]),k.splice(0,1)));R||(e.body=e.body.replace(/(<img[^c]*class=\"Emoji[^>]*>)|(<img[^c]*class=\"u-block[^>]*>)/g,\"\")),M||(e.body=e.body.replace(/(<img[^c]*class=\"NaturalImage-image[^>]*>|(<img[^c]*class=\"CroppedImage-image[^>]*>))/g,\"\")),E||(e.body=e.body.replace(/(<img[^c]*class=\"Avatar\"[^>]*>)/g,\"\"));var t=document.createElement(\"div\");function i(e){var t=e.getElementsByTagName(\"img\")[0];return t&&t.length&&(t.src=t.getAttribute(\"data-src-2x\")),e}t.innerHTML=e.body,void 0===t.getElementsByClassName&&(A=!1);var a=[],n=[],s=[],l=[],r=[],o=[],c=[],d=0;if(A)for(var m=t.getElementsByClassName(\"timeline-Tweet\");d<m.length;)0<m[d].getElementsByClassName(\"timeline-Tweet-retweetCredit\").length?r.push(!0):r.push(!1),(!r[d]||r[d]&&I)&&(a.push(m[d].getElementsByClassName(\"timeline-Tweet-text\")[0]),o.push(m[d].getAttribute(\"data-tweet-id\")),E&&n.push(i(m[d].getElementsByClassName(\"timeline-Tweet-author\")[0])),s.push(m[d].getElementsByClassName(\"dt-updated\")[0]),c.push(m[d].getElementsByClassName(\"timeline-Tweet-timestamp\")[0]),void 0!==m[d].getElementsByClassName(\"timeline-Tweet-media\")[0]?l.push(m[d].getElementsByClassName(\"timeline-Tweet-media\")[0]):l.push(void 0)),d++;else for(m=U(t,\"timeline-Tweet\");d<m.length;)0<U(m[d],\"timeline-Tweet-retweetCredit\").length?r.push(!0):r.push(!1),(!r[d]||r[d]&&I)&&(a.push(U(m[d],\"timeline-Tweet-text\")[0]),o.push(m[d].getAttribute(\"data-tweet-id\")),E&&n.push(i(U(m[d],\"timeline-Tweet-author\")[0])),s.push(U(m[d],\"dt-updated\")[0]),c.push(U(m[d],\"timeline-Tweet-timestamp\")[0]),void 0!==U(m[d],\"timeline-Tweet-media\")[0]?l.push(U(m[d],\"timeline-Tweet-media\")[0]):l.push(void 0)),d++;a.length>y&&(a.splice(y,a.length-y),n.splice(y,n.length-y),s.splice(y,s.length-y),r.splice(y,r.length-y),l.splice(y,l.length-y),c.splice(y,c.length-y));var p=[],u=(d=a.length,0);if(q)for(;u<d;)p.push({tweet:a[u].innerHTML,author:n[u]?n[u].innerHTML:\"Unknown Author\",author_data:{profile_url:n[u]?n[u].querySelector('[data-scribe=\"element:user_link\"]').href:null,profile_image:n[u]?n[u].querySelector('[data-scribe=\"element:avatar\"]').getAttribute(\"data-src-1x\"):null,profile_image_2x:n[u]?n[u].querySelector('[data-scribe=\"element:avatar\"]').getAttribute(\"data-src-2x\"):null,screen_name:n[u]?n[u].querySelector('[data-scribe=\"element:screen_name\"]').title:null,name:n[u]?n[u].querySelector('[data-scribe=\"element:name\"]').title:null},time:s[u].textContent,timestamp:s[u].getAttribute(\"datetime\").replace(\"+0000\",\"Z\").replace(/([\\+\\-])(\\d\\d)(\\d\\d)/,\"$1$2:$3\"),image:F(l[u]),rt:r[u],tid:o[u],permalinkURL:void 0===c[u]?\"\":c[u].href}),u++;else for(;u<d;){if(\"string\"!=typeof N){var h=s[u].getAttribute(\"datetime\"),g=new Date(s[u].getAttribute(\"datetime\").replace(/-/g,\"/\").replace(\"T\",\" \").split(\"+\")[0]),w=N(g,h);if(s[u].setAttribute(\"aria-label\",w),a[u].textContent)if(A)s[u].textContent=w;else{var f=document.createElement(\"p\"),v=document.createTextNode(w);f.appendChild(v),f.setAttribute(\"aria-label\",w),s[u]=f}else s[u].textContent=w}var b=\"\";T?(H&&(S(a[u]),E&&S(n[u])),E&&(b+='<div class=\"user\">'+P(n[u].innerHTML)+\"</div>\"),b+='<p class=\"tweet\">'+P(a[u].innerHTML)+\"</p>\",x&&(b+=j?'<p class=\"timePosted\"><a href=\"'+c[u]+'\">'+s[u].getAttribute(\"aria-label\")+\"</a></p>\":'<p class=\"timePosted\">'+s[u].getAttribute(\"aria-label\")+\"</p>\")):(a[u].textContent,E&&(b+='<p class=\"user\">'+n[u].textContent+\"</p>\"),b+='<p class=\"tweet\">'+a[u].textContent+\"</p>\",x&&(b+='<p class=\"timePosted\">'+s[u].textContent+\"</p>\")),L&&(b+='<p class=\"interact\"><a href=\"https://twitter.com/intent/tweet?in_reply_to='+o[u]+'\" class=\"twitter_reply_icon\"'+(H?' target=\"_blank\">':\">\")+'Reply</a><a href=\"https://twitter.com/intent/retweet?tweet_id='+o[u]+'\" class=\"twitter_retweet_icon\"'+(H?' target=\"_blank\">':\">\")+'Retweet</a><a href=\"https://twitter.com/intent/favorite?tweet_id='+o[u]+'\" class=\"twitter_fav_icon\"'+(H?' target=\"_blank\">':\">\")+\"Favorite</a></p>\"),M&&void 0!==l[u]&&void 0!==F(l[u])&&(b+='<div class=\"media\"><img src=\"'+F(l[u])+'\" alt=\"Image from tweet\" /></div>'),M?p.push(b):!M&&a[u].textContent.length&&p.push(b),u++}!function(e){if(null===B){for(var t=e.length,i=0,a=document.getElementById(_),n=\"<ul>\";i<t;)n+=\"<li>\"+e[i]+\"</li>\",i++;n+=\"</ul>\",a.innerHTML=n}else B(e)}(p),C=!1,0<k.length&&(O.fetch(k[0]),k.splice(0,1))}};return window.__twttrf=O,window.twitterFetcher=O});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpdHRlci1mZXRjaGVyL2pzL3R3aXR0ZXJGZXRjaGVyX21pbi5qcz80NjZjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQXFDLENBQUMsaUNBQU8sRUFBRSxvQ0FBQyxDQUFDO0FBQUE7QUFBQTtBQUFBLG9HQUFDLENBQUMsU0FBK0MsQ0FBQyxjQUFjLGdIQUFnSCxjQUFjLHNEQUFzRCxTQUFTLG9IQUFvSCxjQUFjLG1EQUFtRCxLQUFLLHlDQUF5QyxnQkFBZ0IsMEZBQTBGLElBQUkseUNBQXlDLFNBQVMsY0FBYyxxREFBcUQseURBQXlELHFDQUFxQyxPQUFPLGtCQUFrQixvbkJBQW9uQixLQUFLLGdQQUFnUCwrQ0FBK0MsazhCQUFrOEIsc0JBQXNCLDJGQUEyRiwwUkFBMFIsb0NBQW9DLGNBQWMsdUNBQXVDLDREQUE0RCw2REFBNkQsMkNBQTJDLDBEQUEwRCxXQUFXLHlpQkFBeWlCLGlDQUFpQyxXQUFXLHNaQUFzWix3SkFBd0osMEJBQTBCLFVBQVUsSUFBSSxTQUFTLDhFQUE4RSxzY0FBc2MscU1BQXFNLE1BQU0sVUFBVSxJQUFJLEVBQUUsdUJBQXVCLHdJQUF3SSw4RUFBOEUsS0FBSywrREFBK0QsdURBQXVELHdCQUF3QixTQUFTLDRpQ0FBNGlDLGFBQWEsYUFBYSw2REFBNkQsSUFBSSw0QkFBNEIseUJBQXlCLFVBQVUscURBQXFELGlEQUFpRCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy90d2l0dGVyLWZldGNoZXIvanMvdHdpdHRlckZldGNoZXJfbWluLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQGxpY2Vuc2VcbiogICMjIyMgVHdpdHRlciBQb3N0IEZldGNoZXIgdjE3LjEuMCAjIyMjXG4qICBDb2RlZCBieSBKYXNvbiBNYXllcyAyMDE1LiBBIHByZXNlbnQgdG8gYWxsIHRoZSBkZXZlbG9wZXJzIG91dCB0aGVyZS5cbiogIHd3dy5qYXNvbm1heWVzLmNvbVxuKiAgUGxlYXNlIGtlZXAgdGhpcyBkaXNjbGFpbWVyIHdpdGggbXkgY29kZSBpZiB5b3UgdXNlIGl0LiBUaGFua3MuIDotKVxuKiAgR290IGZlZWRiYWNrIG9yIHF1ZXN0aW9ucywgYXNrIGhlcmU6XG4qICBodHRwOi8vd3d3Lmphc29ubWF5ZXMuY29tL3Byb2plY3RzL3R3aXR0ZXJBcGkvXG4qICBHaXRodWI6IGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNvbm1heWVzL1R3aXR0ZXItUG9zdC1GZXRjaGVyXG4qICBVcGRhdGVzIHdpbGwgYmUgcG9zdGVkIHRvIHRoaXMgc2l0ZS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiFmdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dCgpOnQoKX0oMCxmdW5jdGlvbigpe3ZhciBfPVwiXCIseT0yMCxUPSEwLGs9W10sQz0hMSx4PSEwLEU9ITAsTj1udWxsLEE9ITAsST0hMCxCPW51bGwsTD0hMCxNPSExLGk9ITEsUj0hMSxIPSEwLGE9XCJlblwiLGo9ITAscT0hMSxuPW51bGw7ZnVuY3Rpb24gUChlKXtyZXR1cm4gZS5yZXBsYWNlKC88YltePl0qPiguKj8pPFxcL2I+L2dpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KS5yZXBsYWNlKC9jbGFzcz1cIig/ISh0Y28taGlkZGVufHRjby1kaXNwbGF5fHRjby1lbGxpcHNpcykpKy4qP1wifGRhdGEtcXVlcnktc291cmNlPVwiLio/XCJ8ZGlyPVwiLio/XCJ8cmVsPVwiLio/XCIvZ2ksXCJcIil9ZnVuY3Rpb24gUyhlKXtmb3IodmFyIHQ9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIiksaT10Lmxlbmd0aC0xOzA8PWk7aS0tKXRbaV0uc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsXCJfYmxhbmtcIil9ZnVuY3Rpb24gVShlLHQpe2Zvcih2YXIgaT1bXSxhPW5ldyBSZWdFeHAoXCIoXnwgKVwiK3QrXCIoIHwkKVwiKSxuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLHM9MCxsPW4ubGVuZ3RoO3M8bDtzKyspYS50ZXN0KG5bc10uY2xhc3NOYW1lKSYmaS5wdXNoKG5bc10pO3JldHVybiBpfWZ1bmN0aW9uIEYoZSl7aWYodm9pZCAwIT09ZSYmMDw9ZS5pbm5lckhUTUwuaW5kZXhPZihcImRhdGEtaW1hZ2VcIikpe3ZhciB0PWUuaW5uZXJIVE1MLnNwbGl0KCdkYXRhLWltYWdlPVwiJylbMV0uc3BsaXQoJ1wiJylbMF07cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KStcIi5qcGdcIn19dmFyIE89e2ZldGNoOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUubWF4VHdlZXRzJiYoZS5tYXhUd2VldHM9MjApLHZvaWQgMD09PWUuZW5hYmxlTGlua3MmJihlLmVuYWJsZUxpbmtzPSEwKSx2b2lkIDA9PT1lLnNob3dVc2VyJiYoZS5zaG93VXNlcj0hMCksdm9pZCAwPT09ZS5zaG93VGltZSYmKGUuc2hvd1RpbWU9ITApLHZvaWQgMD09PWUuZGF0ZUZ1bmN0aW9uJiYoZS5kYXRlRnVuY3Rpb249XCJkZWZhdWx0XCIpLHZvaWQgMD09PWUuc2hvd1JldHdlZXQmJihlLnNob3dSZXR3ZWV0PSEwKSx2b2lkIDA9PT1lLmN1c3RvbUNhbGxiYWNrJiYoZS5jdXN0b21DYWxsYmFjaz1udWxsKSx2b2lkIDA9PT1lLnNob3dJbnRlcmFjdGlvbiYmKGUuc2hvd0ludGVyYWN0aW9uPSEwKSx2b2lkIDA9PT1lLnNob3dJbWFnZXMmJihlLnNob3dJbWFnZXM9ITEpLHZvaWQgMD09PWUuc2hvd1JlcGxpZXMmJihlLnNob3dSZXBsaWVzPSExKSx2b2lkIDA9PT1lLnVzZUVtb2ppJiYoZS51c2VFbW9qaT0hMSksdm9pZCAwPT09ZS5saW5rc0luTmV3V2luZG93JiYoZS5saW5rc0luTmV3V2luZG93PSEwKSx2b2lkIDA9PT1lLnNob3dQZXJtYWxpbmtzJiYoZS5zaG93UGVybWFsaW5rcz0hMCksdm9pZCAwPT09ZS5kYXRhT25seSYmKGUuZGF0YU9ubHk9ITEpLEMpay5wdXNoKGUpO2Vsc2V7Qz0hMCxfPWUuZG9tSWQseT1lLm1heFR3ZWV0cyxUPWUuZW5hYmxlTGlua3MsRT1lLnNob3dVc2VyLHg9ZS5zaG93VGltZSxJPWUuc2hvd1JldHdlZXQsTj1lLmRhdGVGdW5jdGlvbixCPWUuY3VzdG9tQ2FsbGJhY2ssTD1lLnNob3dJbnRlcmFjdGlvbixNPWUuc2hvd0ltYWdlcyxpPWUuc2hvd1JlcGxpZXMsUj1lLnVzZUVtb2ppLEg9ZS5saW5rc0luTmV3V2luZG93LGo9ZS5zaG93UGVybWFsaW5rcyxxPWUuZGF0YU9ubHk7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO251bGwhPT1uJiZ0LnJlbW92ZUNoaWxkKG4pLChuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIix2b2lkIDAhPT1lLmxpc3Q/bi5zcmM9XCJodHRwczovL3N5bmRpY2F0aW9uLnR3aXR0ZXIuY29tL3RpbWVsaW5lL2xpc3Q/Y2FsbGJhY2s9X190d3R0cmYuY2FsbGJhY2smZG50PWZhbHNlJmxpc3Rfc2x1Zz1cIitlLmxpc3QubGlzdFNsdWcrXCImc2NyZWVuX25hbWU9XCIrZS5saXN0LnNjcmVlbk5hbWUrXCImc3VwcHJlc3NfcmVzcG9uc2VfY29kZXM9dHJ1ZSZsYW5nPVwiKyhlLmxhbmd8fGEpK1wiJnJuZD1cIitNYXRoLnJhbmRvbSgpOnZvaWQgMCE9PWUucHJvZmlsZT9uLnNyYz1cImh0dHBzOi8vc3luZGljYXRpb24udHdpdHRlci5jb20vdGltZWxpbmUvcHJvZmlsZT9jYWxsYmFjaz1fX3R3dHRyZi5jYWxsYmFjayZkbnQ9ZmFsc2Umc2NyZWVuX25hbWU9XCIrZS5wcm9maWxlLnNjcmVlbk5hbWUrXCImd2l0aF9yZXBsaWVzPVwiK2krXCImc3VwcHJlc3NfcmVzcG9uc2VfY29kZXM9dHJ1ZSZsYW5nPVwiKyhlLmxhbmd8fGEpK1wiJnJuZD1cIitNYXRoLnJhbmRvbSgpOnZvaWQgMCE9PWUubGlrZXM/bi5zcmM9XCJodHRwczovL3N5bmRpY2F0aW9uLnR3aXR0ZXIuY29tL3RpbWVsaW5lL2xpa2VzP2NhbGxiYWNrPV9fdHd0dHJmLmNhbGxiYWNrJmRudD1mYWxzZSZzY3JlZW5fbmFtZT1cIitlLmxpa2VzLnNjcmVlbk5hbWUrXCImc3VwcHJlc3NfcmVzcG9uc2VfY29kZXM9dHJ1ZSZsYW5nPVwiKyhlLmxhbmd8fGEpK1wiJnJuZD1cIitNYXRoLnJhbmRvbSgpOm4uc3JjPVwiaHR0cHM6Ly9jZG4uc3luZGljYXRpb24udHdpbWcuY29tL3dpZGdldHMvdGltZWxpbmVzL1wiK2UuaWQrXCI/Jmxhbmc9XCIrKGUubGFuZ3x8YSkrXCImY2FsbGJhY2s9X190d3R0cmYuY2FsbGJhY2smc3VwcHJlc3NfcmVzcG9uc2VfY29kZXM9dHJ1ZSZybmQ9XCIrTWF0aC5yYW5kb20oKSx0LmFwcGVuZENoaWxkKG4pfX0sY2FsbGJhY2s6ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09ZS5ib2R5KXJldHVybiBDPSExLHZvaWQoMDxrLmxlbmd0aCYmKE8uZmV0Y2goa1swXSksay5zcGxpY2UoMCwxKSkpO1J8fChlLmJvZHk9ZS5ib2R5LnJlcGxhY2UoLyg8aW1nW15jXSpjbGFzcz1cIkVtb2ppW14+XSo+KXwoPGltZ1teY10qY2xhc3M9XCJ1LWJsb2NrW14+XSo+KS9nLFwiXCIpKSxNfHwoZS5ib2R5PWUuYm9keS5yZXBsYWNlKC8oPGltZ1teY10qY2xhc3M9XCJOYXR1cmFsSW1hZ2UtaW1hZ2VbXj5dKj58KDxpbWdbXmNdKmNsYXNzPVwiQ3JvcHBlZEltYWdlLWltYWdlW14+XSo+KSkvZyxcIlwiKSksRXx8KGUuYm9keT1lLmJvZHkucmVwbGFjZSgvKDxpbWdbXmNdKmNsYXNzPVwiQXZhdGFyXCJbXj5dKj4pL2csXCJcIikpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpWzBdO3JldHVybiB0JiZ0Lmxlbmd0aCYmKHQuc3JjPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmMtMnhcIikpLGV9dC5pbm5lckhUTUw9ZS5ib2R5LHZvaWQgMD09PXQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmKEE9ITEpO3ZhciBhPVtdLG49W10scz1bXSxsPVtdLHI9W10sbz1bXSxjPVtdLGQ9MDtpZihBKWZvcih2YXIgbT10LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0aW1lbGluZS1Ud2VldFwiKTtkPG0ubGVuZ3RoOykwPG1bZF0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRpbWVsaW5lLVR3ZWV0LXJldHdlZXRDcmVkaXRcIikubGVuZ3RoP3IucHVzaCghMCk6ci5wdXNoKCExKSwoIXJbZF18fHJbZF0mJkkpJiYoYS5wdXNoKG1bZF0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRpbWVsaW5lLVR3ZWV0LXRleHRcIilbMF0pLG8ucHVzaChtW2RdLmdldEF0dHJpYnV0ZShcImRhdGEtdHdlZXQtaWRcIikpLEUmJm4ucHVzaChpKG1bZF0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRpbWVsaW5lLVR3ZWV0LWF1dGhvclwiKVswXSkpLHMucHVzaChtW2RdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkdC11cGRhdGVkXCIpWzBdKSxjLnB1c2gobVtkXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGltZWxpbmUtVHdlZXQtdGltZXN0YW1wXCIpWzBdKSx2b2lkIDAhPT1tW2RdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0aW1lbGluZS1Ud2VldC1tZWRpYVwiKVswXT9sLnB1c2gobVtkXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGltZWxpbmUtVHdlZXQtbWVkaWFcIilbMF0pOmwucHVzaCh2b2lkIDApKSxkKys7ZWxzZSBmb3IobT1VKHQsXCJ0aW1lbGluZS1Ud2VldFwiKTtkPG0ubGVuZ3RoOykwPFUobVtkXSxcInRpbWVsaW5lLVR3ZWV0LXJldHdlZXRDcmVkaXRcIikubGVuZ3RoP3IucHVzaCghMCk6ci5wdXNoKCExKSwoIXJbZF18fHJbZF0mJkkpJiYoYS5wdXNoKFUobVtkXSxcInRpbWVsaW5lLVR3ZWV0LXRleHRcIilbMF0pLG8ucHVzaChtW2RdLmdldEF0dHJpYnV0ZShcImRhdGEtdHdlZXQtaWRcIikpLEUmJm4ucHVzaChpKFUobVtkXSxcInRpbWVsaW5lLVR3ZWV0LWF1dGhvclwiKVswXSkpLHMucHVzaChVKG1bZF0sXCJkdC11cGRhdGVkXCIpWzBdKSxjLnB1c2goVShtW2RdLFwidGltZWxpbmUtVHdlZXQtdGltZXN0YW1wXCIpWzBdKSx2b2lkIDAhPT1VKG1bZF0sXCJ0aW1lbGluZS1Ud2VldC1tZWRpYVwiKVswXT9sLnB1c2goVShtW2RdLFwidGltZWxpbmUtVHdlZXQtbWVkaWFcIilbMF0pOmwucHVzaCh2b2lkIDApKSxkKys7YS5sZW5ndGg+eSYmKGEuc3BsaWNlKHksYS5sZW5ndGgteSksbi5zcGxpY2UoeSxuLmxlbmd0aC15KSxzLnNwbGljZSh5LHMubGVuZ3RoLXkpLHIuc3BsaWNlKHksci5sZW5ndGgteSksbC5zcGxpY2UoeSxsLmxlbmd0aC15KSxjLnNwbGljZSh5LGMubGVuZ3RoLXkpKTt2YXIgcD1bXSx1PShkPWEubGVuZ3RoLDApO2lmKHEpZm9yKDt1PGQ7KXAucHVzaCh7dHdlZXQ6YVt1XS5pbm5lckhUTUwsYXV0aG9yOm5bdV0/blt1XS5pbm5lckhUTUw6XCJVbmtub3duIEF1dGhvclwiLGF1dGhvcl9kYXRhOntwcm9maWxlX3VybDpuW3VdP25bdV0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2NyaWJlPVwiZWxlbWVudDp1c2VyX2xpbmtcIl0nKS5ocmVmOm51bGwscHJvZmlsZV9pbWFnZTpuW3VdP25bdV0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2NyaWJlPVwiZWxlbWVudDphdmF0YXJcIl0nKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyYy0xeFwiKTpudWxsLHByb2ZpbGVfaW1hZ2VfMng6blt1XT9uW3VdLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNjcmliZT1cImVsZW1lbnQ6YXZhdGFyXCJdJykuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmMtMnhcIik6bnVsbCxzY3JlZW5fbmFtZTpuW3VdP25bdV0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2NyaWJlPVwiZWxlbWVudDpzY3JlZW5fbmFtZVwiXScpLnRpdGxlOm51bGwsbmFtZTpuW3VdP25bdV0ucXVlcnlTZWxlY3RvcignW2RhdGEtc2NyaWJlPVwiZWxlbWVudDpuYW1lXCJdJykudGl0bGU6bnVsbH0sdGltZTpzW3VdLnRleHRDb250ZW50LHRpbWVzdGFtcDpzW3VdLmdldEF0dHJpYnV0ZShcImRhdGV0aW1lXCIpLnJlcGxhY2UoXCIrMDAwMFwiLFwiWlwiKS5yZXBsYWNlKC8oW1xcK1xcLV0pKFxcZFxcZCkoXFxkXFxkKS8sXCIkMSQyOiQzXCIpLGltYWdlOkYobFt1XSkscnQ6clt1XSx0aWQ6b1t1XSxwZXJtYWxpbmtVUkw6dm9pZCAwPT09Y1t1XT9cIlwiOmNbdV0uaHJlZn0pLHUrKztlbHNlIGZvcig7dTxkOyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIE4pe3ZhciBoPXNbdV0uZ2V0QXR0cmlidXRlKFwiZGF0ZXRpbWVcIiksZz1uZXcgRGF0ZShzW3VdLmdldEF0dHJpYnV0ZShcImRhdGV0aW1lXCIpLnJlcGxhY2UoLy0vZyxcIi9cIikucmVwbGFjZShcIlRcIixcIiBcIikuc3BsaXQoXCIrXCIpWzBdKSx3PU4oZyxoKTtpZihzW3VdLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix3KSxhW3VdLnRleHRDb250ZW50KWlmKEEpc1t1XS50ZXh0Q29udGVudD13O2Vsc2V7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIiksdj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh3KTtmLmFwcGVuZENoaWxkKHYpLGYuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHcpLHNbdV09Zn1lbHNlIHNbdV0udGV4dENvbnRlbnQ9d312YXIgYj1cIlwiO1Q/KEgmJihTKGFbdV0pLEUmJlMoblt1XSkpLEUmJihiKz0nPGRpdiBjbGFzcz1cInVzZXJcIj4nK1Aoblt1XS5pbm5lckhUTUwpK1wiPC9kaXY+XCIpLGIrPSc8cCBjbGFzcz1cInR3ZWV0XCI+JytQKGFbdV0uaW5uZXJIVE1MKStcIjwvcD5cIix4JiYoYis9aj8nPHAgY2xhc3M9XCJ0aW1lUG9zdGVkXCI+PGEgaHJlZj1cIicrY1t1XSsnXCI+JytzW3VdLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikrXCI8L2E+PC9wPlwiOic8cCBjbGFzcz1cInRpbWVQb3N0ZWRcIj4nK3NbdV0uZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKStcIjwvcD5cIikpOihhW3VdLnRleHRDb250ZW50LEUmJihiKz0nPHAgY2xhc3M9XCJ1c2VyXCI+JytuW3VdLnRleHRDb250ZW50K1wiPC9wPlwiKSxiKz0nPHAgY2xhc3M9XCJ0d2VldFwiPicrYVt1XS50ZXh0Q29udGVudCtcIjwvcD5cIix4JiYoYis9JzxwIGNsYXNzPVwidGltZVBvc3RlZFwiPicrc1t1XS50ZXh0Q29udGVudCtcIjwvcD5cIikpLEwmJihiKz0nPHAgY2xhc3M9XCJpbnRlcmFjdFwiPjxhIGhyZWY9XCJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD9pbl9yZXBseV90bz0nK29bdV0rJ1wiIGNsYXNzPVwidHdpdHRlcl9yZXBseV9pY29uXCInKyhIPycgdGFyZ2V0PVwiX2JsYW5rXCI+JzpcIj5cIikrJ1JlcGx5PC9hPjxhIGhyZWY9XCJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC9yZXR3ZWV0P3R3ZWV0X2lkPScrb1t1XSsnXCIgY2xhc3M9XCJ0d2l0dGVyX3JldHdlZXRfaWNvblwiJysoSD8nIHRhcmdldD1cIl9ibGFua1wiPic6XCI+XCIpKydSZXR3ZWV0PC9hPjxhIGhyZWY9XCJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC9mYXZvcml0ZT90d2VldF9pZD0nK29bdV0rJ1wiIGNsYXNzPVwidHdpdHRlcl9mYXZfaWNvblwiJysoSD8nIHRhcmdldD1cIl9ibGFua1wiPic6XCI+XCIpK1wiRmF2b3JpdGU8L2E+PC9wPlwiKSxNJiZ2b2lkIDAhPT1sW3VdJiZ2b2lkIDAhPT1GKGxbdV0pJiYoYis9JzxkaXYgY2xhc3M9XCJtZWRpYVwiPjxpbWcgc3JjPVwiJytGKGxbdV0pKydcIiBhbHQ9XCJJbWFnZSBmcm9tIHR3ZWV0XCIgLz48L2Rpdj4nKSxNP3AucHVzaChiKTohTSYmYVt1XS50ZXh0Q29udGVudC5sZW5ndGgmJnAucHVzaChiKSx1Kyt9IWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1CKXtmb3IodmFyIHQ9ZS5sZW5ndGgsaT0wLGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXyksbj1cIjx1bD5cIjtpPHQ7KW4rPVwiPGxpPlwiK2VbaV0rXCI8L2xpPlwiLGkrKztuKz1cIjwvdWw+XCIsYS5pbm5lckhUTUw9bn1lbHNlIEIoZSl9KHApLEM9ITEsMDxrLmxlbmd0aCYmKE8uZmV0Y2goa1swXSksay5zcGxpY2UoMCwxKSl9fTtyZXR1cm4gd2luZG93Ll9fdHd0dHJmPU8sd2luZG93LnR3aXR0ZXJGZXRjaGVyPU99KTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/twitter-fetcher/js/twitterFetcher_min.js\n");

/***/ }),

/***/ "./node_modules/unidragger/unidragger.js":
/*!***********************************************!*\
  !*** ./node_modules/unidragger/unidragger.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! unipointer/unipointer */ \"./node_modules/unipointer/unipointer.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( Unipointer ) {\n      return factory( window, Unipointer );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5pZHJhZ2dlci91bmlkcmFnZ2VyLmpzP2VmNjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyxJQUF5QztBQUNoRDtBQUNBLElBQUksaUNBQVE7QUFDWixNQUFNLDJGQUF1QjtBQUM3QixLQUFLLG1DQUFFO0FBQ1A7QUFDQSxLQUFLO0FBQUEsb0dBQUM7QUFDTixHQUFHLE1BQU0sRUFZTjs7QUFFSCxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHlCQUF5QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3VuaWRyYWdnZXIvdW5pZHJhZ2dlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogVW5pZHJhZ2dlciB2Mi4zLjBcbiAqIERyYWdnYWJsZSBiYXNlIGNsYXNzXG4gKiBNSVQgbGljZW5zZVxuICovXG5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKmpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAndW5pcG9pbnRlci91bmlwb2ludGVyJ1xuICAgIF0sIGZ1bmN0aW9uKCBVbmlwb2ludGVyICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgVW5pcG9pbnRlciApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgndW5pcG9pbnRlcicpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5VbmlkcmFnZ2VyID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5Vbmlwb2ludGVyXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgVW5pcG9pbnRlciApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVbmlkcmFnZ2VyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIFVuaWRyYWdnZXIoKSB7fVxuXG4vLyBpbmhlcml0IFVuaXBvaW50ZXIgJiBFdkVtaXR0ZXJcbnZhciBwcm90byA9IFVuaWRyYWdnZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVW5pcG9pbnRlci5wcm90b3R5cGUgKTtcblxuLy8gLS0tLS0gYmluZCBzdGFydCAtLS0tLSAvL1xuXG5wcm90by5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9iaW5kSGFuZGxlcyggdHJ1ZSApO1xufTtcblxucHJvdG8udW5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9iaW5kSGFuZGxlcyggZmFsc2UgKTtcbn07XG5cbi8qKlxuICogQWRkIG9yIHJlbW92ZSBzdGFydCBldmVudFxuICogQHBhcmFtIHtCb29sZWFufSBpc0FkZFxuICovXG5wcm90by5fYmluZEhhbmRsZXMgPSBmdW5jdGlvbiggaXNBZGQgKSB7XG4gIC8vIG11bmdlIGlzQWRkLCBkZWZhdWx0IHRvIHRydWVcbiAgaXNBZGQgPSBpc0FkZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGlzQWRkO1xuICAvLyBiaW5kIGVhY2ggaGFuZGxlXG4gIHZhciBiaW5kTWV0aG9kID0gaXNBZGQgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG4gIHZhciB0b3VjaEFjdGlvbiA9IGlzQWRkID8gdGhpcy5fdG91Y2hBY3Rpb25WYWx1ZSA6ICcnO1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5oYW5kbGVzLmxlbmd0aDsgaSsrICkge1xuICAgIHZhciBoYW5kbGUgPSB0aGlzLmhhbmRsZXNbaV07XG4gICAgdGhpcy5fYmluZFN0YXJ0RXZlbnQoIGhhbmRsZSwgaXNBZGQgKTtcbiAgICBoYW5kbGVbIGJpbmRNZXRob2QgXSggJ2NsaWNrJywgdGhpcyApO1xuICAgIC8vIHRvdWNoLWFjdGlvbjogbm9uZSB0byBvdmVycmlkZSBicm93c2VyIHRvdWNoIGdlc3R1cmVzLiBtZXRhZml6enkvZmxpY2tpdHkjNTQwXG4gICAgaWYgKCB3aW5kb3cuUG9pbnRlckV2ZW50ICkge1xuICAgICAgaGFuZGxlLnN0eWxlLnRvdWNoQWN0aW9uID0gdG91Y2hBY3Rpb247XG4gICAgfVxuICB9XG59O1xuXG4vLyBwcm90b3R5cGUgc28gaXQgY2FuIGJlIG92ZXJ3cml0ZWFibGUgYnkgRmxpY2tpdHlcbnByb3RvLl90b3VjaEFjdGlvblZhbHVlID0gJ25vbmUnO1xuXG4vLyAtLS0tLSBzdGFydCBldmVudCAtLS0tLSAvL1xuXG4vKipcbiAqIHBvaW50ZXIgc3RhcnRcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG4gKi9cbnByb3RvLnBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB2YXIgaXNPa2F5ID0gdGhpcy5va2F5UG9pbnRlckRvd24oIGV2ZW50ICk7XG4gIGlmICggIWlzT2theSApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gdHJhY2sgc3RhcnQgZXZlbnQgcG9zaXRpb25cbiAgdGhpcy5wb2ludGVyRG93blBvaW50ZXIgPSBwb2ludGVyO1xuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIHRoaXMucG9pbnRlckRvd25CbHVyKCk7XG4gIC8vIGJpbmQgbW92ZSBhbmQgZW5kIGV2ZW50c1xuICB0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKCBldmVudCApO1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyBub2RlcyB0aGF0IGhhdmUgdGV4dCBmaWVsZHNcbnZhciBjdXJzb3JOb2RlcyA9IHtcbiAgVEVYVEFSRUE6IHRydWUsXG4gIElOUFVUOiB0cnVlLFxuICBTRUxFQ1Q6IHRydWUsXG4gIE9QVElPTjogdHJ1ZSxcbn07XG5cbi8vIGlucHV0IHR5cGVzIHRoYXQgZG8gbm90IGhhdmUgdGV4dCBmaWVsZHNcbnZhciBjbGlja1R5cGVzID0ge1xuICByYWRpbzogdHJ1ZSxcbiAgY2hlY2tib3g6IHRydWUsXG4gIGJ1dHRvbjogdHJ1ZSxcbiAgc3VibWl0OiB0cnVlLFxuICBpbWFnZTogdHJ1ZSxcbiAgZmlsZTogdHJ1ZSxcbn07XG5cbi8vIGRpc21pc3MgaW5wdXRzIHdpdGggdGV4dCBmaWVsZHMuIGZsaWNraXR5IzQwMywgZmxpY2tpdHkjNDA0XG5wcm90by5va2F5UG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciBpc0N1cnNvck5vZGUgPSBjdXJzb3JOb2Rlc1sgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lIF07XG4gIHZhciBpc0NsaWNrVHlwZSA9IGNsaWNrVHlwZXNbIGV2ZW50LnRhcmdldC50eXBlIF07XG4gIHZhciBpc09rYXkgPSAhaXNDdXJzb3JOb2RlIHx8IGlzQ2xpY2tUeXBlO1xuICBpZiAoICFpc09rYXkgKSB7XG4gICAgdGhpcy5fcG9pbnRlclJlc2V0KCk7XG4gIH1cbiAgcmV0dXJuIGlzT2theTtcbn07XG5cbi8vIGtsdWRnZSB0byBibHVyIHByZXZpb3VzbHkgZm9jdXNlZCBpbnB1dFxucHJvdG8ucG9pbnRlckRvd25CbHVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBmb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgLy8gZG8gbm90IGJsdXIgYm9keSBmb3IgSUUxMCwgbWV0YWZpenp5L2ZsaWNraXR5IzExN1xuICB2YXIgY2FuQmx1ciA9IGZvY3VzZWQgJiYgZm9jdXNlZC5ibHVyICYmIGZvY3VzZWQgIT0gZG9jdW1lbnQuYm9keTtcbiAgaWYgKCBjYW5CbHVyICkge1xuICAgIGZvY3VzZWQuYmx1cigpO1xuICB9XG59O1xuXG4vLyAtLS0tLSBtb3ZlIGV2ZW50IC0tLS0tIC8vXG5cbi8qKlxuICogZHJhZyBtb3ZlXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICovXG5wcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdmFyIG1vdmVWZWN0b3IgPSB0aGlzLl9kcmFnUG9pbnRlck1vdmUoIGV2ZW50LCBwb2ludGVyICk7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlck1vdmUnLCBbIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yIF0gKTtcbiAgdGhpcy5fZHJhZ01vdmUoIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICk7XG59O1xuXG4vLyBiYXNlIHBvaW50ZXIgbW92ZSBsb2dpY1xucHJvdG8uX2RyYWdQb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdmFyIG1vdmVWZWN0b3IgPSB7XG4gICAgeDogcG9pbnRlci5wYWdlWCAtIHRoaXMucG9pbnRlckRvd25Qb2ludGVyLnBhZ2VYLFxuICAgIHk6IHBvaW50ZXIucGFnZVkgLSB0aGlzLnBvaW50ZXJEb3duUG9pbnRlci5wYWdlWVxuICB9O1xuICAvLyBzdGFydCBkcmFnIGlmIHBvaW50ZXIgaGFzIG1vdmVkIGZhciBlbm91Z2ggdG8gc3RhcnQgZHJhZ1xuICBpZiAoICF0aGlzLmlzRHJhZ2dpbmcgJiYgdGhpcy5oYXNEcmFnU3RhcnRlZCggbW92ZVZlY3RvciApICkge1xuICAgIHRoaXMuX2RyYWdTdGFydCggZXZlbnQsIHBvaW50ZXIgKTtcbiAgfVxuICByZXR1cm4gbW92ZVZlY3Rvcjtcbn07XG5cbi8vIGNvbmRpdGlvbiBpZiBwb2ludGVyIGhhcyBtb3ZlZCBmYXIgZW5vdWdoIHRvIHN0YXJ0IGRyYWdcbnByb3RvLmhhc0RyYWdTdGFydGVkID0gZnVuY3Rpb24oIG1vdmVWZWN0b3IgKSB7XG4gIHJldHVybiBNYXRoLmFicyggbW92ZVZlY3Rvci54ICkgPiAzIHx8IE1hdGguYWJzKCBtb3ZlVmVjdG9yLnkgKSA+IDM7XG59O1xuXG4vLyAtLS0tLSBlbmQgZXZlbnQgLS0tLS0gLy9cblxuLyoqXG4gKiBwb2ludGVyIHVwXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICovXG5wcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlclVwJywgWyBldmVudCwgcG9pbnRlciBdICk7XG4gIHRoaXMuX2RyYWdQb2ludGVyVXAoIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG5wcm90by5fZHJhZ1BvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgaWYgKCB0aGlzLmlzRHJhZ2dpbmcgKSB7XG4gICAgdGhpcy5fZHJhZ0VuZCggZXZlbnQsIHBvaW50ZXIgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBwb2ludGVyIGRpZG4ndCBtb3ZlIGVub3VnaCBmb3IgZHJhZyB0byBzdGFydFxuICAgIHRoaXMuX3N0YXRpY0NsaWNrKCBldmVudCwgcG9pbnRlciApO1xuICB9XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkcmFnIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGRyYWdTdGFydFxucHJvdG8uX2RyYWdTdGFydCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgLy8gcHJldmVudCBjbGlja3NcbiAgdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgPSB0cnVlO1xuICB0aGlzLmRyYWdTdGFydCggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbnByb3RvLmRyYWdTdGFydCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5lbWl0RXZlbnQoICdkcmFnU3RhcnQnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIGRyYWdNb3ZlXG5wcm90by5fZHJhZ01vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKSB7XG4gIC8vIGRvIG5vdCBkcmFnIGlmIG5vdCBkcmFnZ2luZyB5ZXRcbiAgaWYgKCAhdGhpcy5pc0RyYWdnaW5nICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuZHJhZ01vdmUoIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICk7XG59O1xuXG5wcm90by5kcmFnTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciApIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdkcmFnTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgXSApO1xufTtcblxuLy8gZHJhZ0VuZFxucHJvdG8uX2RyYWdFbmQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIHNldCBmbGFnc1xuICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgLy8gcmUtZW5hYmxlIGNsaWNraW5nIGFzeW5jXG4gIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzLmlzUHJldmVudGluZ0NsaWNrcztcbiAgfS5iaW5kKCB0aGlzICkgKTtcblxuICB0aGlzLmRyYWdFbmQoIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG5wcm90by5kcmFnRW5kID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdFbmQnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIC0tLS0tIG9uY2xpY2sgLS0tLS0gLy9cblxuLy8gaGFuZGxlIGFsbCBjbGlja3MgYW5kIHByZXZlbnQgY2xpY2tzIHdoZW4gZHJhZ2dpbmdcbnByb3RvLm9uY2xpY2sgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gc3RhdGljQ2xpY2sgLS0tLS0gLy9cblxuLy8gdHJpZ2dlcmVkIGFmdGVyIHBvaW50ZXIgZG93biAmIHVwIHdpdGggbm8vdGlueSBtb3ZlbWVudFxucHJvdG8uX3N0YXRpY0NsaWNrID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICAvLyBpZ25vcmUgZW11bGF0ZWQgbW91c2UgdXAgY2xpY2tzXG4gIGlmICggdGhpcy5pc0lnbm9yaW5nTW91c2VVcCAmJiBldmVudC50eXBlID09ICdtb3VzZXVwJyApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnN0YXRpY0NsaWNrKCBldmVudCwgcG9pbnRlciApO1xuXG4gIC8vIHNldCBmbGFnIGZvciBlbXVsYXRlZCBjbGlja3MgMzAwbXMgYWZ0ZXIgdG91Y2hlbmRcbiAgaWYgKCBldmVudC50eXBlICE9ICdtb3VzZXVwJyApIHtcbiAgICB0aGlzLmlzSWdub3JpbmdNb3VzZVVwID0gdHJ1ZTtcbiAgICAvLyByZXNldCBmbGFnIGFmdGVyIDMwMG1zXG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBkZWxldGUgdGhpcy5pc0lnbm9yaW5nTW91c2VVcDtcbiAgICB9LmJpbmQoIHRoaXMgKSwgNDAwICk7XG4gIH1cbn07XG5cbnByb3RvLnN0YXRpY0NsaWNrID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ3N0YXRpY0NsaWNrJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyAtLS0tLSB1dGlscyAtLS0tLSAvL1xuXG5VbmlkcmFnZ2VyLmdldFBvaW50ZXJQb2ludCA9IFVuaXBvaW50ZXIuZ2V0UG9pbnRlclBvaW50O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxucmV0dXJuIFVuaWRyYWdnZXI7XG5cbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/unidragger/unidragger.js\n");

/***/ }),

/***/ "./node_modules/unipointer/unipointer.js":
/*!***********************************************!*\
  !*** ./node_modules/unipointer/unipointer.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! ev-emitter/ev-emitter */ \"./node_modules/ev-emitter/ev-emitter.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5pcG9pbnRlci91bmlwb2ludGVyLmpzP2UwZjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQXlDO0FBQ2hEO0FBQ0EsSUFBSSxpQ0FBUTtBQUNaLE1BQU0sMkZBQXVCO0FBQzdCLEtBQUssbUNBQUU7QUFDUDtBQUNBLEtBQUs7QUFBQSxvR0FBQztBQUNOLEdBQUcsTUFBTSxFQVlOOztBQUVILENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixvQkFBb0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdW5pcG9pbnRlci91bmlwb2ludGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBVbmlwb2ludGVyIHYyLjMuMFxuICogYmFzZSBjbGFzcyBmb3IgZG9pbmcgb25lIHRoaW5nIHdpdGggcG9pbnRlciBldmVudFxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWwgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICdldi1lbWl0dGVyL2V2LWVtaXR0ZXInXG4gICAgXSwgZnVuY3Rpb24oIEV2RW1pdHRlciApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgcmVxdWlyZSgnZXYtZW1pdHRlcicpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5Vbmlwb2ludGVyID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXJcbiAgICApO1xuICB9XG5cbn0oIHdpbmRvdywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKSB7XG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIFVuaXBvaW50ZXIoKSB7fVxuXG4vLyBpbmhlcml0IEV2RW1pdHRlclxudmFyIHByb3RvID0gVW5pcG9pbnRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbnByb3RvLmJpbmRTdGFydEV2ZW50ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIHRoaXMuX2JpbmRTdGFydEV2ZW50KCBlbGVtLCB0cnVlICk7XG59O1xuXG5wcm90by51bmJpbmRTdGFydEV2ZW50ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIHRoaXMuX2JpbmRTdGFydEV2ZW50KCBlbGVtLCBmYWxzZSApO1xufTtcblxuLyoqXG4gKiBBZGQgb3IgcmVtb3ZlIHN0YXJ0IGV2ZW50XG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzQWRkIC0gcmVtb3ZlIGlmIGZhbHNleVxuICovXG5wcm90by5fYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgaXNBZGQgKSB7XG4gIC8vIG11bmdlIGlzQWRkLCBkZWZhdWx0IHRvIHRydWVcbiAgaXNBZGQgPSBpc0FkZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGlzQWRkO1xuICB2YXIgYmluZE1ldGhvZCA9IGlzQWRkID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuXG4gIC8vIGRlZmF1bHQgdG8gbW91c2UgZXZlbnRzXG4gIHZhciBzdGFydEV2ZW50ID0gJ21vdXNlZG93bic7XG4gIGlmICggd2luZG93LlBvaW50ZXJFdmVudCApIHtcbiAgICAvLyBQb2ludGVyIEV2ZW50c1xuICAgIHN0YXJ0RXZlbnQgPSAncG9pbnRlcmRvd24nO1xuICB9IGVsc2UgaWYgKCAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgKSB7XG4gICAgLy8gVG91Y2ggRXZlbnRzLiBpT1MgU2FmYXJpXG4gICAgc3RhcnRFdmVudCA9ICd0b3VjaHN0YXJ0JztcbiAgfVxuICBlbGVtWyBiaW5kTWV0aG9kIF0oIHN0YXJ0RXZlbnQsIHRoaXMgKTtcbn07XG5cbi8vIHRyaWdnZXIgaGFuZGxlciBtZXRob2RzIGZvciBldmVudHNcbnByb3RvLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XG4gIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gIH1cbn07XG5cbi8vIHJldHVybnMgdGhlIHRvdWNoIHRoYXQgd2UncmUga2VlcGluZyB0cmFjayBvZlxucHJvdG8uZ2V0VG91Y2ggPSBmdW5jdGlvbiggdG91Y2hlcyApIHtcbiAgZm9yICggdmFyIGk9MDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIHRvdWNoID0gdG91Y2hlc1tpXTtcbiAgICBpZiAoIHRvdWNoLmlkZW50aWZpZXIgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcbiAgICAgIHJldHVybiB0b3VjaDtcbiAgICB9XG4gIH1cbn07XG5cbi8vIC0tLS0tIHN0YXJ0IGV2ZW50IC0tLS0tIC8vXG5cbnByb3RvLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAvLyBkaXNtaXNzIGNsaWNrcyBmcm9tIHJpZ2h0IG9yIG1pZGRsZSBidXR0b25zXG4gIHZhciBidXR0b24gPSBldmVudC5idXR0b247XG4gIGlmICggYnV0dG9uICYmICggYnV0dG9uICE9PSAwICYmIGJ1dHRvbiAhPT0gMSApICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9wb2ludGVyRG93biggZXZlbnQsIGV2ZW50ICk7XG59O1xuXG5wcm90by5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gKTtcbn07XG5cbnByb3RvLm9ucG9pbnRlcmRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMuX3BvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbi8qKlxuICogcG9pbnRlciBzdGFydFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqL1xucHJvdG8uX3BvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICAvLyBkaXNtaXNzIHJpZ2h0IGNsaWNrIGFuZCBvdGhlciBwb2ludGVyc1xuICAvLyBidXR0b24gPSAwIGlzIG9rYXksIDEtNCBub3RcbiAgaWYgKCBldmVudC5idXR0b24gfHwgdGhpcy5pc1BvaW50ZXJEb3duICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuaXNQb2ludGVyRG93biA9IHRydWU7XG4gIC8vIHNhdmUgcG9pbnRlciBpZGVudGlmaWVyIHRvIG1hdGNoIHVwIHRvdWNoIGV2ZW50c1xuICB0aGlzLnBvaW50ZXJJZGVudGlmaWVyID0gcG9pbnRlci5wb2ludGVySWQgIT09IHVuZGVmaW5lZCA/XG4gICAgLy8gcG9pbnRlcklkIGZvciBwb2ludGVyIGV2ZW50cywgdG91Y2guaW5kZW50aWZpZXIgZm9yIHRvdWNoIGV2ZW50c1xuICAgIHBvaW50ZXIucG9pbnRlcklkIDogcG9pbnRlci5pZGVudGlmaWVyO1xuXG4gIHRoaXMucG9pbnRlckRvd24oIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG5wcm90by5wb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyggZXZlbnQgKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyRG93bicsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gaGFzaCBvZiBldmVudHMgdG8gYmUgYm91bmQgYWZ0ZXIgc3RhcnQgZXZlbnRcbnZhciBwb3N0U3RhcnRFdmVudHMgPSB7XG4gIG1vdXNlZG93bjogWyAnbW91c2Vtb3ZlJywgJ21vdXNldXAnIF0sXG4gIHRvdWNoc3RhcnQ6IFsgJ3RvdWNobW92ZScsICd0b3VjaGVuZCcsICd0b3VjaGNhbmNlbCcgXSxcbiAgcG9pbnRlcmRvd246IFsgJ3BvaW50ZXJtb3ZlJywgJ3BvaW50ZXJ1cCcsICdwb2ludGVyY2FuY2VsJyBdLFxufTtcblxucHJvdG8uX2JpbmRQb3N0U3RhcnRFdmVudHMgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggIWV2ZW50ICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBnZXQgcHJvcGVyIGV2ZW50cyB0byBtYXRjaCBzdGFydCBldmVudFxuICB2YXIgZXZlbnRzID0gcG9zdFN0YXJ0RXZlbnRzWyBldmVudC50eXBlIF07XG4gIC8vIGJpbmQgZXZlbnRzIHRvIG5vZGVcbiAgZXZlbnRzLmZvckVhY2goIGZ1bmN0aW9uKCBldmVudE5hbWUgKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgdGhpcyApO1xuICB9LCB0aGlzICk7XG4gIC8vIHNhdmUgdGhlc2UgYXJndW1lbnRzXG4gIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cyA9IGV2ZW50cztcbn07XG5cbnByb3RvLl91bmJpbmRQb3N0U3RhcnRFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgLy8gY2hlY2sgZm9yIF9ib3VuZEV2ZW50cywgaW4gY2FzZSBkcmFnRW5kIHRyaWdnZXJlZCB0d2ljZSAob2xkIElFOCBidWcpXG4gIGlmICggIXRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cyApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzLmZvckVhY2goIGZ1bmN0aW9uKCBldmVudE5hbWUgKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgdGhpcyApO1xuICB9LCB0aGlzICk7XG5cbiAgZGVsZXRlIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cztcbn07XG5cbi8vIC0tLS0tIG1vdmUgZXZlbnQgLS0tLS0gLy9cblxucHJvdG8ub25tb3VzZW1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMuX3BvaW50ZXJNb3ZlKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9ucG9pbnRlcm1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgdGhpcy5fcG9pbnRlck1vdmUoIGV2ZW50LCBldmVudCApO1xuICB9XG59O1xuXG5wcm90by5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcbiAgaWYgKCB0b3VjaCApIHtcbiAgICB0aGlzLl9wb2ludGVyTW92ZSggZXZlbnQsIHRvdWNoICk7XG4gIH1cbn07XG5cbi8qKlxuICogcG9pbnRlciBtb3ZlXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCBvciBUb3VjaH0gcG9pbnRlclxuICogQHByaXZhdGVcbiAqL1xucHJvdG8uX3BvaW50ZXJNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLnBvaW50ZXJNb3ZlKCBldmVudCwgcG9pbnRlciApO1xufTtcblxuLy8gcHVibGljXG5wcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gZW5kIGV2ZW50IC0tLS0tIC8vXG5cblxucHJvdG8ub25tb3VzZXVwID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub25wb2ludGVydXAgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggZXZlbnQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgdGhpcy5fcG9pbnRlclVwKCBldmVudCwgZXZlbnQgKTtcbiAgfVxufTtcblxucHJvdG8ub250b3VjaGVuZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcbiAgaWYgKCB0b3VjaCApIHtcbiAgICB0aGlzLl9wb2ludGVyVXAoIGV2ZW50LCB0b3VjaCApO1xuICB9XG59O1xuXG4vKipcbiAqIHBvaW50ZXIgdXBcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50IG9yIFRvdWNofSBwb2ludGVyXG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5fcG9pbnRlclVwID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLl9wb2ludGVyRG9uZSgpO1xuICB0aGlzLnBvaW50ZXJVcCggZXZlbnQsIHBvaW50ZXIgKTtcbn07XG5cbi8vIHB1YmxpY1xucHJvdG8ucG9pbnRlclVwID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJVcCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gcG9pbnRlciBkb25lIC0tLS0tIC8vXG5cbi8vIHRyaWdnZXJlZCBvbiBwb2ludGVyIHVwICYgcG9pbnRlciBjYW5jZWxcbnByb3RvLl9wb2ludGVyRG9uZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wb2ludGVyUmVzZXQoKTtcbiAgdGhpcy5fdW5iaW5kUG9zdFN0YXJ0RXZlbnRzKCk7XG4gIHRoaXMucG9pbnRlckRvbmUoKTtcbn07XG5cbnByb3RvLl9wb2ludGVyUmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgLy8gcmVzZXQgcHJvcGVydGllc1xuICB0aGlzLmlzUG9pbnRlckRvd24gPSBmYWxzZTtcbiAgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7XG59O1xuXG5wcm90by5wb2ludGVyRG9uZSA9IG5vb3A7XG5cbi8vIC0tLS0tIHBvaW50ZXIgY2FuY2VsIC0tLS0tIC8vXG5cbnByb3RvLm9ucG9pbnRlcmNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCBldmVudC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcbiAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgZXZlbnQgKTtcbiAgfVxufTtcblxucHJvdG8ub250b3VjaGNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdmFyIHRvdWNoID0gdGhpcy5nZXRUb3VjaCggZXZlbnQuY2hhbmdlZFRvdWNoZXMgKTtcbiAgaWYgKCB0b3VjaCApIHtcbiAgICB0aGlzLl9wb2ludGVyQ2FuY2VsKCBldmVudCwgdG91Y2ggKTtcbiAgfVxufTtcblxuLyoqXG4gKiBwb2ludGVyIGNhbmNlbFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgb3IgVG91Y2h9IHBvaW50ZXJcbiAqIEBwcml2YXRlXG4gKi9cbnByb3RvLl9wb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLl9wb2ludGVyRG9uZSgpO1xuICB0aGlzLnBvaW50ZXJDYW5jZWwoIGV2ZW50LCBwb2ludGVyICk7XG59O1xuXG4vLyBwdWJsaWNcbnByb3RvLnBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlckNhbmNlbCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbi8vIHV0aWxpdHkgZnVuY3Rpb24gZm9yIGdldHRpbmcgeC95IGNvb3JkcyBmcm9tIGV2ZW50XG5Vbmlwb2ludGVyLmdldFBvaW50ZXJQb2ludCA9IGZ1bmN0aW9uKCBwb2ludGVyICkge1xuICByZXR1cm4ge1xuICAgIHg6IHBvaW50ZXIucGFnZVgsXG4gICAgeTogcG9pbnRlci5wYWdlWVxuICB9O1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiBVbmlwb2ludGVyO1xuXG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/unipointer/unipointer.js\n");

/***/ }),

/***/ "./node_modules/vanilla-modal/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/vanilla-modal/dist/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var defaults = {\n    modal: '.modal',\n    modalInner: '.modal-inner',\n    modalContent: '.modal-content',\n    open: '[data-modal-open]',\n    close: '[data-modal-close]',\n    page: 'body',\n    class: 'modal-visible',\n    loadClass: 'vanilla-modal',\n    clickOutside: true,\n    closeKeys: [27],\n    transitions: true,\n    transitionEnd: null,\n    onBeforeOpen: null,\n    onBeforeClose: null,\n    onOpen: null,\n    onClose: null\n  };\n\n  function throwError(message) {\n    // eslint-disable-next-line no-console\n    console.error('VanillaModal: ' + message);\n  }\n\n  function find(arr, callback) {\n    return function (key) {\n      var filteredArray = arr.filter(callback);\n      return filteredArray[0] ? filteredArray[0][key] : undefined;\n    };\n  }\n\n  function transitionEndVendorSniff() {\n    var el = document.createElement('div');\n    var transitions = [{ key: 'transition', value: 'transitionend' }, { key: 'OTransition', value: 'otransitionend' }, { key: 'MozTransition', value: 'transitionend' }, { key: 'WebkitTransition', value: 'webkitTransitionEnd' }];\n    return find(transitions, function (_ref) {\n      var key = _ref.key;\n      return typeof el.style[key] !== 'undefined';\n    })('value');\n  }\n\n  function isPopulatedArray(arr) {\n    return Object.prototype.toString.call(arr) === '[object Array]' && arr.length;\n  }\n\n  function getNode(selector, parent) {\n    var targetNode = parent || document;\n    var node = targetNode.querySelector(selector);\n    if (!node) {\n      throwError(selector + ' not found in document.');\n    }\n    return node;\n  }\n\n  function addClass(el, className) {\n    if (!(el instanceof HTMLElement)) {\n      throwError('Not a valid HTML element.');\n    }\n    el.setAttribute('class', el.className.split(' ').filter(function (cn) {\n      return cn !== className;\n    }).concat(className).join(' '));\n  }\n\n  function removeClass(el, className) {\n    if (!(el instanceof HTMLElement)) {\n      throwError('Not a valid HTML element.');\n    }\n    el.setAttribute('class', el.className.split(' ').filter(function (cn) {\n      return cn !== className;\n    }).join(' '));\n  }\n\n  function getElementContext(e) {\n    if (e && typeof e.hash === 'string') {\n      return document.querySelector(e.hash);\n    } else if (typeof e === 'string') {\n      return document.querySelector(e);\n    }\n    throwError('No selector supplied to open()');\n    return null;\n  }\n\n  function applyUserSettings(settings) {\n    return _extends({}, defaults, settings, {\n      transitionEnd: transitionEndVendorSniff()\n    });\n  }\n\n  function matches(e, selector) {\n    var allMatches = (e.target.document || e.target.ownerDocument).querySelectorAll(selector);\n    for (var i = 0; i < allMatches.length; i += 1) {\n      var node = e.target;\n      while (node && node !== document.body) {\n        if (node === allMatches[i]) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n    }\n    return null;\n  }\n\n  var VanillaModal = function () {\n    function VanillaModal(settings) {\n      _classCallCheck(this, VanillaModal);\n\n      this.isOpen = false;\n      this.current = null;\n      this.isListening = false;\n\n      this.settings = applyUserSettings(settings);\n      this.dom = this.getDomNodes();\n\n      this.open = this.open.bind(this);\n      this.close = this.close.bind(this);\n      this.closeKeyHandler = this.closeKeyHandler.bind(this);\n      this.outsideClickHandler = this.outsideClickHandler.bind(this);\n      this.delegateOpen = this.delegateOpen.bind(this);\n      this.delegateClose = this.delegateClose.bind(this);\n      this.listen = this.listen.bind(this);\n      this.destroy = this.destroy.bind(this);\n\n      this.addLoadedCssClass();\n      this.listen();\n    }\n\n    _createClass(VanillaModal, [{\n      key: 'getDomNodes',\n      value: function getDomNodes() {\n        var _settings = this.settings,\n            modal = _settings.modal,\n            page = _settings.page,\n            modalInner = _settings.modalInner,\n            modalContent = _settings.modalContent;\n\n        return {\n          modal: getNode(modal),\n          page: getNode(page),\n          modalInner: getNode(modalInner, getNode(modal)),\n          modalContent: getNode(modalContent, getNode(modal))\n        };\n      }\n    }, {\n      key: 'addLoadedCssClass',\n      value: function addLoadedCssClass() {\n        addClass(this.dom.page, this.settings.loadClass);\n      }\n    }, {\n      key: 'setOpenId',\n      value: function setOpenId(id) {\n        var page = this.dom.page;\n\n        page.setAttribute('data-current-modal', id || 'anonymous');\n      }\n    }, {\n      key: 'removeOpenId',\n      value: function removeOpenId() {\n        var page = this.dom.page;\n\n        page.removeAttribute('data-current-modal');\n      }\n    }, {\n      key: 'open',\n      value: function open(allMatches, e) {\n        var page = this.dom.page;\n        var _settings2 = this.settings,\n            onBeforeOpen = _settings2.onBeforeOpen,\n            onOpen = _settings2.onOpen;\n\n        if (!(this.current instanceof HTMLElement === false)) {\n          throwError('VanillaModal target must exist on page.');\n          return;\n        }\n        this.releaseNode(this.current);\n        this.current = getElementContext(allMatches);\n        if (typeof onBeforeOpen === 'function') {\n          onBeforeOpen.call(this, e);\n        }\n        this.captureNode(this.current);\n        addClass(page, this.settings.class);\n        this.setOpenId(this.current.id);\n        this.isOpen = true;\n        if (typeof onOpen === 'function') {\n          onOpen.call(this, e);\n        }\n      }\n    }, {\n      key: 'detectTransition',\n      value: function detectTransition() {\n        var modal = this.dom.modal;\n\n        var css = window.getComputedStyle(modal, null);\n        return Boolean(['transitionDuration', 'oTransitionDuration', 'MozTransitionDuration', 'webkitTransitionDuration'].filter(function (i) {\n          return typeof css[i] === 'string' && parseFloat(css[i]) > 0;\n        }).length);\n      }\n    }, {\n      key: 'close',\n      value: function close(e) {\n        var _settings3 = this.settings,\n            transitions = _settings3.transitions,\n            transitionEnd = _settings3.transitionEnd,\n            onBeforeClose = _settings3.onBeforeClose;\n\n        var hasTransition = this.detectTransition();\n        if (this.isOpen) {\n          this.isOpen = false;\n          if (typeof onBeforeClose === 'function') {\n            onBeforeClose.call(this, e);\n          }\n          removeClass(this.dom.page, this.settings.class);\n          if (transitions && transitionEnd && hasTransition) {\n            this.closeModalWithTransition(e);\n          } else {\n            this.closeModal(e);\n          }\n        }\n      }\n    }, {\n      key: 'closeModal',\n      value: function closeModal(e) {\n        var onClose = this.settings.onClose;\n\n        this.removeOpenId(this.dom.page);\n        this.releaseNode(this.current);\n        this.isOpen = false;\n        this.current = null;\n        if (typeof onClose === 'function') {\n          onClose.call(this, e);\n        }\n      }\n    }, {\n      key: 'closeModalWithTransition',\n      value: function closeModalWithTransition(e) {\n        var _this = this;\n\n        var modal = this.dom.modal;\n        var transitionEnd = this.settings.transitionEnd;\n\n        var closeTransitionHandler = function closeTransitionHandler() {\n          modal.removeEventListener(transitionEnd, closeTransitionHandler);\n          _this.closeModal(e);\n        };\n        modal.addEventListener(transitionEnd, closeTransitionHandler);\n      }\n    }, {\n      key: 'captureNode',\n      value: function captureNode(node) {\n        var modalContent = this.dom.modalContent;\n\n        while (node.childNodes.length) {\n          modalContent.appendChild(node.childNodes[0]);\n        }\n      }\n    }, {\n      key: 'releaseNode',\n      value: function releaseNode(node) {\n        var modalContent = this.dom.modalContent;\n\n        while (modalContent.childNodes.length) {\n          node.appendChild(modalContent.childNodes[0]);\n        }\n      }\n    }, {\n      key: 'closeKeyHandler',\n      value: function closeKeyHandler(e) {\n        var closeKeys = this.settings.closeKeys;\n\n        if (isPopulatedArray(closeKeys) && closeKeys.indexOf(e.which) > -1 && this.isOpen === true) {\n          e.preventDefault();\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'outsideClickHandler',\n      value: function outsideClickHandler(e) {\n        var clickOutside = this.settings.clickOutside;\n        var modalInner = this.dom.modalInner;\n\n        if (clickOutside) {\n          var node = e.target;\n          while (node && node !== document.body) {\n            if (node === modalInner) {\n              return;\n            }\n            node = node.parentNode;\n          }\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'delegateOpen',\n      value: function delegateOpen(e) {\n        var open = this.settings.open;\n\n        var matchedNode = matches(e, open);\n        if (matchedNode) {\n          e.preventDefault();\n          this.open(matchedNode, e);\n        }\n      }\n    }, {\n      key: 'delegateClose',\n      value: function delegateClose(e) {\n        var close = this.settings.close;\n\n        if (matches(e, close)) {\n          e.preventDefault();\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'listen',\n      value: function listen() {\n        var modal = this.dom.modal;\n\n        if (!this.isListening) {\n          modal.addEventListener('click', this.outsideClickHandler, false);\n          document.addEventListener('keydown', this.closeKeyHandler, false);\n          document.addEventListener('click', this.delegateOpen, false);\n          document.addEventListener('click', this.delegateClose, false);\n          this.isListening = true;\n        } else {\n          throwError('Event listeners already applied.');\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        var modal = this.dom.modal;\n\n        if (this.isListening) {\n          this.close();\n          modal.removeEventListener('click', this.outsideClickHandler);\n          document.removeEventListener('keydown', this.closeKeyHandler);\n          document.removeEventListener('click', this.delegateOpen);\n          document.removeEventListener('click', this.delegateClose);\n          this.isListening = false;\n        } else {\n          throwError('Event listeners already removed.');\n        }\n      }\n    }]);\n\n    return VanillaModal;\n  }();\n\n  exports.default = VanillaModal;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmFuaWxsYS1tb2RhbC9kaXN0L2luZGV4LmpzPzI0YjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxNQUFNLElBQTBDO0FBQ2hELElBQUksaUNBQU8sQ0FBQyxPQUFTLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUNoQyxHQUFHLE1BQU0sWUFRTjtBQUNILENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsa0JBQWtCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0IsNENBQTRDLEdBQUcsOENBQThDLEdBQUcsK0NBQStDLEdBQUcsd0RBQXdEO0FBQ2xPO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy92YW5pbGxhLW1vZGFsL2Rpc3QvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZmFjdG9yeShleHBvcnRzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbW9kID0ge1xuICAgICAgZXhwb3J0czoge31cbiAgICB9O1xuICAgIGZhY3RvcnkobW9kLmV4cG9ydHMpO1xuICAgIGdsb2JhbC5WYW5pbGxhTW9kYWwgPSBtb2QuZXhwb3J0cztcbiAgfVxufSkodGhpcywgZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cblxuICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgdmFyIGRlZmF1bHRzID0ge1xuICAgIG1vZGFsOiAnLm1vZGFsJyxcbiAgICBtb2RhbElubmVyOiAnLm1vZGFsLWlubmVyJyxcbiAgICBtb2RhbENvbnRlbnQ6ICcubW9kYWwtY29udGVudCcsXG4gICAgb3BlbjogJ1tkYXRhLW1vZGFsLW9wZW5dJyxcbiAgICBjbG9zZTogJ1tkYXRhLW1vZGFsLWNsb3NlXScsXG4gICAgcGFnZTogJ2JvZHknLFxuICAgIGNsYXNzOiAnbW9kYWwtdmlzaWJsZScsXG4gICAgbG9hZENsYXNzOiAndmFuaWxsYS1tb2RhbCcsXG4gICAgY2xpY2tPdXRzaWRlOiB0cnVlLFxuICAgIGNsb3NlS2V5czogWzI3XSxcbiAgICB0cmFuc2l0aW9uczogdHJ1ZSxcbiAgICB0cmFuc2l0aW9uRW5kOiBudWxsLFxuICAgIG9uQmVmb3JlT3BlbjogbnVsbCxcbiAgICBvbkJlZm9yZUNsb3NlOiBudWxsLFxuICAgIG9uT3BlbjogbnVsbCxcbiAgICBvbkNsb3NlOiBudWxsXG4gIH07XG5cbiAgZnVuY3Rpb24gdGhyb3dFcnJvcihtZXNzYWdlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmVycm9yKCdWYW5pbGxhTW9kYWw6ICcgKyBtZXNzYWdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmQoYXJyLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgZmlsdGVyZWRBcnJheSA9IGFyci5maWx0ZXIoY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIGZpbHRlcmVkQXJyYXlbMF0gPyBmaWx0ZXJlZEFycmF5WzBdW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRWZW5kb3JTbmlmZigpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgdHJhbnNpdGlvbnMgPSBbeyBrZXk6ICd0cmFuc2l0aW9uJywgdmFsdWU6ICd0cmFuc2l0aW9uZW5kJyB9LCB7IGtleTogJ09UcmFuc2l0aW9uJywgdmFsdWU6ICdvdHJhbnNpdGlvbmVuZCcgfSwgeyBrZXk6ICdNb3pUcmFuc2l0aW9uJywgdmFsdWU6ICd0cmFuc2l0aW9uZW5kJyB9LCB7IGtleTogJ1dlYmtpdFRyYW5zaXRpb24nLCB2YWx1ZTogJ3dlYmtpdFRyYW5zaXRpb25FbmQnIH1dO1xuICAgIHJldHVybiBmaW5kKHRyYW5zaXRpb25zLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGtleSA9IF9yZWYua2V5O1xuICAgICAgcmV0dXJuIHR5cGVvZiBlbC5zdHlsZVtrZXldICE9PSAndW5kZWZpbmVkJztcbiAgICB9KSgndmFsdWUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUG9wdWxhdGVkQXJyYXkoYXJyKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nICYmIGFyci5sZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROb2RlKHNlbGVjdG9yLCBwYXJlbnQpIHtcbiAgICB2YXIgdGFyZ2V0Tm9kZSA9IHBhcmVudCB8fCBkb2N1bWVudDtcbiAgICB2YXIgbm9kZSA9IHRhcmdldE5vZGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICB0aHJvd0Vycm9yKHNlbGVjdG9yICsgJyBub3QgZm91bmQgaW4gZG9jdW1lbnQuJyk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgIGlmICghKGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICB0aHJvd0Vycm9yKCdOb3QgYSB2YWxpZCBIVE1MIGVsZW1lbnQuJyk7XG4gICAgfVxuICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBlbC5jbGFzc05hbWUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24gKGNuKSB7XG4gICAgICByZXR1cm4gY24gIT09IGNsYXNzTmFtZTtcbiAgICB9KS5jb25jYXQoY2xhc3NOYW1lKS5qb2luKCcgJykpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgIGlmICghKGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICB0aHJvd0Vycm9yKCdOb3QgYSB2YWxpZCBIVE1MIGVsZW1lbnQuJyk7XG4gICAgfVxuICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBlbC5jbGFzc05hbWUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24gKGNuKSB7XG4gICAgICByZXR1cm4gY24gIT09IGNsYXNzTmFtZTtcbiAgICB9KS5qb2luKCcgJykpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudENvbnRleHQoZSkge1xuICAgIGlmIChlICYmIHR5cGVvZiBlLmhhc2ggPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlLmhhc2gpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtcbiAgICB9XG4gICAgdGhyb3dFcnJvcignTm8gc2VsZWN0b3Igc3VwcGxpZWQgdG8gb3BlbigpJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseVVzZXJTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMsIHNldHRpbmdzLCB7XG4gICAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kVmVuZG9yU25pZmYoKVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbWF0Y2hlcyhlLCBzZWxlY3Rvcikge1xuICAgIHZhciBhbGxNYXRjaGVzID0gKGUudGFyZ2V0LmRvY3VtZW50IHx8IGUudGFyZ2V0Lm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsTWF0Y2hlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIG5vZGUgPSBlLnRhcmdldDtcbiAgICAgIHdoaWxlIChub2RlICYmIG5vZGUgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgaWYgKG5vZGUgPT09IGFsbE1hdGNoZXNbaV0pIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBWYW5pbGxhTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmFuaWxsYU1vZGFsKHNldHRpbmdzKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmFuaWxsYU1vZGFsKTtcblxuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICB0aGlzLmlzTGlzdGVuaW5nID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuc2V0dGluZ3MgPSBhcHBseVVzZXJTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICB0aGlzLmRvbSA9IHRoaXMuZ2V0RG9tTm9kZXMoKTtcblxuICAgICAgdGhpcy5vcGVuID0gdGhpcy5vcGVuLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5jbG9zZUtleUhhbmRsZXIgPSB0aGlzLmNsb3NlS2V5SGFuZGxlci5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5vdXRzaWRlQ2xpY2tIYW5kbGVyID0gdGhpcy5vdXRzaWRlQ2xpY2tIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmRlbGVnYXRlT3BlbiA9IHRoaXMuZGVsZWdhdGVPcGVuLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmRlbGVnYXRlQ2xvc2UgPSB0aGlzLmRlbGVnYXRlQ2xvc2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMubGlzdGVuID0gdGhpcy5saXN0ZW4uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuZGVzdHJveS5iaW5kKHRoaXMpO1xuXG4gICAgICB0aGlzLmFkZExvYWRlZENzc0NsYXNzKCk7XG4gICAgICB0aGlzLmxpc3RlbigpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhWYW5pbGxhTW9kYWwsIFt7XG4gICAgICBrZXk6ICdnZXREb21Ob2RlcycsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tTm9kZXMoKSB7XG4gICAgICAgIHZhciBfc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgbW9kYWwgPSBfc2V0dGluZ3MubW9kYWwsXG4gICAgICAgICAgICBwYWdlID0gX3NldHRpbmdzLnBhZ2UsXG4gICAgICAgICAgICBtb2RhbElubmVyID0gX3NldHRpbmdzLm1vZGFsSW5uZXIsXG4gICAgICAgICAgICBtb2RhbENvbnRlbnQgPSBfc2V0dGluZ3MubW9kYWxDb250ZW50O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbW9kYWw6IGdldE5vZGUobW9kYWwpLFxuICAgICAgICAgIHBhZ2U6IGdldE5vZGUocGFnZSksXG4gICAgICAgICAgbW9kYWxJbm5lcjogZ2V0Tm9kZShtb2RhbElubmVyLCBnZXROb2RlKG1vZGFsKSksXG4gICAgICAgICAgbW9kYWxDb250ZW50OiBnZXROb2RlKG1vZGFsQ29udGVudCwgZ2V0Tm9kZShtb2RhbCkpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnYWRkTG9hZGVkQ3NzQ2xhc3MnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZExvYWRlZENzc0NsYXNzKCkge1xuICAgICAgICBhZGRDbGFzcyh0aGlzLmRvbS5wYWdlLCB0aGlzLnNldHRpbmdzLmxvYWRDbGFzcyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnc2V0T3BlbklkJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcGVuSWQoaWQpIHtcbiAgICAgICAgdmFyIHBhZ2UgPSB0aGlzLmRvbS5wYWdlO1xuXG4gICAgICAgIHBhZ2Uuc2V0QXR0cmlidXRlKCdkYXRhLWN1cnJlbnQtbW9kYWwnLCBpZCB8fCAnYW5vbnltb3VzJyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAncmVtb3ZlT3BlbklkJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVPcGVuSWQoKSB7XG4gICAgICAgIHZhciBwYWdlID0gdGhpcy5kb20ucGFnZTtcblxuICAgICAgICBwYWdlLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LW1vZGFsJyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnb3BlbicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbihhbGxNYXRjaGVzLCBlKSB7XG4gICAgICAgIHZhciBwYWdlID0gdGhpcy5kb20ucGFnZTtcbiAgICAgICAgdmFyIF9zZXR0aW5nczIgPSB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgb25CZWZvcmVPcGVuID0gX3NldHRpbmdzMi5vbkJlZm9yZU9wZW4sXG4gICAgICAgICAgICBvbk9wZW4gPSBfc2V0dGluZ3MyLm9uT3BlbjtcblxuICAgICAgICBpZiAoISh0aGlzLmN1cnJlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcignVmFuaWxsYU1vZGFsIHRhcmdldCBtdXN0IGV4aXN0IG9uIHBhZ2UuJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVsZWFzZU5vZGUodGhpcy5jdXJyZW50KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gZ2V0RWxlbWVudENvbnRleHQoYWxsTWF0Y2hlcyk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25CZWZvcmVPcGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25CZWZvcmVPcGVuLmNhbGwodGhpcywgZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYXB0dXJlTm9kZSh0aGlzLmN1cnJlbnQpO1xuICAgICAgICBhZGRDbGFzcyhwYWdlLCB0aGlzLnNldHRpbmdzLmNsYXNzKTtcbiAgICAgICAgdGhpcy5zZXRPcGVuSWQodGhpcy5jdXJyZW50LmlkKTtcbiAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIG9uT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uT3Blbi5jYWxsKHRoaXMsIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnZGV0ZWN0VHJhbnNpdGlvbicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGV0ZWN0VHJhbnNpdGlvbigpIHtcbiAgICAgICAgdmFyIG1vZGFsID0gdGhpcy5kb20ubW9kYWw7XG5cbiAgICAgICAgdmFyIGNzcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG1vZGFsLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oWyd0cmFuc2l0aW9uRHVyYXRpb24nLCAnb1RyYW5zaXRpb25EdXJhdGlvbicsICdNb3pUcmFuc2l0aW9uRHVyYXRpb24nLCAnd2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uJ10uZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBjc3NbaV0gPT09ICdzdHJpbmcnICYmIHBhcnNlRmxvYXQoY3NzW2ldKSA+IDA7XG4gICAgICAgIH0pLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY2xvc2UnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKGUpIHtcbiAgICAgICAgdmFyIF9zZXR0aW5nczMgPSB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbnMgPSBfc2V0dGluZ3MzLnRyYW5zaXRpb25zLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkVuZCA9IF9zZXR0aW5nczMudHJhbnNpdGlvbkVuZCxcbiAgICAgICAgICAgIG9uQmVmb3JlQ2xvc2UgPSBfc2V0dGluZ3MzLm9uQmVmb3JlQ2xvc2U7XG5cbiAgICAgICAgdmFyIGhhc1RyYW5zaXRpb24gPSB0aGlzLmRldGVjdFRyYW5zaXRpb24oKTtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICBpZiAodHlwZW9mIG9uQmVmb3JlQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9uQmVmb3JlQ2xvc2UuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5kb20ucGFnZSwgdGhpcy5zZXR0aW5ncy5jbGFzcyk7XG4gICAgICAgICAgaWYgKHRyYW5zaXRpb25zICYmIHRyYW5zaXRpb25FbmQgJiYgaGFzVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsV2l0aFRyYW5zaXRpb24oZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbChlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjbG9zZU1vZGFsJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZU1vZGFsKGUpIHtcbiAgICAgICAgdmFyIG9uQ2xvc2UgPSB0aGlzLnNldHRpbmdzLm9uQ2xvc2U7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVPcGVuSWQodGhpcy5kb20ucGFnZSk7XG4gICAgICAgIHRoaXMucmVsZWFzZU5vZGUodGhpcy5jdXJyZW50KTtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkNsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25DbG9zZS5jYWxsKHRoaXMsIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY2xvc2VNb2RhbFdpdGhUcmFuc2l0aW9uJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZU1vZGFsV2l0aFRyYW5zaXRpb24oZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBtb2RhbCA9IHRoaXMuZG9tLm1vZGFsO1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkVuZCA9IHRoaXMuc2V0dGluZ3MudHJhbnNpdGlvbkVuZDtcblxuICAgICAgICB2YXIgY2xvc2VUcmFuc2l0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIGNsb3NlVHJhbnNpdGlvbkhhbmRsZXIoKSB7XG4gICAgICAgICAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kLCBjbG9zZVRyYW5zaXRpb25IYW5kbGVyKTtcbiAgICAgICAgICBfdGhpcy5jbG9zZU1vZGFsKGUpO1xuICAgICAgICB9O1xuICAgICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmQsIGNsb3NlVHJhbnNpdGlvbkhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NhcHR1cmVOb2RlJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYXB0dXJlTm9kZShub2RlKSB7XG4gICAgICAgIHZhciBtb2RhbENvbnRlbnQgPSB0aGlzLmRvbS5tb2RhbENvbnRlbnQ7XG5cbiAgICAgICAgd2hpbGUgKG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobm9kZS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ3JlbGVhc2VOb2RlJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWxlYXNlTm9kZShub2RlKSB7XG4gICAgICAgIHZhciBtb2RhbENvbnRlbnQgPSB0aGlzLmRvbS5tb2RhbENvbnRlbnQ7XG5cbiAgICAgICAgd2hpbGUgKG1vZGFsQ29udGVudC5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQobW9kYWxDb250ZW50LmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY2xvc2VLZXlIYW5kbGVyJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZUtleUhhbmRsZXIoZSkge1xuICAgICAgICB2YXIgY2xvc2VLZXlzID0gdGhpcy5zZXR0aW5ncy5jbG9zZUtleXM7XG5cbiAgICAgICAgaWYgKGlzUG9wdWxhdGVkQXJyYXkoY2xvc2VLZXlzKSAmJiBjbG9zZUtleXMuaW5kZXhPZihlLndoaWNoKSA+IC0xICYmIHRoaXMuaXNPcGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuY2xvc2UoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdvdXRzaWRlQ2xpY2tIYW5kbGVyJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvdXRzaWRlQ2xpY2tIYW5kbGVyKGUpIHtcbiAgICAgICAgdmFyIGNsaWNrT3V0c2lkZSA9IHRoaXMuc2V0dGluZ3MuY2xpY2tPdXRzaWRlO1xuICAgICAgICB2YXIgbW9kYWxJbm5lciA9IHRoaXMuZG9tLm1vZGFsSW5uZXI7XG5cbiAgICAgICAgaWYgKGNsaWNrT3V0c2lkZSkge1xuICAgICAgICAgIHZhciBub2RlID0gZS50YXJnZXQ7XG4gICAgICAgICAgd2hpbGUgKG5vZGUgJiYgbm9kZSAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IG1vZGFsSW5uZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jbG9zZShlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2RlbGVnYXRlT3BlbicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZWdhdGVPcGVuKGUpIHtcbiAgICAgICAgdmFyIG9wZW4gPSB0aGlzLnNldHRpbmdzLm9wZW47XG5cbiAgICAgICAgdmFyIG1hdGNoZWROb2RlID0gbWF0Y2hlcyhlLCBvcGVuKTtcbiAgICAgICAgaWYgKG1hdGNoZWROb2RlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMub3BlbihtYXRjaGVkTm9kZSwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdkZWxlZ2F0ZUNsb3NlJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxlZ2F0ZUNsb3NlKGUpIHtcbiAgICAgICAgdmFyIGNsb3NlID0gdGhpcy5zZXR0aW5ncy5jbG9zZTtcblxuICAgICAgICBpZiAobWF0Y2hlcyhlLCBjbG9zZSkpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5jbG9zZShlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2xpc3RlbicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuKCkge1xuICAgICAgICB2YXIgbW9kYWwgPSB0aGlzLmRvbS5tb2RhbDtcblxuICAgICAgICBpZiAoIXRoaXMuaXNMaXN0ZW5pbmcpIHtcbiAgICAgICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3V0c2lkZUNsaWNrSGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmNsb3NlS2V5SGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kZWxlZ2F0ZU9wZW4sIGZhbHNlKTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZGVsZWdhdGVDbG9zZSwgZmFsc2UpO1xuICAgICAgICAgIHRoaXMuaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93RXJyb3IoJ0V2ZW50IGxpc3RlbmVycyBhbHJlYWR5IGFwcGxpZWQuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdkZXN0cm95JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB2YXIgbW9kYWwgPSB0aGlzLmRvbS5tb2RhbDtcblxuICAgICAgICBpZiAodGhpcy5pc0xpc3RlbmluZykge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3V0c2lkZUNsaWNrSGFuZGxlcik7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuY2xvc2VLZXlIYW5kbGVyKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZGVsZWdhdGVPcGVuKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZGVsZWdhdGVDbG9zZSk7XG4gICAgICAgICAgdGhpcy5pc0xpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93RXJyb3IoJ0V2ZW50IGxpc3RlbmVycyBhbHJlYWR5IHJlbW92ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVmFuaWxsYU1vZGFsO1xuICB9KCk7XG5cbiAgZXhwb3J0cy5kZWZhdWx0ID0gVmFuaWxsYU1vZGFsO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vanilla-modal/dist/index.js\n");

/***/ }),

/***/ "./source/scripts/Accordion.js":
/*!*************************************!*\
  !*** ./source/scripts/Accordion.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Accordion; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n // IE does not correctly apply CSS transforms to svg elements, which are used\n// in this theme to transform  icon-chevron-down to a minus/close icon.\n// We need to manually get the calculated transform value and apply it to the\n// transform attribute, which is properly supported. Yuck.\n\nfunction fixIEsetTransformAttribute($block) {\n  if (navigator.userAgent.match(/(Trident\\/7\\.)|(MSIE)/) === null) {\n    return;\n  }\n\n  var $paths = $block.parent().find('path');\n  $paths.each(function (index, path) {\n    var transform = window.getComputedStyle(path).getPropertyValue('transform');\n    path.setAttribute('transform', transform);\n  });\n}\n\nvar Accordion = /*#__PURE__*/function () {\n  function Accordion($el) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Accordion);\n\n    this.$el = $el;\n    this.options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, {\n      activeClass: 'accordion--active',\n      autoCollapse: false,\n      content: '[data-accordion-content]',\n      eligibleClass: 'has-accordion'\n    }, options);\n  }\n\n  _createClass(Accordion, [{\n    key: \"toggle\",\n    value: function toggle($block) {\n      var open = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (open || !$block.hasClass(this.options.activeClass)) {\n        if (this.options.autoCollapse) this.closeOpen();\n\n        this._open($block);\n      } else {\n        this._close($block);\n      }\n    }\n  }, {\n    key: \"closeOpen\",\n    value: function closeOpen() {\n      var _this = this;\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.$el.find(\".\".concat(this.options.activeClass))).each(function (i, block) {\n        var $block = jquery__WEBPACK_IMPORTED_MODULE_0___default()(block);\n\n        if ($block.hasClass(_this.options.activeClass)) {\n          _this._close($block);\n        }\n      });\n    }\n  }, {\n    key: \"openAll\",\n    value: function openAll() {\n      var _this2 = this;\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.$el.find(\".\".concat(this.options.eligibleClass))).each(function (i, block) {\n        _this2._open(jquery__WEBPACK_IMPORTED_MODULE_0___default()(block), 0);\n      });\n    }\n  }, {\n    key: \"_open\",\n    value: function _open($block) {\n      $block.addClass(this.options.activeClass);\n      fixIEsetTransformAttribute($block);\n    }\n  }, {\n    key: \"_close\",\n    value: function _close($block) {\n      $block.removeClass(this.options.activeClass);\n      fixIEsetTransformAttribute($block);\n    }\n  }]);\n\n  return Accordion;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9BY2NvcmRpb24uanM/NzZmMiJdLCJuYW1lcyI6WyJmaXhJRXNldFRyYW5zZm9ybUF0dHJpYnV0ZSIsIiRibG9jayIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwiJHBhdGhzIiwicGFyZW50IiwiZmluZCIsImVhY2giLCJpbmRleCIsInBhdGgiLCJ0cmFuc2Zvcm0iLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNldEF0dHJpYnV0ZSIsIkFjY29yZGlvbiIsIiRlbCIsIm9wdGlvbnMiLCIkIiwiZXh0ZW5kIiwiYWN0aXZlQ2xhc3MiLCJhdXRvQ29sbGFwc2UiLCJjb250ZW50IiwiZWxpZ2libGVDbGFzcyIsIm9wZW4iLCJoYXNDbGFzcyIsImNsb3NlT3BlbiIsIl9vcGVuIiwiX2Nsb3NlIiwiaSIsImJsb2NrIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztDQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFNBQVNBLDBCQUFULENBQW9DQyxNQUFwQyxFQUE0QztBQUMxQyxNQUFJQyxTQUFTLENBQUNDLFNBQVYsQ0FBb0JDLEtBQXBCLENBQTBCLHVCQUExQixNQUF1RCxJQUEzRCxFQUFpRTtBQUMvRDtBQUNEOztBQUVELE1BQU1DLE1BQU0sR0FBR0osTUFBTSxDQUFDSyxNQUFQLEdBQWdCQyxJQUFoQixDQUFxQixNQUFyQixDQUFmO0FBRUFGLFFBQU0sQ0FBQ0csSUFBUCxDQUFZLFVBQUNDLEtBQUQsRUFBUUMsSUFBUixFQUFpQjtBQUMzQixRQUFNQyxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsZ0JBQVAsQ0FBd0JILElBQXhCLEVBQThCSSxnQkFBOUIsQ0FBK0MsV0FBL0MsQ0FBbEI7QUFDQUosUUFBSSxDQUFDSyxZQUFMLENBQWtCLFdBQWxCLEVBQStCSixTQUEvQjtBQUNELEdBSEQ7QUFJRDs7SUFFb0JLLFM7QUFDbkIscUJBQVlDLEdBQVosRUFBK0I7QUFBQSxRQUFkQyxPQUFjLHVFQUFKLEVBQUk7O0FBQUE7O0FBQzdCLFNBQUtELEdBQUwsR0FBV0EsR0FBWDtBQUVBLFNBQUtDLE9BQUwsR0FBZUMsNkNBQUMsQ0FBQ0MsTUFBRixDQUFTLEVBQVQsRUFBYTtBQUMxQkMsaUJBQVcsRUFBRSxtQkFEYTtBQUUxQkMsa0JBQVksRUFBRSxLQUZZO0FBRzFCQyxhQUFPLEVBQUUsMEJBSGlCO0FBSTFCQyxtQkFBYSxFQUFFO0FBSlcsS0FBYixFQUtaTixPQUxZLENBQWY7QUFNRDs7OzsyQkFFTWpCLE0sRUFBc0I7QUFBQSxVQUFkd0IsSUFBYyx1RUFBUCxLQUFPOztBQUMzQixVQUFJQSxJQUFJLElBQUksQ0FBQ3hCLE1BQU0sQ0FBQ3lCLFFBQVAsQ0FBZ0IsS0FBS1IsT0FBTCxDQUFhRyxXQUE3QixDQUFiLEVBQXdEO0FBQ3RELFlBQUksS0FBS0gsT0FBTCxDQUFhSSxZQUFqQixFQUErQixLQUFLSyxTQUFMOztBQUMvQixhQUFLQyxLQUFMLENBQVczQixNQUFYO0FBQ0QsT0FIRCxNQUdPO0FBQ0wsYUFBSzRCLE1BQUwsQ0FBWTVCLE1BQVo7QUFDRDtBQUNGOzs7Z0NBRVc7QUFBQTs7QUFDVmtCLG1EQUFDLENBQUMsS0FBS0YsR0FBTCxDQUFTVixJQUFULFlBQWtCLEtBQUtXLE9BQUwsQ0FBYUcsV0FBL0IsRUFBRCxDQUFELENBQWlEYixJQUFqRCxDQUFzRCxVQUFDc0IsQ0FBRCxFQUFJQyxLQUFKLEVBQWM7QUFDbEUsWUFBTTlCLE1BQU0sR0FBR2tCLDZDQUFDLENBQUNZLEtBQUQsQ0FBaEI7O0FBQ0EsWUFBSTlCLE1BQU0sQ0FBQ3lCLFFBQVAsQ0FBZ0IsS0FBSSxDQUFDUixPQUFMLENBQWFHLFdBQTdCLENBQUosRUFBK0M7QUFDN0MsZUFBSSxDQUFDUSxNQUFMLENBQVk1QixNQUFaO0FBQ0Q7QUFDRixPQUxEO0FBTUQ7Ozs4QkFFUztBQUFBOztBQUNSa0IsbURBQUMsQ0FBQyxLQUFLRixHQUFMLENBQVNWLElBQVQsWUFBa0IsS0FBS1csT0FBTCxDQUFhTSxhQUEvQixFQUFELENBQUQsQ0FBbURoQixJQUFuRCxDQUF3RCxVQUFDc0IsQ0FBRCxFQUFJQyxLQUFKLEVBQWM7QUFDcEUsY0FBSSxDQUFDSCxLQUFMLENBQVdULDZDQUFDLENBQUNZLEtBQUQsQ0FBWixFQUFxQixDQUFyQjtBQUNELE9BRkQ7QUFHRDs7OzBCQUVLOUIsTSxFQUFRO0FBQ1pBLFlBQU0sQ0FBQytCLFFBQVAsQ0FBZ0IsS0FBS2QsT0FBTCxDQUFhRyxXQUE3QjtBQUNBckIsZ0NBQTBCLENBQUNDLE1BQUQsQ0FBMUI7QUFDRDs7OzJCQUVNQSxNLEVBQVE7QUFDYkEsWUFBTSxDQUFDZ0MsV0FBUCxDQUFtQixLQUFLZixPQUFMLENBQWFHLFdBQWhDO0FBQ0FyQixnQ0FBMEIsQ0FBQ0MsTUFBRCxDQUExQjtBQUNEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvQWNjb3JkaW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuLy8gSUUgZG9lcyBub3QgY29ycmVjdGx5IGFwcGx5IENTUyB0cmFuc2Zvcm1zIHRvIHN2ZyBlbGVtZW50cywgd2hpY2ggYXJlIHVzZWRcbi8vIGluIHRoaXMgdGhlbWUgdG8gdHJhbnNmb3JtICBpY29uLWNoZXZyb24tZG93biB0byBhIG1pbnVzL2Nsb3NlIGljb24uXG4vLyBXZSBuZWVkIHRvIG1hbnVhbGx5IGdldCB0aGUgY2FsY3VsYXRlZCB0cmFuc2Zvcm0gdmFsdWUgYW5kIGFwcGx5IGl0IHRvIHRoZVxuLy8gdHJhbnNmb3JtIGF0dHJpYnV0ZSwgd2hpY2ggaXMgcHJvcGVybHkgc3VwcG9ydGVkLiBZdWNrLlxuZnVuY3Rpb24gZml4SUVzZXRUcmFuc2Zvcm1BdHRyaWJ1dGUoJGJsb2NrKSB7XG4gIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oVHJpZGVudFxcLzdcXC4pfChNU0lFKS8pID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgJHBhdGhzID0gJGJsb2NrLnBhcmVudCgpLmZpbmQoJ3BhdGgnKTtcblxuICAkcGF0aHMuZWFjaCgoaW5kZXgsIHBhdGgpID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXRoKS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKTtcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY29yZGlvbiB7XG4gIGNvbnN0cnVjdG9yKCRlbCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy4kZWwgPSAkZWw7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwge1xuICAgICAgYWN0aXZlQ2xhc3M6ICdhY2NvcmRpb24tLWFjdGl2ZScsXG4gICAgICBhdXRvQ29sbGFwc2U6IGZhbHNlLFxuICAgICAgY29udGVudDogJ1tkYXRhLWFjY29yZGlvbi1jb250ZW50XScsXG4gICAgICBlbGlnaWJsZUNsYXNzOiAnaGFzLWFjY29yZGlvbicsXG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cblxuICB0b2dnbGUoJGJsb2NrLCBvcGVuID0gZmFsc2UpIHtcbiAgICBpZiAob3BlbiB8fCAhJGJsb2NrLmhhc0NsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcykpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0NvbGxhcHNlKSB0aGlzLmNsb3NlT3BlbigpO1xuICAgICAgdGhpcy5fb3BlbigkYmxvY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jbG9zZSgkYmxvY2spO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlT3BlbigpIHtcbiAgICAkKHRoaXMuJGVsLmZpbmQoYC4ke3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzc31gKSkuZWFjaCgoaSwgYmxvY2spID0+IHtcbiAgICAgIGNvbnN0ICRibG9jayA9ICQoYmxvY2spO1xuICAgICAgaWYgKCRibG9jay5oYXNDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlKCRibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvcGVuQWxsKCkge1xuICAgICQodGhpcy4kZWwuZmluZChgLiR7dGhpcy5vcHRpb25zLmVsaWdpYmxlQ2xhc3N9YCkpLmVhY2goKGksIGJsb2NrKSA9PiB7XG4gICAgICB0aGlzLl9vcGVuKCQoYmxvY2spLCAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9vcGVuKCRibG9jaykge1xuICAgICRibG9jay5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xuICAgIGZpeElFc2V0VHJhbnNmb3JtQXR0cmlidXRlKCRibG9jayk7XG4gIH1cblxuICBfY2xvc2UoJGJsb2NrKSB7XG4gICAgJGJsb2NrLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgZml4SUVzZXRUcmFuc2Zvcm1BdHRyaWJ1dGUoJGJsb2NrKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/Accordion.js\n");

/***/ }),

/***/ "./source/scripts/Forms.js":
/*!*********************************!*\
  !*** ./source/scripts/Forms.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Forms; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers_Quantity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers/Quantity */ \"./source/scripts/helpers/Quantity.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Forms = /*#__PURE__*/function () {\n  function Forms(el) {\n    var _this = this;\n\n    var selector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.form-field-input';\n\n    _classCallCheck(this, Forms);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el);\n    this.filledClass = 'form-field-filled';\n    this.fieldSelector = selector;\n    this.quantityItems = [];\n    this.$quantityWrapper = this.$el.find('[data-quantity-wrapper]');\n    this._toggleFilled = this._toggleFilled.bind(this);\n    this.$el.on('focus.forms', this.fieldSelector, this._toggleFilled);\n    this.$el.on('blur.forms', this.fieldSelector, this._toggleFilled);\n\n    this._checkFilled();\n\n    if (this.$quantityWrapper.length) {\n      this.$quantityWrapper.each(function (i, element) {\n        _this.quantityItems.push(new _helpers_Quantity__WEBPACK_IMPORTED_MODULE_1__[\"default\"](element));\n      });\n    }\n  }\n\n  _createClass(Forms, [{\n    key: \"unload\",\n    value: function unload() {\n      this.$el.off('.forms');\n      this.quantityItems.forEach(function (quantityItem) {\n        quantityItem.unload();\n      });\n    }\n  }, {\n    key: \"_checkFilled\",\n    value: function _checkFilled() {\n      var _this2 = this;\n\n      this.$el.find(this.fieldSelector).each(function (i, el) {\n        if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).hasClass(_this2.filledClass)) return;\n\n        _this2._toggleFilled(null, el);\n      });\n    }\n  }, {\n    key: \"_toggleFilled\",\n    value: function _toggleFilled() {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var el = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var target = event ? event.currentTarget : el;\n      var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(target);\n      var value = target.value;\n      var isFilled = value.length > 0;\n\n      try {\n        isFilled = isFilled || $target.is(':-webkit-autofill');\n        $target.toggleClass(this.filledClass, isFilled);\n      } catch (e) {\n        $target.toggleClass(this.filledClass, isFilled);\n      }\n    }\n  }]);\n\n  return Forms;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9Gb3Jtcy5qcz85MGU3Il0sIm5hbWVzIjpbIkZvcm1zIiwiZWwiLCJzZWxlY3RvciIsIiRlbCIsIiQiLCJmaWxsZWRDbGFzcyIsImZpZWxkU2VsZWN0b3IiLCJxdWFudGl0eUl0ZW1zIiwiJHF1YW50aXR5V3JhcHBlciIsImZpbmQiLCJfdG9nZ2xlRmlsbGVkIiwiYmluZCIsIm9uIiwiX2NoZWNrRmlsbGVkIiwibGVuZ3RoIiwiZWFjaCIsImkiLCJlbGVtZW50IiwicHVzaCIsIlF1YW50aXR5Iiwib2ZmIiwiZm9yRWFjaCIsInF1YW50aXR5SXRlbSIsInVubG9hZCIsImhhc0NsYXNzIiwiZXZlbnQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiJHRhcmdldCIsInZhbHVlIiwiaXNGaWxsZWQiLCJpcyIsInRvZ2dsZUNsYXNzIiwiZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztJQUVxQkEsSztBQUNuQixpQkFBWUMsRUFBWixFQUFnRDtBQUFBOztBQUFBLFFBQWhDQyxRQUFnQyx1RUFBckIsbUJBQXFCOztBQUFBOztBQUM5QyxTQUFLQyxHQUFMLEdBQVdDLDZDQUFDLENBQUNILEVBQUQsQ0FBWjtBQUNBLFNBQUtJLFdBQUwsR0FBbUIsbUJBQW5CO0FBQ0EsU0FBS0MsYUFBTCxHQUFxQkosUUFBckI7QUFFQSxTQUFLSyxhQUFMLEdBQXFCLEVBQXJCO0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0IsS0FBS0wsR0FBTCxDQUFTTSxJQUFULENBQWMseUJBQWQsQ0FBeEI7QUFFQSxTQUFLQyxhQUFMLEdBQXFCLEtBQUtBLGFBQUwsQ0FBbUJDLElBQW5CLENBQXdCLElBQXhCLENBQXJCO0FBQ0EsU0FBS1IsR0FBTCxDQUFTUyxFQUFULENBQVksYUFBWixFQUEyQixLQUFLTixhQUFoQyxFQUErQyxLQUFLSSxhQUFwRDtBQUNBLFNBQUtQLEdBQUwsQ0FBU1MsRUFBVCxDQUFZLFlBQVosRUFBMEIsS0FBS04sYUFBL0IsRUFBOEMsS0FBS0ksYUFBbkQ7O0FBRUEsU0FBS0csWUFBTDs7QUFFQSxRQUFJLEtBQUtMLGdCQUFMLENBQXNCTSxNQUExQixFQUFrQztBQUNoQyxXQUFLTixnQkFBTCxDQUFzQk8sSUFBdEIsQ0FBMkIsVUFBQ0MsQ0FBRCxFQUFJQyxPQUFKLEVBQWdCO0FBQ3pDLGFBQUksQ0FBQ1YsYUFBTCxDQUFtQlcsSUFBbkIsQ0FDRSxJQUFJQyx5REFBSixDQUFhRixPQUFiLENBREY7QUFHRCxPQUpEO0FBS0Q7QUFDRjs7Ozs2QkFFUTtBQUNQLFdBQUtkLEdBQUwsQ0FBU2lCLEdBQVQsQ0FBYSxRQUFiO0FBRUEsV0FBS2IsYUFBTCxDQUFtQmMsT0FBbkIsQ0FBMkIsVUFBQUMsWUFBWSxFQUFJO0FBQ3pDQSxvQkFBWSxDQUFDQyxNQUFiO0FBQ0QsT0FGRDtBQUdEOzs7bUNBRWM7QUFBQTs7QUFDYixXQUFLcEIsR0FBTCxDQUFTTSxJQUFULENBQWMsS0FBS0gsYUFBbkIsRUFBa0NTLElBQWxDLENBQXVDLFVBQUNDLENBQUQsRUFBSWYsRUFBSixFQUFXO0FBQ2hELFlBQUlHLDZDQUFDLENBQUNILEVBQUQsQ0FBRCxDQUFNdUIsUUFBTixDQUFlLE1BQUksQ0FBQ25CLFdBQXBCLENBQUosRUFBc0M7O0FBRXRDLGNBQUksQ0FBQ0ssYUFBTCxDQUFtQixJQUFuQixFQUF5QlQsRUFBekI7QUFDRCxPQUpEO0FBS0Q7OztvQ0FFdUM7QUFBQSxVQUExQndCLEtBQTBCLHVFQUFsQixJQUFrQjtBQUFBLFVBQVp4QixFQUFZLHVFQUFQLEtBQU87QUFDdEMsVUFBTXlCLE1BQU0sR0FBR0QsS0FBSyxHQUFHQSxLQUFLLENBQUNFLGFBQVQsR0FBeUIxQixFQUE3QztBQUNBLFVBQU0yQixPQUFPLEdBQUd4Qiw2Q0FBQyxDQUFDc0IsTUFBRCxDQUFqQjtBQUZzQyxVQUc5QkcsS0FIOEIsR0FHcEJILE1BSG9CLENBRzlCRyxLQUg4QjtBQUt0QyxVQUFJQyxRQUFRLEdBQUdELEtBQUssQ0FBQ2YsTUFBTixHQUFlLENBQTlCOztBQUVBLFVBQUk7QUFDRmdCLGdCQUFRLEdBQUdBLFFBQVEsSUFBSUYsT0FBTyxDQUFDRyxFQUFSLENBQVcsbUJBQVgsQ0FBdkI7QUFDQUgsZUFBTyxDQUFDSSxXQUFSLENBQW9CLEtBQUszQixXQUF6QixFQUFzQ3lCLFFBQXRDO0FBQ0QsT0FIRCxDQUdFLE9BQU9HLENBQVAsRUFBVTtBQUNWTCxlQUFPLENBQUNJLFdBQVIsQ0FBb0IsS0FBSzNCLFdBQXpCLEVBQXNDeUIsUUFBdEM7QUFDRDtBQUNGIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvRm9ybXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IFF1YW50aXR5IGZyb20gJy4vaGVscGVycy9RdWFudGl0eSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1zIHtcbiAgY29uc3RydWN0b3IoZWwsIHNlbGVjdG9yID0gJy5mb3JtLWZpZWxkLWlucHV0Jykge1xuICAgIHRoaXMuJGVsID0gJChlbCk7XG4gICAgdGhpcy5maWxsZWRDbGFzcyA9ICdmb3JtLWZpZWxkLWZpbGxlZCc7XG4gICAgdGhpcy5maWVsZFNlbGVjdG9yID0gc2VsZWN0b3I7XG5cbiAgICB0aGlzLnF1YW50aXR5SXRlbXMgPSBbXTtcbiAgICB0aGlzLiRxdWFudGl0eVdyYXBwZXIgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1xdWFudGl0eS13cmFwcGVyXScpO1xuXG4gICAgdGhpcy5fdG9nZ2xlRmlsbGVkID0gdGhpcy5fdG9nZ2xlRmlsbGVkLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kZWwub24oJ2ZvY3VzLmZvcm1zJywgdGhpcy5maWVsZFNlbGVjdG9yLCB0aGlzLl90b2dnbGVGaWxsZWQpO1xuICAgIHRoaXMuJGVsLm9uKCdibHVyLmZvcm1zJywgdGhpcy5maWVsZFNlbGVjdG9yLCB0aGlzLl90b2dnbGVGaWxsZWQpO1xuXG4gICAgdGhpcy5fY2hlY2tGaWxsZWQoKTtcblxuICAgIGlmICh0aGlzLiRxdWFudGl0eVdyYXBwZXIubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRxdWFudGl0eVdyYXBwZXIuZWFjaCgoaSwgZWxlbWVudCkgPT4ge1xuICAgICAgICB0aGlzLnF1YW50aXR5SXRlbXMucHVzaChcbiAgICAgICAgICBuZXcgUXVhbnRpdHkoZWxlbWVudCksXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy4kZWwub2ZmKCcuZm9ybXMnKTtcblxuICAgIHRoaXMucXVhbnRpdHlJdGVtcy5mb3JFYWNoKHF1YW50aXR5SXRlbSA9PiB7XG4gICAgICBxdWFudGl0eUl0ZW0udW5sb2FkKCk7XG4gICAgfSk7XG4gIH1cblxuICBfY2hlY2tGaWxsZWQoKSB7XG4gICAgdGhpcy4kZWwuZmluZCh0aGlzLmZpZWxkU2VsZWN0b3IpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICBpZiAoJChlbCkuaGFzQ2xhc3ModGhpcy5maWxsZWRDbGFzcykpIHJldHVybjtcblxuICAgICAgdGhpcy5fdG9nZ2xlRmlsbGVkKG51bGwsIGVsKTtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVGaWxsZWQoZXZlbnQgPSBudWxsLCBlbCA9IGZhbHNlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQgPyBldmVudC5jdXJyZW50VGFyZ2V0IDogZWw7XG4gICAgY29uc3QgJHRhcmdldCA9ICQodGFyZ2V0KTtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSB0YXJnZXQ7XG5cbiAgICBsZXQgaXNGaWxsZWQgPSB2YWx1ZS5sZW5ndGggPiAwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlzRmlsbGVkID0gaXNGaWxsZWQgfHwgJHRhcmdldC5pcygnOi13ZWJraXQtYXV0b2ZpbGwnKTtcbiAgICAgICR0YXJnZXQudG9nZ2xlQ2xhc3ModGhpcy5maWxsZWRDbGFzcywgaXNGaWxsZWQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICR0YXJnZXQudG9nZ2xlQ2xhc3ModGhpcy5maWxsZWRDbGFzcywgaXNGaWxsZWQpO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/Forms.js\n");

/***/ }),

/***/ "./source/scripts/Layout.js":
/*!**********************************!*\
  !*** ./source/scripts/Layout.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar eventHandlers = [];\nvar breakpointSequence = ['XS', 'S', 'M', 'L', 'L+', 'XL', 'XXL'];\n\nfunction getBreakpoint() {\n  return window.getComputedStyle(document.documentElement, ':after').getPropertyValue('content').replace(/\"/g, '');\n}\n\nfunction isBreakpoint() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (getBreakpoint() === (i < 0 || arguments.length <= i ? undefined : arguments[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isLessThanBreakpoint(breakpoint, inclusive) {\n  var currentBreakpointIndex = breakpointSequence.indexOf(getBreakpoint());\n  return currentBreakpointIndex < breakpointSequence.indexOf(breakpoint) || inclusive && currentBreakpointIndex <= breakpointSequence.indexOf(breakpoint);\n}\n\nfunction isGreaterThanBreakpoint(breakpoint, inclusive) {\n  var currentBreakpointIndex = breakpointSequence.indexOf(getBreakpoint());\n  return currentBreakpointIndex > breakpointSequence.indexOf(breakpoint) || inclusive && currentBreakpointIndex >= breakpointSequence.indexOf(breakpoint);\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  var index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nvar previousBreakpoint = getBreakpoint();\nwindow.addEventListener('resize', function (event) {\n  var currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(function (eventHandler) {\n      return eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  getBreakpoint: getBreakpoint,\n  isBreakpoint: isBreakpoint,\n  isLessThanBreakpoint: isLessThanBreakpoint,\n  isGreaterThanBreakpoint: isGreaterThanBreakpoint,\n  onBreakpointChange: onBreakpointChange,\n  offBreakpointChange: offBreakpointChange\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9MYXlvdXQuanM/M2EzNiJdLCJuYW1lcyI6WyJldmVudEhhbmRsZXJzIiwiYnJlYWtwb2ludFNlcXVlbmNlIiwiZ2V0QnJlYWtwb2ludCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImdldFByb3BlcnR5VmFsdWUiLCJyZXBsYWNlIiwiaXNCcmVha3BvaW50IiwiaSIsImxlbmd0aCIsImlzTGVzc1RoYW5CcmVha3BvaW50IiwiYnJlYWtwb2ludCIsImluY2x1c2l2ZSIsImN1cnJlbnRCcmVha3BvaW50SW5kZXgiLCJpbmRleE9mIiwiaXNHcmVhdGVyVGhhbkJyZWFrcG9pbnQiLCJvbkJyZWFrcG9pbnRDaGFuZ2UiLCJldmVudEhhbmRsZXIiLCJwdXNoIiwib2ZmQnJlYWtwb2ludENoYW5nZSIsImluZGV4Iiwic3BsaWNlIiwicHJldmlvdXNCcmVha3BvaW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY3VycmVudEJyZWFrcG9pbnQiLCJmb3JFYWNoIiwicHJldmlvdXMiLCJjdXJyZW50Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLElBQU1BLGFBQWEsR0FBRyxFQUF0QjtBQUNBLElBQU1DLGtCQUFrQixHQUFHLENBQUMsSUFBRCxFQUFPLEdBQVAsRUFBWSxHQUFaLEVBQWlCLEdBQWpCLEVBQXNCLElBQXRCLEVBQTRCLElBQTVCLEVBQWtDLEtBQWxDLENBQTNCOztBQUVBLFNBQVNDLGFBQVQsR0FBeUI7QUFDdkIsU0FBT0MsTUFBTSxDQUNWQyxnQkFESSxDQUNhQyxRQUFRLENBQUNDLGVBRHRCLEVBQ3VDLFFBRHZDLEVBRUpDLGdCQUZJLENBRWEsU0FGYixFQUdKQyxPQUhJLENBR0ksSUFISixFQUdVLEVBSFYsQ0FBUDtBQUlEOztBQUVELFNBQVNDLFlBQVQsR0FBc0M7QUFDcEMsT0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLFVBQVlDLE1BQWhDLEVBQXdDRCxDQUFDLEVBQXpDLEVBQTZDO0FBQzNDLFFBQUlSLGFBQWEsUUFBbUJRLENBQW5CLDRCQUFtQkEsQ0FBbkIseUJBQW1CQSxDQUFuQixFQUFqQixFQUF3QztBQUN0QyxhQUFPLElBQVA7QUFDRDtBQUNGOztBQUVELFNBQU8sS0FBUDtBQUNEOztBQUVELFNBQVNFLG9CQUFULENBQThCQyxVQUE5QixFQUEwQ0MsU0FBMUMsRUFBcUQ7QUFDbkQsTUFBTUMsc0JBQXNCLEdBQUdkLGtCQUFrQixDQUFDZSxPQUFuQixDQUEyQmQsYUFBYSxFQUF4QyxDQUEvQjtBQUVBLFNBQU9hLHNCQUFzQixHQUFHZCxrQkFBa0IsQ0FBQ2UsT0FBbkIsQ0FBMkJILFVBQTNCLENBQXpCLElBQ0RDLFNBQVMsSUFBSUMsc0JBQXNCLElBQUlkLGtCQUFrQixDQUFDZSxPQUFuQixDQUEyQkgsVUFBM0IsQ0FEN0M7QUFFRDs7QUFFRCxTQUFTSSx1QkFBVCxDQUFpQ0osVUFBakMsRUFBNkNDLFNBQTdDLEVBQXdEO0FBQ3RELE1BQU1DLHNCQUFzQixHQUFHZCxrQkFBa0IsQ0FBQ2UsT0FBbkIsQ0FBMkJkLGFBQWEsRUFBeEMsQ0FBL0I7QUFFQSxTQUFPYSxzQkFBc0IsR0FBR2Qsa0JBQWtCLENBQUNlLE9BQW5CLENBQTJCSCxVQUEzQixDQUF6QixJQUNEQyxTQUFTLElBQUlDLHNCQUFzQixJQUFJZCxrQkFBa0IsQ0FBQ2UsT0FBbkIsQ0FBMkJILFVBQTNCLENBRDdDO0FBRUQ7O0FBRUQsU0FBU0ssa0JBQVQsQ0FBNEJDLFlBQTVCLEVBQTBDO0FBQ3hDLE1BQUluQixhQUFhLENBQUNnQixPQUFkLENBQXNCRyxZQUF0QixNQUF3QyxDQUFDLENBQTdDLEVBQWdEO0FBQzlDbkIsaUJBQWEsQ0FBQ29CLElBQWQsQ0FBbUJELFlBQW5CO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTRSxtQkFBVCxDQUE2QkYsWUFBN0IsRUFBMkM7QUFDekMsTUFBTUcsS0FBSyxHQUFHdEIsYUFBYSxDQUFDZ0IsT0FBZCxDQUFzQkcsWUFBdEIsQ0FBZDs7QUFFQSxNQUFJRyxLQUFLLEtBQUssQ0FBQyxDQUFmLEVBQWtCO0FBQ2hCdEIsaUJBQWEsQ0FBQ3VCLE1BQWQsQ0FBcUJELEtBQXJCLEVBQTRCLENBQTVCO0FBQ0Q7QUFDRjs7QUFFRCxJQUFJRSxrQkFBa0IsR0FBR3RCLGFBQWEsRUFBdEM7QUFFQUMsTUFBTSxDQUFDc0IsZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsVUFBQUMsS0FBSyxFQUFJO0FBQ3pDLE1BQU1DLGlCQUFpQixHQUFHekIsYUFBYSxFQUF2Qzs7QUFFQSxNQUFJc0Isa0JBQWtCLEtBQUtHLGlCQUEzQixFQUE4QztBQUM1QzNCLGlCQUFhLENBQUM0QixPQUFkLENBQXNCLFVBQUFULFlBQVk7QUFBQSxhQUFJQSxZQUFZLENBQUNPLEtBQUQsRUFBUTtBQUN4REcsZ0JBQVEsRUFBRUwsa0JBRDhDO0FBRXhETSxlQUFPLEVBQUVIO0FBRitDLE9BQVIsQ0FBaEI7QUFBQSxLQUFsQztBQUlEOztBQUVESCxvQkFBa0IsR0FBR0csaUJBQXJCO0FBQ0QsQ0FYRDtBQWFlO0FBQ2J6QixlQUFhLEVBQWJBLGFBRGE7QUFFYk8sY0FBWSxFQUFaQSxZQUZhO0FBR2JHLHNCQUFvQixFQUFwQkEsb0JBSGE7QUFJYksseUJBQXVCLEVBQXZCQSx1QkFKYTtBQUtiQyxvQkFBa0IsRUFBbEJBLGtCQUxhO0FBTWJHLHFCQUFtQixFQUFuQkE7QUFOYSxDQUFmIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvTGF5b3V0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXZlbnRIYW5kbGVycyA9IFtdO1xuY29uc3QgYnJlYWtwb2ludFNlcXVlbmNlID0gWydYUycsICdTJywgJ00nLCAnTCcsICdMKycsICdYTCcsICdYWEwnXTtcblxuZnVuY3Rpb24gZ2V0QnJlYWtwb2ludCgpIHtcbiAgcmV0dXJuIHdpbmRvd1xuICAgIC5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJzphZnRlcicpXG4gICAgLmdldFByb3BlcnR5VmFsdWUoJ2NvbnRlbnQnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGlzQnJlYWtwb2ludCguLi5icmVha3BvaW50cykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJyZWFrcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGdldEJyZWFrcG9pbnQoKSA9PT0gYnJlYWtwb2ludHNbaV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNMZXNzVGhhbkJyZWFrcG9pbnQoYnJlYWtwb2ludCwgaW5jbHVzaXZlKSB7XG4gIGNvbnN0IGN1cnJlbnRCcmVha3BvaW50SW5kZXggPSBicmVha3BvaW50U2VxdWVuY2UuaW5kZXhPZihnZXRCcmVha3BvaW50KCkpO1xuXG4gIHJldHVybiBjdXJyZW50QnJlYWtwb2ludEluZGV4IDwgYnJlYWtwb2ludFNlcXVlbmNlLmluZGV4T2YoYnJlYWtwb2ludClcbiAgICB8fCAoaW5jbHVzaXZlICYmIGN1cnJlbnRCcmVha3BvaW50SW5kZXggPD0gYnJlYWtwb2ludFNlcXVlbmNlLmluZGV4T2YoYnJlYWtwb2ludCkpO1xufVxuXG5mdW5jdGlvbiBpc0dyZWF0ZXJUaGFuQnJlYWtwb2ludChicmVha3BvaW50LCBpbmNsdXNpdmUpIHtcbiAgY29uc3QgY3VycmVudEJyZWFrcG9pbnRJbmRleCA9IGJyZWFrcG9pbnRTZXF1ZW5jZS5pbmRleE9mKGdldEJyZWFrcG9pbnQoKSk7XG5cbiAgcmV0dXJuIGN1cnJlbnRCcmVha3BvaW50SW5kZXggPiBicmVha3BvaW50U2VxdWVuY2UuaW5kZXhPZihicmVha3BvaW50KVxuICAgIHx8IChpbmNsdXNpdmUgJiYgY3VycmVudEJyZWFrcG9pbnRJbmRleCA+PSBicmVha3BvaW50U2VxdWVuY2UuaW5kZXhPZihicmVha3BvaW50KSk7XG59XG5cbmZ1bmN0aW9uIG9uQnJlYWtwb2ludENoYW5nZShldmVudEhhbmRsZXIpIHtcbiAgaWYgKGV2ZW50SGFuZGxlcnMuaW5kZXhPZihldmVudEhhbmRsZXIpID09PSAtMSkge1xuICAgIGV2ZW50SGFuZGxlcnMucHVzaChldmVudEhhbmRsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9mZkJyZWFrcG9pbnRDaGFuZ2UoZXZlbnRIYW5kbGVyKSB7XG4gIGNvbnN0IGluZGV4ID0gZXZlbnRIYW5kbGVycy5pbmRleE9mKGV2ZW50SGFuZGxlcik7XG5cbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIGV2ZW50SGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufVxuXG5sZXQgcHJldmlvdXNCcmVha3BvaW50ID0gZ2V0QnJlYWtwb2ludCgpO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZXZlbnQgPT4ge1xuICBjb25zdCBjdXJyZW50QnJlYWtwb2ludCA9IGdldEJyZWFrcG9pbnQoKTtcblxuICBpZiAocHJldmlvdXNCcmVha3BvaW50ICE9PSBjdXJyZW50QnJlYWtwb2ludCkge1xuICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaChldmVudEhhbmRsZXIgPT4gZXZlbnRIYW5kbGVyKGV2ZW50LCB7XG4gICAgICBwcmV2aW91czogcHJldmlvdXNCcmVha3BvaW50LFxuICAgICAgY3VycmVudDogY3VycmVudEJyZWFrcG9pbnQsXG4gICAgfSkpO1xuICB9XG5cbiAgcHJldmlvdXNCcmVha3BvaW50ID0gY3VycmVudEJyZWFrcG9pbnQ7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRCcmVha3BvaW50LFxuICBpc0JyZWFrcG9pbnQsXG4gIGlzTGVzc1RoYW5CcmVha3BvaW50LFxuICBpc0dyZWF0ZXJUaGFuQnJlYWtwb2ludCxcbiAgb25CcmVha3BvaW50Q2hhbmdlLFxuICBvZmZCcmVha3BvaW50Q2hhbmdlLFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/Layout.js\n");

/***/ }),

/***/ "./source/scripts/Search.js":
/*!**********************************!*\
  !*** ./source/scripts/Search.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Search; });\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter2 */ \"./node_modules/eventemitter2/lib/eventemitter2.js\");\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter2__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n/**\n * Search API Class\n */\n\nvar Search = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(Search, _EventEmitter);\n\n  var _super = _createSuper(Search);\n\n  /**\n   * Create a new Search instance, and override defaults\n   *\n   * @param options\n   * @property {string} options.type - Search restriction. Use 'article', 'page', 'product', or ''\n   * @property {string} options.view - Search template suffix. Specify different templates as needed\n   */\n  function Search() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Search);\n\n    _this = _super.call(this);\n    _this.searchType = options.type || '';\n    _this.view = options.view || 'json';\n    _this.inProgress = false;\n    _this.xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n    _this._xhrLoad = _this._xhrLoad.bind(_assertThisInitialized(_this));\n    _this._xhrError = _this._xhrError.bind(_assertThisInitialized(_this));\n    _this._xhrAbort = _this._xhrAbort.bind(_assertThisInitialized(_this));\n\n    _this._bindEvents();\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this.xhr.addEventListener('load', this._xhrLoad);\n      this.xhr.addEventListener('error', this._xhrError);\n      this.xhr.addEventListener('abort', this._xhrAbort);\n    }\n    /**\n     * XHR was successfull\n     *\n     * @description XHR completed successfully\n     * @param {object} event\n     * @fires Search#complete\n     * @private\n     */\n\n  }, {\n    key: \"_xhrLoad\",\n    value: function _xhrLoad(event) {\n      var response = {};\n      var readyState = event.target.readyState;\n      var status = event.target.status;\n\n      try {\n        if (readyState > 3 && status == 200) {\n          response = JSON.parse(event.target.responseText);\n          this.emit('complete', response);\n        } else {\n          var message = \"Invalid readyState: \".concat(readyState, \", or status: \").concat(status, \".\");\n          return this._xhrError(event, message);\n        }\n      } catch (error) {\n        return this._xhrError(event, 'Invalid JSON', error);\n      }\n\n      this.inProgress = false;\n    }\n    /**\n     * XHR contains an error\n     *\n     * @description XHR has contained an error, and was unable to complete\n     * @param {object} event\n     * @param {object|string} message\n     * @param {object} error\n     * @fires Search#error\n     * @private\n     */\n\n  }, {\n    key: \"_xhrError\",\n    value: function _xhrError(event) {\n      var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      this.inProgress = false;\n      this.emit('error', {\n        event: event,\n        message: message,\n        error: error\n      });\n    }\n    /**\n     * XHR has been aborted\n     *\n     * @description This event only fires if there is an active XHR request that has been terminated\n     * @fires Search#aborted\n     * @private\n     */\n\n  }, {\n    key: \"_xhrAbort\",\n    value: function _xhrAbort() {\n      this.emit('aborted');\n    }\n    /**\n     * Perform the search\n     *\n     * @param {string} term - Search term(s)\n     * @fires Search#initialized\n     * @fires Search#cancelled\n     */\n\n  }, {\n    key: \"execute\",\n    value: function execute(term) {\n      this.emit('initialized', {\n        term: term\n      });\n\n      if (this.inProgress) {\n        this.emit('cancelled');\n        this.xhr.abort();\n      }\n\n      this.inProgress = true;\n      var url = window.Theme.routes.search_url;\n      var params = {\n        q: term,\n        type: this.searchType,\n        view: this.view\n      };\n      var searchParams = Object.keys(params).map(function (key) {\n        var value = params[key];\n        return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(value));\n      }).join('&');\n      this.xhr.open('get', \"\".concat(url, \"?\").concat(searchParams));\n      this.xhr.setRequestHeader('Accept', 'application/json');\n      this.xhr.send();\n    }\n  }]);\n\n  return Search;\n}(eventemitter2__WEBPACK_IMPORTED_MODULE_0___default.a);\n/**\n * @description XHR initialized\n * @event Search#initialized\n * @type {object}\n */\n\n/**\n * @description XHR completed\n * @event Search#complete\n * @property {object} response - JSON response from end point\n */\n\n/**\n * @description XHR had an error\n * @event Search#error\n */\n\n/**\n * @description XHR cancelled due to user interaction. If an XHR is being processed, this does not terminate it\n * @event Search#cancelled\n */\n\n/**\n * @description XHR aborted due to user interaction, terminating previously executed XHR.\n * @event Search#aborted\n */\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9TZWFyY2guanM/NTg5ZCJdLCJuYW1lcyI6WyJTZWFyY2giLCJvcHRpb25zIiwic2VhcmNoVHlwZSIsInR5cGUiLCJ2aWV3IiwiaW5Qcm9ncmVzcyIsInhociIsIndpbmRvdyIsIlhNTEh0dHBSZXF1ZXN0IiwiQWN0aXZlWE9iamVjdCIsIl94aHJMb2FkIiwiYmluZCIsIl94aHJFcnJvciIsIl94aHJBYm9ydCIsIl9iaW5kRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVzcG9uc2UiLCJyZWFkeVN0YXRlIiwidGFyZ2V0Iiwic3RhdHVzIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZW1pdCIsIm1lc3NhZ2UiLCJlcnJvciIsInRlcm0iLCJhYm9ydCIsInVybCIsIlRoZW1lIiwicm91dGVzIiwic2VhcmNoX3VybCIsInBhcmFtcyIsInEiLCJzZWFyY2hQYXJhbXMiLCJPYmplY3QiLCJrZXlzIiwibWFwIiwia2V5IiwidmFsdWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiRXZlbnRFbWl0dGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7Ozs7SUFHcUJBLE07Ozs7O0FBQ25COzs7Ozs7O0FBT0Esb0JBQTBCO0FBQUE7O0FBQUEsUUFBZEMsT0FBYyx1RUFBSixFQUFJOztBQUFBOztBQUN4QjtBQUVBLFVBQUtDLFVBQUwsR0FBa0JELE9BQU8sQ0FBQ0UsSUFBUixJQUFnQixFQUFsQztBQUNBLFVBQUtDLElBQUwsR0FBWUgsT0FBTyxDQUFDRyxJQUFSLElBQWdCLE1BQTVCO0FBRUEsVUFBS0MsVUFBTCxHQUFrQixLQUFsQjtBQUVBLFVBQUtDLEdBQUwsR0FBV0MsTUFBTSxDQUFDQyxjQUFQLEdBQ1AsSUFBSUEsY0FBSixFQURPLEdBRVAsSUFBSUMsYUFBSixDQUFrQixtQkFBbEIsQ0FGSjtBQUlBLFVBQUtDLFFBQUwsR0FBZ0IsTUFBS0EsUUFBTCxDQUFjQyxJQUFkLCtCQUFoQjtBQUNBLFVBQUtDLFNBQUwsR0FBaUIsTUFBS0EsU0FBTCxDQUFlRCxJQUFmLCtCQUFqQjtBQUNBLFVBQUtFLFNBQUwsR0FBaUIsTUFBS0EsU0FBTCxDQUFlRixJQUFmLCtCQUFqQjs7QUFFQSxVQUFLRyxXQUFMOztBQWhCd0I7QUFpQnpCOzs7O2tDQUVhO0FBQ1osV0FBS1IsR0FBTCxDQUFTUyxnQkFBVCxDQUEwQixNQUExQixFQUFrQyxLQUFLTCxRQUF2QztBQUNBLFdBQUtKLEdBQUwsQ0FBU1MsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsS0FBS0gsU0FBeEM7QUFDQSxXQUFLTixHQUFMLENBQVNTLGdCQUFULENBQTBCLE9BQTFCLEVBQW1DLEtBQUtGLFNBQXhDO0FBQ0Q7QUFFRDs7Ozs7Ozs7Ozs7NkJBUVNHLEssRUFBTztBQUNkLFVBQUlDLFFBQVEsR0FBRyxFQUFmO0FBQ0EsVUFBTUMsVUFBVSxHQUFHRixLQUFLLENBQUNHLE1BQU4sQ0FBYUQsVUFBaEM7QUFDQSxVQUFNRSxNQUFNLEdBQUdKLEtBQUssQ0FBQ0csTUFBTixDQUFhQyxNQUE1Qjs7QUFFQSxVQUFJO0FBQ0YsWUFBSUYsVUFBVSxHQUFHLENBQWIsSUFBa0JFLE1BQU0sSUFBSSxHQUFoQyxFQUFxQztBQUNuQ0gsa0JBQVEsR0FBR0ksSUFBSSxDQUFDQyxLQUFMLENBQVdOLEtBQUssQ0FBQ0csTUFBTixDQUFhSSxZQUF4QixDQUFYO0FBQ0EsZUFBS0MsSUFBTCxDQUFVLFVBQVYsRUFBc0JQLFFBQXRCO0FBQ0QsU0FIRCxNQUdPO0FBQ0wsY0FBTVEsT0FBTyxpQ0FBMEJQLFVBQTFCLDBCQUFvREUsTUFBcEQsTUFBYjtBQUNBLGlCQUFPLEtBQUtSLFNBQUwsQ0FBZUksS0FBZixFQUFzQlMsT0FBdEIsQ0FBUDtBQUNEO0FBQ0YsT0FSRCxDQVFFLE9BQU9DLEtBQVAsRUFBYztBQUNkLGVBQU8sS0FBS2QsU0FBTCxDQUFlSSxLQUFmLEVBQXNCLGNBQXRCLEVBQXNDVSxLQUF0QyxDQUFQO0FBQ0Q7O0FBRUQsV0FBS3JCLFVBQUwsR0FBa0IsS0FBbEI7QUFDRDtBQUVEOzs7Ozs7Ozs7Ozs7OzhCQVVVVyxLLEVBQXFDO0FBQUEsVUFBOUJTLE9BQThCLHVFQUFwQixJQUFvQjtBQUFBLFVBQWRDLEtBQWMsdUVBQU4sSUFBTTtBQUM3QyxXQUFLckIsVUFBTCxHQUFrQixLQUFsQjtBQUNBLFdBQUttQixJQUFMLENBQVUsT0FBVixFQUFtQjtBQUFDUixhQUFLLEVBQUxBLEtBQUQ7QUFBUVMsZUFBTyxFQUFQQSxPQUFSO0FBQWlCQyxhQUFLLEVBQUxBO0FBQWpCLE9BQW5CO0FBQ0Q7QUFFRDs7Ozs7Ozs7OztnQ0FPWTtBQUNWLFdBQUtGLElBQUwsQ0FBVSxTQUFWO0FBQ0Q7QUFFRDs7Ozs7Ozs7Ozs0QkFPUUcsSSxFQUFNO0FBQ1osV0FBS0gsSUFBTCxDQUFVLGFBQVYsRUFBeUI7QUFBQ0csWUFBSSxFQUFKQTtBQUFELE9BQXpCOztBQUVBLFVBQUksS0FBS3RCLFVBQVQsRUFBcUI7QUFDbkIsYUFBS21CLElBQUwsQ0FBVSxXQUFWO0FBQ0EsYUFBS2xCLEdBQUwsQ0FBU3NCLEtBQVQ7QUFDRDs7QUFFRCxXQUFLdkIsVUFBTCxHQUFrQixJQUFsQjtBQUVBLFVBQU13QixHQUFHLEdBQUd0QixNQUFNLENBQUN1QixLQUFQLENBQWFDLE1BQWIsQ0FBb0JDLFVBQWhDO0FBQ0EsVUFBTUMsTUFBTSxHQUFHO0FBQ2JDLFNBQUMsRUFBRVAsSUFEVTtBQUVieEIsWUFBSSxFQUFFLEtBQUtELFVBRkU7QUFHYkUsWUFBSSxFQUFFLEtBQUtBO0FBSEUsT0FBZjtBQU1BLFVBQU0rQixZQUFZLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSixNQUFaLEVBQW9CSyxHQUFwQixDQUF3QixVQUFDQyxHQUFELEVBQVM7QUFDcEQsWUFBTUMsS0FBSyxHQUFHUCxNQUFNLENBQUNNLEdBQUQsQ0FBcEI7QUFDQSx5QkFBVUUsa0JBQWtCLENBQUNGLEdBQUQsQ0FBNUIsY0FBcUNFLGtCQUFrQixDQUFDRCxLQUFELENBQXZEO0FBQ0QsT0FIb0IsRUFHbEJFLElBSGtCLENBR2IsR0FIYSxDQUFyQjtBQUtBLFdBQUtwQyxHQUFMLENBQVNxQyxJQUFULENBQWMsS0FBZCxZQUF3QmQsR0FBeEIsY0FBK0JNLFlBQS9CO0FBQ0EsV0FBSzdCLEdBQUwsQ0FBU3NDLGdCQUFULENBQTBCLFFBQTFCLEVBQW9DLGtCQUFwQztBQUNBLFdBQUt0QyxHQUFMLENBQVN1QyxJQUFUO0FBQ0Q7Ozs7RUF2SGlDQyxvRDtBQTBIcEM7Ozs7OztBQU1BOzs7Ozs7QUFNQTs7Ozs7QUFLQTs7Ozs7QUFLQSIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL1NlYXJjaC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMic7XG5cbi8qKlxuICogU2VhcmNoIEFQSSBDbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWFyY2ggZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFNlYXJjaCBpbnN0YW5jZSwgYW5kIG92ZXJyaWRlIGRlZmF1bHRzXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBvcHRpb25zLnR5cGUgLSBTZWFyY2ggcmVzdHJpY3Rpb24uIFVzZSAnYXJ0aWNsZScsICdwYWdlJywgJ3Byb2R1Y3QnLCBvciAnJ1xuICAgKiBAcHJvcGVydHkge3N0cmluZ30gb3B0aW9ucy52aWV3IC0gU2VhcmNoIHRlbXBsYXRlIHN1ZmZpeC4gU3BlY2lmeSBkaWZmZXJlbnQgdGVtcGxhdGVzIGFzIG5lZWRlZFxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc2VhcmNoVHlwZSA9IG9wdGlvbnMudHlwZSB8fCAnJztcbiAgICB0aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgJ2pzb24nO1xuXG4gICAgdGhpcy5pblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICB0aGlzLnhociA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdFxuICAgICAgPyBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgICAgOiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKTtcblxuICAgIHRoaXMuX3hockxvYWQgPSB0aGlzLl94aHJMb2FkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5feGhyRXJyb3IgPSB0aGlzLl94aHJFcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3hockFib3J0ID0gdGhpcy5feGhyQWJvcnQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgfVxuXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMueGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl94aHJMb2FkKTtcbiAgICB0aGlzLnhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX3hockVycm9yKTtcbiAgICB0aGlzLnhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX3hockFib3J0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBYSFIgd2FzIHN1Y2Nlc3NmdWxsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBYSFIgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnRcbiAgICogQGZpcmVzIFNlYXJjaCNjb21wbGV0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3hockxvYWQoZXZlbnQpIHtcbiAgICBsZXQgcmVzcG9uc2UgPSB7fTtcbiAgICBjb25zdCByZWFkeVN0YXRlID0gZXZlbnQudGFyZ2V0LnJlYWR5U3RhdGU7XG4gICAgY29uc3Qgc3RhdHVzID0gZXZlbnQudGFyZ2V0LnN0YXR1cztcblxuICAgIHRyeSB7XG4gICAgICBpZiAocmVhZHlTdGF0ZSA+IDMgJiYgc3RhdHVzID09IDIwMCkge1xuICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UoZXZlbnQudGFyZ2V0LnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHRoaXMuZW1pdCgnY29tcGxldGUnLCByZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYEludmFsaWQgcmVhZHlTdGF0ZTogJHtyZWFkeVN0YXRlfSwgb3Igc3RhdHVzOiAke3N0YXR1c30uYDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3hockVycm9yKGV2ZW50LCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHRoaXMuX3hockVycm9yKGV2ZW50LCAnSW52YWxpZCBKU09OJywgZXJyb3IpO1xuICAgIH1cblxuICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFhIUiBjb250YWlucyBhbiBlcnJvclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gWEhSIGhhcyBjb250YWluZWQgYW4gZXJyb3IsIGFuZCB3YXMgdW5hYmxlIHRvIGNvbXBsZXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudFxuICAgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IG1lc3NhZ2VcbiAgICogQHBhcmFtIHtvYmplY3R9IGVycm9yXG4gICAqIEBmaXJlcyBTZWFyY2gjZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF94aHJFcnJvcihldmVudCwgbWVzc2FnZSA9IG51bGwsIGVycm9yID0gbnVsbCkge1xuICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7ZXZlbnQsIG1lc3NhZ2UsIGVycm9yfSk7XG4gIH1cblxuICAvKipcbiAgICogWEhSIGhhcyBiZWVuIGFib3J0ZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIFRoaXMgZXZlbnQgb25seSBmaXJlcyBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgWEhSIHJlcXVlc3QgdGhhdCBoYXMgYmVlbiB0ZXJtaW5hdGVkXG4gICAqIEBmaXJlcyBTZWFyY2gjYWJvcnRlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3hockFib3J0KCkge1xuICAgIHRoaXMuZW1pdCgnYWJvcnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gdGhlIHNlYXJjaFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGVybSAtIFNlYXJjaCB0ZXJtKHMpXG4gICAqIEBmaXJlcyBTZWFyY2gjaW5pdGlhbGl6ZWRcbiAgICogQGZpcmVzIFNlYXJjaCNjYW5jZWxsZWRcbiAgICovXG4gIGV4ZWN1dGUodGVybSkge1xuICAgIHRoaXMuZW1pdCgnaW5pdGlhbGl6ZWQnLCB7dGVybX0pO1xuXG4gICAgaWYgKHRoaXMuaW5Qcm9ncmVzcykge1xuICAgICAgdGhpcy5lbWl0KCdjYW5jZWxsZWQnKTtcbiAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5pblByb2dyZXNzID0gdHJ1ZTtcblxuICAgIGNvbnN0IHVybCA9IHdpbmRvdy5UaGVtZS5yb3V0ZXMuc2VhcmNoX3VybDtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBxOiB0ZXJtLFxuICAgICAgdHlwZTogdGhpcy5zZWFyY2hUeXBlLFxuICAgICAgdmlldzogdGhpcy52aWV3LFxuICAgIH07XG5cbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtc1trZXldO1xuICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YFxuICAgIH0pLmpvaW4oJyYnKTtcblxuICAgIHRoaXMueGhyLm9wZW4oJ2dldCcsIGAke3VybH0/JHtzZWFyY2hQYXJhbXN9YCk7XG4gICAgdGhpcy54aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB0aGlzLnhoci5zZW5kKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gWEhSIGluaXRpYWxpemVkXG4gKiBAZXZlbnQgU2VhcmNoI2luaXRpYWxpemVkXG4gKiBAdHlwZSB7b2JqZWN0fVxuICovXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFhIUiBjb21wbGV0ZWRcbiAqIEBldmVudCBTZWFyY2gjY29tcGxldGVcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZXNwb25zZSAtIEpTT04gcmVzcG9uc2UgZnJvbSBlbmQgcG9pbnRcbiAqL1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBYSFIgaGFkIGFuIGVycm9yXG4gKiBAZXZlbnQgU2VhcmNoI2Vycm9yXG4gKi9cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gWEhSIGNhbmNlbGxlZCBkdWUgdG8gdXNlciBpbnRlcmFjdGlvbi4gSWYgYW4gWEhSIGlzIGJlaW5nIHByb2Nlc3NlZCwgdGhpcyBkb2VzIG5vdCB0ZXJtaW5hdGUgaXRcbiAqIEBldmVudCBTZWFyY2gjY2FuY2VsbGVkXG4gKi9cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gWEhSIGFib3J0ZWQgZHVlIHRvIHVzZXIgaW50ZXJhY3Rpb24sIHRlcm1pbmF0aW5nIHByZXZpb3VzbHkgZXhlY3V0ZWQgWEhSLlxuICogQGV2ZW50IFNlYXJjaCNhYm9ydGVkXG4gKi9cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/Search.js\n");

/***/ }),

/***/ "./source/scripts/Sections.js":
/*!************************************!*\
  !*** ./source/scripts/Sections.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Sections; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Sections = /*#__PURE__*/function () {\n  function Sections() {\n    _classCallCheck(this, Sections);\n\n    this.handlers = {};\n    this.instances = {};\n    this._onSectionEvent = this._onSectionEvent.bind(this);\n    document.addEventListener('shopify:section:load', this._onSectionEvent);\n    document.addEventListener('shopify:section:unload', this._onSectionEvent);\n    document.addEventListener('shopify:section:select', this._onSectionEvent);\n    document.addEventListener('shopify:section:deselect', this._onSectionEvent);\n    document.addEventListener('shopify:block:select', this._onSectionEvent);\n    document.addEventListener('shopify:block:deselect', this._onSectionEvent);\n  }\n  /**\n   * Stop listening for section events, and unbind all handlers.\n   */\n\n\n  _createClass(Sections, [{\n    key: \"unbind\",\n    value: function unbind() {\n      document.removeEventListener('shopify:section:load', this._onSectionEvent);\n      document.removeEventListener('shopify:section:unload', this._onSectionEvent);\n      document.removeEventListener('shopify:section:select', this._onSectionEvent);\n      document.removeEventListener('shopify:section:deselect', this._onSectionEvent);\n      document.removeEventListener('shopify:block:select', this._onSectionEvent);\n      document.removeEventListener('shopify:block:deselect', this._onSectionEvent); // Unload all instances\n\n      for (var i = 0; i < this.instances.length; i++) {\n        this._triggerInstanceEvent(this.instances[i], 'onSectionUnload');\n      }\n\n      this.handlers = {};\n      this.instances = {};\n    }\n    /**\n     * Register a section handler.\n     *\n     * @param {string} type\n     *        The section type to handle. The handler will be called for all\n     *        sections with this type.\n     *\n     * @param {function} handler\n     *        The handler function is passed information about a specific section\n     *        instance. The handler is expected to return an object that will be\n     *        associated with the section instance.\n     *\n     *        Section handlers are passed an object with the following parameters:\n     *          {string} id\n     *          An ID that maps to a specific section instance. Typically the\n     *          section's filename for static sections, or a generated ID for\n     *          dynamic sections.\n     *\n     *          {string} type\n     *          The section type, as supplied when registered.\n     *\n     *          {Element} el\n     *          The root DOM element for the section instance.\n     *\n     *          {Object} data\n     *          Data loaded from the section script element. Defaults to an\n     *          empty object.\n     *\n     *          {Function} postMessage\n     *          A function that can be called to pass messages between sections.\n     *          The function should be called with a message \"name\", and\n     *          optionally some data.\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(type, handler) {\n      if (this.handlers[type]) {\n        console.warn(\"Sections: section handler already exists of type '\".concat(type, \"'.\"));\n      } // Store the section handler\n\n\n      this.handlers[type] = handler; // Init sections for this type\n\n      this._initSections(type);\n    }\n    /**\n     * Initialize sections already on the page.\n     */\n\n  }, {\n    key: \"_initSections\",\n    value: function _initSections(type) {\n      // Fetch all existing sections of our type on the page\n      var dataEls = document.querySelectorAll(\"[data-section-type=\\\"\".concat(type, \"\\\"]\"));\n      if (!dataEls) return; // Create an instance for each section\n\n      for (var i = 0; i < dataEls.length; i++) {\n        var dataEl = dataEls[i];\n        var el = dataEl.parentNode; // Get instance ID\n\n        var idEl = el.querySelector('[data-section-id]');\n\n        if (!idEl) {\n          console.warn(\"Sections: unable to find section id for '\".concat(type, \"'.\"), el);\n          continue;\n        }\n\n        var sectionId = idEl.getAttribute('data-section-id');\n\n        if (!sectionId) {\n          console.warn(\"Sections: unable to find section id for '\".concat(type, \"'.\"), el);\n          continue;\n        }\n\n        this._createInstance(sectionId, el);\n      }\n    }\n  }, {\n    key: \"_onSectionEvent\",\n    value: function _onSectionEvent(event) {\n      var el = event.target;\n      var sectionId = event.detail.sectionId;\n      var blockId = event.detail.blockId;\n      var instance = this.instances[sectionId];\n\n      switch (event.type) {\n        case 'shopify:section:load':\n          this._createInstance(sectionId, el);\n\n          break;\n\n        case 'shopify:section:unload':\n          this._triggerInstanceEvent(instance, 'onSectionUnload', {\n            el: el,\n            id: sectionId\n          });\n\n          delete this.instances[sectionId];\n          break;\n\n        case 'shopify:section:select':\n          this._triggerInstanceEvent(instance, 'onSectionSelect', {\n            el: el,\n            id: sectionId\n          });\n\n          break;\n\n        case 'shopify:section:deselect':\n          this._triggerInstanceEvent(instance, 'onSectionDeselect', {\n            el: el,\n            id: sectionId\n          });\n\n          break;\n\n        case 'shopify:block:select':\n          this._triggerInstanceEvent(instance, 'onSectionBlockSelect', {\n            el: el,\n            id: blockId\n          });\n\n          break;\n\n        case 'shopify:block:deselect':\n          this._triggerInstanceEvent(instance, 'onSectionBlockDeselect', {\n            el: el,\n            id: blockId\n          });\n\n          break;\n      }\n    }\n  }, {\n    key: \"_triggerInstanceEvent\",\n    value: function _triggerInstanceEvent(instance, eventName) {\n      if (instance && instance[eventName]) {\n        for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          args[_key - 2] = arguments[_key];\n        }\n\n        instance[eventName].apply(instance, args);\n      }\n    }\n  }, {\n    key: \"_postMessage\",\n    value: function _postMessage(name, data) {\n      var _this = this;\n\n      Object.keys(this.instances).forEach(function (id) {\n        _this._triggerInstanceEvent(_this.instances[id], 'onSectionMessage', name, data);\n      });\n    }\n  }, {\n    key: \"_createInstance\",\n    value: function _createInstance(id, el) {\n      var typeEl = el.querySelector('[data-section-type]');\n      if (!typeEl) return;\n      var type = typeEl.getAttribute('data-section-type');\n      if (!type) return;\n      var handler = this.handlers[type];\n      if (!handler) return console.warn(\"Sections: unable to find section handler for type '\".concat(type, \"'.\"));\n\n      var data = this._loadData(el);\n\n      var postMessage = this._postMessage.bind(this);\n\n      this.instances[id] = handler({\n        id: id,\n        type: type,\n        el: el,\n        data: data,\n        postMessage: postMessage\n      });\n    }\n  }, {\n    key: \"_loadData\",\n    value: function _loadData(el) {\n      var dataEl = el.querySelector('[data-section-data]');\n      if (!dataEl) return {}; // Load data from attribute, or innerHTML\n\n      var data = dataEl.getAttribute('data-section-data') || dataEl.innerHTML;\n\n      try {\n        return JSON.parse(data);\n      } catch (error) {\n        console.warn(\"Sections: invalid section data found. \".concat(error.message));\n        return {};\n      }\n    }\n  }]);\n\n  return Sections;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9TZWN0aW9ucy5qcz84MzNkIl0sIm5hbWVzIjpbIlNlY3Rpb25zIiwiaGFuZGxlcnMiLCJpbnN0YW5jZXMiLCJfb25TZWN0aW9uRXZlbnQiLCJiaW5kIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImkiLCJsZW5ndGgiLCJfdHJpZ2dlckluc3RhbmNlRXZlbnQiLCJ0eXBlIiwiaGFuZGxlciIsImNvbnNvbGUiLCJ3YXJuIiwiX2luaXRTZWN0aW9ucyIsImRhdGFFbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGF0YUVsIiwiZWwiLCJwYXJlbnROb2RlIiwiaWRFbCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWN0aW9uSWQiLCJnZXRBdHRyaWJ1dGUiLCJfY3JlYXRlSW5zdGFuY2UiLCJldmVudCIsInRhcmdldCIsImRldGFpbCIsImJsb2NrSWQiLCJpbnN0YW5jZSIsImlkIiwiZXZlbnROYW1lIiwiYXJncyIsIm5hbWUiLCJkYXRhIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJ0eXBlRWwiLCJfbG9hZERhdGEiLCJwb3N0TWVzc2FnZSIsIl9wb3N0TWVzc2FnZSIsImlubmVySFRNTCIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7SUFBcUJBLFE7QUFDbkIsc0JBQWM7QUFBQTs7QUFDWixTQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixFQUFqQjtBQUNBLFNBQUtDLGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxDQUFxQkMsSUFBckIsQ0FBMEIsSUFBMUIsQ0FBdkI7QUFFQUMsWUFBUSxDQUFDQyxnQkFBVCxDQUEwQixzQkFBMUIsRUFBa0QsS0FBS0gsZUFBdkQ7QUFDQUUsWUFBUSxDQUFDQyxnQkFBVCxDQUEwQix3QkFBMUIsRUFBb0QsS0FBS0gsZUFBekQ7QUFDQUUsWUFBUSxDQUFD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WDtBQUFlZ0IsWUFBSSxFQUFKQSxJQUFmO0FBQXFCTSxtQkFBVyxFQUFYQTtBQUFyQixPQUFELENBQTVCO0FBQ0Q7Ozs4QkFFU3RCLEUsRUFBSTtBQUNaLFVBQU1ELE1BQU0sR0FBR0MsRUFBRSxDQUFDRyxhQUFILENBQWlCLHFCQUFqQixDQUFmO0FBQ0EsVUFBSSxDQUFDSixNQUFMLEVBQWEsT0FBTyxFQUFQLENBRkQsQ0FJWjs7QUFDQSxVQUFNaUIsSUFBSSxHQUFHakIsTUFBTSxDQUFDTSxZQUFQLENBQW9CLG1CQUFwQixLQUE0Q04sTUFBTSxDQUFDeUIsU0FBaEU7O0FBRUEsVUFBSTtBQUNGLGVBQU9DLElBQUksQ0FBQ0MsS0FBTCxDQUFXVixJQUFYLENBQVA7QUFDRCxPQUZELENBRUUsT0FBTVcsS0FBTixFQUFhO0FBQ2JqQyxlQUFPLENBQUNDLElBQVIsaURBQXNEZ0MsS0FBSyxDQUFDQyxPQUE1RDtBQUNBLGVBQU8sRUFBUDtBQUNEO0FBQ0YiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9TZWN0aW9ucy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb25zIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuaW5zdGFuY2VzID0ge307XG4gICAgdGhpcy5fb25TZWN0aW9uRXZlbnQgPSB0aGlzLl9vblNlY3Rpb25FdmVudC5iaW5kKHRoaXMpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2hvcGlmeTpzZWN0aW9uOmxvYWQnLCB0aGlzLl9vblNlY3Rpb25FdmVudCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2hvcGlmeTpzZWN0aW9uOnVubG9hZCcsIHRoaXMuX29uU2VjdGlvbkV2ZW50KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzaG9waWZ5OnNlY3Rpb246c2VsZWN0JywgdGhpcy5fb25TZWN0aW9uRXZlbnQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6c2VjdGlvbjpkZXNlbGVjdCcsIHRoaXMuX29uU2VjdGlvbkV2ZW50KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzaG9waWZ5OmJsb2NrOnNlbGVjdCcsIHRoaXMuX29uU2VjdGlvbkV2ZW50KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzaG9waWZ5OmJsb2NrOmRlc2VsZWN0JywgdGhpcy5fb25TZWN0aW9uRXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgbGlzdGVuaW5nIGZvciBzZWN0aW9uIGV2ZW50cywgYW5kIHVuYmluZCBhbGwgaGFuZGxlcnMuXG4gICAqL1xuICB1bmJpbmQoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2hvcGlmeTpzZWN0aW9uOmxvYWQnLCB0aGlzLl9vblNlY3Rpb25FdmVudCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2hvcGlmeTpzZWN0aW9uOnVubG9hZCcsIHRoaXMuX29uU2VjdGlvbkV2ZW50KTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzaG9waWZ5OnNlY3Rpb246c2VsZWN0JywgdGhpcy5fb25TZWN0aW9uRXZlbnQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6c2VjdGlvbjpkZXNlbGVjdCcsIHRoaXMuX29uU2VjdGlvbkV2ZW50KTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzaG9waWZ5OmJsb2NrOnNlbGVjdCcsIHRoaXMuX29uU2VjdGlvbkV2ZW50KTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzaG9waWZ5OmJsb2NrOmRlc2VsZWN0JywgdGhpcy5fb25TZWN0aW9uRXZlbnQpO1xuXG4gICAgLy8gVW5sb2FkIGFsbCBpbnN0YW5jZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl90cmlnZ2VySW5zdGFuY2VFdmVudCh0aGlzLmluc3RhbmNlc1tpXSwgJ29uU2VjdGlvblVubG9hZCcpO1xuICAgIH1cblxuICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICB0aGlzLmluc3RhbmNlcyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgc2VjdGlvbiBoYW5kbGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgVGhlIHNlY3Rpb24gdHlwZSB0byBoYW5kbGUuIFRoZSBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGZvciBhbGxcbiAgICogICAgICAgIHNlY3Rpb25zIHdpdGggdGhpcyB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqICAgICAgICBUaGUgaGFuZGxlciBmdW5jdGlvbiBpcyBwYXNzZWQgaW5mb3JtYXRpb24gYWJvdXQgYSBzcGVjaWZpYyBzZWN0aW9uXG4gICAqICAgICAgICBpbnN0YW5jZS4gVGhlIGhhbmRsZXIgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGFuIG9iamVjdCB0aGF0IHdpbGwgYmVcbiAgICogICAgICAgIGFzc29jaWF0ZWQgd2l0aCB0aGUgc2VjdGlvbiBpbnN0YW5jZS5cbiAgICpcbiAgICogICAgICAgIFNlY3Rpb24gaGFuZGxlcnMgYXJlIHBhc3NlZCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAqICAgICAgICAgIHtzdHJpbmd9IGlkXG4gICAqICAgICAgICAgIEFuIElEIHRoYXQgbWFwcyB0byBhIHNwZWNpZmljIHNlY3Rpb24gaW5zdGFuY2UuIFR5cGljYWxseSB0aGVcbiAgICogICAgICAgICAgc2VjdGlvbidzIGZpbGVuYW1lIGZvciBzdGF0aWMgc2VjdGlvbnMsIG9yIGEgZ2VuZXJhdGVkIElEIGZvclxuICAgKiAgICAgICAgICBkeW5hbWljIHNlY3Rpb25zLlxuICAgKlxuICAgKiAgICAgICAgICB7c3RyaW5nfSB0eXBlXG4gICAqICAgICAgICAgIFRoZSBzZWN0aW9uIHR5cGUsIGFzIHN1cHBsaWVkIHdoZW4gcmVnaXN0ZXJlZC5cbiAgICpcbiAgICogICAgICAgICAge0VsZW1lbnR9IGVsXG4gICAqICAgICAgICAgIFRoZSByb290IERPTSBlbGVtZW50IGZvciB0aGUgc2VjdGlvbiBpbnN0YW5jZS5cbiAgICpcbiAgICogICAgICAgICAge09iamVjdH0gZGF0YVxuICAgKiAgICAgICAgICBEYXRhIGxvYWRlZCBmcm9tIHRoZSBzZWN0aW9uIHNjcmlwdCBlbGVtZW50LiBEZWZhdWx0cyB0byBhblxuICAgKiAgICAgICAgICBlbXB0eSBvYmplY3QuXG4gICAqXG4gICAqICAgICAgICAgIHtGdW5jdGlvbn0gcG9zdE1lc3NhZ2VcbiAgICogICAgICAgICAgQSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gcGFzcyBtZXNzYWdlcyBiZXR3ZWVuIHNlY3Rpb25zLlxuICAgKiAgICAgICAgICBUaGUgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgbWVzc2FnZSBcIm5hbWVcIiwgYW5kXG4gICAqICAgICAgICAgIG9wdGlvbmFsbHkgc29tZSBkYXRhLlxuICAgKi9cbiAgcmVnaXN0ZXIodHlwZSwgaGFuZGxlcikge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzW3R5cGVdKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFNlY3Rpb25zOiBzZWN0aW9uIGhhbmRsZXIgYWxyZWFkeSBleGlzdHMgb2YgdHlwZSAnJHt0eXBlfScuYCk7XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgdGhlIHNlY3Rpb24gaGFuZGxlclxuICAgIHRoaXMuaGFuZGxlcnNbdHlwZV0gPSBoYW5kbGVyO1xuXG4gICAgLy8gSW5pdCBzZWN0aW9ucyBmb3IgdGhpcyB0eXBlXG4gICAgdGhpcy5faW5pdFNlY3Rpb25zKHR5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgc2VjdGlvbnMgYWxyZWFkeSBvbiB0aGUgcGFnZS5cbiAgICovXG4gIF9pbml0U2VjdGlvbnModHlwZSkge1xuICAgIC8vIEZldGNoIGFsbCBleGlzdGluZyBzZWN0aW9ucyBvZiBvdXIgdHlwZSBvbiB0aGUgcGFnZVxuICAgIGNvbnN0IGRhdGFFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1zZWN0aW9uLXR5cGU9XCIke3R5cGV9XCJdYCk7XG4gICAgaWYgKCFkYXRhRWxzKSByZXR1cm47XG5cbiAgICAvLyBDcmVhdGUgYW4gaW5zdGFuY2UgZm9yIGVhY2ggc2VjdGlvblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YUVscy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGF0YUVsID0gZGF0YUVsc1tpXTtcbiAgICAgIGNvbnN0IGVsID0gZGF0YUVsLnBhcmVudE5vZGU7XG5cbiAgICAgIC8vIEdldCBpbnN0YW5jZSBJRFxuICAgICAgY29uc3QgaWRFbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlY3Rpb24taWRdJyk7XG5cbiAgICAgIGlmICghaWRFbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFNlY3Rpb25zOiB1bmFibGUgdG8gZmluZCBzZWN0aW9uIGlkIGZvciAnJHt0eXBlfScuYCwgZWwpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VjdGlvbklkID0gaWRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2VjdGlvbi1pZCcpO1xuICAgICAgaWYgKCFzZWN0aW9uSWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBTZWN0aW9uczogdW5hYmxlIHRvIGZpbmQgc2VjdGlvbiBpZCBmb3IgJyR7dHlwZX0nLmAsIGVsKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NyZWF0ZUluc3RhbmNlKHNlY3Rpb25JZCwgZWwpO1xuICAgIH1cbiAgfVxuXG4gIF9vblNlY3Rpb25FdmVudChldmVudCkge1xuICAgIGNvbnN0IGVsID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHNlY3Rpb25JZCA9IGV2ZW50LmRldGFpbC5zZWN0aW9uSWQ7XG4gICAgY29uc3QgYmxvY2tJZCA9IGV2ZW50LmRldGFpbC5ibG9ja0lkO1xuICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXNbc2VjdGlvbklkXTtcblxuICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgY2FzZSAnc2hvcGlmeTpzZWN0aW9uOmxvYWQnOlxuICAgICAgICB0aGlzLl9jcmVhdGVJbnN0YW5jZShzZWN0aW9uSWQsIGVsKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3Nob3BpZnk6c2VjdGlvbjp1bmxvYWQnOlxuICAgICAgICB0aGlzLl90cmlnZ2VySW5zdGFuY2VFdmVudChpbnN0YW5jZSwgJ29uU2VjdGlvblVubG9hZCcsIHsgZWwsIGlkOiBzZWN0aW9uSWQgfSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlc1tzZWN0aW9uSWRdO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2hvcGlmeTpzZWN0aW9uOnNlbGVjdCc6XG4gICAgICAgIHRoaXMuX3RyaWdnZXJJbnN0YW5jZUV2ZW50KGluc3RhbmNlLCAnb25TZWN0aW9uU2VsZWN0JywgeyBlbCwgaWQ6IHNlY3Rpb25JZCB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3Nob3BpZnk6c2VjdGlvbjpkZXNlbGVjdCc6XG4gICAgICAgIHRoaXMuX3RyaWdnZXJJbnN0YW5jZUV2ZW50KGluc3RhbmNlLCAnb25TZWN0aW9uRGVzZWxlY3QnLCB7IGVsLCBpZDogc2VjdGlvbklkIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2hvcGlmeTpibG9jazpzZWxlY3QnOlxuICAgICAgICB0aGlzLl90cmlnZ2VySW5zdGFuY2VFdmVudChpbnN0YW5jZSwgJ29uU2VjdGlvbkJsb2NrU2VsZWN0JywgeyBlbCwgaWQ6IGJsb2NrSWQgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzaG9waWZ5OmJsb2NrOmRlc2VsZWN0JzpcbiAgICAgICAgdGhpcy5fdHJpZ2dlckluc3RhbmNlRXZlbnQoaW5zdGFuY2UsICdvblNlY3Rpb25CbG9ja0Rlc2VsZWN0JywgeyBlbCwgaWQ6IGJsb2NrSWQgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIF90cmlnZ2VySW5zdGFuY2VFdmVudChpbnN0YW5jZSwgZXZlbnROYW1lLCAuLi5hcmdzKSB7XG4gICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlW2V2ZW50TmFtZV0pIHtcbiAgICAgIGluc3RhbmNlW2V2ZW50TmFtZV0oLi4uYXJncyk7XG4gICAgfVxuICB9XG5cbiAgX3Bvc3RNZXNzYWdlKG5hbWUsIGRhdGEpIHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLmluc3RhbmNlcykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIHRoaXMuX3RyaWdnZXJJbnN0YW5jZUV2ZW50KHRoaXMuaW5zdGFuY2VzW2lkXSwgJ29uU2VjdGlvbk1lc3NhZ2UnLCBuYW1lLCBkYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVJbnN0YW5jZShpZCwgZWwpIHtcbiAgICBjb25zdCB0eXBlRWwgPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZWN0aW9uLXR5cGVdJyk7XG4gICAgaWYgKCF0eXBlRWwpIHJldHVybjtcblxuICAgIGNvbnN0IHR5cGUgPSB0eXBlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNlY3Rpb24tdHlwZScpO1xuICAgIGlmICghdHlwZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnNbdHlwZV07XG4gICAgaWYgKCFoYW5kbGVyKSByZXR1cm4gY29uc29sZS53YXJuKGBTZWN0aW9uczogdW5hYmxlIHRvIGZpbmQgc2VjdGlvbiBoYW5kbGVyIGZvciB0eXBlICcke3R5cGV9Jy5gKTtcblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9sb2FkRGF0YShlbCk7XG4gICAgY29uc3QgcG9zdE1lc3NhZ2UgPSB0aGlzLl9wb3N0TWVzc2FnZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5pbnN0YW5jZXNbaWRdID0gaGFuZGxlcih7aWQsIHR5cGUsIGVsLCBkYXRhLCBwb3N0TWVzc2FnZX0pO1xuICB9XG5cbiAgX2xvYWREYXRhKGVsKSB7XG4gICAgY29uc3QgZGF0YUVsID0gZWwucXVlcnlTZWxlY3RvcignW2RhdGEtc2VjdGlvbi1kYXRhXScpO1xuICAgIGlmICghZGF0YUVsKSByZXR1cm4ge307XG5cbiAgICAvLyBMb2FkIGRhdGEgZnJvbSBhdHRyaWJ1dGUsIG9yIGlubmVySFRNTFxuICAgIGNvbnN0IGRhdGEgPSBkYXRhRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNlY3Rpb24tZGF0YScpIHx8IGRhdGFFbC5pbm5lckhUTUw7XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKGBTZWN0aW9uczogaW52YWxpZCBzZWN0aW9uIGRhdGEgZm91bmQuICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/Sections.js\n");

/***/ }),

/***/ "./source/scripts/Superstore.js":
/*!**************************************!*\
  !*** ./source/scripts/Superstore.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _globals_jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals/jquery */ \"./source/scripts/globals/jquery.js\");\n/* harmony import */ var jquery_trend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery-trend */ \"./node_modules/jquery-trend/jquery.trend.js\");\n/* harmony import */ var jquery_trend__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery_trend__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jquery_revealer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery-revealer */ \"./node_modules/jquery-revealer/jquery.revealer.js\");\n/* harmony import */ var jquery_revealer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery_revealer__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var _templates_Account__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./templates/Account */ \"./source/scripts/templates/Account.js\");\n/* harmony import */ var _templates_Contact__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./templates/Contact */ \"./source/scripts/templates/Contact.js\");\n/* harmony import */ var _templates_Page__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./templates/Page */ \"./source/scripts/templates/Page.js\");\n/* harmony import */ var _templates_GiftCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./templates/GiftCard */ \"./source/scripts/templates/GiftCard.js\");\n/* harmony import */ var _Sections__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Sections */ \"./source/scripts/Sections.js\");\n/* harmony import */ var _sections_DynamicBlogPosts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./sections/DynamicBlogPosts */ \"./source/scripts/sections/DynamicBlogPosts.js\");\n/* harmony import */ var _sections_DynamicCollectionList__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./sections/DynamicCollectionList */ \"./source/scripts/sections/DynamicCollectionList.js\");\n/* harmony import */ var _sections_DynamicFeaturedCollection__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./sections/DynamicFeaturedCollection */ \"./source/scripts/sections/DynamicFeaturedCollection.js\");\n/* harmony import */ var _sections_DynamicHighlightsBanners__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sections/DynamicHighlightsBanners */ \"./source/scripts/sections/DynamicHighlightsBanners.js\");\n/* harmony import */ var _sections_DynamicMap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./sections/DynamicMap */ \"./source/scripts/sections/DynamicMap.js\");\n/* harmony import */ var _sections_DynamicMenuList__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./sections/DynamicMenuList */ \"./source/scripts/sections/DynamicMenuList.js\");\n/* harmony import */ var _sections_DynamicNewsletter__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./sections/DynamicNewsletter */ \"./source/scripts/sections/DynamicNewsletter.js\");\n/* harmony import */ var _sections_DynamicPromoBlocks__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./sections/DynamicPromoBlocks */ \"./source/scripts/sections/DynamicPromoBlocks.js\");\n/* harmony import */ var _sections_DynamicRichText__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./sections/DynamicRichText */ \"./source/scripts/sections/DynamicRichText.js\");\n/* harmony import */ var _sections_DynamicSearch__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./sections/DynamicSearch */ \"./source/scripts/sections/DynamicSearch.js\");\n/* harmony import */ var _sections_DynamicTestimonials__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./sections/DynamicTestimonials */ \"./source/scripts/sections/DynamicTestimonials.js\");\n/* harmony import */ var _sections_DynamicTwitterFeed__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./sections/DynamicTwitterFeed */ \"./source/scripts/sections/DynamicTwitterFeed.js\");\n/* harmony import */ var _sections_DynamicVideo__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./sections/DynamicVideo */ \"./source/scripts/sections/DynamicVideo.js\");\n/* harmony import */ var _sections_StaticAnnouncement__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./sections/StaticAnnouncement */ \"./source/scripts/sections/StaticAnnouncement.js\");\n/* harmony import */ var _sections_StaticArticle__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./sections/StaticArticle */ \"./source/scripts/sections/StaticArticle.js\");\n/* harmony import */ var _sections_StaticBlog__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./sections/StaticBlog */ \"./source/scripts/sections/StaticBlog.js\");\n/* harmony import */ var _sections_StaticCart__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./sections/StaticCart */ \"./source/scripts/sections/StaticCart.js\");\n/* harmony import */ var _sections_StaticCollection__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./sections/StaticCollection */ \"./source/scripts/sections/StaticCollection.js\");\n/* harmony import */ var _sections_StaticCollectionMinimal__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./sections/StaticCollectionMinimal */ \"./source/scripts/sections/StaticCollectionMinimal.js\");\n/* harmony import */ var _sections_StaticPassword__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./sections/StaticPassword */ \"./source/scripts/sections/StaticPassword.js\");\n/* harmony import */ var _sections_StaticProduct__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./sections/StaticProduct */ \"./source/scripts/sections/StaticProduct.js\");\n/* harmony import */ var _sections_StaticProductRecommendations__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./sections/StaticProductRecommendations */ \"./source/scripts/sections/StaticProductRecommendations.js\");\n/* harmony import */ var _sections_StaticRecentlyViewed__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./sections/StaticRecentlyViewed */ \"./source/scripts/sections/StaticRecentlyViewed.js\");\n/* harmony import */ var _sections_StaticSearch__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./sections/StaticSearch */ \"./source/scripts/sections/StaticSearch.js\");\n/* harmony import */ var _sections_StaticSectionFooter__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./sections/StaticSectionFooter */ \"./source/scripts/sections/StaticSectionFooter.js\");\n/* harmony import */ var _sections_StaticSectionHeader__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./sections/StaticSectionHeader */ \"./source/scripts/sections/StaticSectionHeader.js\");\n/* harmony import */ var _sections_StaticSlideshow__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./sections/StaticSlideshow */ \"./source/scripts/sections/StaticSlideshow.js\");\n/* harmony import */ var _sections_StaticUtilityBar__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./sections/StaticUtilityBar */ \"./source/scripts/sections/StaticUtilityBar.js\");\n/* harmony import */ var _checkPolyfills__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./checkPolyfills */ \"./source/scripts/checkPolyfills.js\");\n/* harmony import */ var _helpers_ContainSwatchTooltips__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./helpers/ContainSwatchTooltips */ \"./source/scripts/helpers/ContainSwatchTooltips.js\");\n/* harmony import */ var _helpers_FlickityTouchFix__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./helpers/FlickityTouchFix */ \"./source/scripts/helpers/FlickityTouchFix.js\");\n// jQuery plugins\n\n // eslint-disable-line\n\n // eslint-disable-line\n\n\n // Template imports\n\n\n\n\n // Section imports\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar initTheme = function initTheme() {\n  rimg_shopify__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init('[data-rimg=\"lazy\"]', {\n    round: 1\n  });\n  var sections = new _Sections__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n  sections.register('dynamic-blog-posts', function (section) {\n    return new _sections_DynamicBlogPosts__WEBPACK_IMPORTED_MODULE_10__[\"default\"](section);\n  });\n  sections.register('dynamic-collection-list', function (section) {\n    return new _sections_DynamicCollectionList__WEBPACK_IMPORTED_MODULE_11__[\"default\"](section);\n  });\n  sections.register('dynamic-featured-collection', function (section) {\n    return new _sections_DynamicFeaturedCollection__WEBPACK_IMPORTED_MODULE_12__[\"default\"](section);\n  });\n  sections.register('dynamic-featured-product', function (section) {\n    return new _sections_StaticProduct__WEBPACK_IMPORTED_MODULE_30__[\"default\"](section);\n  });\n  sections.register('dynamic-highlights-banners', function (section) {\n    return new _sections_DynamicHighlightsBanners__WEBPACK_IMPORTED_MODULE_13__[\"default\"](section);\n  });\n  sections.register('dynamic-map', function (section) {\n    return new _sections_DynamicMap__WEBPACK_IMPORTED_MODULE_14__[\"default\"](section);\n  });\n  sections.register('dynamic-menu-list', function (section) {\n    return new _sections_DynamicMenuList__WEBPACK_IMPORTED_MODULE_15__[\"default\"](section);\n  });\n  sections.register('dynamic-newsletter', function (section) {\n    return new _sections_DynamicNewsletter__WEBPACK_IMPORTED_MODULE_16__[\"default\"](section);\n  });\n  sections.register('dynamic-promo-grid', function (section) {\n    return new _sections_DynamicPromoBlocks__WEBPACK_IMPORTED_MODULE_17__[\"default\"](section);\n  });\n  sections.register('dynamic-promo-mosaic', function (section) {\n    return new _sections_DynamicPromoBlocks__WEBPACK_IMPORTED_MODULE_17__[\"default\"](section);\n  });\n  sections.register('dynamic-rich-text', function (section) {\n    return new _sections_DynamicRichText__WEBPACK_IMPORTED_MODULE_18__[\"default\"](section);\n  });\n  sections.register('dynamic-search', function (section) {\n    return new _sections_DynamicSearch__WEBPACK_IMPORTED_MODULE_19__[\"default\"](section);\n  });\n  sections.register('dynamic-testimonials', function (section) {\n    return new _sections_DynamicTestimonials__WEBPACK_IMPORTED_MODULE_20__[\"default\"](section);\n  });\n  sections.register('dynamic-twitter-feed', function (section) {\n    return new _sections_DynamicTwitterFeed__WEBPACK_IMPORTED_MODULE_21__[\"default\"](section);\n  });\n  sections.register('dynamic-video', function (section) {\n    return new _sections_DynamicVideo__WEBPACK_IMPORTED_MODULE_22__[\"default\"](section);\n  });\n  sections.register('static-announcement', function (section) {\n    return new _sections_StaticAnnouncement__WEBPACK_IMPORTED_MODULE_23__[\"default\"](section);\n  });\n  sections.register('static-article', function (section) {\n    return new _sections_StaticArticle__WEBPACK_IMPORTED_MODULE_24__[\"default\"](section);\n  });\n  sections.register('static-blog', function (section) {\n    return new _sections_StaticBlog__WEBPACK_IMPORTED_MODULE_25__[\"default\"](section);\n  });\n  sections.register('static-cart', function (section) {\n    return new _sections_StaticCart__WEBPACK_IMPORTED_MODULE_26__[\"default\"](section);\n  });\n  sections.register('static-collection', function (section) {\n    return new _sections_StaticCollection__WEBPACK_IMPORTED_MODULE_27__[\"default\"](section);\n  });\n  sections.register('static-collection-minimal', function (section) {\n    return new _sections_StaticCollectionMinimal__WEBPACK_IMPORTED_MODULE_28__[\"default\"](section);\n  });\n  sections.register('static-footer', function (section) {\n    return new _sections_StaticSectionFooter__WEBPACK_IMPORTED_MODULE_34__[\"default\"](section);\n  });\n  sections.register('static-header', function (section) {\n    return new _sections_StaticSectionHeader__WEBPACK_IMPORTED_MODULE_35__[\"default\"](section);\n  });\n  sections.register('static-password', function (section) {\n    return new _sections_StaticPassword__WEBPACK_IMPORTED_MODULE_29__[\"default\"](section);\n  });\n  sections.register('static-product', function (section) {\n    return new _sections_StaticProduct__WEBPACK_IMPORTED_MODULE_30__[\"default\"](section);\n  });\n  sections.register('static-product-recommendations', function (section) {\n    return new _sections_StaticProductRecommendations__WEBPACK_IMPORTED_MODULE_31__[\"default\"](section);\n  });\n  sections.register('static-recently-viewed', function (section) {\n    return new _sections_StaticRecentlyViewed__WEBPACK_IMPORTED_MODULE_32__[\"default\"](section);\n  });\n  sections.register('static-search', function (section) {\n    return new _sections_StaticSearch__WEBPACK_IMPORTED_MODULE_33__[\"default\"](section);\n  });\n  sections.register('static-slideshow', function (section) {\n    return new _sections_StaticSlideshow__WEBPACK_IMPORTED_MODULE_36__[\"default\"](section);\n  });\n  sections.register('static-utility-bar', function (section) {\n    return new _sections_StaticUtilityBar__WEBPACK_IMPORTED_MODULE_37__[\"default\"](section);\n  });\n  new _helpers_ContainSwatchTooltips__WEBPACK_IMPORTED_MODULE_39__[\"default\"]();\n\n  if (Object(_globals_jquery__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('body.giftcard').length) {\n    new _templates_GiftCard__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\n  }\n\n  new _templates_Account__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n  new _templates_Contact__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n  new _templates_Page__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n  Object(_helpers_FlickityTouchFix__WEBPACK_IMPORTED_MODULE_40__[\"default\"])();\n};\n\nif (_checkPolyfills__WEBPACK_IMPORTED_MODULE_38__[\"default\"].length) {\n  scriptjs__WEBPACK_IMPORTED_MODULE_3___default()(_checkPolyfills__WEBPACK_IMPORTED_MODULE_38__[\"default\"], initTheme);\n} else {\n  initTheme();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9TdXBlcnN0b3JlLmpzPzMyYWUiXSwibmFtZXMiOlsiaW5pdFRoZW1lIiwicmltZyIsImluaXQiLCJyb3VuZCIsInNlY3Rpb25zIiwiU2VjdGlvbnMiLCJyZWdpc3RlciIsInNlY3Rpb24iLCJEeW5hbWljQmxvZ1Bvc3RzIiwiRHluYW1pY0NvbGxlY3Rpb25MaXN0IiwiRHluYW1pY0ZlYXR1cmVkQ29sbGVjdGlvbiIsIlN0YXRpY1Byb2R1Y3QiLCJEeW5hbWljSGlnaGxpZ2h0c0Jhbm5lcnMiLCJEeW5hbWljTWFwIiwiRHluYW1pY01lbnVMaXN0IiwiRHluYW1pY05ld3NsZXR0ZXIiLCJEeW5hbWljUHJvbW9CbG9ja3MiLCJEeW5hbWljUmljaFRleHQiLCJEeW5hbWljU2VhcmNoIiwiRHluYW1pY1Rlc3RpbW9uaWFscyIsIkR5bmFtaWNUd2l0dGVyRmVlZCIsIkR5bmFtaWNWaWRlbyIsIlN0YXRpY0Fubm91bmNlbWVudCIsIlN0YXRpY0FydGljbGUiLCJTdGF0aWNCbG9nIiwiU3RhdGljQ2FydCIsIlN0YXRpY0NvbGxlY3Rpb24iLCJTdGF0aWNDb2xsZWN0aW9uTWluaW1hbCIsIlN0YXRpY1NlY3Rpb25Gb290ZXIiLCJTdGF0aWNTZWN0aW9uSGVhZGVyIiwiU3RhdGljUGFzc3dvcmQiLCJTdGF0aWNQcm9kdWN0UmVjb21tZW5kYXRpb25zIiwiU3RhdGljUmVjZW50bHlWaWV3ZWQiLCJTdGF0aWNTZWFyY2giLCJTdGF0aWNTbGlkZXNob3ciLCJTdGF0aWNVdGlsaXR5QmFyIiwiQ29udGFpblN3YXRjaFRvb2x0aXBzIiwiJCIsImxlbmd0aCIsIkdpZnRDYXJkIiwiQWNjb3VudCIsIkNvbnRhY3QiLCJQYWdlIiwiZmxpY2tpdHlUb3VjaEZpeCIsInBvbHlmaWxsVXJscyIsInNjcmlwdGpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFB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RUFBSixDQUFxQjVCLE9BQXJCLENBQUo7QUFBQSxHQUEvQztBQUVBLE1BQUk2Qix1RUFBSjs7QUFFQSxNQUFJQywrREFBQyxDQUFDLGVBQUQsQ0FBRCxDQUFtQkMsTUFBdkIsRUFBK0I7QUFDN0IsUUFBSUMsMkRBQUo7QUFDRDs7QUFFRCxNQUFJQywwREFBSjtBQUNBLE1BQUlDLDBEQUFKO0FBQ0EsTUFBSUMsdURBQUo7QUFFQUMsNEVBQWdCO0FBQ2pCLENBOUNEOztBQWdEQSxJQUFJQyx3REFBWSxDQUFDTixNQUFqQixFQUF5QjtBQUN2Qk8saURBQVEsQ0FBQ0Qsd0RBQUQsRUFBZTVDLFNBQWYsQ0FBUjtBQUNELENBRkQsTUFFTztBQUNMQSxXQUFTO0FBQ1YiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9TdXBlcnN0b3JlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8galF1ZXJ5IHBsdWdpbnNcbmltcG9ydCAkIGZyb20gJy4vZ2xvYmFscy9qcXVlcnknO1xuaW1wb3J0ICdqcXVlcnktdHJlbmQnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5pbXBvcnQgJ2pxdWVyeS1yZXZlYWxlcic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuaW1wb3J0IHNjcmlwdGpzIGZyb20gJ3NjcmlwdGpzJztcbmltcG9ydCByaW1nIGZyb20gJ3JpbWctc2hvcGlmeSc7XG5cbi8vIFRlbXBsYXRlIGltcG9ydHNcbmltcG9ydCBBY2NvdW50IGZyb20gJy4vdGVtcGxhdGVzL0FjY291bnQnO1xuaW1wb3J0IENvbnRhY3QgZnJvbSAnLi90ZW1wbGF0ZXMvQ29udGFjdCc7XG5pbXBvcnQgUGFnZSBmcm9tICcuL3RlbXBsYXRlcy9QYWdlJztcbmltcG9ydCBHaWZ0Q2FyZCBmcm9tICcuL3RlbXBsYXRlcy9HaWZ0Q2FyZCc7XG5cbi8vIFNlY3Rpb24gaW1wb3J0c1xuaW1wb3J0IFNlY3Rpb25zIGZyb20gJy4vU2VjdGlvbnMnO1xuaW1wb3J0IER5bmFtaWNCbG9nUG9zdHMgZnJvbSAnLi9zZWN0aW9ucy9EeW5hbWljQmxvZ1Bvc3RzJztcbmltcG9ydCBEeW5hbWljQ29sbGVjdGlvbkxpc3QgZnJvbSAnLi9zZWN0aW9ucy9EeW5hbWljQ29sbGVjdGlvbkxpc3QnO1xuaW1wb3J0IER5bmFtaWNGZWF0dXJlZENvbGxlY3Rpb24gZnJvbSAnLi9zZWN0aW9ucy9EeW5hbWljRmVhdHVyZWRDb2xsZWN0aW9uJztcbmltcG9ydCBEeW5hbWljSGlnaGxpZ2h0c0Jhbm5lcnMgZnJvbSAnLi9zZWN0aW9ucy9EeW5hbWljSGlnaGxpZ2h0c0Jhbm5lcnMnO1xuaW1wb3J0IER5bmFtaWNNYXAgZnJvbSAnLi9zZWN0aW9ucy9EeW5hbWljTWFwJztcbmltcG9ydCBEeW5hbWljTWVudUxpc3QgZnJvbSAnLi9zZWN0aW9ucy9EeW5hbWljTWVudUxpc3QnO1xuaW1wb3J0IER5bmFtaWNOZXdzbGV0dGVyIGZyb20gJy4vc2VjdGlvbnMvRHluYW1pY05ld3NsZXR0ZXInO1xuaW1wb3J0IER5bmFtaWNQcm9tb0Jsb2NrcyBmcm9tICcuL3NlY3Rpb25zL0R5bmFtaWNQcm9tb0Jsb2Nrcyc7XG5pbXBvcnQgRHluYW1pY1JpY2hUZXh0IGZyb20gJy4vc2VjdGlvbnMvRHluYW1pY1JpY2hUZXh0JztcbmltcG9ydCBEeW5hbWljU2VhcmNoIGZyb20gJy4vc2VjdGlvbnMvRHluYW1pY1NlYXJjaCc7XG5pbXBvcnQgRHluYW1pY1Rlc3RpbW9uaWFscyBmcm9tICcuL3NlY3Rpb25zL0R5bmFtaWNUZXN0aW1vbmlhbHMnO1xuaW1wb3J0IER5bmFtaWNUd2l0dGVyRmVlZCBmcm9tICcuL3NlY3Rpb25zL0R5bmFtaWNUd2l0dGVyRmVlZCc7XG5pbXBvcnQgRHluYW1pY1ZpZGVvIGZyb20gJy4vc2VjdGlvbnMvRHluYW1pY1ZpZGVvJztcbmltcG9ydCBTdGF0aWNBbm5vdW5jZW1lbnQgZnJvbSAnLi9zZWN0aW9ucy9TdGF0aWNBbm5vdW5jZW1lbnQnO1xuaW1wb3J0IFN0YXRpY0FydGljbGUgZnJvbSAnLi9zZWN0aW9ucy9TdGF0aWNBcnRpY2xlJztcbmltcG9ydCBTdGF0aWNCbG9nIGZyb20gJy4vc2VjdGlvbnMvU3RhdGljQmxvZyc7XG5pbXBvcnQgU3RhdGljQ2FydCBmcm9tICcuL3NlY3Rpb25zL1N0YXRpY0NhcnQnO1xuaW1wb3J0IFN0YXRpY0NvbGxlY3Rpb24gZnJvbSAnLi9zZWN0aW9ucy9TdGF0aWNDb2xsZWN0aW9uJztcbmltcG9ydCBTdGF0aWNDb2xsZWN0aW9uTWluaW1hbCBmcm9tICcuL3NlY3Rpb25zL1N0YXRpY0NvbGxlY3Rpb25NaW5pbWFsJztcbmltcG9ydCBTdGF0aWNQYXNzd29yZCBmcm9tICcuL3NlY3Rpb25zL1N0YXRpY1Bhc3N3b3JkJztcbmltcG9ydCBTdGF0aWNQcm9kdWN0IGZyb20gJy4vc2VjdGlvbnMvU3RhdGljUHJvZHVjdCc7XG5pbXBvcnQgU3RhdGljUHJvZHVjdFJlY29tbWVuZGF0aW9ucyBmcm9tICcuL3NlY3Rpb25zL1N0YXRpY1Byb2R1Y3RSZWNvbW1lbmRhdGlvbnMnO1xuaW1wb3J0IFN0YXRpY1JlY2VudGx5Vmlld2VkIGZyb20gJy4vc2VjdGlvbnMvU3RhdGljUmVjZW50bHlWaWV3ZWQnO1xuaW1wb3J0IFN0YXRpY1NlYXJjaCBmcm9tICcuL3NlY3Rpb25zL1N0YXRpY1NlYXJjaCc7XG5pbXBvcnQgU3RhdGljU2VjdGlvbkZvb3RlciBmcm9tICcuL3NlY3Rpb25zL1N0YXRpY1NlY3Rpb25Gb290ZXInO1xuaW1wb3J0IFN0YXRpY1NlY3Rpb25IZWFkZXIgZnJvbSAnLi9zZWN0aW9ucy9TdGF0aWNTZWN0aW9uSGVhZGVyJztcbmltcG9ydCBTdGF0aWNTbGlkZXNob3cgZnJvbSAnLi9zZWN0aW9ucy9TdGF0aWNTbGlkZXNob3cnO1xuaW1wb3J0IFN0YXRpY1V0aWxpdHlCYXIgZnJvbSAnLi9zZWN0aW9ucy9TdGF0aWNVdGlsaXR5QmFyJztcblxuaW1wb3J0IHBvbHlmaWxsVXJscyBmcm9tICcuL2NoZWNrUG9seWZpbGxzJztcblxuaW1wb3J0IENvbnRhaW5Td2F0Y2hUb29sdGlwcyBmcm9tICcuL2hlbHBlcnMvQ29udGFpblN3YXRjaFRvb2x0aXBzJztcbmltcG9ydCBmbGlja2l0eVRvdWNoRml4IGZyb20gJy4vaGVscGVycy9GbGlja2l0eVRvdWNoRml4JztcblxuY29uc3QgaW5pdFRoZW1lID0gKCkgPT4ge1xuICByaW1nLmluaXQoJ1tkYXRhLXJpbWc9XCJsYXp5XCJdJywgeyByb3VuZDogMSB9KTtcblxuICBjb25zdCBzZWN0aW9ucyA9IG5ldyBTZWN0aW9ucygpO1xuICBzZWN0aW9ucy5yZWdpc3RlcignZHluYW1pYy1ibG9nLXBvc3RzJywgc2VjdGlvbiA9PiBuZXcgRHluYW1pY0Jsb2dQb3N0cyhzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdkeW5hbWljLWNvbGxlY3Rpb24tbGlzdCcsIHNlY3Rpb24gPT4gbmV3IER5bmFtaWNDb2xsZWN0aW9uTGlzdChzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdkeW5hbWljLWZlYXR1cmVkLWNvbGxlY3Rpb24nLCBzZWN0aW9uID0+IG5ldyBEeW5hbWljRmVhdHVyZWRDb2xsZWN0aW9uKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ2R5bmFtaWMtZmVhdHVyZWQtcHJvZHVjdCcsIHNlY3Rpb24gPT4gbmV3IFN0YXRpY1Byb2R1Y3Qoc2VjdGlvbikpO1xuICBzZWN0aW9ucy5yZWdpc3RlcignZHluYW1pYy1oaWdobGlnaHRzLWJhbm5lcnMnLCBzZWN0aW9uID0+IG5ldyBEeW5hbWljSGlnaGxpZ2h0c0Jhbm5lcnMoc2VjdGlvbikpO1xuICBzZWN0aW9ucy5yZWdpc3RlcignZHluYW1pYy1tYXAnLCBzZWN0aW9uID0+IG5ldyBEeW5hbWljTWFwKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ2R5bmFtaWMtbWVudS1saXN0Jywgc2VjdGlvbiA9PiBuZXcgRHluYW1pY01lbnVMaXN0KHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ2R5bmFtaWMtbmV3c2xldHRlcicsIHNlY3Rpb24gPT4gbmV3IER5bmFtaWNOZXdzbGV0dGVyKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ2R5bmFtaWMtcHJvbW8tZ3JpZCcsIHNlY3Rpb24gPT4gbmV3IER5bmFtaWNQcm9tb0Jsb2NrcyhzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdkeW5hbWljLXByb21vLW1vc2FpYycsIHNlY3Rpb24gPT4gbmV3IER5bmFtaWNQcm9tb0Jsb2NrcyhzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdkeW5hbWljLXJpY2gtdGV4dCcsIHNlY3Rpb24gPT4gbmV3IER5bmFtaWNSaWNoVGV4dChzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdkeW5hbWljLXNlYXJjaCcsIHNlY3Rpb24gPT4gbmV3IER5bmFtaWNTZWFyY2goc2VjdGlvbikpO1xuICBzZWN0aW9ucy5yZWdpc3RlcignZHluYW1pYy10ZXN0aW1vbmlhbHMnLCBzZWN0aW9uID0+IG5ldyBEeW5hbWljVGVzdGltb25pYWxzKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ2R5bmFtaWMtdHdpdHRlci1mZWVkJywgc2VjdGlvbiA9PiBuZXcgRHluYW1pY1R3aXR0ZXJGZWVkKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ2R5bmFtaWMtdmlkZW8nLCBzZWN0aW9uID0+IG5ldyBEeW5hbWljVmlkZW8oc2VjdGlvbikpO1xuICBzZWN0aW9ucy5yZWdpc3Rlcignc3RhdGljLWFubm91bmNlbWVudCcsIHNlY3Rpb24gPT4gbmV3IFN0YXRpY0Fubm91bmNlbWVudChzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdzdGF0aWMtYXJ0aWNsZScsIHNlY3Rpb24gPT4gbmV3IFN0YXRpY0FydGljbGUoc2VjdGlvbikpO1xuICBzZWN0aW9ucy5yZWdpc3Rlcignc3RhdGljLWJsb2cnLCBzZWN0aW9uID0+IG5ldyBTdGF0aWNCbG9nKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ3N0YXRpYy1jYXJ0Jywgc2VjdGlvbiA9PiBuZXcgU3RhdGljQ2FydChzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdzdGF0aWMtY29sbGVjdGlvbicsIHNlY3Rpb24gPT4gbmV3IFN0YXRpY0NvbGxlY3Rpb24oc2VjdGlvbikpO1xuICBzZWN0aW9ucy5yZWdpc3Rlcignc3RhdGljLWNvbGxlY3Rpb24tbWluaW1hbCcsIHNlY3Rpb24gPT4gbmV3IFN0YXRpY0NvbGxlY3Rpb25NaW5pbWFsKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ3N0YXRpYy1mb290ZXInLCBzZWN0aW9uID0+IG5ldyBTdGF0aWNTZWN0aW9uRm9vdGVyKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ3N0YXRpYy1oZWFkZXInLCBzZWN0aW9uID0+IG5ldyBTdGF0aWNTZWN0aW9uSGVhZGVyKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ3N0YXRpYy1wYXNzd29yZCcsIHNlY3Rpb24gPT4gbmV3IFN0YXRpY1Bhc3N3b3JkKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ3N0YXRpYy1wcm9kdWN0Jywgc2VjdGlvbiA9PiBuZXcgU3RhdGljUHJvZHVjdChzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdzdGF0aWMtcHJvZHVjdC1yZWNvbW1lbmRhdGlvbnMnLCBzZWN0aW9uID0+IG5ldyBTdGF0aWNQcm9kdWN0UmVjb21tZW5kYXRpb25zKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ3N0YXRpYy1yZWNlbnRseS12aWV3ZWQnLCBzZWN0aW9uID0+IG5ldyBTdGF0aWNSZWNlbnRseVZpZXdlZChzZWN0aW9uKSk7XG4gIHNlY3Rpb25zLnJlZ2lzdGVyKCdzdGF0aWMtc2VhcmNoJywgc2VjdGlvbiA9PiBuZXcgU3RhdGljU2VhcmNoKHNlY3Rpb24pKTtcbiAgc2VjdGlvbnMucmVnaXN0ZXIoJ3N0YXRpYy1zbGlkZXNob3cnLCBzZWN0aW9uID0+IG5ldyBTdGF0aWNTbGlkZXNob3coc2VjdGlvbikpO1xuICBzZWN0aW9ucy5yZWdpc3Rlcignc3RhdGljLXV0aWxpdHktYmFyJywgc2VjdGlvbiA9PiBuZXcgU3RhdGljVXRpbGl0eUJhcihzZWN0aW9uKSk7XG5cbiAgbmV3IENvbnRhaW5Td2F0Y2hUb29sdGlwcygpO1xuXG4gIGlmICgkKCdib2R5LmdpZnRjYXJkJykubGVuZ3RoKSB7XG4gICAgbmV3IEdpZnRDYXJkKCk7XG4gIH1cblxuICBuZXcgQWNjb3VudCgpO1xuICBuZXcgQ29udGFjdCgpO1xuICBuZXcgUGFnZSgpO1xuXG4gIGZsaWNraXR5VG91Y2hGaXgoKTtcbn07XG5cbmlmIChwb2x5ZmlsbFVybHMubGVuZ3RoKSB7XG4gIHNjcmlwdGpzKHBvbHlmaWxsVXJscywgaW5pdFRoZW1lKTtcbn0gZWxzZSB7XG4gIGluaXRUaGVtZSgpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/Superstore.js\n");

/***/ }),

/***/ "./source/scripts/checkPolyfills.js":
/*!******************************************!*\
  !*** ./source/scripts/checkPolyfills.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar _this = undefined;\n\nvar polyfillUrls = []; // Checks if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\n\nif (!('IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) || !('open' in document.createElement('details'))) {\n  polyfillUrls.push(document.querySelector('[data-scripts]').dataset.pxuPolyfills);\n} // Polyfill NodeList.forEach if required.\n// Polyfill is so small it doesn't need to load any external code.\n\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = Array.prototype.forEach;\n}\n\nif (!Element.prototype.toggleAttribute) {\n  Element.prototype.toggleAttribute = function (name, force) {\n    if (force !== undefined) {\n      force = !!force;\n    }\n\n    if (_this.hasAttribute(name)) {\n      if (force) return true;\n\n      _this.removeAttribute(name);\n\n      return false;\n    }\n\n    if (force === false) return false;\n\n    _this.setAttribute(name, '');\n\n    return true;\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (polyfillUrls);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jaGVja1BvbHlmaWxscy5qcz9kMGZkIl0sIm5hbWVzIjpbInBvbHlmaWxsVXJscyIsIndpbmRvdyIsIkludGVyc2VjdGlvbk9ic2VydmVyRW50cnkiLCJwcm90b3R5cGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwdXNoIiwicXVlcnlTZWxlY3RvciIsImRhdGFzZXQiLCJweHVQb2x5ZmlsbHMiLCJOb2RlTGlzdCIsImZvckVhY2giLCJBcnJheSIsIkVsZW1lbnQiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJuYW1lIiwiZm9yY2UiLCJ1bmRlZmluZWQiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiXSwibWFwcGluZ3MiOiI7OztBQUFBLElBQU1BLFlBQVksR0FBRyxFQUFyQixDLENBRUE7QUFDQTs7QUFDQSxJQUFJLEVBQ0YsMEJBQTBCQyxNQUExQixJQUNHLCtCQUErQkEsTUFEbEMsSUFFRyx1QkFBdUJBLE1BQU0sQ0FBQ0MseUJBQVAsQ0FBaUNDLFNBSHpELEtBSUMsRUFBRSxVQUFVQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBWixDQUpMLEVBSXFEO0FBQ25ETCxjQUFZLENBQUNNLElBQWIsQ0FBa0JGLFFBQVEsQ0FBQ0csYUFBVCxDQUF1QixnQkFBdkIsRUFBeUNDLE9BQXpDLENBQWlEQyxZQUFuRTtBQUNELEMsQ0FFRDtBQUNBOzs7QUFDQSxJQUFJUixNQUFNLENBQUNTLFFBQVAsSUFBbUIsQ0FBQ0EsUUFBUSxDQUFDUCxTQUFULENBQW1CUSxPQUEzQyxFQUFvRDtBQUNsREQsVUFBUSxDQUFDUCxTQUFULENBQW1CUSxPQUFuQixHQUE2QkMsS0FBSyxDQUFDVCxTQUFOLENBQWdCUSxPQUE3QztBQUNEOztBQUVELElBQUksQ0FBQ0UsT0FBTyxDQUFDVixTQUFSLENBQWtCVyxlQUF2QixFQUF3QztBQUN0Q0QsU0FBTyxDQUFDVixTQUFSLENBQWtCVyxlQUFsQixHQUFvQyxVQUFDQyxJQUFELEVBQU9DLEtBQVAsRUFBaUI7QUFDbkQsUUFBSUEsS0FBSyxLQUFLQyxTQUFkLEVBQXlCO0FBQ3ZCRCxXQUFLLEdBQUcsQ0FBQyxDQUFDQSxLQUFWO0FBQ0Q7O0FBRUQsUUFBSSxLQUFJLENBQUNFLFlBQUwsQ0FBa0JILElBQWxCLENBQUosRUFBNkI7QUFDM0IsVUFBSUMsS0FBSixFQUFXLE9BQU8sSUFBUDs7QUFFWCxXQUFJLENBQUNHLGVBQUwsQ0FBcUJKLElBQXJCOztBQUNBLGFBQU8sS0FBUDtBQUNEOztBQUNELFFBQUlDLEtBQUssS0FBSyxLQUFkLEVBQXFCLE9BQU8sS0FBUDs7QUFFckIsU0FBSSxDQUFDSSxZQUFMLENBQWtCTCxJQUFsQixFQUF3QixFQUF4Qjs7QUFDQSxXQUFPLElBQVA7QUFDRCxHQWZEO0FBZ0JEOztBQUVjZiwyRUFBZiIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NoZWNrUG9seWZpbGxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcG9seWZpbGxVcmxzID0gW107XG5cbi8vIENoZWNrcyBpZiBhbGwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgYW5kIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlcbi8vIGZlYXR1cmVzIGFyZSBuYXRpdmVseSBzdXBwb3J0ZWQuXG5pZiAoIShcbiAgJ0ludGVyc2VjdGlvbk9ic2VydmVyJyBpbiB3aW5kb3dcbiAgJiYgJ0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnknIGluIHdpbmRvd1xuICAmJiAnaW50ZXJzZWN0aW9uUmF0aW8nIGluIHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5LnByb3RvdHlwZVxuKSB8fCAhKCdvcGVuJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkZXRhaWxzJykpKSB7XG4gIHBvbHlmaWxsVXJscy5wdXNoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNjcmlwdHNdJykuZGF0YXNldC5weHVQb2x5ZmlsbHMpO1xufVxuXG4vLyBQb2x5ZmlsbCBOb2RlTGlzdC5mb3JFYWNoIGlmIHJlcXVpcmVkLlxuLy8gUG9seWZpbGwgaXMgc28gc21hbGwgaXQgZG9lc24ndCBuZWVkIHRvIGxvYWQgYW55IGV4dGVybmFsIGNvZGUuXG5pZiAod2luZG93Lk5vZGVMaXN0ICYmICFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkge1xuICBOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoO1xufVxuXG5pZiAoIUVsZW1lbnQucHJvdG90eXBlLnRvZ2dsZUF0dHJpYnV0ZSkge1xuICBFbGVtZW50LnByb3RvdHlwZS50b2dnbGVBdHRyaWJ1dGUgPSAobmFtZSwgZm9yY2UpID0+IHtcbiAgICBpZiAoZm9yY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZm9yY2UgPSAhIWZvcmNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgaWYgKGZvcmNlKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChmb3JjZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcblxuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcG9seWZpbGxVcmxzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/checkPolyfills.js\n");

/***/ }),

/***/ "./source/scripts/components/AddToCartFlyout.js":
/*!******************************************************!*\
  !*** ./source/scripts/components/AddToCartFlyout.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @shopify/theme-a11y */ \"./node_modules/@shopify/theme-a11y/theme-a11y.js\");\n/* harmony import */ var _MessageBanner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MessageBanner */ \"./source/scripts/components/MessageBanner.js\");\n/* harmony import */ var _helpers_Images__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/Images */ \"./source/scripts/helpers/Images.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar AddToCartFlyout = /*#__PURE__*/function () {\n  function AddToCartFlyout() {\n    _classCallCheck(this, AddToCartFlyout);\n\n    this.formData = {};\n    this.settings = {};\n    this.events = [];\n    this.Images = new _helpers_Images__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n    this.flyOutSelector = '[data-atc-banner]';\n    this.$atcTemplate = jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"[data-templates] \".concat(this.flyOutSelector));\n    this.activeElement = null;\n    this.atcFlyOut = document.querySelector(this.flyOutSelector);\n    this._onInit = this._onInit.bind(this);\n    this._onError = this._onError.bind(this);\n    this._onSuccess = this._onSuccess.bind(this);\n    this._onCloseAll = this._onCloseAll.bind(this);\n    this._handleDocumentClick = this._handleDocumentClick.bind(this);\n    this._closeEsc = this._closeEsc.bind(this);\n    this.messageBanner = new _MessageBanner__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.header = document.querySelector('[data-site-header]');\n    this.$header = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.header);\n    this.$headerMain = this.$header.find('[data-site-header-main]');\n    this.$body = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.body);\n  }\n\n  _createClass(AddToCartFlyout, [{\n    key: \"init\",\n    value: function init(formData, product, options) {\n      var callbacks = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      this.formData = formData;\n      this.product = product; // Allows ATC Flow to be overridden\n\n      this.callbacks = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({\n        onInit: this._onInit,\n        onError: this._onError,\n        onSuccess: this._onSuccess,\n        onClose: this._onCloseAll\n      }, callbacks);\n      var $atcButton = options.$atcButton;\n      this.settings = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({\n        moneyFormat: null,\n        cartRedirection: false\n      }, options.settings); // If any FlyOuts are fully open, close them\n\n      this._closeFlyOuts();\n\n      this.callbacks.onInit();\n      this.activeElement = document.activeElement;\n\n      this._disableButton($atcButton);\n\n      this._updateCart($atcButton);\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.messageBanner.dismissBanners();\n\n      this._removeFlyOuts();\n\n      delete this.Images;\n    }\n  }, {\n    key: \"_updateCart\",\n    value: function _updateCart($atcButton) {\n      var _this = this;\n\n      var $flyOut = this.$atcTemplate.clone();\n      var idField = this.formData.filter(function (data) {\n        return data.name === 'id';\n      });\n      var id = parseInt(idField[0].value, 10);\n      var variants = this.product.variants.filter(function (variant) {\n        return variant.id === id;\n      });\n      var variant = variants[0];\n      var quantityField = this.formData.filter(function (data) {\n        return data.name === 'quantity';\n      });\n      var quantity = parseInt(quantityField[0].value, 10);\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax({\n        type: 'POST',\n        url: \"\".concat(window.Theme.routes.cart_add_url, \".js\"),\n        data: jquery__WEBPACK_IMPORTED_MODULE_0___default.a.param(this.formData),\n        dataType: 'json'\n      }).done(function (response) {\n        window.api.theme.triggerEvent('cart:updated', {\n          cancel: function cancel() {}\n        });\n\n        if (response.image) {\n          var imageUrl = _this.Images.getSizedImageUrl(response.image, '200x');\n\n          var image = _this.Images.loadImage(imageUrl);\n\n          $flyOut.find('[data-atc-banner-product-image]').html(\"<img src=\\\"\".concat(image, \"\\\" alt=\\\"\").concat(response.product_title, \"\\\">\"));\n        }\n\n        $flyOut.find('[data-atc-banner-product-title]').text(response.product_title);\n        /*\n          TODO: Bring in `variant.options`, iterate through to get option\n            name for: <strong>Option name:</strong> Option\n        */\n\n        if (response.variant_options[0] !== 'Title' && response.variant_options[0] !== 'Default Title') {\n          $flyOut.find('[data-atc-banner-product-options]').text(response.variant_options.join(', '));\n        }\n        /*\n          TODO: Bring in variant, and use that to check compare_at_price\n            to see if the item is on sale\n        */\n\n\n        var $productPriceQuantity = $flyOut.find('[data-atc-banner-product-price-quantity]');\n        $productPriceQuantity.text(\"\".concat(quantity, \" \\xD7 \"));\n        var $productPriceValue = $flyOut.find('[data-atc-banner-product-price-value]');\n        $productPriceValue.text(Shopify.formatMoney(variant.price, _this.settings.moneyFormat)); // Price Per Unit\n\n        var unitPrice = $flyOut[0].querySelector('[data-atc-banner-unit-price]');\n        var unitPriceString = unitPrice.innerHTML;\n\n        if (unitPrice && variant.unit_price_measurement) {\n          unitPriceString = unitPriceString.replace('** total_quantity **', \"\".concat(variant.unit_price_measurement.quantity_value).concat(variant.unit_price_measurement.quantity_unit));\n          unitPriceString = unitPriceString.replace('** unit_price **', Shopify.formatMoney(variant.unit_price, _this.settings.money_format));\n\n          if (variant.unit_price_measurement.reference_value === 1) {\n            unitPriceString = unitPriceString.replace('** unit_measure **', variant.unit_price_measurement.reference_unit);\n          } else {\n            unitPriceString = unitPriceString.replace('** unit_measure **', \"\".concat(variant.unit_price_measurement.reference_value).concat(variant.unit_price_measurement.reference_unit));\n          }\n\n          unitPrice.innerHTML = unitPriceString;\n          unitPrice.classList.remove('hidden');\n        }\n\n        jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax({\n          type: 'GET',\n          url: \"\".concat(window.Theme.routes.cart_url, \".js\"),\n          dataType: 'json'\n        }).done(function (response) {\n          if (_this.settings.cartRedirection) {\n            return location.href = window.Theme.routes.cart_url;\n          }\n\n          _this.callbacks.onSuccess(); // Reset formData in case instance is never cleared\n\n\n          _this.formData = {};\n          var $subTotal = $flyOut.find('[data-atc-banner-cart-subtotal]');\n\n          var cartTotalValueListener = function cartTotalValueListener(_ref) {\n            var price = _ref.price;\n\n            if ($subTotal) {\n              $subTotal[0].innerHTML = Shopify.formatMoney(price, _this.settings.moneyFormat);\n            }\n          };\n\n          _this.cartTotalValue = window.api.theme.useValue({\n            name: 'cart:total',\n            handler: cartTotalValueListener,\n            initialValue: {\n              price: response.total_price,\n              compare_at_price: response.total_price\n            }\n          });\n          $flyOut.find('[data-atc-banner-cart-button]').find('span').text(response.item_count);\n\n          _this.$header.append($flyOut); // Notifiy Header of new cart count\n\n\n          _this.$headerMain.trigger('cartcount:update', {\n            response: response\n          });\n\n          _this._bindEvents($flyOut);\n\n          _this._openFlyOut($flyOut, $atcButton);\n        });\n      }).fail(function (response) {\n        var errorText;\n\n        try {\n          var responseText = JSON.parse(response.responseText);\n          errorText = responseText.description;\n        } catch (error) {\n          errorText = \"\".concat(response.status, \" \").concat(response.statusText);\n\n          if (response.status === 401) {\n            errorText = \"\".concat(errorText, \". Try refreshing and logging in.\");\n          }\n        }\n\n        _this._enableButton($atcButton);\n\n        _this.callbacks.onError(errorText);\n      });\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(error) {\n      this.messageBanner.message(error, 'error');\n    }\n  }, {\n    key: \"_onInit\",\n    value: function _onInit() {\n      this.messageBanner.dismissBanners();\n    }\n  }, {\n    key: \"_onSuccess\",\n    value: function _onSuccess() {\n      /*\n        By default, the ATC Flyout doesn't need any additional success callbacks\n         The `this.callbacks.onSuccess` is used to allow other views to initiate\n        behaviour when a product has been added to the cart\n       */\n    }\n  }, {\n    key: \"_onCloseAll\",\n    value: function _onCloseAll() {\n      /*\n        By default, the ATC Flyout doesn't need any additional close callbacks\n         The `this.callbacks.onClose` is used to allow other views to initiate\n        behaviour when the atc banner has been closed\n       */\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents($flyOut) {\n      var _this2 = this;\n\n      this.events.push([$flyOut.on('click.atc-banner', '[data-atc-banner-close]', function (event) {\n        event.preventDefault();\n\n        _this2._closeFlyOut($flyOut);\n      }), jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-atc-button-checkout]', $flyOut).on('click.atc-banner', function (event) {\n        return window.api.theme.triggerEvent('cart:checkout', {\n          cancel: function cancel() {\n            return event.preventDefault();\n          }\n        });\n      })]);\n    }\n    /**\n     * Trigger any existing open FlyOuts to close\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_closeFlyOuts\",\n    value: function _closeFlyOuts() {\n      var _this3 = this;\n\n      var $excludeFlyOut = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.flyOutSelector).filter('[data-flyout-active]').each(function (index, el) {\n        var $flyOut = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el);\n\n        if ($excludeFlyOut && $flyOut.is($excludeFlyOut)) {\n          return;\n        }\n\n        _this3._closeFlyOut($flyOut, index);\n      });\n\n      if (!$excludeFlyOut) {\n        this.callbacks.onClose();\n      }\n\n      window.removeEventListener('keydown', this._closeEsc);\n      window.removeEventListener('click', this._handleDocumentClick);\n    }\n  }, {\n    key: \"_openFlyOut\",\n    value: function _openFlyOut($flyOut, $atcButton) {\n      var _this4 = this;\n\n      /*\n       If user has initiated a new ATC Flow before the first has finished,\n       the first FlyOut could have opened after the first attempt to close open flyouts\n      */\n      this._closeFlyOuts($flyOut);\n\n      $flyOut.addClass('animating animating-in').one('trend', function () {\n        $flyOut.removeClass('animating animating-in').addClass('visible').off('trend');\n        $flyOut.attr('data-flyout-active', true);\n        Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_1__[\"trapFocus\"])($flyOut[0]);\n        window.addEventListener('keydown', _this4._closeEsc);\n        window.addEventListener('click', _this4._handleDocumentClick);\n\n        _this4._enableButton($atcButton);\n      });\n    }\n  }, {\n    key: \"_closeEsc\",\n    value: function _closeEsc(e) {\n      if (e.key === 'Escape') {\n        this._closeFlyOuts();\n      }\n    }\n    /**\n     * Close an open FlyOut\n     *\n     * @param $flyOut\n     * @param index\n     * @private\n     */\n\n  }, {\n    key: \"_closeFlyOut\",\n    value: function _closeFlyOut() {\n      var _this5 = this;\n\n      var $flyOut = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (!$flyOut) {\n        return;\n      }\n\n      $flyOut.addClass('animating animating-out').one('trend', function () {\n        $flyOut.removeClass('animating animating-out visible').one('trend', function () {\n          $flyOut.off('trend');\n\n          _this5._removeFlyOut($flyOut, index); // if the user clicked onto the search box, close the atc flyout and move focus\n          // to the search instead of going to the previous active element.\n\n\n          if (_this5.documentClickEventTarget && 'liveSearchInput' in _this5.documentClickEventTarget.dataset) {\n            _this5.documentClickEventTarget.focus();\n          } else if (_this5.activeElement) {\n            _this5.activeElement.focus();\n          }\n\n          Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_1__[\"removeTrapFocus\"])($flyOut[0]);\n\n          _this5.callbacks.onClose();\n        });\n      });\n    }\n  }, {\n    key: \"_removeFlyOuts\",\n    value: function _removeFlyOuts() {\n      var _this6 = this;\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.flyOutSelector).filter('[data-flyout-active]').each(function (index, el) {\n        _this6._removeFlyOut(jquery__WEBPACK_IMPORTED_MODULE_0___default()(el), index);\n      });\n    }\n    /**\n     * Remove the Flyout from the DOM, and clean up listeners\n     *\n     * @param $flyOut\n     * @param index\n     * @private\n     */\n\n  }, {\n    key: \"_removeFlyOut\",\n    value: function _removeFlyOut($flyOut, index) {\n      if (this.events[index]) {\n        this.events[index].forEach(function ($el) {\n          return $el.off('.atc-banner');\n        });\n        this.events.splice(index, 1);\n      }\n\n      if (this.cartTotalValue) {\n        this.cartTotalValue.unload();\n        this.cartTotalValue = null;\n      }\n\n      if ($flyOut) {\n        $flyOut.remove();\n      }\n    }\n  }, {\n    key: \"_disableButton\",\n    value: function _disableButton($atcButton) {\n      $atcButton.addClass('processing').prop('disabled', true);\n    }\n  }, {\n    key: \"_enableButton\",\n    value: function _enableButton($atcButton) {\n      $atcButton.prop('disabled', false).removeClass('processing');\n    }\n  }, {\n    key: \"_handleDocumentClick\",\n    value: function _handleDocumentClick(event) {\n      var target = event.target;\n      var $parent = jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).parents('[data-atc-banner]');\n\n      if ($parent.length) {\n        return;\n      }\n\n      this.documentClickEventTarget = target;\n\n      this._closeFlyOuts();\n    }\n  }]);\n\n  return AddToCartFlyout;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new AddToCartFlyout());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL0FkZFRvQ2FydEZseW91dC5qcz8xNWVjIl0sIm5hbWVzIjpbIkFkZFRvQ2FydEZseW91dCIsImZvcm1EYXRhIiwic2V0dGluZ3MiLCJldmVudHMiLCJJbWFnZXMiLCJmbHlPdXRTZWxlY3RvciIsIiRhdGNUZW1wbGF0ZSIsIiQiLCJhY3RpdmVFbGVtZW50IiwiYXRjRmx5T3V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX29uSW5pdCIsImJpbmQiLCJfb25FcnJvciIsIl9vblN1Y2Nlc3MiLCJfb25DbG9zZUFsbCIsIl9oYW5kbGVEb2N1bWVudENsaWNrIiwiX2Nsb3NlRXNjIiwibWVzc2FnZUJhbm5lciIsIk1lc3NhZ2VCYW5uZXIiLCJoZWFkZXIiLCIkaGVhZGVyIiwiJGhlYWRlck1haW4iLCJmaW5kIiwiJGJvZHkiLCJib2R5IiwicHJvZHVjdCIsIm9wdGlvbnMiLCJjYWxsYmFja3MiLCJleHRlbmQiLCJvbkluaXQiLCJvbkVycm9yIiwib25TdWNjZXNzIiwib25DbG9zZSIsIiRhdGNCdXR0b24iLCJtb25leUZvcm1hdCIsImNhcnRSZWRpcmVjdGlvbiIsIl9jbG9zZUZseU91dHMiLCJfZGlzYWJsZUJ1dHRvbiIsIl91cGRhdGVDYXJ0IiwiZGlzbWlzc0Jhbm5lcnMiLCJfcmVtb3ZlRmx5T3V0cyIsIiRmbHlPdXQiLCJjbG9uZSIsImlkRmllbGQiLCJmaWx0ZXIiLCJkYXRhIiwibmFtZSIsImlkIiwicGFyc2VJbnQiLCJ2YWx1ZSIsInZhcmlhbnRzIiwidmFyaWFudCIsInF1YW50aXR5RmllbGQiLCJxdWFudGl0eSIsImFqYXgiLCJ0eXBlIiwidXJsIiwid2luZG93IiwiVGhlbWUiLCJyb3V0ZXMiLCJjYXJ0X2FkZF91cmwiLCJwYXJhbSIsImRhdGFUeXBlIiwiZG9uZSIsInJlc3BvbnNlIiwiYXBpIiwidGhlbWUiLCJ0cmlnZ2VyRXZlbnQiLCJjYW5jZWwiLCJpbWFnZSIsImltYWdlVXJsIiwiZ2V0U2l6ZWRJbWFnZVVybCIsImxvYWRJbWFnZSIsImh0bWwiLCJwcm9kdWN0X3RpdGxlIiwidGV4dCIsInZhcmlhbnRfb3B0aW9ucyIsImpvaW4iLCIkcHJvZHVjdFByaWNlUXVhbnRpdHkiLCIkcHJvZHVjdFByaWNlVmFsdWUiLCJTaG9waWZ5IiwiZm9ybWF0TW9uZXkiLCJwcmljZSIsInVuaXRQcmljZSIsInVuaXRQcmljZVN0cmluZyIsImlubmVySFRNTCIsInVuaXRfcHJpY2VfbWVhc3VyZW1lbnQiLCJyZXBsYWNlIiwicXVhbnRpdHlfdmFsdWUiLCJxdWFudGl0eV91bml0IiwidW5pdF9wcmljZSIsIm1vbmV5X2Zvcm1hdCIsInJlZmVyZW5jZV92YWx1ZSIsInJlZmVyZW5jZV91bml0IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiY2FydF91cmwiLCJsb2NhdGlvbiIsImhyZWYiLCIkc3ViVG90YWwiLCJjYXJ0VG90YWxWYWx1ZUxpc3RlbmVyIiwiY2FydFRvdGFsVmFsdWUiLCJ1c2VWYWx1ZSIsImhhbmRsZXIiLCJpbml0aWFsVmFsdWUiLCJ0b3RhbF9wcmljZSIsImNvbXBhcmVfYXRfcHJpY2UiLCJpdGVtX2NvdW50IiwiYXBwZW5kIiwidHJpZ2dlciIsIl9iaW5kRXZlbnRzIiwiX29wZW5GbHlPdXQiLCJmYWlsIiwiZXJyb3JUZXh0IiwicmVzcG9uc2VUZXh0IiwiSlNPTiIsInBhcnNlIiwiZGVzY3JpcHRpb24iLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJfZW5hYmxlQnV0dG9uIiwibWVzc2FnZSIsInB1c2giLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfY2xvc2VGbHlPdXQiLCIkZXhjbHVkZUZseU91dCIsImVhY2giLCJpbmRleCIsImVsIiwiaXMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkQ2xhc3MiLCJvbmUiLCJyZW1vdmVDbGFzcyIsIm9mZiIsImF0dHIiLCJ0cmFwRm9jdXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImtleSIsIl9yZW1vdmVGbHlPdXQiLCJkb2N1bWVudENsaWNrRXZlbnRUYXJnZXQiLCJkYXRhc2V0IiwiZm9jdXMiLCJyZW1vdmVUcmFwRm9jdXMiLCJmb3JFYWNoIiwiJGVsIiwic3BsaWNlIiwidW5sb2FkIiwicHJvcCIsInRhcmdldCIsIiRwYXJlbnQiLCJwYXJlbnRzIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBS0E7QUFDQTs7SUFFTUEsZTtBQUNKLDZCQUFjO0FBQUE7O0FBQ1osU0FBS0MsUUFBTCxHQUFnQixFQUFoQjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLQyxNQUFMLEdBQWMsRUFBZDtBQUNBLFNBQUtDLE1BQUwsR0FBYyxJQUFJQSx1REFBSixFQUFkO0FBQ0EsU0FBS0MsY0FBTCxHQUFzQixtQkFBdEI7QUFDQSxTQUFLQyxZQUFMLEdBQW9CQyw2Q0FBQyw0QkFBcUIsS0FBS0YsY0FBMUIsRUFBckI7QUFDQSxTQUFLRyxhQUFMLEdBQXFCLElBQXJCO0FBRUEsU0FBS0MsU0FBTCxHQUFpQkMsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQUtOLGNBQTVCLENBQWpCO0FBRUEsU0FBS08sT0FBTCxHQUFlLEtBQUtBLE9BQUwsQ0FBYUMsSUFBYixDQUFrQixJQUFsQixDQUFmO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixLQUFLQSxRQUFMLENBQWNELElBQWQsQ0FBbUIsSUFBbkIsQ0FBaEI7QUFDQSxTQUFLRSxVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0JGLElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0EsU0FBS0csV0FBTCxHQUFtQixLQUFLQSxXQUFMLENBQWlCSCxJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUtJLG9CQUFMLEdBQTRCLEtBQUtBLG9CQUFMLENBQTBCSixJQUExQixDQUErQixJQUEvQixDQUE1QjtBQUVBLFNBQUtLLFNBQUwsR0FBaUIsS0FBS0EsU0FBTCxDQUFlTCxJQUFmLENBQW9CLElBQXBCLENBQWpC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TUFBTCxDQUFZaUksS0FBWixDQUFKLEVBQXdCO0FBQ3RCLGFBQUtqSSxNQUFMLENBQVlpSSxLQUFaLEVBQW1Ca0IsT0FBbkIsQ0FBMkIsVUFBQUMsR0FBRztBQUFBLGlCQUFJQSxHQUFHLENBQUNaLEdBQUosQ0FBUSxhQUFSLENBQUo7QUFBQSxTQUE5QjtBQUNBLGFBQUt4SSxNQUFMLENBQVlxSixNQUFaLENBQW1CcEIsS0FBbkIsRUFBMEIsQ0FBMUI7QUFDRDs7QUFFRCxVQUFJLEtBQUs3QixjQUFULEVBQXlCO0FBQ3ZCLGFBQUtBLGNBQUwsQ0FBb0JrRCxNQUFwQjtBQUNBLGFBQUtsRCxjQUFMLEdBQXNCLElBQXRCO0FBQ0Q7O0FBRUQsVUFBSTVELE9BQUosRUFBYTtBQUNYQSxlQUFPLENBQUNzRCxNQUFSO0FBQ0Q7QUFDRjs7O21DQUVjOUQsVSxFQUFZO0FBQ3pCQSxnQkFBVSxDQUNQcUcsUUFESCxDQUNZLFlBRFosRUFFR2tCLElBRkgsQ0FFUSxVQUZSLEVBRW9CLElBRnBCO0FBR0Q7OztrQ0FFYXZILFUsRUFBWTtBQUN4QkEsZ0JBQVUsQ0FDUHVILElBREgsQ0FDUSxVQURSLEVBQ29CLEtBRHBCLEVBRUdoQixXQUZILENBRWUsWUFGZjtBQUdEOzs7eUNBRW9CWCxLLEVBQU87QUFDMUIsVUFBTTRCLE1BQU0sR0FBRzVCLEtBQUssQ0FBQzRCLE1BQXJCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHckosNkNBQUMsQ0FBQ29KLE1BQUQsQ0FBRCxDQUFVRSxPQUFWLENBQWtCLG1CQUFsQixDQUFoQjs7QUFFQSxVQUFJRCxPQUFPLENBQUNFLE1BQVosRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxXQUFLWix3QkFBTCxHQUFnQ1MsTUFBaEM7O0FBQ0EsV0FBS3JILGFBQUw7QUFDRDs7Ozs7O0FBR1ksbUVBQUl0QyxlQUFKLEVBQWYiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL0FkZFRvQ2FydEZseW91dC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQge1xuICB0cmFwRm9jdXMsXG4gIHJlbW92ZVRyYXBGb2N1cyxcbn0gZnJvbSAnQHNob3BpZnkvdGhlbWUtYTExeSc7XG5cbmltcG9ydCBNZXNzYWdlQmFubmVyIGZyb20gJy4vTWVzc2FnZUJhbm5lcic7XG5pbXBvcnQgSW1hZ2VzIGZyb20gJy4uL2hlbHBlcnMvSW1hZ2VzJztcblxuY2xhc3MgQWRkVG9DYXJ0Rmx5b3V0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5mb3JtRGF0YSA9IHt9O1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7fTtcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgIHRoaXMuSW1hZ2VzID0gbmV3IEltYWdlcygpO1xuICAgIHRoaXMuZmx5T3V0U2VsZWN0b3IgPSAnW2RhdGEtYXRjLWJhbm5lcl0nO1xuICAgIHRoaXMuJGF0Y1RlbXBsYXRlID0gJChgW2RhdGEtdGVtcGxhdGVzXSAke3RoaXMuZmx5T3V0U2VsZWN0b3J9YCk7XG4gICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gbnVsbDtcblxuICAgIHRoaXMuYXRjRmx5T3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmZseU91dFNlbGVjdG9yKTtcblxuICAgIHRoaXMuX29uSW5pdCA9IHRoaXMuX29uSW5pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25TdWNjZXNzID0gdGhpcy5fb25TdWNjZXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DbG9zZUFsbCA9IHRoaXMuX29uQ2xvc2VBbGwuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrID0gdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fY2xvc2VFc2MgPSB0aGlzLl9jbG9zZUVzYy5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5tZXNzYWdlQmFubmVyID0gbmV3IE1lc3NhZ2VCYW5uZXIoKTtcblxuICAgIHRoaXMuaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1oZWFkZXJdJyk7XG4gICAgdGhpcy4kaGVhZGVyID0gJCh0aGlzLmhlYWRlcik7XG4gICAgdGhpcy4kaGVhZGVyTWFpbiA9IHRoaXMuJGhlYWRlci5maW5kKCdbZGF0YS1zaXRlLWhlYWRlci1tYWluXScpXG4gICAgdGhpcy4kYm9keSA9ICQoZG9jdW1lbnQuYm9keSk7XG4gIH1cblxuICBpbml0KGZvcm1EYXRhLCBwcm9kdWN0LCBvcHRpb25zLCBjYWxsYmFja3MgPSB7fSkge1xuICAgIHRoaXMuZm9ybURhdGEgPSBmb3JtRGF0YTtcbiAgICB0aGlzLnByb2R1Y3QgPSBwcm9kdWN0O1xuXG4gICAgLy8gQWxsb3dzIEFUQyBGbG93IHRvIGJlIG92ZXJyaWRkZW5cbiAgICB0aGlzLmNhbGxiYWNrcyA9ICQuZXh0ZW5kKHtcbiAgICAgIG9uSW5pdDogdGhpcy5fb25Jbml0LFxuICAgICAgb25FcnJvcjogdGhpcy5fb25FcnJvcixcbiAgICAgIG9uU3VjY2VzczogdGhpcy5fb25TdWNjZXNzLFxuICAgICAgb25DbG9zZTogdGhpcy5fb25DbG9zZUFsbCxcbiAgICB9LCBjYWxsYmFja3MpO1xuXG4gICAgY29uc3QgJGF0Y0J1dHRvbiA9IG9wdGlvbnMuJGF0Y0J1dHRvbjtcblxuICAgIHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCh7XG4gICAgICBtb25leUZvcm1hdDogbnVsbCxcbiAgICAgIGNhcnRSZWRpcmVjdGlvbjogZmFsc2UsXG4gICAgfSwgb3B0aW9ucy5zZXR0aW5ncyk7XG5cbiAgICAvLyBJZiBhbnkgRmx5T3V0cyBhcmUgZnVsbHkgb3BlbiwgY2xvc2UgdGhlbVxuICAgIHRoaXMuX2Nsb3NlRmx5T3V0cygpO1xuXG4gICAgdGhpcy5jYWxsYmFja3Mub25Jbml0KCk7XG5cbiAgICB0aGlzLmFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigkYXRjQnV0dG9uKTtcbiAgICB0aGlzLl91cGRhdGVDYXJ0KCRhdGNCdXR0b24pO1xuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMubWVzc2FnZUJhbm5lci5kaXNtaXNzQmFubmVycygpO1xuICAgIHRoaXMuX3JlbW92ZUZseU91dHMoKTtcbiAgICBkZWxldGUgdGhpcy5JbWFnZXM7XG4gIH1cblxuICBfdXBkYXRlQ2FydCgkYXRjQnV0dG9uKSB7XG4gICAgY29uc3QgJGZseU91dCA9IHRoaXMuJGF0Y1RlbXBsYXRlLmNsb25lKCk7XG5cbiAgICBjb25zdCBpZEZpZWxkID0gdGhpcy5mb3JtRGF0YS5maWx0ZXIoZGF0YSA9PiBkYXRhLm5hbWUgPT09ICdpZCcpO1xuICAgIGNvbnN0IGlkID0gcGFyc2VJbnQoaWRGaWVsZFswXS52YWx1ZSwgMTApO1xuICAgIGNvbnN0IHZhcmlhbnRzID0gdGhpcy5wcm9kdWN0LnZhcmlhbnRzLmZpbHRlcih2YXJpYW50ID0+IHZhcmlhbnQuaWQgPT09IGlkKTtcbiAgICBjb25zdCB2YXJpYW50ID0gdmFyaWFudHNbMF07XG4gICAgY29uc3QgcXVhbnRpdHlGaWVsZCA9IHRoaXMuZm9ybURhdGEuZmlsdGVyKGRhdGEgPT4gZGF0YS5uYW1lID09PSAncXVhbnRpdHknKTtcbiAgICBjb25zdCBxdWFudGl0eSA9IHBhcnNlSW50KHF1YW50aXR5RmllbGRbMF0udmFsdWUsIDEwKTtcblxuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICB1cmw6IGAke3dpbmRvdy5UaGVtZS5yb3V0ZXMuY2FydF9hZGRfdXJsfS5qc2AsXG4gICAgICBkYXRhOiAkLnBhcmFtKHRoaXMuZm9ybURhdGEpLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICB9KVxuICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHdpbmRvdy5hcGkudGhlbWUudHJpZ2dlckV2ZW50KCdjYXJ0OnVwZGF0ZWQnLCB7IGNhbmNlbDogKCkgPT4ge30gfSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLmltYWdlKSB7XG4gICAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSB0aGlzLkltYWdlcy5nZXRTaXplZEltYWdlVXJsKHJlc3BvbnNlLmltYWdlLCAnMjAweCcpO1xuICAgICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5JbWFnZXMubG9hZEltYWdlKGltYWdlVXJsKTtcblxuICAgICAgICAgICRmbHlPdXQuZmluZCgnW2RhdGEtYXRjLWJhbm5lci1wcm9kdWN0LWltYWdlXScpXG4gICAgICAgICAgICAuaHRtbChgPGltZyBzcmM9XCIke2ltYWdlfVwiIGFsdD1cIiR7cmVzcG9uc2UucHJvZHVjdF90aXRsZX1cIj5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRmbHlPdXQuZmluZCgnW2RhdGEtYXRjLWJhbm5lci1wcm9kdWN0LXRpdGxlXScpXG4gICAgICAgICAgLnRleHQocmVzcG9uc2UucHJvZHVjdF90aXRsZSk7XG5cbiAgICAgICAgLypcbiAgICAgICAgICBUT0RPOiBCcmluZyBpbiBgdmFyaWFudC5vcHRpb25zYCwgaXRlcmF0ZSB0aHJvdWdoIHRvIGdldCBvcHRpb25cbiAgICAgICAgICAgIG5hbWUgZm9yOiA8c3Ryb25nPk9wdGlvbiBuYW1lOjwvc3Ryb25nPiBPcHRpb25cbiAgICAgICAgKi9cbiAgICAgICAgaWYgKHJlc3BvbnNlLnZhcmlhbnRfb3B0aW9uc1swXSAhPT0gJ1RpdGxlJyAmJiByZXNwb25zZS52YXJpYW50X29wdGlvbnNbMF0gIT09ICdEZWZhdWx0IFRpdGxlJykge1xuICAgICAgICAgICRmbHlPdXQuZmluZCgnW2RhdGEtYXRjLWJhbm5lci1wcm9kdWN0LW9wdGlvbnNdJylcbiAgICAgICAgICAgIC50ZXh0KHJlc3BvbnNlLnZhcmlhbnRfb3B0aW9ucy5qb2luKCcsICcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICAgVE9ETzogQnJpbmcgaW4gdmFyaWFudCwgYW5kIHVzZSB0aGF0IHRvIGNoZWNrIGNvbXBhcmVfYXRfcHJpY2VcbiAgICAgICAgICAgIHRvIHNlZSBpZiB0aGUgaXRlbSBpcyBvbiBzYWxlXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0ICRwcm9kdWN0UHJpY2VRdWFudGl0eSA9ICRmbHlPdXQuZmluZCgnW2RhdGEtYXRjLWJhbm5lci1wcm9kdWN0LXByaWNlLXF1YW50aXR5XScpO1xuICAgICAgICAkcHJvZHVjdFByaWNlUXVhbnRpdHkudGV4dChgJHtxdWFudGl0eX0gw5cgYCk7XG5cbiAgICAgICAgY29uc3QgJHByb2R1Y3RQcmljZVZhbHVlID0gJGZseU91dC5maW5kKCdbZGF0YS1hdGMtYmFubmVyLXByb2R1Y3QtcHJpY2UtdmFsdWVdJyk7XG5cbiAgICAgICAgJHByb2R1Y3RQcmljZVZhbHVlLnRleHQoU2hvcGlmeS5mb3JtYXRNb25leSh2YXJpYW50LnByaWNlLCB0aGlzLnNldHRpbmdzLm1vbmV5Rm9ybWF0KSk7XG5cbiAgICAgICAgLy8gUHJpY2UgUGVyIFVuaXRcbiAgICAgICAgY29uc3QgdW5pdFByaWNlID0gJGZseU91dFswXS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hdGMtYmFubmVyLXVuaXQtcHJpY2VdJyk7XG4gICAgICAgIGxldCB1bml0UHJpY2VTdHJpbmcgPSB1bml0UHJpY2UuaW5uZXJIVE1MO1xuXG4gICAgICAgIGlmICh1bml0UHJpY2UgJiYgdmFyaWFudC51bml0X3ByaWNlX21lYXN1cmVtZW50KSB7XG4gICAgICAgICAgdW5pdFByaWNlU3RyaW5nID0gdW5pdFByaWNlU3RyaW5nLnJlcGxhY2UoXG4gICAgICAgICAgICAnKiogdG90YWxfcXVhbnRpdHkgKionLFxuICAgICAgICAgICAgYCR7dmFyaWFudC51bml0X3ByaWNlX21lYXN1cmVtZW50LnF1YW50aXR5X3ZhbHVlfSR7dmFyaWFudC51bml0X3ByaWNlX21lYXN1cmVtZW50LnF1YW50aXR5X3VuaXR9YCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdW5pdFByaWNlU3RyaW5nID0gdW5pdFByaWNlU3RyaW5nLnJlcGxhY2UoXG4gICAgICAgICAgICAnKiogdW5pdF9wcmljZSAqKicsXG4gICAgICAgICAgICBTaG9waWZ5LmZvcm1hdE1vbmV5KHZhcmlhbnQudW5pdF9wcmljZSwgdGhpcy5zZXR0aW5ncy5tb25leV9mb3JtYXQpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHZhcmlhbnQudW5pdF9wcmljZV9tZWFzdXJlbWVudC5yZWZlcmVuY2VfdmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgIHVuaXRQcmljZVN0cmluZyA9IHVuaXRQcmljZVN0cmluZy5yZXBsYWNlKCcqKiB1bml0X21lYXN1cmUgKionLCB2YXJpYW50LnVuaXRfcHJpY2VfbWVhc3VyZW1lbnQucmVmZXJlbmNlX3VuaXQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bml0UHJpY2VTdHJpbmcgPSB1bml0UHJpY2VTdHJpbmcucmVwbGFjZShcbiAgICAgICAgICAgICAgJyoqIHVuaXRfbWVhc3VyZSAqKicsXG4gICAgICAgICAgICAgIGAke3ZhcmlhbnQudW5pdF9wcmljZV9tZWFzdXJlbWVudC5yZWZlcmVuY2VfdmFsdWV9JHt2YXJpYW50LnVuaXRfcHJpY2VfbWVhc3VyZW1lbnQucmVmZXJlbmNlX3VuaXR9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVuaXRQcmljZS5pbm5lckhUTUwgPSB1bml0UHJpY2VTdHJpbmc7XG4gICAgICAgICAgdW5pdFByaWNlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICB1cmw6IGAke3dpbmRvdy5UaGVtZS5yb3V0ZXMuY2FydF91cmx9LmpzYCxcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICB9KVxuICAgICAgICAgIC5kb25lKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY2FydFJlZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5ocmVmID0gd2luZG93LlRoZW1lLnJvdXRlcy5jYXJ0X3VybDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25TdWNjZXNzKCk7XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IGZvcm1EYXRhIGluIGNhc2UgaW5zdGFuY2UgaXMgbmV2ZXIgY2xlYXJlZFxuICAgICAgICAgICAgdGhpcy5mb3JtRGF0YSA9IHt9O1xuXG5cbiAgICAgICAgICAgIGNvbnN0ICRzdWJUb3RhbCA9ICRmbHlPdXQuZmluZCgnW2RhdGEtYXRjLWJhbm5lci1jYXJ0LXN1YnRvdGFsXScpO1xuICAgICAgICAgICAgY29uc3QgY2FydFRvdGFsVmFsdWVMaXN0ZW5lciA9ICh7IHByaWNlIH0pID0+IHtcbiAgICAgICAgICAgICAgaWYgKCRzdWJUb3RhbCkge1xuICAgICAgICAgICAgICAgICRzdWJUb3RhbFswXS5pbm5lckhUTUwgPSBTaG9waWZ5LmZvcm1hdE1vbmV5KHByaWNlLCB0aGlzLnNldHRpbmdzLm1vbmV5Rm9ybWF0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5jYXJ0VG90YWxWYWx1ZSA9IHdpbmRvdy5hcGkudGhlbWUudXNlVmFsdWUoe1xuICAgICAgICAgICAgICBuYW1lOiAnY2FydDp0b3RhbCcsXG4gICAgICAgICAgICAgIGhhbmRsZXI6IGNhcnRUb3RhbFZhbHVlTGlzdGVuZXIsXG4gICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogeyBwcmljZTogcmVzcG9uc2UudG90YWxfcHJpY2UsIGNvbXBhcmVfYXRfcHJpY2U6IHJlc3BvbnNlLnRvdGFsX3ByaWNlIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJGZseU91dFxuICAgICAgICAgICAgICAuZmluZCgnW2RhdGEtYXRjLWJhbm5lci1jYXJ0LWJ1dHRvbl0nKVxuICAgICAgICAgICAgICAuZmluZCgnc3BhbicpLnRleHQocmVzcG9uc2UuaXRlbV9jb3VudCk7XG5cbiAgICAgICAgICAgIHRoaXMuJGhlYWRlci5hcHBlbmQoJGZseU91dCk7XG5cbiAgICAgICAgICAgIC8vIE5vdGlmaXkgSGVhZGVyIG9mIG5ldyBjYXJ0IGNvdW50XG4gICAgICAgICAgICB0aGlzLiRoZWFkZXJNYWluLnRyaWdnZXIoJ2NhcnRjb3VudDp1cGRhdGUnLCB7IHJlc3BvbnNlIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9iaW5kRXZlbnRzKCRmbHlPdXQpO1xuICAgICAgICAgICAgdGhpcy5fb3BlbkZseU91dCgkZmx5T3V0LCAkYXRjQnV0dG9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuZmFpbCgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgbGV0IGVycm9yVGV4dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgZXJyb3JUZXh0ID0gcmVzcG9uc2VUZXh0LmRlc2NyaXB0aW9uO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGVycm9yVGV4dCA9IGAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICBlcnJvclRleHQgPSBgJHtlcnJvclRleHR9LiBUcnkgcmVmcmVzaGluZyBhbmQgbG9nZ2luZyBpbi5gO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigkYXRjQnV0dG9uKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25FcnJvcihlcnJvclRleHQpO1xuICAgICAgfSk7XG4gIH1cblxuICBfb25FcnJvcihlcnJvcikge1xuICAgIHRoaXMubWVzc2FnZUJhbm5lci5tZXNzYWdlKGVycm9yLCAnZXJyb3InKTtcbiAgfVxuXG4gIF9vbkluaXQoKSB7XG4gICAgdGhpcy5tZXNzYWdlQmFubmVyLmRpc21pc3NCYW5uZXJzKCk7XG4gIH1cblxuICBfb25TdWNjZXNzKCkge1xuICAgIC8qXG4gICAgICBCeSBkZWZhdWx0LCB0aGUgQVRDIEZseW91dCBkb2Vzbid0IG5lZWQgYW55IGFkZGl0aW9uYWwgc3VjY2VzcyBjYWxsYmFja3NcblxuICAgICAgVGhlIGB0aGlzLmNhbGxiYWNrcy5vblN1Y2Nlc3NgIGlzIHVzZWQgdG8gYWxsb3cgb3RoZXIgdmlld3MgdG8gaW5pdGlhdGVcbiAgICAgIGJlaGF2aW91ciB3aGVuIGEgcHJvZHVjdCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgY2FydFxuICAgICAqL1xuICB9XG5cbiAgX29uQ2xvc2VBbGwoKSB7XG4gICAgLypcbiAgICAgIEJ5IGRlZmF1bHQsIHRoZSBBVEMgRmx5b3V0IGRvZXNuJ3QgbmVlZCBhbnkgYWRkaXRpb25hbCBjbG9zZSBjYWxsYmFja3NcblxuICAgICAgVGhlIGB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlYCBpcyB1c2VkIHRvIGFsbG93IG90aGVyIHZpZXdzIHRvIGluaXRpYXRlXG4gICAgICBiZWhhdmlvdXIgd2hlbiB0aGUgYXRjIGJhbm5lciBoYXMgYmVlbiBjbG9zZWRcbiAgICAgKi9cbiAgfVxuXG4gIF9iaW5kRXZlbnRzKCRmbHlPdXQpIHtcbiAgICB0aGlzLmV2ZW50cy5wdXNoKFtcbiAgICAgICRmbHlPdXQub24oJ2NsaWNrLmF0Yy1iYW5uZXInLCAnW2RhdGEtYXRjLWJhbm5lci1jbG9zZV0nLCBldmVudCA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2Nsb3NlRmx5T3V0KCRmbHlPdXQpO1xuICAgICAgfSksXG4gICAgICAkKCdbZGF0YS1hdGMtYnV0dG9uLWNoZWNrb3V0XScsICRmbHlPdXQpLm9uKFxuICAgICAgICAnY2xpY2suYXRjLWJhbm5lcicsXG4gICAgICAgIGV2ZW50ID0+IHdpbmRvdy5hcGkudGhlbWUudHJpZ2dlckV2ZW50KCdjYXJ0OmNoZWNrb3V0JywgeyBjYW5jZWw6ICgpID0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCkgfSksXG4gICAgICApLFxuICAgIF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgYW55IGV4aXN0aW5nIG9wZW4gRmx5T3V0cyB0byBjbG9zZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Nsb3NlRmx5T3V0cygkZXhjbHVkZUZseU91dCA9IG51bGwpIHtcbiAgICAkKHRoaXMuZmx5T3V0U2VsZWN0b3IpLmZpbHRlcignW2RhdGEtZmx5b3V0LWFjdGl2ZV0nKS5lYWNoKChpbmRleCwgZWwpID0+IHtcbiAgICAgIGNvbnN0ICRmbHlPdXQgPSAkKGVsKTtcblxuICAgICAgaWYgKCRleGNsdWRlRmx5T3V0ICYmICRmbHlPdXQuaXMoJGV4Y2x1ZGVGbHlPdXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2xvc2VGbHlPdXQoJGZseU91dCwgaW5kZXgpO1xuICAgIH0pO1xuXG4gICAgaWYgKCEkZXhjbHVkZUZseU91dCkge1xuICAgICAgdGhpcy5jYWxsYmFja3Mub25DbG9zZSgpO1xuICAgIH1cblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VFc2MpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2spO1xuICB9XG5cbiAgX29wZW5GbHlPdXQoJGZseU91dCwgJGF0Y0J1dHRvbikge1xuICAgIC8qXG4gICAgIElmIHVzZXIgaGFzIGluaXRpYXRlZCBhIG5ldyBBVEMgRmxvdyBiZWZvcmUgdGhlIGZpcnN0IGhhcyBmaW5pc2hlZCxcbiAgICAgdGhlIGZpcnN0IEZseU91dCBjb3VsZCBoYXZlIG9wZW5lZCBhZnRlciB0aGUgZmlyc3QgYXR0ZW1wdCB0byBjbG9zZSBvcGVuIGZseW91dHNcbiAgICAqL1xuICAgIHRoaXMuX2Nsb3NlRmx5T3V0cygkZmx5T3V0KTtcblxuICAgICRmbHlPdXRcbiAgICAgIC5hZGRDbGFzcygnYW5pbWF0aW5nIGFuaW1hdGluZy1pbicpXG4gICAgICAub25lKCd0cmVuZCcsICgpID0+IHtcbiAgICAgICAgJGZseU91dFxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYW5pbWF0aW5nIGFuaW1hdGluZy1pbicpXG4gICAgICAgICAgLmFkZENsYXNzKCd2aXNpYmxlJylcbiAgICAgICAgICAub2ZmKCd0cmVuZCcpO1xuXG4gICAgICAgICRmbHlPdXQuYXR0cignZGF0YS1mbHlvdXQtYWN0aXZlJywgdHJ1ZSk7XG5cbiAgICAgICAgdHJhcEZvY3VzKCRmbHlPdXRbMF0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VFc2MpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrKTtcblxuICAgICAgICB0aGlzLl9lbmFibGVCdXR0b24oJGF0Y0J1dHRvbik7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9jbG9zZUVzYyhlKSB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5fY2xvc2VGbHlPdXRzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIGFuIG9wZW4gRmx5T3V0XG4gICAqXG4gICAqIEBwYXJhbSAkZmx5T3V0XG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Nsb3NlRmx5T3V0KCRmbHlPdXQgPSBudWxsLCBpbmRleCA9IDApIHtcbiAgICBpZiAoISRmbHlPdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkZmx5T3V0XG4gICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGluZyBhbmltYXRpbmctb3V0JylcbiAgICAgIC5vbmUoJ3RyZW5kJywgKCkgPT4ge1xuICAgICAgICAkZmx5T3V0XG4gICAgICAgICAgLnJlbW92ZUNsYXNzKCdhbmltYXRpbmcgYW5pbWF0aW5nLW91dCB2aXNpYmxlJylcbiAgICAgICAgICAub25lKCd0cmVuZCcsICgpID0+IHtcbiAgICAgICAgICAgICRmbHlPdXQub2ZmKCd0cmVuZCcpO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlRmx5T3V0KCRmbHlPdXQsIGluZGV4KTtcblxuICAgICAgICAgICAgLy8gaWYgdGhlIHVzZXIgY2xpY2tlZCBvbnRvIHRoZSBzZWFyY2ggYm94LCBjbG9zZSB0aGUgYXRjIGZseW91dCBhbmQgbW92ZSBmb2N1c1xuICAgICAgICAgICAgLy8gdG8gdGhlIHNlYXJjaCBpbnN0ZWFkIG9mIGdvaW5nIHRvIHRoZSBwcmV2aW91cyBhY3RpdmUgZWxlbWVudC5cbiAgICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50Q2xpY2tFdmVudFRhcmdldCAmJiAnbGl2ZVNlYXJjaElucHV0JyBpbiB0aGlzLmRvY3VtZW50Q2xpY2tFdmVudFRhcmdldC5kYXRhc2V0KSB7XG4gICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRDbGlja0V2ZW50VGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVtb3ZlVHJhcEZvY3VzKCRmbHlPdXRbMF0pO1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25DbG9zZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBfcmVtb3ZlRmx5T3V0cygpIHtcbiAgICAkKHRoaXMuZmx5T3V0U2VsZWN0b3IpLmZpbHRlcignW2RhdGEtZmx5b3V0LWFjdGl2ZV0nKS5lYWNoKChpbmRleCwgZWwpID0+IHtcbiAgICAgIHRoaXMuX3JlbW92ZUZseU91dCgkKGVsKSwgaW5kZXgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgRmx5b3V0IGZyb20gdGhlIERPTSwgYW5kIGNsZWFuIHVwIGxpc3RlbmVyc1xuICAgKlxuICAgKiBAcGFyYW0gJGZseU91dFxuICAgKiBAcGFyYW0gaW5kZXhcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVGbHlPdXQoJGZseU91dCwgaW5kZXgpIHtcbiAgICBpZiAodGhpcy5ldmVudHNbaW5kZXhdKSB7XG4gICAgICB0aGlzLmV2ZW50c1tpbmRleF0uZm9yRWFjaCgkZWwgPT4gJGVsLm9mZignLmF0Yy1iYW5uZXInKSk7XG4gICAgICB0aGlzLmV2ZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNhcnRUb3RhbFZhbHVlKSB7XG4gICAgICB0aGlzLmNhcnRUb3RhbFZhbHVlLnVubG9hZCgpO1xuICAgICAgdGhpcy5jYXJ0VG90YWxWYWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCRmbHlPdXQpIHtcbiAgICAgICRmbHlPdXQucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgX2Rpc2FibGVCdXR0b24oJGF0Y0J1dHRvbikge1xuICAgICRhdGNCdXR0b25cbiAgICAgIC5hZGRDbGFzcygncHJvY2Vzc2luZycpXG4gICAgICAucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oJGF0Y0J1dHRvbikge1xuICAgICRhdGNCdXR0b25cbiAgICAgIC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKVxuICAgICAgLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7XG4gIH1cblxuICBfaGFuZGxlRG9jdW1lbnRDbGljayhldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCAkcGFyZW50ID0gJCh0YXJnZXQpLnBhcmVudHMoJ1tkYXRhLWF0Yy1iYW5uZXJdJyk7XG5cbiAgICBpZiAoJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRvY3VtZW50Q2xpY2tFdmVudFRhcmdldCA9IHRhcmdldDtcbiAgICB0aGlzLl9jbG9zZUZseU91dHMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWRkVG9DYXJ0Rmx5b3V0KCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/AddToCartFlyout.js\n");

/***/ }),

/***/ "./source/scripts/components/CartItem.js":
/*!***********************************************!*\
  !*** ./source/scripts/components/CartItem.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CartItem; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar CartItem = /*#__PURE__*/function () {\n  function CartItem(el, data, settings) {\n    var _this = this;\n\n    _classCallCheck(this, CartItem);\n\n    this.el = el;\n    this.data = data;\n    this.settings = settings;\n    this._id = el.getAttribute('data-cartitem-id');\n    this.value = window.api.theme.useValue({\n      name: \"line-item:\".concat(this._id, \":price\"),\n      handler: function handler(_ref) {\n        var price = _ref.price;\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(_this.el).each(function (index, cartItem) {\n          var cartItemTotal = cartItem.querySelector('[data-cartitem-total]');\n          cartItemTotal.innerHTML = Shopify.formatMoney(price, _this.settings.money_format);\n        });\n      },\n      initialValue: {\n        price: this.data.line_price,\n        compare_at_price: this.data.original_line_price\n      }\n    });\n  }\n\n  _createClass(CartItem, [{\n    key: \"unload\",\n    value: function unload() {\n      this.value.unload();\n    }\n  }]);\n\n  return CartItem;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL0NhcnRJdGVtLmpzP2Y5ZTUiXSwibmFtZXMiOlsiQ2FydEl0ZW0iLCJlbCIsImRhdGEiLCJzZXR0aW5ncyIsIl9pZCIsImdldEF0dHJpYnV0ZSIsInZhbHVlIiwid2luZG93IiwiYXBpIiwidGhlbWUiLCJ1c2VWYWx1ZSIsIm5hbWUiLCJoYW5kbGVyIiwicHJpY2UiLCIkIiwiZWFjaCIsImluZGV4IiwiY2FydEl0ZW0iLCJjYXJ0SXRlbVRvdGFsIiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsIlNob3BpZnkiLCJmb3JtYXRNb25leSIsIm1vbmV5X2Zvcm1hdCIsImluaXRpYWxWYWx1ZSIsImxpbmVfcHJpY2UiLCJjb21wYXJlX2F0X3ByaWNlIiwib3JpZ2luYWxfbGluZV9wcmljZSIsInVubG9hZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOztJQUVxQkEsUTtBQUNuQixvQkFBWUMsRUFBWixFQUFnQkMsSUFBaEIsRUFBc0JDLFFBQXRCLEVBQWdDO0FBQUE7O0FBQUE7O0FBQzlCLFNBQUtGLEVBQUwsR0FBVUEsRUFBVjtBQUNBLFNBQUtDLElBQUwsR0FBWUEsSUFBWjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0MsR0FBTCxHQUFXSCxFQUFFLENBQUNJLFlBQUgsQ0FBZ0Isa0JBQWhCLENBQVg7QUFFQSxTQUFLQyxLQUFMLEdBQWFDLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXQyxLQUFYLENBQWlCQyxRQUFqQixDQUEwQjtBQUNyQ0MsVUFBSSxzQkFBZSxLQUFLUCxHQUFwQixXQURpQztBQUVyQ1EsYUFBTyxFQUFFLHVCQUFlO0FBQUEsWUFBWkMsS0FBWSxRQUFaQSxLQUFZO0FBQ3RCQyxxREFBQyxDQUFDLEtBQUksQ0FBQ2IsRUFBTixDQUFELENBQVdjLElBQVgsQ0FBZ0IsVUFBQ0MsS0FBRCxFQUFRQyxRQUFSLEVBQXFCO0FBQ25DLGNBQU1DLGFBQWEsR0FBR0QsUUFBUSxDQUFDRSxhQUFULENBQXVCLHVCQUF2QixDQUF0QjtBQUVBRCx1QkFBYSxDQUFDRSxTQUFkLEdBQTBCQyxPQUFPLENBQUNDLFdBQVIsQ0FBb0JULEtBQXBCLEVBQTJCLEtBQUksQ0FBQ1YsUUFBTCxDQUFjb0IsWUFBekMsQ0FBMUI7QUFDRCxTQUpEO0FBS0QsT0FSb0M7QUFTckNDLGtCQUFZLEVBQUU7QUFBRVgsYUFBSyxFQUFFLEtBQUtYLElBQUwsQ0FBVXVCLFVBQW5CO0FBQStCQyx3QkFBZ0IsRUFBRSxLQUFLeEIsSUFBTCxDQUFVeUI7QUFBM0Q7QUFUdUIsS0FBMUIsQ0FBYjtBQVdEOzs7OzZCQUVRO0FBQ1AsV0FBS3JCLEtBQUwsQ0FBV3NCLE1BQVg7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvQ2FydEl0ZW0uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJ0SXRlbSB7XG4gIGNvbnN0cnVjdG9yKGVsLCBkYXRhLCBzZXR0aW5ncykge1xuICAgIHRoaXMuZWwgPSBlbDtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9pZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXJ0aXRlbS1pZCcpO1xuXG4gICAgdGhpcy52YWx1ZSA9IHdpbmRvdy5hcGkudGhlbWUudXNlVmFsdWUoe1xuICAgICAgbmFtZTogYGxpbmUtaXRlbToke3RoaXMuX2lkfTpwcmljZWAsXG4gICAgICBoYW5kbGVyOiAoeyBwcmljZSB9KSA9PiB7XG4gICAgICAgICQodGhpcy5lbCkuZWFjaCgoaW5kZXgsIGNhcnRJdGVtKSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FydEl0ZW1Ub3RhbCA9IGNhcnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNhcnRpdGVtLXRvdGFsXScpO1xuXG4gICAgICAgICAgY2FydEl0ZW1Ub3RhbC5pbm5lckhUTUwgPSBTaG9waWZ5LmZvcm1hdE1vbmV5KHByaWNlLCB0aGlzLnNldHRpbmdzLm1vbmV5X2Zvcm1hdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGluaXRpYWxWYWx1ZTogeyBwcmljZTogdGhpcy5kYXRhLmxpbmVfcHJpY2UsIGNvbXBhcmVfYXRfcHJpY2U6IHRoaXMuZGF0YS5vcmlnaW5hbF9saW5lX3ByaWNlIH0sXG4gICAgfSk7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy52YWx1ZS51bmxvYWQoKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/CartItem.js\n");

/***/ }),

/***/ "./source/scripts/components/GridItemSwatches.js":
/*!*******************************************************!*\
  !*** ./source/scripts/components/GridItemSwatches.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GridItemSwatches; });\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var shopify_asyncview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shopify-asyncview */ \"./node_modules/shopify-asyncview/dist/index.es.js\");\n/* harmony import */ var _pixelunion_events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixelunion/events */ \"./node_modules/@pixelunion/events/dist/EventHandler.js\");\n/* harmony import */ var _pixelunion_events__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_events__WEBPACK_IMPORTED_MODULE_3__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar swatchGap = null;\n\nvar GridItemSwatches = /*#__PURE__*/function () {\n  function GridItemSwatches(options) {\n    var _this = this;\n\n    _classCallCheck(this, GridItemSwatches);\n\n    this.el = options.el;\n    this.productQuickshop = options.productQuickshop;\n    this.product = options.product;\n    this.expanded = false;\n    this.swatchImages = {};\n    this.swatchVariantIds = {};\n    this.selectedImage = null;\n    this.state = {};\n    this.events = new _pixelunion_events__WEBPACK_IMPORTED_MODULE_3___default.a();\n    this.data = JSON.parse(this.el.querySelector('[data-swatch-data]').innerHTML);\n    this.swatchesContainer = this.el.querySelector('[data-swatches-container]');\n    this.cardLinks = this.el.querySelectorAll('[data-product-page-link]');\n    this.cardLinkHref = this.cardLinks[0].getAttribute('href');\n    this.activeControlTime = 0;\n    this.activeControl = this.swatchesContainer.querySelector('[checked]');\n    this.isPreselected = !!this.activeControl;\n    this.swatches = this.swatchesContainer.querySelectorAll('[data-swatch]');\n    this.swatchCount = this.swatches.length;\n    this.swatchWidths = Array.prototype.map.call(this.swatches, function (swatch) {\n      return swatch.getBoundingClientRect().width;\n    });\n\n    if (this.data.swatchesProductCardHover === 'always') {\n      this.swatchCountButton = this.el.querySelector('[data-swatch-count-button]');\n      this.swatchCount = this.swatchCountButton.querySelector('[data-swatch-count]');\n      this.resize();\n      this.el.querySelector('[data-swatches]').classList.add('processed');\n    }\n\n    this.originalImages = {\n      primary: this.el.querySelector('.productitem--image-primary'),\n      alternate: this.el.querySelector('.productitem--image-alternate')\n    };\n    this.disableUnavailable(); // +/- button expansion events\n\n    this.events.register(window, 'resize', just_debounce__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n      return _this.resize();\n    }, 50));\n    this.events.register(this.swatchCountButton, 'click', function () {\n      return _this._toggleExpanded();\n    }); // Image injection events\n\n    this.injectImagesMouseoverEvent = this.events.register(this.el, 'mouseover', function () {\n      return _this._injectImages();\n    });\n    this.injectImagesFocusinEvent = this.events.register(this.el, 'focusin', function () {\n      return _this._injectImages();\n    }); // Image/swatch switching events\n\n    this.events.register(this.swatchesContainer, 'mouseover', function (e) {\n      return _this._handleMouseOver(e);\n    });\n    this.events.register(this.swatchesContainer, 'mouseleave', function (e) {\n      return _this._handleMouseLeave(e);\n    });\n    this.events.register(this.swatchesContainer, 'click', function (e) {\n      return _this._handleClick(e);\n    });\n    this.events.register(this.swatchesContainer, 'change', function (e) {\n      return _this._handleChange(e);\n    });\n    this.events.register(this.swatchesContainer, 'focusin', function (e) {\n      return _this._handleSwatchFocus(e);\n    });\n  }\n\n  _createClass(GridItemSwatches, [{\n    key: \"disableUnavailable\",\n    value: function disableUnavailable() {\n      var _this2 = this;\n\n      if (!this.product) {\n        return;\n      }\n\n      var availableSwatches = {};\n      this.product.variants.forEach(function (variant) {\n        if (variant.available) {\n          availableSwatches[variant[_this2.data.swatchOptionKey]] = true;\n        }\n      });\n      var swatchInputs = this.swatchesContainer.querySelectorAll('input[name=\"swatch\"]');\n      swatchInputs.forEach(function (swatch) {\n        if (!(swatch.value in availableSwatches)) {\n          swatch.disabled = true;\n        }\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this3 = this;\n\n      if (this.data.swatchesProductCardHover === 'on-hover') return;\n      if (this.expanded) this._toggleExpanded();\n      var availableWidth = this.swatchesContainer.getBoundingClientRect().width - parseInt(window.getComputedStyle(this.swatchesContainer).paddingRight, 10);\n      var newShowSwatchCount = this.swatches.length;\n      var cumulativeWidth = 0;\n\n      for (var i = 0; i < this.swatches.length; i++) {\n        if (cumulativeWidth + this.getSwatchGap() + this.swatchWidths[i] < availableWidth) {\n          cumulativeWidth += swatchGap + this.swatchWidths[i];\n        } else {\n          newShowSwatchCount = i;\n          break;\n        }\n      }\n\n      if (newShowSwatchCount === this.showSwatchCount) return;\n      this.showSwatchCount = newShowSwatchCount;\n      this.swatches.forEach(function (swatch, index) {\n        if (index < _this3.showSwatchCount) {\n          swatch.classList.add('productitem--swatches-swatch-visible');\n          swatch.classList.remove('productitem--swatches-swatch-hidden');\n        } else {\n          swatch.classList.remove('productitem--swatches-swatch-visible');\n          swatch.classList.add('productitem--swatches-swatch-hidden');\n        }\n      });\n      this.swatchCountButton.style.left = \"\".concat(cumulativeWidth, \"px\");\n\n      if (this.swatches.length > this.showSwatchCount) {\n        this.swatchCountButton.style.display = 'flex';\n        this.swatchCount.innerText = \"+\".concat(this.swatches.length - this.showSwatchCount);\n      } else {\n        this.swatchCountButton.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"_injectImages\",\n    value: function _injectImages() {\n      var _this4 = this;\n\n      this.events.unregister(this.injectImagesFocusinEvent);\n      this.events.unregister(this.injectImagesMouseoverEvent);\n      shopify_asyncview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].load(this.cardLinkHref, {\n        view: '_swatch-data'\n      }, {\n        hash: this.data.hash\n      }).then(function (_ref) {\n        var data = _ref.data;\n        if (_this4.imagesInjected) return;\n        _this4.imagesInjected = true;\n        var tempContainer = document.createDocumentFragment();\n\n        if (data.featuredImage) {\n          var tempEl = document.createElement('div');\n          tempEl.innerHTML = data.featuredImage;\n          var img = tempEl.querySelector('img');\n          tempContainer.appendChild(img);\n          _this4.featuredImage = img;\n        }\n\n        data.swatches.forEach(function (_ref2) {\n          var swatchValue = _ref2.swatchValue,\n              imageString = _ref2.imageString,\n              variantId = _ref2.variantId;\n          _this4.swatchVariantIds[swatchValue] = variantId;\n\n          if (imageString) {\n            var _tempEl = document.createElement('div');\n\n            _tempEl.innerHTML = imageString;\n\n            var _img = _tempEl.querySelector('img');\n\n            tempContainer.appendChild(_img);\n            _this4.swatchImages[swatchValue] = _img;\n          }\n        });\n\n        var imagesContainer = _this4.el.querySelector('[data-product-item-image]');\n\n        var salesBadge = imagesContainer.querySelector('[data-badge-sales]');\n        imagesContainer.insertBefore(tempContainer, salesBadge);\n        rimg_shopify__WEBPACK_IMPORTED_MODULE_1__[\"default\"].watch(imagesContainer);\n\n        _this4._setState({\n          swatchName: _this4.activeControl ? _this4.activeControl.value : null,\n          primaryImage: _this4.originalImages.primary,\n          hideAlternateImage: !!_this4.activeControl\n        });\n      });\n    }\n  }, {\n    key: \"_setState\",\n    value: function _setState(_ref3) {\n      var swatchName = _ref3.swatchName,\n          primaryImage = _ref3.primaryImage,\n          hideAlternateImage = _ref3.hideAlternateImage;\n      var oldPrimaryImg = this.state.primaryImage;\n      var href = swatchName ? \"\".concat(this.cardLinkHref, \"?variant=\").concat(this.swatchVariantIds[swatchName]) : this.cardLinkHref;\n      this.cardLinks.forEach(function (link) {\n        return link.setAttribute('href', href);\n      });\n\n      if (this.productQuickshop) {\n        this.productQuickshop.setInitialVariant(this.swatchVariantIds[swatchName] || this.product.variants[0].id);\n      }\n\n      if (oldPrimaryImg) {\n        oldPrimaryImg.classList.remove('productitem--image-primary');\n        oldPrimaryImg.style.visibility = '';\n      }\n\n      if (primaryImage) {\n        primaryImage.classList.add('productitem--image-primary');\n        primaryImage.style.visibility = hideAlternateImage ? 'visible' : '';\n      }\n\n      if (this.originalImages.alternate) {\n        this.originalImages.alternate.style.visibility = hideAlternateImage ? 'hidden' : '';\n      }\n\n      this.state = {\n        swatchName: swatchName,\n        primaryImage: primaryImage,\n        hideAlternateImage: hideAlternateImage\n      };\n    }\n  }, {\n    key: \"_handleChange\",\n    value: function _handleChange(_ref4) {\n      var target = _ref4.target;\n      this.activeControlTime = Date.now();\n      this.activeControl = target;\n      var swatchName = target.value;\n      this.selectedImage = this.swatchImages[swatchName] || this.originalImages.primary;\n\n      this._setState({\n        swatchName: swatchName,\n        primaryImage: this.selectedImage,\n        hideAlternateImage: true\n      });\n    }\n  }, {\n    key: \"_handleClick\",\n    value: function _handleClick(_ref5) {\n      var target = _ref5.target;\n\n      if (target === this.activeControl && this.activeControlTime + 150 < Date.now()) {\n        // Allow deselection, if swatch has been active for more than the threshold\n        // because we can't guarantee the order of the click and change events\n        target.checked = false;\n        this.activeControl = null;\n        this.selectedImage = null; // Swaps in featured image if card was rendered on server with preselected swatch variant image.\n\n        if (this.isPreselected && this.featuredImage) {\n          this.originalImages.primary = this.featuredImage;\n          this.isPreselected = false;\n        }\n\n        this._setState({\n          swatchName: null,\n          primaryImage: this.state.primaryImage,\n          hideAlternateImage: true\n        });\n      }\n    }\n  }, {\n    key: \"_handleMouseOver\",\n    value: function _handleMouseOver(event) {\n      if (event.target.hasAttribute('data-swatch-tooltip')) {\n        this._setState({\n          swatchName: this.state.swatchName,\n          primaryImage: this.swatchImages[event.target.dataset.swatchTooltip] || this.originalImages.primary,\n          hideAlternateImage: true\n        });\n      }\n    }\n  }, {\n    key: \"_handleMouseLeave\",\n    value: function _handleMouseLeave(_ref6) {\n      var target = _ref6.target;\n\n      if (target.hasAttribute('data-swatches-container')) {\n        this._setState({\n          swatchName: this.state.swatchName,\n          primaryImage: this.selectedImage || this.originalImages.primary,\n          hideAlternateImage: !!this.selectedImage\n        });\n      }\n    }\n  }, {\n    key: \"_handleSwatchFocus\",\n    value: function _handleSwatchFocus(_ref7) {\n      var target = _ref7.target;\n\n      if (this.expanded === false && target.nextElementSibling.classList.contains('productitem--swatches-swatch-hidden')) {\n        this._toggleExpanded();\n      }\n    }\n  }, {\n    key: \"_toggleExpanded\",\n    value: function _toggleExpanded() {\n      var swatchesEl = this.el.querySelector('[data-swatches]');\n\n      if (this.expanded) {\n        this.expanded = false;\n        swatchesEl.classList.remove('productitem--swatches-expanded');\n        this.swatchCount.innerText = \"+\".concat(this.swatches.length - this.showSwatchCount);\n      } else {\n        this.expanded = true;\n        swatchesEl.classList.add('productitem--swatches-expanded');\n      }\n    } // Getters are used to avoid having to get these properties for every card on the page\n\n  }, {\n    key: \"getSwatchGap\",\n    value: function getSwatchGap() {\n      if (swatchGap === null) {\n        swatchGap = parseInt(window.getComputedStyle(this.swatches[0]).getPropertyValue('margin-right'), 10);\n      }\n\n      return swatchGap;\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.events.unregisterAll();\n    }\n  }]);\n\n  return GridItemSwatches;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL0dyaWRJdGVtU3dhdGNoZXMuanM/M2ZlNiJdLCJuYW1lcyI6WyJzd2F0Y2hHYXAiLCJHcmlkSXRlbVN3YXRjaGVzIiwib3B0aW9ucyIsImVsIiwicHJvZHVjdFF1aWNrc2hvcCIsInByb2R1Y3QiLCJleHBhbmRlZCIsInN3YXRjaEltYWdlcyIsInN3YXRjaFZhcmlhbnRJZHMiLCJzZWxlY3RlZEltYWdlIiwic3RhdGUiLCJldmVudHMiLCJFdmVudEhhbmRsZXIiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsInN3YXRjaGVzQ29udGFpbmVyIiwiY2FyZExpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImNhcmRMaW5rSHJlZiIsImdldEF0dHJpYnV0ZSIsImFjdGl2ZUNvbnRyb2xUaW1lIiwiYWN0aXZlQ29udHJvbCIsImlzUHJlc2VsZWN0ZWQiLCJzd2F0Y2hlcyIsInN3YXRjaENvdW50IiwibGVuZ3RoIiwic3dhdGNoV2lkdGhzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJtYXAiLCJjYWxsIiwic3dhdGNoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJzd2F0Y2hlc1Byb2R1Y3RDYXJkSG92ZXIiLCJzd2F0Y2hDb3VudEJ1dHRvbiIsInJlc2l6ZSIsImNsYXNzTGlzdCIsImFkZCIsIm9yaWdpbmFsSW1hZ2VzIiwicHJpbWFyeSIsImFsdGVybmF0ZSIsImRpc2FibGVVbmF2YWlsYWJsZSIsInJlZ2lzdGVyIiwid2luZG93IiwiZGVib3VuY2UiLCJfdG9nZ2xlRXhwYW5kZWQiLCJpbmplY3RJbWFnZXNNb3VzZW92ZXJFdmVudCIsIl9pbmplY3RJbWFnZXMiLCJpbmplY3RJbWFnZXNGb2N1c2luRXZlbnQiLCJlIiwiX2hhbmRsZU1vdXNlT3ZlciIsIl9oYW5kbGVNb3VzZUxlYXZlIiwiX2hhbmRsZUNsaWNrIiwiX2hhbmRsZUNoYW5nZSIsIl9oYW5kbGVTd2F0Y2hGb2N1cyIsImF2YWlsYWJsZVN3YXRjaGVzIiwidmFyaWFudHMiLCJmb3JFYWNoIiwidmFyaWFudCIsImF2YWlsYWJsZSIsInN3YXRjaE9wdGlvbktleSIsInN3YXRjaElucHV0cyIsInZhbHVlIiwiZGlzYWJsZWQiLCJhdmFpbGFibGVXaWR0aCIsInBhcnNlSW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhZGRpbmdSaWdodCIsIm5ld1Nob3dTd2F0Y2hDb3VudCIsImN1bXVsYXRpdmVXaWR0aCIsImkiLCJnZXRTd2F0Y2hHYXAiLCJzaG93U3dhdGNoQ291bnQiLCJpbmRleCIsInJlbW92ZSIsInN0eWxlIiwibGVmdCIsImRpc3BsYXkiLCJpbm5lclRleHQiLCJ1bnJlZ2lzdGVyIiwiQXN5bmNWaWV3IiwibG9hZCIsInZpZXciLCJoYXNoIiwidGhlbiIsImltYWdlc0luamVjdGVkIiwidGVtcENvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImZlYXR1cmVkSW1hZ2UiLCJ0ZW1wRWwiLCJjcmVhdGVFbGVtZW50IiwiaW1nIiwiYXBwZW5kQ2hpbGQiLCJzd2F0Y2hWYWx1ZSIsImltYWdlU3RyaW5nIiwidmFyaWFudElkIiwiaW1hZ2VzQ29udGFpbmVyIiwic2FsZXNCYWRnZSIsImluc2VydEJlZm9yZSIsInJpbWciLCJ3YXRjaCIsIl9zZXRTdGF0ZSIsInN3YXRjaE5hbWUiLCJwcmltYXJ5SW1hZ2UiLCJoaWRlQWx0ZXJuYXRlSW1hZ2UiLCJvbGRQcmltYXJ5SW1nIiwiaHJlZiIsImxpbmsiLCJzZXRBdHRyaWJ1dGUiLCJzZXRJbml0aWFsVmFyaWFudCIsImlkIiwidmlzaWJpbGl0eSIsInRhcmdldCIsIkRhdGUiLCJub3ciLCJjaGVja2VkIiwiZXZlbnQiLCJoYXNBdHRyaWJ1dGUiLCJkYXRhc2V0Iiwic3dhdGNoVG9vbHRpcCIsIm5leHRFbGVtZW50U2libGluZyIsImNvbnRhaW5zIiwic3dhdGNoZXNFbCIsImdldFByb3BlcnR5VmFs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OEUsVUFBVSxHQUFHLEtBQUs1SCxFQUFMLENBQVFhLGFBQVIsQ0FBc0IsaUJBQXRCLENBQW5COztBQUVBLFVBQUksS0FBS1YsUUFBVCxFQUFtQjtBQUNqQixhQUFLQSxRQUFMLEdBQWdCLEtBQWhCO0FBQ0F5SCxrQkFBVSxDQUFDdkYsU0FBWCxDQUFxQnNDLE1BQXJCLENBQTRCLGdDQUE1QjtBQUNBLGFBQUtuRCxXQUFMLENBQWlCdUQsU0FBakIsY0FBaUMsS0FBS3hELFFBQUwsQ0FBY0UsTUFBZCxHQUF1QixLQUFLZ0QsZUFBN0Q7QUFDRCxPQUpELE1BSU87QUFDTCxhQUFLdEUsUUFBTCxHQUFnQixJQUFoQjtBQUNBeUgsa0JBQVUsQ0FBQ3ZGLFNBQVgsQ0FBcUJDLEdBQXJCLENBQXlCLGdDQUF6QjtBQUNEO0FBQ0YsSyxDQUVEOzs7O21DQUNlO0FBQ2IsVUFBSXpDLFNBQVMsS0FBSyxJQUFsQixFQUF3QjtBQUN0QkEsaUJBQVMsR0FBR3FFLFFBQVEsQ0FBQ3RCLE1BQU0sQ0FBQ3VCLGdCQUFQLENBQXdCLEtBQUs1QyxRQUFMLENBQWMsQ0FBZCxDQUF4QixFQUEwQ3NHLGdCQUExQyxDQUEyRCxjQUEzRCxDQUFELEVBQTZFLEVBQTdFLENBQXBCO0FBQ0Q7O0FBQ0QsYUFBT2hJLFNBQVA7QUFDRDs7OzZCQUVRO0FBQ1AsV0FBS1csTUFBTCxDQUFZc0gsYUFBWjtBQUNEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvY29tcG9uZW50cy9HcmlkSXRlbVN3YXRjaGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlYm91bmNlIGZyb20gJ2p1c3QtZGVib3VuY2UnO1xuaW1wb3J0IHJpbWcgZnJvbSAncmltZy1zaG9waWZ5JztcbmltcG9ydCBBc3luY1ZpZXcgZnJvbSAnc2hvcGlmeS1hc3luY3ZpZXcnO1xuaW1wb3J0IEV2ZW50SGFuZGxlciBmcm9tICdAcGl4ZWx1bmlvbi9ldmVudHMnO1xuXG5sZXQgc3dhdGNoR2FwID0gbnVsbDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZEl0ZW1Td2F0Y2hlcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmVsID0gb3B0aW9ucy5lbDtcbiAgICB0aGlzLnByb2R1Y3RRdWlja3Nob3AgPSBvcHRpb25zLnByb2R1Y3RRdWlja3Nob3A7XG4gICAgdGhpcy5wcm9kdWN0ID0gb3B0aW9ucy5wcm9kdWN0O1xuXG4gICAgdGhpcy5leHBhbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3dhdGNoSW1hZ2VzID0ge307XG4gICAgdGhpcy5zd2F0Y2hWYXJpYW50SWRzID0ge307XG4gICAgdGhpcy5zZWxlY3RlZEltYWdlID0gbnVsbDtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVyKCk7XG5cbiAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtc3dhdGNoLWRhdGFdJykuaW5uZXJIVE1MKTtcblxuICAgIHRoaXMuc3dhdGNoZXNDb250YWluZXIgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXN3YXRjaGVzLWNvbnRhaW5lcl0nKTtcbiAgICB0aGlzLmNhcmRMaW5rcyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC1wYWdlLWxpbmtdJyk7XG4gICAgdGhpcy5jYXJkTGlua0hyZWYgPSB0aGlzLmNhcmRMaW5rc1swXS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICB0aGlzLmFjdGl2ZUNvbnRyb2xUaW1lID0gMDtcbiAgICB0aGlzLmFjdGl2ZUNvbnRyb2wgPSB0aGlzLnN3YXRjaGVzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tjaGVja2VkXScpO1xuICAgIHRoaXMuaXNQcmVzZWxlY3RlZCA9ICEhdGhpcy5hY3RpdmVDb250cm9sO1xuXG4gICAgdGhpcy5zd2F0Y2hlcyA9IHRoaXMuc3dhdGNoZXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc3dhdGNoXScpO1xuICAgIHRoaXMuc3dhdGNoQ291bnQgPSB0aGlzLnN3YXRjaGVzLmxlbmd0aDtcbiAgICB0aGlzLnN3YXRjaFdpZHRocyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbCh0aGlzLnN3YXRjaGVzLCBzd2F0Y2ggPT4gc3dhdGNoLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcblxuICAgIGlmICh0aGlzLmRhdGEuc3dhdGNoZXNQcm9kdWN0Q2FyZEhvdmVyID09PSAnYWx3YXlzJykge1xuICAgICAgdGhpcy5zd2F0Y2hDb3VudEJ1dHRvbiA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtc3dhdGNoLWNvdW50LWJ1dHRvbl0nKTtcbiAgICAgIHRoaXMuc3dhdGNoQ291bnQgPSB0aGlzLnN3YXRjaENvdW50QnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXN3YXRjaC1jb3VudF0nKTtcblxuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtc3dhdGNoZXNdJykuY2xhc3NMaXN0LmFkZCgncHJvY2Vzc2VkJyk7XG4gICAgfVxuXG4gICAgdGhpcy5vcmlnaW5hbEltYWdlcyA9IHtcbiAgICAgIHByaW1hcnk6IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnByb2R1Y3RpdGVtLS1pbWFnZS1wcmltYXJ5JyksXG4gICAgICBhbHRlcm5hdGU6IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnByb2R1Y3RpdGVtLS1pbWFnZS1hbHRlcm5hdGUnKSxcbiAgICB9O1xuXG4gICAgdGhpcy5kaXNhYmxlVW5hdmFpbGFibGUoKTtcblxuICAgIC8vICsvLSBidXR0b24gZXhwYW5zaW9uIGV2ZW50c1xuICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHdpbmRvdywgJ3Jlc2l6ZScsIGRlYm91bmNlKCgpID0+IHRoaXMucmVzaXplKCksIDUwKSk7XG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy5zd2F0Y2hDb3VudEJ1dHRvbiwgJ2NsaWNrJywgKCkgPT4gdGhpcy5fdG9nZ2xlRXhwYW5kZWQoKSk7XG5cbiAgICAvLyBJbWFnZSBpbmplY3Rpb24gZXZlbnRzXG4gICAgdGhpcy5pbmplY3RJbWFnZXNNb3VzZW92ZXJFdmVudCA9IHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHRoaXMuZWwsICdtb3VzZW92ZXInLCAoKSA9PiB0aGlzLl9pbmplY3RJbWFnZXMoKSk7XG4gICAgdGhpcy5pbmplY3RJbWFnZXNGb2N1c2luRXZlbnQgPSB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLmVsLCAnZm9jdXNpbicsICgpID0+IHRoaXMuX2luamVjdEltYWdlcygpKTtcblxuICAgIC8vIEltYWdlL3N3YXRjaCBzd2l0Y2hpbmcgZXZlbnRzXG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy5zd2F0Y2hlc0NvbnRhaW5lciwgJ21vdXNlb3ZlcicsIGUgPT4gdGhpcy5faGFuZGxlTW91c2VPdmVyKGUpKTtcbiAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLnN3YXRjaGVzQ29udGFpbmVyLCAnbW91c2VsZWF2ZScsIGUgPT4gdGhpcy5faGFuZGxlTW91c2VMZWF2ZShlKSk7XG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy5zd2F0Y2hlc0NvbnRhaW5lciwgJ2NsaWNrJywgZSA9PiB0aGlzLl9oYW5kbGVDbGljayhlKSk7XG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy5zd2F0Y2hlc0NvbnRhaW5lciwgJ2NoYW5nZScsIGUgPT4gdGhpcy5faGFuZGxlQ2hhbmdlKGUpKTtcbiAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLnN3YXRjaGVzQ29udGFpbmVyLCAnZm9jdXNpbicsIGUgPT4gdGhpcy5faGFuZGxlU3dhdGNoRm9jdXMoZSkpO1xuICB9XG5cbiAgZGlzYWJsZVVuYXZhaWxhYmxlKCkge1xuICAgIGlmICghdGhpcy5wcm9kdWN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYXZhaWxhYmxlU3dhdGNoZXMgPSB7fTtcblxuICAgIHRoaXMucHJvZHVjdC52YXJpYW50cy5mb3JFYWNoKHZhcmlhbnQgPT4ge1xuICAgICAgaWYgKHZhcmlhbnQuYXZhaWxhYmxlKSB7XG4gICAgICAgIGF2YWlsYWJsZVN3YXRjaGVzW3ZhcmlhbnRbdGhpcy5kYXRhLnN3YXRjaE9wdGlvbktleV1dID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN3YXRjaElucHV0cyA9IHRoaXMuc3dhdGNoZXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cInN3YXRjaFwiXScpO1xuXG4gICAgc3dhdGNoSW5wdXRzLmZvckVhY2goc3dhdGNoID0+IHtcbiAgICAgIGlmICghKHN3YXRjaC52YWx1ZSBpbiBhdmFpbGFibGVTd2F0Y2hlcykpIHtcbiAgICAgICAgc3dhdGNoLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICBpZiAodGhpcy5kYXRhLnN3YXRjaGVzUHJvZHVjdENhcmRIb3ZlciA9PT0gJ29uLWhvdmVyJykgcmV0dXJuO1xuICAgIGlmICh0aGlzLmV4cGFuZGVkKSB0aGlzLl90b2dnbGVFeHBhbmRlZCgpO1xuXG4gICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSB0aGlzLnN3YXRjaGVzQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoXG4gICAgICAtIHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuc3dhdGNoZXNDb250YWluZXIpLnBhZGRpbmdSaWdodCwgMTApO1xuXG4gICAgbGV0IG5ld1Nob3dTd2F0Y2hDb3VudCA9IHRoaXMuc3dhdGNoZXMubGVuZ3RoO1xuICAgIGxldCBjdW11bGF0aXZlV2lkdGggPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN3YXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY3VtdWxhdGl2ZVdpZHRoICsgdGhpcy5nZXRTd2F0Y2hHYXAoKSArIHRoaXMuc3dhdGNoV2lkdGhzW2ldIDwgYXZhaWxhYmxlV2lkdGgpIHtcbiAgICAgICAgY3VtdWxhdGl2ZVdpZHRoICs9IHN3YXRjaEdhcCArIHRoaXMuc3dhdGNoV2lkdGhzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3U2hvd1N3YXRjaENvdW50ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld1Nob3dTd2F0Y2hDb3VudCA9PT0gdGhpcy5zaG93U3dhdGNoQ291bnQpIHJldHVybjtcblxuICAgIHRoaXMuc2hvd1N3YXRjaENvdW50ID0gbmV3U2hvd1N3YXRjaENvdW50O1xuXG4gICAgdGhpcy5zd2F0Y2hlcy5mb3JFYWNoKChzd2F0Y2gsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPCB0aGlzLnNob3dTd2F0Y2hDb3VudCkge1xuICAgICAgICBzd2F0Y2guY2xhc3NMaXN0LmFkZCgncHJvZHVjdGl0ZW0tLXN3YXRjaGVzLXN3YXRjaC12aXNpYmxlJyk7XG4gICAgICAgIHN3YXRjaC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9kdWN0aXRlbS0tc3dhdGNoZXMtc3dhdGNoLWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dhdGNoLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2R1Y3RpdGVtLS1zd2F0Y2hlcy1zd2F0Y2gtdmlzaWJsZScpO1xuICAgICAgICBzd2F0Y2guY2xhc3NMaXN0LmFkZCgncHJvZHVjdGl0ZW0tLXN3YXRjaGVzLXN3YXRjaC1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc3dhdGNoQ291bnRCdXR0b24uc3R5bGUubGVmdCA9IGAke2N1bXVsYXRpdmVXaWR0aH1weGA7XG5cbiAgICBpZiAodGhpcy5zd2F0Y2hlcy5sZW5ndGggPiB0aGlzLnNob3dTd2F0Y2hDb3VudCkge1xuICAgICAgdGhpcy5zd2F0Y2hDb3VudEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgdGhpcy5zd2F0Y2hDb3VudC5pbm5lclRleHQgPSBgKyR7dGhpcy5zd2F0Y2hlcy5sZW5ndGggLSB0aGlzLnNob3dTd2F0Y2hDb3VudH1gO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN3YXRjaENvdW50QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICB9XG5cbiAgX2luamVjdEltYWdlcygpIHtcbiAgICB0aGlzLmV2ZW50cy51bnJlZ2lzdGVyKHRoaXMuaW5qZWN0SW1hZ2VzRm9jdXNpbkV2ZW50KTtcbiAgICB0aGlzLmV2ZW50cy51bnJlZ2lzdGVyKHRoaXMuaW5qZWN0SW1hZ2VzTW91c2VvdmVyRXZlbnQpO1xuXG4gICAgQXN5bmNWaWV3LmxvYWQodGhpcy5jYXJkTGlua0hyZWYsIHsgdmlldzogJ19zd2F0Y2gtZGF0YScgfSwgeyBoYXNoOiB0aGlzLmRhdGEuaGFzaCB9KVxuICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmltYWdlc0luamVjdGVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuaW1hZ2VzSW5qZWN0ZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB0ZW1wQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgICAgIGlmIChkYXRhLmZlYXR1cmVkSW1hZ2UpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICB0ZW1wRWwuaW5uZXJIVE1MID0gZGF0YS5mZWF0dXJlZEltYWdlO1xuICAgICAgICAgIGNvbnN0IGltZyA9IHRlbXBFbC5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICAgICAgICB0ZW1wQ29udGFpbmVyLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgICAgdGhpcy5mZWF0dXJlZEltYWdlID0gaW1nO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5zd2F0Y2hlcy5mb3JFYWNoKCh7IHN3YXRjaFZhbHVlLCBpbWFnZVN0cmluZywgdmFyaWFudElkIH0pID0+IHtcbiAgICAgICAgICB0aGlzLnN3YXRjaFZhcmlhbnRJZHNbc3dhdGNoVmFsdWVdID0gdmFyaWFudElkO1xuICAgICAgICAgIGlmIChpbWFnZVN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgdGVtcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0ZW1wRWwuaW5uZXJIVE1MID0gaW1hZ2VTdHJpbmc7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSB0ZW1wRWwucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgICAgICAgICB0ZW1wQ29udGFpbmVyLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgICAgICB0aGlzLnN3YXRjaEltYWdlc1tzd2F0Y2hWYWx1ZV0gPSBpbWc7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW1hZ2VzQ29udGFpbmVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LWl0ZW0taW1hZ2VdJyk7XG4gICAgICAgIGNvbnN0IHNhbGVzQmFkZ2UgPSBpbWFnZXNDb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtYmFkZ2Utc2FsZXNdJyk7XG5cbiAgICAgICAgaW1hZ2VzQ29udGFpbmVyLmluc2VydEJlZm9yZSh0ZW1wQ29udGFpbmVyLCBzYWxlc0JhZGdlKTtcbiAgICAgICAgcmltZy53YXRjaChpbWFnZXNDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuX3NldFN0YXRlKHtcbiAgICAgICAgICBzd2F0Y2hOYW1lOiB0aGlzLmFjdGl2ZUNvbnRyb2wgPyB0aGlzLmFjdGl2ZUNvbnRyb2wudmFsdWUgOiBudWxsLFxuICAgICAgICAgIHByaW1hcnlJbWFnZTogdGhpcy5vcmlnaW5hbEltYWdlcy5wcmltYXJ5LFxuICAgICAgICAgIGhpZGVBbHRlcm5hdGVJbWFnZTogISF0aGlzLmFjdGl2ZUNvbnRyb2wsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBfc2V0U3RhdGUoeyBzd2F0Y2hOYW1lLCBwcmltYXJ5SW1hZ2UsIGhpZGVBbHRlcm5hdGVJbWFnZSB9KSB7XG4gICAgY29uc3Qgb2xkUHJpbWFyeUltZyA9IHRoaXMuc3RhdGUucHJpbWFyeUltYWdlO1xuXG4gICAgY29uc3QgaHJlZiA9IHN3YXRjaE5hbWUgPyBgJHt0aGlzLmNhcmRMaW5rSHJlZn0/dmFyaWFudD0ke3RoaXMuc3dhdGNoVmFyaWFudElkc1tzd2F0Y2hOYW1lXX1gIDogdGhpcy5jYXJkTGlua0hyZWY7XG4gICAgdGhpcy5jYXJkTGlua3MuZm9yRWFjaChsaW5rID0+IGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZikpO1xuXG4gICAgaWYgKHRoaXMucHJvZHVjdFF1aWNrc2hvcCkge1xuICAgICAgdGhpcy5wcm9kdWN0UXVpY2tzaG9wLnNldEluaXRpYWxWYXJpYW50KHRoaXMuc3dhdGNoVmFyaWFudElkc1tzd2F0Y2hOYW1lXSB8fCB0aGlzLnByb2R1Y3QudmFyaWFudHNbMF0uaWQpO1xuICAgIH1cblxuICAgIGlmIChvbGRQcmltYXJ5SW1nKSB7XG4gICAgICBvbGRQcmltYXJ5SW1nLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2R1Y3RpdGVtLS1pbWFnZS1wcmltYXJ5Jyk7XG4gICAgICBvbGRQcmltYXJ5SW1nLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcbiAgICB9XG5cbiAgICBpZiAocHJpbWFyeUltYWdlKSB7XG4gICAgICBwcmltYXJ5SW1hZ2UuY2xhc3NMaXN0LmFkZCgncHJvZHVjdGl0ZW0tLWltYWdlLXByaW1hcnknKTtcbiAgICAgIHByaW1hcnlJbWFnZS5zdHlsZS52aXNpYmlsaXR5ID0gaGlkZUFsdGVybmF0ZUltYWdlID8gJ3Zpc2libGUnIDogJyc7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3JpZ2luYWxJbWFnZXMuYWx0ZXJuYXRlKSB7XG4gICAgICB0aGlzLm9yaWdpbmFsSW1hZ2VzLmFsdGVybmF0ZS5zdHlsZS52aXNpYmlsaXR5ID0gaGlkZUFsdGVybmF0ZUltYWdlID8gJ2hpZGRlbicgOiAnJztcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0geyBzd2F0Y2hOYW1lLCBwcmltYXJ5SW1hZ2UsIGhpZGVBbHRlcm5hdGVJbWFnZSB9O1xuICB9XG5cbiAgX2hhbmRsZUNoYW5nZSh7IHRhcmdldCB9KSB7XG4gICAgdGhpcy5hY3RpdmVDb250cm9sVGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5hY3RpdmVDb250cm9sID0gdGFyZ2V0O1xuICAgIGNvbnN0IHN3YXRjaE5hbWUgPSB0YXJnZXQudmFsdWU7XG4gICAgdGhpcy5zZWxlY3RlZEltYWdlID0gdGhpcy5zd2F0Y2hJbWFnZXNbc3dhdGNoTmFtZV0gfHwgdGhpcy5vcmlnaW5hbEltYWdlcy5wcmltYXJ5O1xuICAgIHRoaXMuX3NldFN0YXRlKHtcbiAgICAgIHN3YXRjaE5hbWUsXG4gICAgICBwcmltYXJ5SW1hZ2U6IHRoaXMuc2VsZWN0ZWRJbWFnZSxcbiAgICAgIGhpZGVBbHRlcm5hdGVJbWFnZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVDbGljayh7IHRhcmdldCB9KSB7XG4gICAgaWYgKHRhcmdldCA9PT0gdGhpcy5hY3RpdmVDb250cm9sICYmIHRoaXMuYWN0aXZlQ29udHJvbFRpbWUgKyAxNTAgPCBEYXRlLm5vdygpKSB7XG4gICAgICAvLyBBbGxvdyBkZXNlbGVjdGlvbiwgaWYgc3dhdGNoIGhhcyBiZWVuIGFjdGl2ZSBmb3IgbW9yZSB0aGFuIHRoZSB0aHJlc2hvbGRcbiAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuJ3QgZ3VhcmFudGVlIHRoZSBvcmRlciBvZiB0aGUgY2xpY2sgYW5kIGNoYW5nZSBldmVudHNcbiAgICAgIHRhcmdldC5jaGVja2VkID0gZmFsc2U7XG4gICAgICB0aGlzLmFjdGl2ZUNvbnRyb2wgPSBudWxsO1xuICAgICAgdGhpcy5zZWxlY3RlZEltYWdlID0gbnVsbDtcblxuICAgICAgLy8gU3dhcHMgaW4gZmVhdHVyZWQgaW1hZ2UgaWYgY2FyZCB3YXMgcmVuZGVyZWQgb24gc2VydmVyIHdpdGggcHJlc2VsZWN0ZWQgc3dhdGNoIHZhcmlhbnQgaW1hZ2UuXG4gICAgICBpZiAodGhpcy5pc1ByZXNlbGVjdGVkICYmIHRoaXMuZmVhdHVyZWRJbWFnZSkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsSW1hZ2VzLnByaW1hcnkgPSB0aGlzLmZlYXR1cmVkSW1hZ2U7XG4gICAgICAgIHRoaXMuaXNQcmVzZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZXRTdGF0ZSh7XG4gICAgICAgIHN3YXRjaE5hbWU6IG51bGwsXG4gICAgICAgIHByaW1hcnlJbWFnZTogdGhpcy5zdGF0ZS5wcmltYXJ5SW1hZ2UsXG4gICAgICAgIGhpZGVBbHRlcm5hdGVJbWFnZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVNb3VzZU92ZXIoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1zd2F0Y2gtdG9vbHRpcCcpKSB7XG4gICAgICB0aGlzLl9zZXRTdGF0ZSh7XG4gICAgICAgIHN3YXRjaE5hbWU6IHRoaXMuc3RhdGUuc3dhdGNoTmFtZSxcbiAgICAgICAgcHJpbWFyeUltYWdlOiB0aGlzLnN3YXRjaEltYWdlc1tldmVudC50YXJnZXQuZGF0YXNldC5zd2F0Y2hUb29sdGlwXSB8fCB0aGlzLm9yaWdpbmFsSW1hZ2VzLnByaW1hcnksXG4gICAgICAgIGhpZGVBbHRlcm5hdGVJbWFnZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVNb3VzZUxlYXZlKHsgdGFyZ2V0IH0pIHtcbiAgICBpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1zd2F0Y2hlcy1jb250YWluZXInKSkge1xuICAgICAgdGhpcy5fc2V0U3RhdGUoe1xuICAgICAgICBzd2F0Y2hOYW1lOiB0aGlzLnN0YXRlLnN3YXRjaE5hbWUsXG4gICAgICAgIHByaW1hcnlJbWFnZTogdGhpcy5zZWxlY3RlZEltYWdlIHx8IHRoaXMub3JpZ2luYWxJbWFnZXMucHJpbWFyeSxcbiAgICAgICAgaGlkZUFsdGVybmF0ZUltYWdlOiAhIXRoaXMuc2VsZWN0ZWRJbWFnZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVTd2F0Y2hGb2N1cyh7IHRhcmdldCB9KSB7XG4gICAgaWYgKHRoaXMuZXhwYW5kZWQgPT09IGZhbHNlICYmIHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0aXRlbS0tc3dhdGNoZXMtc3dhdGNoLWhpZGRlbicpKSB7XG4gICAgICB0aGlzLl90b2dnbGVFeHBhbmRlZCgpO1xuICAgIH1cbiAgfVxuXG4gIF90b2dnbGVFeHBhbmRlZCgpIHtcbiAgICBjb25zdCBzd2F0Y2hlc0VsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zd2F0Y2hlc10nKTtcblxuICAgIGlmICh0aGlzLmV4cGFuZGVkKSB7XG4gICAgICB0aGlzLmV4cGFuZGVkID0gZmFsc2U7XG4gICAgICBzd2F0Y2hlc0VsLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2R1Y3RpdGVtLS1zd2F0Y2hlcy1leHBhbmRlZCcpO1xuICAgICAgdGhpcy5zd2F0Y2hDb3VudC5pbm5lclRleHQgPSBgKyR7dGhpcy5zd2F0Y2hlcy5sZW5ndGggLSB0aGlzLnNob3dTd2F0Y2hDb3VudH1gO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmV4cGFuZGVkID0gdHJ1ZTtcbiAgICAgIHN3YXRjaGVzRWwuY2xhc3NMaXN0LmFkZCgncHJvZHVjdGl0ZW0tLXN3YXRjaGVzLWV4cGFuZGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0dGVycyBhcmUgdXNlZCB0byBhdm9pZCBoYXZpbmcgdG8gZ2V0IHRoZXNlIHByb3BlcnRpZXMgZm9yIGV2ZXJ5IGNhcmQgb24gdGhlIHBhZ2VcbiAgZ2V0U3dhdGNoR2FwKCkge1xuICAgIGlmIChzd2F0Y2hHYXAgPT09IG51bGwpIHtcbiAgICAgIHN3YXRjaEdhcCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuc3dhdGNoZXNbMF0pLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1yaWdodCcpLCAxMCk7XG4gICAgfVxuICAgIHJldHVybiBzd2F0Y2hHYXA7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy5ldmVudHMudW5yZWdpc3RlckFsbCgpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/GridItemSwatches.js\n");

/***/ }),

/***/ "./source/scripts/components/MessageBanner.js":
/*!****************************************************!*\
  !*** ./source/scripts/components/MessageBanner.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MessageBanner; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar MessageBanner = /*#__PURE__*/function () {\n  function MessageBanner() {\n    var _this = this;\n\n    _classCallCheck(this, MessageBanner);\n\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n    this.$document = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document);\n    this.$body = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.body);\n    this.$bannerTemplate = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-templates] [data-message-banner]');\n    this.$banners = [];\n    this.header = document.querySelector('[data-site-header]');\n    this.events = [];\n    this.$document.on('touchstart.message-banner, click.message-banner', function (event) {\n      _this._handleDocumentClick(event.target);\n    });\n    this.$window.on('keydown.message-banner', function (event) {\n      return _this._closeEsc(event);\n    });\n  }\n\n  _createClass(MessageBanner, [{\n    key: \"unload\",\n    value: function unload() {\n      this.$document.off('touchstart.message-banner, click.message-banner');\n      this.$window.off('keydown.message-banner');\n    }\n  }, {\n    key: \"message\",\n    value: function message(_message, type) {\n      var $banner = this.$bannerTemplate.clone();\n      $banner.addClass(\"message--\".concat(type)).find('[data-message-banner-content]').html(_message);\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.header).append($banner);\n\n      this._bindEvents($banner);\n\n      this._show($banner);\n    }\n  }, {\n    key: \"dismissBanners\",\n    value: function dismissBanners() {\n      var _this2 = this;\n\n      var $visibleBanners = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-message-banner]:visible');\n      $visibleBanners.each(function (index, banner) {\n        _this2._hide(jquery__WEBPACK_IMPORTED_MODULE_0___default()(banner), index);\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents($banner) {\n      var _this3 = this;\n\n      this.events.push([$banner.on('click.message-banner', '[data-message-banner-close]', function (event) {\n        event.preventDefault();\n\n        _this3._hide($banner);\n      }), this.$window.on('keydown.message-banner', function (e) {\n        if (e.key === 'Escape') {\n          _this3._hide($banner);\n        }\n      })]);\n    }\n  }, {\n    key: \"_closeEsc\",\n    value: function _closeEsc(e) {\n      if (e.key === 'Escape') {\n        this.dismissBanners();\n      }\n    }\n  }, {\n    key: \"_show\",\n    value: function _show($banner) {\n      this.$banners.push($banner);\n      $banner.addClass('animating animating-in').one('trend', function () {\n        $banner.removeClass('animating animating-in').addClass('visible').off('trend');\n      });\n    }\n  }, {\n    key: \"_hide\",\n    value: function _hide($banner) {\n      var _this4 = this;\n\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      $banner.addClass('animating animating-out').one('trend', function () {\n        $banner.removeClass('animating animating-out visible').off('trend');\n\n        _this4._removeBanner($banner, index);\n      });\n    }\n  }, {\n    key: \"_removeBanner\",\n    value: function _removeBanner($banner, index) {\n      if (this.events[index]) {\n        this.events[index].forEach(function ($el) {\n          return $el.off('.message-banner');\n        });\n        this.events.splice(index, 1);\n      }\n\n      this.$banners.splice(index, 1);\n      $banner.remove();\n    }\n  }, {\n    key: \"_handleDocumentClick\",\n    value: function _handleDocumentClick(target) {\n      var $parent = jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).parents('[data-message-banner]');\n      if ($parent.length) return;\n      this.dismissBanners();\n    }\n  }]);\n\n  return MessageBanner;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL01lc3NhZ2VCYW5uZXIuanM/OGRkMyJdLCJuYW1lcyI6WyJNZXNzYWdlQmFubmVyIiwiJHdpbmRvdyIsIiQiLCJ3aW5kb3ciLCIkZG9jdW1lbnQiLCJkb2N1bWVudCIsIiRib2R5IiwiYm9keSIsIiRiYW5uZXJUZW1wbGF0ZSIsIiRiYW5uZXJzIiwiaGVhZGVyIiwicXVlcnlTZWxlY3RvciIsImV2ZW50cyIsIm9uIiwiZXZlbnQiLCJfaGFuZGxlRG9jdW1lbnRDbGljayIsInRhcmdldCIsIl9jbG9zZUVzYyIsIm9mZiIsIm1lc3NhZ2UiLCJ0eXBlIiwiJGJhbm5lciIsImNsb25lIiwiYWRkQ2xhc3MiLCJmaW5kIiwiaHRtbCIsImFwcGVuZCIsIl9iaW5kRXZlbnRzIiwiX3Nob3ciLCIkdmlzaWJsZUJhbm5lcnMiLCJlYWNoIiwiaW5kZXgiLCJiYW5uZXIiLCJfaGlkZSIsInB1c2giLCJwcmV2ZW50RGVmYXVsdCIsImUiLCJrZXkiLCJkaXNtaXNzQmFubmVycyIsIm9uZSIsInJlbW92ZUNsYXNzIiwiX3JlbW92ZUJhbm5lciIsImZvckVhY2giLCIkZWwiLCJzcGxpY2UiLCJyZW1vdmUiLCIkcGFyZW50IiwicGFyZW50cyIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOztJQUVxQkEsYTtBQUNuQiwyQkFBYztBQUFBOztBQUFBOztBQUNaLFNBQUtDLE9BQUwsR0FBZUMsNkNBQUMsQ0FBQ0MsTUFBRCxDQUFoQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUJGLDZDQUFDLENBQUNHLFFBQUQsQ0FBbEI7QUFDQSxTQUFLQyxLQUFMLEdBQWFKLDZDQUFDLENBQUNHLFFBQVEsQ0FBQ0UsSUFBVixDQUFkO0FBQ0EsU0FBS0MsZUFBTCxHQUF1Qk4sNkNBQUMsQ0FBQyx3Q0FBRCxDQUF4QjtBQUNBLFNBQUtPLFFBQUwsR0FBZ0IsRUFBaEI7QUFFQSxTQUFLQyxNQUFMLEdBQWNMLFFBQVEs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O0FBQzVCLFVBQUksS0FBS25CLE1BQUwsQ0FBWW1CLEtBQVosQ0FBSixFQUF3QjtBQUN0QixhQUFLbkIsTUFBTCxDQUFZbUIsS0FBWixFQUFtQlcsT0FBbkIsQ0FBMkIsVUFBQUMsR0FBRztBQUFBLGlCQUFJQSxHQUFHLENBQUN6QixHQUFKLENBQVEsaUJBQVIsQ0FBSjtBQUFBLFNBQTlCO0FBQ0EsYUFBS04sTUFBTCxDQUFZZ0MsTUFBWixDQUFtQmIsS0FBbkIsRUFBMEIsQ0FBMUI7QUFDRDs7QUFFRCxXQUFLdEIsUUFBTCxDQUFjbUMsTUFBZCxDQUFxQmIsS0FBckIsRUFBNEIsQ0FBNUI7QUFDQVYsYUFBTyxDQUFDd0IsTUFBUjtBQUNEOzs7eUNBRW9CN0IsTSxFQUFRO0FBQzNCLFVBQU04QixPQUFPLEdBQUc1Qyw2Q0FBQyxDQUFDYyxNQUFELENBQUQsQ0FBVStCLE9BQVYsQ0FBa0IsdUJBQWxCLENBQWhCO0FBQ0EsVUFBSUQsT0FBTyxDQUFDRSxNQUFaLEVBQW9CO0FBRXBCLFdBQUtWLGNBQUw7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvTWVzc2FnZUJhbm5lci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2VCYW5uZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLiR3aW5kb3cgPSAkKHdpbmRvdyk7XG4gICAgdGhpcy4kZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcbiAgICB0aGlzLiRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcbiAgICB0aGlzLiRiYW5uZXJUZW1wbGF0ZSA9ICQoJ1tkYXRhLXRlbXBsYXRlc10gW2RhdGEtbWVzc2FnZS1iYW5uZXJdJyk7XG4gICAgdGhpcy4kYmFubmVycyA9IFtdO1xuXG4gICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWhlYWRlcl0nKTtcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuXG4gICAgdGhpcy4kZG9jdW1lbnQub24oJ3RvdWNoc3RhcnQubWVzc2FnZS1iYW5uZXIsIGNsaWNrLm1lc3NhZ2UtYmFubmVyJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrKGV2ZW50LnRhcmdldCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiR3aW5kb3cub24oJ2tleWRvd24ubWVzc2FnZS1iYW5uZXInLCBldmVudCA9PiB0aGlzLl9jbG9zZUVzYyhldmVudCkpO1xuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuJGRvY3VtZW50Lm9mZigndG91Y2hzdGFydC5tZXNzYWdlLWJhbm5lciwgY2xpY2subWVzc2FnZS1iYW5uZXInKTtcbiAgICB0aGlzLiR3aW5kb3cub2ZmKCdrZXlkb3duLm1lc3NhZ2UtYmFubmVyJyk7XG4gIH1cblxuICBtZXNzYWdlKG1lc3NhZ2UsIHR5cGUpIHtcbiAgICBjb25zdCAkYmFubmVyID0gdGhpcy4kYmFubmVyVGVtcGxhdGUuY2xvbmUoKTtcblxuICAgICRiYW5uZXJcbiAgICAgIC5hZGRDbGFzcyhgbWVzc2FnZS0tJHt0eXBlfWApXG4gICAgICAuZmluZCgnW2RhdGEtbWVzc2FnZS1iYW5uZXItY29udGVudF0nKVxuICAgICAgLmh0bWwobWVzc2FnZSk7XG5cbiAgICAkKHRoaXMuaGVhZGVyKS5hcHBlbmQoJGJhbm5lcik7XG4gICAgdGhpcy5fYmluZEV2ZW50cygkYmFubmVyKTtcbiAgICB0aGlzLl9zaG93KCRiYW5uZXIpO1xuICB9XG5cbiAgZGlzbWlzc0Jhbm5lcnMoKSB7XG4gICAgY29uc3QgJHZpc2libGVCYW5uZXJzID0gJCgnW2RhdGEtbWVzc2FnZS1iYW5uZXJdOnZpc2libGUnKTtcblxuICAgICR2aXNpYmxlQmFubmVycy5lYWNoKChpbmRleCwgYmFubmVyKSA9PiB7XG4gICAgICB0aGlzLl9oaWRlKCQoYmFubmVyKSwgaW5kZXgpO1xuICAgIH0pO1xuICB9XG5cbiAgX2JpbmRFdmVudHMoJGJhbm5lcikge1xuICAgIHRoaXMuZXZlbnRzLnB1c2goW1xuICAgICAgJGJhbm5lci5vbignY2xpY2subWVzc2FnZS1iYW5uZXInLCAnW2RhdGEtbWVzc2FnZS1iYW5uZXItY2xvc2VdJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2hpZGUoJGJhbm5lcik7XG4gICAgICB9KSxcbiAgICAgIHRoaXMuJHdpbmRvdy5vbigna2V5ZG93bi5tZXNzYWdlLWJhbm5lcicsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICB0aGlzLl9oaWRlKCRiYW5uZXIpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICBdKTtcbiAgfVxuXG4gIF9jbG9zZUVzYyhlKSB7XG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5kaXNtaXNzQmFubmVycygpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93KCRiYW5uZXIpIHtcbiAgICB0aGlzLiRiYW5uZXJzLnB1c2goJGJhbm5lcik7XG5cbiAgICAkYmFubmVyXG4gICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGluZyBhbmltYXRpbmctaW4nKVxuICAgICAgLm9uZSgndHJlbmQnLCAoKSA9PiB7XG4gICAgICAgICRiYW5uZXJcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FuaW1hdGluZyBhbmltYXRpbmctaW4nKVxuICAgICAgICAgIC5hZGRDbGFzcygndmlzaWJsZScpXG4gICAgICAgICAgLm9mZigndHJlbmQnKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX2hpZGUoJGJhbm5lciwgaW5kZXggPSAwKSB7XG4gICAgJGJhbm5lclxuICAgICAgLmFkZENsYXNzKCdhbmltYXRpbmcgYW5pbWF0aW5nLW91dCcpXG4gICAgICAub25lKCd0cmVuZCcsICgpID0+IHtcbiAgICAgICAgJGJhbm5lclxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYW5pbWF0aW5nIGFuaW1hdGluZy1vdXQgdmlzaWJsZScpXG4gICAgICAgICAgLm9mZigndHJlbmQnKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlQmFubmVyKCRiYW5uZXIsIGluZGV4KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX3JlbW92ZUJhbm5lcigkYmFubmVyLCBpbmRleCkge1xuICAgIGlmICh0aGlzLmV2ZW50c1tpbmRleF0pIHtcbiAgICAgIHRoaXMuZXZlbnRzW2luZGV4XS5mb3JFYWNoKCRlbCA9PiAkZWwub2ZmKCcubWVzc2FnZS1iYW5uZXInKSk7XG4gICAgICB0aGlzLmV2ZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cblxuICAgIHRoaXMuJGJhbm5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAkYmFubmVyLnJlbW92ZSgpO1xuICB9XG5cbiAgX2hhbmRsZURvY3VtZW50Q2xpY2sodGFyZ2V0KSB7XG4gICAgY29uc3QgJHBhcmVudCA9ICQodGFyZ2V0KS5wYXJlbnRzKCdbZGF0YS1tZXNzYWdlLWJhbm5lcl0nKTtcbiAgICBpZiAoJHBhcmVudC5sZW5ndGgpIHJldHVybjtcblxuICAgIHRoaXMuZGlzbWlzc0Jhbm5lcnMoKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/MessageBanner.js\n");

/***/ }),

/***/ "./source/scripts/components/Modal.js":
/*!********************************************!*\
  !*** ./source/scripts/components/Modal.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Modal; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var vanilla_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vanilla-modal */ \"./node_modules/vanilla-modal/dist/index.js\");\n/* harmony import */ var vanilla_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(vanilla_modal__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/theme-a11y */ \"./node_modules/@shopify/theme-a11y/theme-a11y.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar Modal = /*#__PURE__*/function () {\n  function Modal() {\n    var callbacks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Modal);\n\n    this.$body = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.body);\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n    this.modal = null;\n    this.$modal = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-modal-container]');\n    this.$modalInner = this.$modal.find('[data-modal-inner]');\n    this.trigger = null; // Extend default vanilla-modal callbacks back to instantiator of Modal\n\n    this.defaultCallbacks = {\n      onOpen: function onOpen() {},\n      onClose: function onClose() {},\n      onBeforeOpen: function onBeforeOpen() {},\n      onBeforeClose: function onBeforeClose() {}\n    };\n    this.callbacks = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, this.defaultCallbacks, callbacks);\n    this._onOpen = this._onOpen.bind(this);\n    this._onBeforeOpen = this._onBeforeOpen.bind(this);\n    this._onClose = this._onClose.bind(this);\n    this._onBeforeClose = this._onBeforeClose.bind(this);\n    this._closeEsc = this._closeEsc.bind(this);\n    this.position = this.position.bind(this);\n    this.modalOptions = {\n      loadClass: '',\n      class: 'modal-loaded',\n      onOpen: this._onOpen,\n      onClose: this._onClose,\n      onBeforeOpen: this._onBeforeOpen,\n      onBeforeClose: this._onBeforeClose,\n      transitions: false\n    };\n  }\n\n  _createClass(Modal, [{\n    key: \"unload\",\n    value: function unload() {\n      if (!this.modal || !this.modal.isOpen) return;\n      this.modal.destroy();\n    }\n    /**\n     * Open a modal with contents from selector\n     *\n     * @param selector\n     * @param handle\n     */\n\n  }, {\n    key: \"open\",\n    value: function open(selector) {\n      var handle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'general';\n      var trigger = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      this._addModalClass(handle);\n\n      this.modal = new vanilla_modal__WEBPACK_IMPORTED_MODULE_2___default.a(this.modalOptions);\n      this.modal.open(selector);\n      this.trigger = trigger;\n      window.addEventListener('keydown', this.closeEsc);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.modal.close();\n      window.removeEventListener('keydown', this.closeEsc);\n    }\n  }, {\n    key: \"_closeEsc\",\n    value: function _closeEsc(e) {\n      if (e.key === 'Escape') {\n        this.close();\n      }\n    }\n  }, {\n    key: \"isOpen\",\n    value: function isOpen() {\n      return this.modal && this.modal.isOpen;\n    }\n    /**\n     * Update the vertical positioning of modal\n     */\n\n  }, {\n    key: \"position\",\n    value: function position() {\n      var windowHeight = window.innerHeight;\n      var modalHeight = this.$modalInner.outerHeight();\n      var modalPadding = parseInt(this.$modal.css('padding-top'), 10) * 2;\n      var offset = (windowHeight - modalPadding - modalHeight) / 2;\n      var marginTop = offset > 0 ? offset : 0;\n      this.$modalInner.css({\n        marginTop: marginTop\n      });\n    }\n    /**\n     * Add a class to the modal for individual styling\n     * @param handle\n     * @private\n     */\n\n  }, {\n    key: \"_addModalClass\",\n    value: function _addModalClass(handle) {\n      this.$modal.addClass(\"modal--\".concat(handle));\n    }\n    /**\n     * Remove modal class based on the handle\n     * @private\n     */\n\n  }, {\n    key: \"_removeModalClass\",\n    value: function _removeModalClass() {\n      var modalClass = this.$modal.attr('class').match(/modal--[\\w-]*\\b/);\n\n      if (!modalClass) {\n        return;\n      }\n\n      this.$modal.removeClass(modalClass[0]);\n    }\n  }, {\n    key: \"_onClose\",\n    value: function _onClose() {\n      this._removeModalClass();\n\n      this.$body.removeClass('scroll-lock').removeClass('modal-visible');\n      this.$window.off('resize.modal');\n      this.$modalInner.css({\n        marginTop: ''\n      });\n      this.callbacks.onClose();\n      Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_3__[\"removeTrapFocus\"])(this.$modal[0]);\n\n      if (this.activeElement) {\n        this.activeElement.focus();\n      }\n    }\n  }, {\n    key: \"_onOpen\",\n    value: function _onOpen() {\n      var _this = this;\n\n      this.activeElement = document.activeElement;\n      this.position();\n      this.$body.addClass('scroll-lock').addClass('modal-visible');\n      this.$window.on('resize.modal', just_debounce__WEBPACK_IMPORTED_MODULE_1___default()(function () {\n        return _this.position();\n      }, 16, true, true));\n      this.callbacks.onOpen();\n      Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_3__[\"trapFocus\"])(this.$modal[0]);\n    }\n  }, {\n    key: \"_onBeforeClose\",\n    value: function _onBeforeClose() {\n      this.callbacks.onBeforeClose();\n    }\n  }, {\n    key: \"_onBeforeOpen\",\n    value: function _onBeforeOpen() {\n      this.callbacks.onBeforeOpen();\n    }\n  }]);\n\n  return Modal;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL01vZGFsLmpzPzYwYWQiXSwibmFtZXMiOlsiTW9kYWwiLCJjYWxsYmFja3MiLCIkYm9keSIsIiQiLCJkb2N1bWVudCIsImJvZHkiLCIkd2luZG93Iiwid2luZG93IiwibW9kYWwiLCIkbW9kYWwiLCIkbW9kYWxJbm5lciIsImZpbmQiLCJ0cmlnZ2VyIiwiZGVmYXVsdENhbGxiYWNrcyIsIm9uT3BlbiIsIm9uQ2xvc2UiLCJvbkJlZm9yZU9wZW4iLCJvbkJlZm9yZUNsb3NlIiwiZXh0ZW5kIiwiX29uT3BlbiIsImJpbmQiLCJfb25CZWZvcmVPcGVuIiwiX29uQ2xvc2UiLCJfb25CZWZvcmVDbG9zZSIsIl9jbG9zZUVzYyIsInBvc2l0aW9uIiwibW9kYWxPcHRpb25zIiwibG9hZENsYXNzIiwiY2xhc3MiLCJ0cmFuc2l0aW9ucyIsImlzT3BlbiIsImRlc3Ryb3kiLCJzZWxlY3RvciIsImhhbmRsZSIsIl9hZGRNb2RhbENsYXNzIiwiVmFuaWxsYU1vZGFsIiwib3BlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZUVzYyIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJrZXkiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsIm1vZGFsSGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJtb2RhbFBhZGRpbmciLCJwYXJzZUludCIsImNzcyIsIm9mZnNldCIsIm1hcmdpblRvcCIsImFkZENsYXNzIiwibW9kYWxDbGFzcyIsImF0dHIiLCJtYXRjaCIsInJlbW92ZUNsYXNzIiwiX3JlbW92ZU1vZGFsQ2xhc3MiLCJvZmYiLCJyZW1vdmVUcmFwRm9jdXMiLCJhY3RpdmVFbGVtZW50IiwiZm9jdXMiLCJvbiIsImRlYm91bmNlIiwidHJhcEZvY3VzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7SUFLcUJBLEs7QUFDbkIsbUJBQTRCO0FBQUEs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O0FBRUEsV0FBS2xELFNBQUwsQ0FBZWMsT0FBZjtBQUVBNEMsaUZBQWUsQ0FBQyxLQUFLbEQsTUFBTCxDQUFZLENBQVosQ0FBRCxDQUFmOztBQUVBLFVBQUksS0FBS21ELGFBQVQsRUFBd0I7QUFDdEIsYUFBS0EsYUFBTCxDQUFtQkMsS0FBbkI7QUFDRDtBQUNGOzs7OEJBRVM7QUFBQTs7QUFDUixXQUFLRCxhQUFMLEdBQXFCeEQsUUFBUSxDQUFDd0QsYUFBOUI7QUFDQSxXQUFLbkMsUUFBTDtBQUNBLFdBQUt2QixLQUFMLENBQ0drRCxRQURILENBQ1ksYUFEWixFQUVHQSxRQUZILENBRVksZUFGWjtBQUdBLFdBQUs5QyxPQUFMLENBQWF3RCxFQUFiLENBQWdCLGNBQWhCLEVBQWdDQyxvREFBUSxDQUFDO0FBQUEsZUFBTSxLQUFJLENBQUN0QyxRQUFMLEVBQU47QUFBQSxPQUFELEVBQXdCLEVBQXhCLEVBQTRCLElBQTVCLEVBQWtDLElBQWxDLENBQXhDO0FBRUEsV0FBS3hCLFNBQUwsQ0FBZWEsTUFBZjtBQUVBa0QsMkVBQVMsQ0FBQyxLQUFLdkQsTUFBTCxDQUFZLENBQVosQ0FBRCxDQUFUO0FBQ0Q7OztxQ0FFZ0I7QUFDZixXQUFLUixTQUFMLENBQWVnQixhQUFmO0FBQ0Q7OztvQ0FFZTtBQUNkLFdBQUtoQixTQUFMLENBQWVlLFlBQWY7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvTW9kYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2p1c3QtZGVib3VuY2UnO1xuaW1wb3J0IFZhbmlsbGFNb2RhbCBmcm9tICd2YW5pbGxhLW1vZGFsJztcbmltcG9ydCB7XG4gIHRyYXBGb2N1cyxcbiAgcmVtb3ZlVHJhcEZvY3VzLFxufSBmcm9tICdAc2hvcGlmeS90aGVtZS1hMTF5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFja3MgPSB7fSkge1xuICAgIHRoaXMuJGJvZHkgPSAkKGRvY3VtZW50LmJvZHkpO1xuICAgIHRoaXMuJHdpbmRvdyA9ICQod2luZG93KTtcblxuICAgIHRoaXMubW9kYWwgPSBudWxsO1xuICAgIHRoaXMuJG1vZGFsID0gJCgnW2RhdGEtbW9kYWwtY29udGFpbmVyXScpO1xuICAgIHRoaXMuJG1vZGFsSW5uZXIgPSB0aGlzLiRtb2RhbC5maW5kKCdbZGF0YS1tb2RhbC1pbm5lcl0nKTtcblxuICAgIHRoaXMudHJpZ2dlciA9IG51bGw7XG5cbiAgICAvLyBFeHRlbmQgZGVmYXVsdCB2YW5pbGxhLW1vZGFsIGNhbGxiYWNrcyBiYWNrIHRvIGluc3RhbnRpYXRvciBvZiBNb2RhbFxuICAgIHRoaXMuZGVmYXVsdENhbGxiYWNrcyA9IHtcbiAgICAgIG9uT3BlbjogKCkgPT4ge30sXG4gICAgICBvbkNsb3NlOiAoKSA9PiB7fSxcbiAgICAgIG9uQmVmb3JlT3BlbjogKCkgPT4ge30sXG4gICAgICBvbkJlZm9yZUNsb3NlOiAoKSA9PiB7fSxcbiAgICB9O1xuXG4gICAgdGhpcy5jYWxsYmFja3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0Q2FsbGJhY2tzLCBjYWxsYmFja3MpO1xuXG4gICAgdGhpcy5fb25PcGVuID0gdGhpcy5fb25PcGVuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25CZWZvcmVPcGVuID0gdGhpcy5fb25CZWZvcmVPcGVuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25DbG9zZSA9IHRoaXMuX29uQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkJlZm9yZUNsb3NlID0gdGhpcy5fb25CZWZvcmVDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Nsb3NlRXNjID0gdGhpcy5fY2xvc2VFc2MuYmluZCh0aGlzKTtcblxuICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLm1vZGFsT3B0aW9ucyA9IHtcbiAgICAgIGxvYWRDbGFzczogJycsXG4gICAgICBjbGFzczogJ21vZGFsLWxvYWRlZCcsXG4gICAgICBvbk9wZW46IHRoaXMuX29uT3BlbixcbiAgICAgIG9uQ2xvc2U6IHRoaXMuX29uQ2xvc2UsXG4gICAgICBvbkJlZm9yZU9wZW46IHRoaXMuX29uQmVmb3JlT3BlbixcbiAgICAgIG9uQmVmb3JlQ2xvc2U6IHRoaXMuX29uQmVmb3JlQ2xvc2UsXG4gICAgICB0cmFuc2l0aW9uczogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICBpZiAoIXRoaXMubW9kYWwgfHwgIXRoaXMubW9kYWwuaXNPcGVuKSByZXR1cm47XG5cbiAgICB0aGlzLm1vZGFsLmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIGEgbW9kYWwgd2l0aCBjb250ZW50cyBmcm9tIHNlbGVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvclxuICAgKiBAcGFyYW0gaGFuZGxlXG4gICAqL1xuICBvcGVuKHNlbGVjdG9yLCBoYW5kbGUgPSAnZ2VuZXJhbCcsIHRyaWdnZXIgPSBudWxsKSB7XG4gICAgdGhpcy5fYWRkTW9kYWxDbGFzcyhoYW5kbGUpO1xuICAgIHRoaXMubW9kYWwgPSBuZXcgVmFuaWxsYU1vZGFsKHRoaXMubW9kYWxPcHRpb25zKTtcbiAgICB0aGlzLm1vZGFsLm9wZW4oc2VsZWN0b3IpO1xuICAgIHRoaXMudHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmNsb3NlRXNjKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMubW9kYWwuY2xvc2UoKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuY2xvc2VFc2MpO1xuICB9XG5cbiAgX2Nsb3NlRXNjKGUpIHtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgaXNPcGVuKCkge1xuICAgIHJldHVybiB0aGlzLm1vZGFsICYmIHRoaXMubW9kYWwuaXNPcGVuO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgdmVydGljYWwgcG9zaXRpb25pbmcgb2YgbW9kYWxcbiAgICovXG4gIHBvc2l0aW9uKCkge1xuICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgIGNvbnN0IG1vZGFsSGVpZ2h0ID0gdGhpcy4kbW9kYWxJbm5lci5vdXRlckhlaWdodCgpO1xuICAgIGNvbnN0IG1vZGFsUGFkZGluZyA9IHBhcnNlSW50KHRoaXMuJG1vZGFsLmNzcygncGFkZGluZy10b3AnKSwgMTApICogMjtcblxuICAgIGNvbnN0IG9mZnNldCA9ICh3aW5kb3dIZWlnaHQgLSBtb2RhbFBhZGRpbmcgLSBtb2RhbEhlaWdodCkgLyAyO1xuICAgIGNvbnN0IG1hcmdpblRvcCA9IG9mZnNldCA+IDAgPyBvZmZzZXQgOiAwO1xuICAgIHRoaXMuJG1vZGFsSW5uZXIuY3NzKHsgbWFyZ2luVG9wIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGNsYXNzIHRvIHRoZSBtb2RhbCBmb3IgaW5kaXZpZHVhbCBzdHlsaW5nXG4gICAqIEBwYXJhbSBoYW5kbGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hZGRNb2RhbENsYXNzKGhhbmRsZSkge1xuICAgIHRoaXMuJG1vZGFsLmFkZENsYXNzKGBtb2RhbC0tJHtoYW5kbGV9YCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIG1vZGFsIGNsYXNzIGJhc2VkIG9uIHRoZSBoYW5kbGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVNb2RhbENsYXNzKCkge1xuICAgIGNvbnN0IG1vZGFsQ2xhc3MgPSB0aGlzLiRtb2RhbC5hdHRyKCdjbGFzcycpLm1hdGNoKC9tb2RhbC0tW1xcdy1dKlxcYi8pO1xuICAgIGlmICghbW9kYWxDbGFzcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuJG1vZGFsLnJlbW92ZUNsYXNzKG1vZGFsQ2xhc3NbMF0pO1xuICB9XG5cbiAgX29uQ2xvc2UoKSB7XG4gICAgdGhpcy5fcmVtb3ZlTW9kYWxDbGFzcygpO1xuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5yZW1vdmVDbGFzcygnc2Nyb2xsLWxvY2snKVxuICAgICAgLnJlbW92ZUNsYXNzKCdtb2RhbC12aXNpYmxlJyk7XG5cbiAgICB0aGlzLiR3aW5kb3cub2ZmKCdyZXNpemUubW9kYWwnKTtcblxuICAgIHRoaXMuJG1vZGFsSW5uZXIuY3NzKHsgbWFyZ2luVG9wOiAnJyB9KTtcblxuICAgIHRoaXMuY2FsbGJhY2tzLm9uQ2xvc2UoKTtcblxuICAgIHJlbW92ZVRyYXBGb2N1cyh0aGlzLiRtb2RhbFswXSk7XG5cbiAgICBpZiAodGhpcy5hY3RpdmVFbGVtZW50KSB7XG4gICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBfb25PcGVuKCkge1xuICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgdGhpcy5wb3NpdGlvbigpO1xuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5hZGRDbGFzcygnc2Nyb2xsLWxvY2snKVxuICAgICAgLmFkZENsYXNzKCdtb2RhbC12aXNpYmxlJyk7XG4gICAgdGhpcy4kd2luZG93Lm9uKCdyZXNpemUubW9kYWwnLCBkZWJvdW5jZSgoKSA9PiB0aGlzLnBvc2l0aW9uKCksIDE2LCB0cnVlLCB0cnVlKSk7XG5cbiAgICB0aGlzLmNhbGxiYWNrcy5vbk9wZW4oKTtcblxuICAgIHRyYXBGb2N1cyh0aGlzLiRtb2RhbFswXSk7XG4gIH1cblxuICBfb25CZWZvcmVDbG9zZSgpIHtcbiAgICB0aGlzLmNhbGxiYWNrcy5vbkJlZm9yZUNsb3NlKCk7XG4gIH1cblxuICBfb25CZWZvcmVPcGVuKCkge1xuICAgIHRoaXMuY2FsbGJhY2tzLm9uQmVmb3JlT3BlbigpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/Modal.js\n");

/***/ }),

/***/ "./source/scripts/components/ProductClickToZoom.js":
/*!*********************************************************!*\
  !*** ./source/scripts/components/ProductClickToZoom.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductClicktoZoom; });\n/* harmony import */ var photoswipe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! photoswipe */ \"./node_modules/photoswipe/dist/photoswipe.js\");\n/* harmony import */ var photoswipe__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(photoswipe__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pixelunion_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixelunion/events */ \"./node_modules/@pixelunion/events/dist/EventHandler.js\");\n/* harmony import */ var _pixelunion_events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_events__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var _shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/theme-a11y */ \"./node_modules/@shopify/theme-a11y/theme-a11y.js\");\n/* harmony import */ var photoswipe_dist_photoswipe_ui_default__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! photoswipe/dist/photoswipe-ui-default */ \"./node_modules/photoswipe/dist/photoswipe-ui-default.js\");\n/* harmony import */ var photoswipe_dist_photoswipe_ui_default__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(photoswipe_dist_photoswipe_ui_default__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Layout */ \"./source/scripts/Layout.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar ProductClicktoZoom = /*#__PURE__*/function () {\n  function ProductClicktoZoom(_ref) {\n    var _this = this;\n\n    var settings = _ref.settings,\n        slides = _ref.slides,\n        originalThumbnails = _ref.originalThumbnails,\n        startIndex = _ref.startIndex,\n        selectGalleryIndex = _ref.selectGalleryIndex;\n\n    _classCallCheck(this, ProductClicktoZoom);\n\n    this.settings = settings;\n    this.photoswipeDialog = document.querySelector('[data-photoswipe]');\n    this.thumbContainer = this.photoswipeDialog.querySelector('[data-photoswipe-thumbs]');\n    this.thumbScroller = this.photoswipeDialog.querySelector('[data-photoswipe-thumb-scroller]');\n    this.thumbScrollerButtons = this.photoswipeDialog.querySelectorAll('[data-gallery-scroll-button]');\n    this.closeButton = this.photoswipeDialog.querySelector('.pswp__button--close');\n    this.selectedSlide = slides[startIndex];\n    this.thumbScroller.innerHTML = '';\n    this.thumbnails = [];\n    var selectedIndex = startIndex; // Clone the original thumbnails into the photoswipe dialog\n\n    originalThumbnails.forEach(function (thumb, thumbIndex) {\n      if (thumb.dataset.mediaType !== 'image') {\n        if (startIndex > thumbIndex) selectedIndex--;\n        return;\n      }\n\n      var newThumb = thumb.cloneNode(true);\n\n      _this.thumbScroller.appendChild(newThumb);\n\n      _this.thumbnails.push(newThumb);\n    });\n    rimg_shopify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].watch(this.thumbContainer);\n    this.selectedThumb = this.thumbContainer.querySelector('[data-gallery-selected=\"true\"]');\n    this.events = new _pixelunion_events__WEBPACK_IMPORTED_MODULE_1___default.a(); // Set up options for initializing PhotoSwipe\n\n    var photoswipeSlides = [];\n    slides.forEach(function (slide) {\n      if (['video', 'external_video', 'model'].indexOf(slide.dataset.mediaType) > -1) return;\n      photoswipeSlides.push({\n        src: slide.dataset.zoom,\n        msrc: slide.dataset.zoom,\n        h: slide.dataset.imageHeight,\n        w: slide.dataset.imageWidth\n      });\n    }); // Adjust the bottom bar height to allow for the mobile thumbnails\n\n    var bottomBarHeight = _Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isGreaterThanBreakpoint('L', true) ? 0 : 75;\n    var photoswipeOptions = {\n      index: selectedIndex,\n      barsSize: {\n        top: 0,\n        bottom: bottomBarHeight\n      },\n      fullscreenEl: false,\n      zoomEl: false,\n      shareEl: false,\n      counterEl: false,\n      arrowEl: false,\n      preloaderEl: false,\n      closeOnScroll: false,\n      showHideOpacity: true,\n      history: false,\n      loop: true,\n      clickToCloseNonZoomable: false,\n      timeToIdle: false,\n      timeToIdleOutside: false\n    };\n\n    if (this.settings.click_to_zoom === 'always' || _Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isGreaterThanBreakpoint('S', true) && this.settings.click_to_zoom === 'desktop' || _Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isLessThanBreakpoint('S') && this.settings.click_to_zoom === 'mobile') {\n      photoswipeOptions.getThumbBoundsFn = function () {\n        var pageYScroll = window.pageYOffset || document.documentElement.scrollTop;\n\n        var bounds = _this.selectedSlide.querySelector('[data-rimg]').getBoundingClientRect();\n\n        return {\n          x: bounds.left,\n          y: bounds.top + pageYScroll,\n          w: bounds.width\n        };\n      };\n    }\n\n    this.photoswipe = new photoswipe__WEBPACK_IMPORTED_MODULE_0___default.a(this.photoswipeDialog, photoswipe_dist_photoswipe_ui_default__WEBPACK_IMPORTED_MODULE_4___default.a, photoswipeSlides, photoswipeOptions);\n    this.events.register(this.closeButton, 'click', function () {\n      return _this.photoswipe.close();\n    }); // The following fixes an issue on iOS12 and below, where click events were not registering\n\n    this.events.register(this.closeButton, 'touchstart', function () {\n      return _this.photoswipe.close();\n    });\n    this.thumbnails.forEach(function (thumb, index) {\n      _this.events.register(thumb, 'click', function () {\n        _this.photoswipe.goTo(index);\n      });\n    });\n    this.events.register(this.thumbScroller, 'scroll', function () {\n      return _this._handleScrollButtonVisibility();\n    });\n    this.events.register(this.thumbScrollerButtons[0], 'click', function () {\n      return _this._onScrollButtonClick(true);\n    });\n    this.events.register(this.thumbScrollerButtons[1], 'click', function () {\n      return _this._onScrollButtonClick(false);\n    }); // Photoswipe documentation claims that the closeOnVerticalDrag option is always false if\n    // the mouse is used, which is what we want. Unfortunately that's not how it actually works,\n    // so we need to dynamically update the setting when a mouse is detected.\n\n    if (this.photoswipe.options.mouseUsed) {\n      this.photoswipe.options.closeOnVerticalDrag = false;\n    } else {\n      this.photoswipe.listen('mouseUsed', function () {\n        _this.photoswipe.options.closeOnVerticalDrag = false;\n      });\n    }\n\n    this.photoswipe.listen('afterChange', function () {\n      var index = _this.photoswipe.getCurrentIndex();\n\n      if (_this.selectedThumb) {\n        _this.selectedThumb.dataset.gallerySelected = false;\n      }\n\n      _this.selectedThumb = _this.thumbnails[index];\n      _this.selectedThumb.dataset.gallerySelected = true;\n\n      var slideIndex = _this.selectedThumb.getAttribute('data-gallery-index');\n\n      var slide = slides[slideIndex];\n\n      _this._adjustMobileThumbPosition();\n\n      _this._handleScrollButtonVisibility();\n\n      selectGalleryIndex(slideIndex);\n      _this.selectedSlide = slide;\n    });\n    this.photoswipe.listen('close', function () {\n      Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_3__[\"removeTrapFocus\"])(_this.photoswipeDialog);\n\n      _this.selectedSlide.focus();\n\n      _this.photoswipe = null;\n    });\n    this.photoswipe.listen('destroy', function () {\n      _this.events.unregisterAll();\n\n      _this.photoswipe = null;\n    }); // Detect if mouse is over the thumbnails, if it is allow scroll left/right\n\n    this.events.register(this.thumbContainer, 'mouseenter', function () {\n      if (_Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isLessThanBreakpoint('S')) {\n        _this.photoswipe.options.closeOnScroll = true;\n      }\n    });\n    this.events.register(this.thumbContainer, 'mouseleave', function () {\n      if (_Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isLessThanBreakpoint('S')) {\n        _this.photoswipe.options.closeOnScroll = false;\n      }\n    }); // If a user closes the dialog using the escape key, then we should focus\n    // on the expand button.\n\n    var closeEsc = function closeEsc(e) {\n      if (e.key === 'Escape') {\n        slides[0].parentNode.querySelector('[data-gallery-expand]').focus();\n      }\n    };\n\n    this.events.register(window, 'keydown', function (e) {\n      return closeEsc(e);\n    });\n    this.photoswipe.init();\n    Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_3__[\"trapFocus\"])(this.photoswipeDialog);\n  }\n\n  _createClass(ProductClicktoZoom, [{\n    key: \"_adjustMobileThumbPosition\",\n    value: function _adjustMobileThumbPosition() {\n      // This brings the thumbnail into view if it is not visible on the screen after\n      // a user swipes to a slide that it is tied to.\n      if (_Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isLessThanBreakpoint('S')) {\n        var thumbBounds = this.selectedThumb.getBoundingClientRect();\n        var thumbWrapperBounds = this.thumbScroller.getBoundingClientRect();\n\n        if (thumbBounds.left + thumbBounds.width + 30 > thumbWrapperBounds.width) {\n          this.thumbScroller.scrollLeft = this.selectedThumb.offsetLeft + thumbBounds.width - thumbWrapperBounds.width + 35;\n        } else if (this.selectedThumb.offsetLeft < this.thumbScroller.scrollLeft) {\n          this.thumbScroller.scrollLeft = this.selectedThumb.offsetLeft - 35;\n        }\n      }\n    }\n  }, {\n    key: \"_handleScrollButtonVisibility\",\n    value: function _handleScrollButtonVisibility() {\n      if (_Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isLessThanBreakpoint('S')) {\n        // We use 4px here just to ensure the user has scrolled a little bit before\n        // showing the buttons.\n        if (this.thumbScroller.scrollLeft > 4) {\n          this.thumbScrollerButtons[0].classList.add('visible');\n        } else {\n          this.thumbScrollerButtons[0].classList.remove('visible');\n        }\n\n        if (this.thumbScroller.scrollLeft < this.thumbScroller.scrollWidth - this.thumbScroller.clientWidth) {\n          this.thumbScrollerButtons[1].classList.add('visible');\n        } else {\n          this.thumbScrollerButtons[1].classList.remove('visible');\n        }\n      } else {\n        this.thumbScrollerButtons[0].classList.remove('visible');\n        this.thumbScrollerButtons[1].classList.remove('visible');\n      }\n    }\n  }, {\n    key: \"_onScrollButtonClick\",\n    value: function _onScrollButtonClick(scrollRight) {\n      if (scrollRight) {\n        this.thumbScroller.scrollLeft = this.thumbScroller.scrollLeft - 100;\n      } else {\n        this.thumbScroller.scrollLeft = this.thumbScroller.scrollLeft + 100;\n      }\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      if (this.photoswipe) {\n        this.photoswipe.destroy();\n        this.photoswipe = null;\n      }\n    }\n  }]);\n\n  return ProductClicktoZoom;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1Byb2R1Y3RDbGlja1RvWm9vbS5qcz8zNDI5Il0sIm5hbWVzIjpbIlByb2R1Y3RDbGlja3RvWm9vbSIsInNldHRpbmdzIiwic2xpZGVzIiwib3JpZ2luYWxUaHVtYm5haWxzIiwic3RhcnRJbmRleCIsInNlbGVjdEdhbGxlcnlJbmRleCIsInBob3Rvc3dpcGVEaWFsb2ciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0aHVtYkNvbnRhaW5lciIsInRodW1iU2Nyb2xsZXIiLCJ0aHVtYlNjcm9sbGVyQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbG9zZUJ1dHRvbiIsInNlbGVjdGVkU2xpZGUiLCJpbm5lckhUTUwiLCJ0aHVtYm5haWxzIiwic2VsZWN0ZWRJbmRleCIsImZvckVhY2giLCJ0aHVtYiIsInRodW1iSW5kZXgiLCJkYXRhc2V0IiwibWVkaWFUeXBlIiwibmV3VGh1bWIiLCJjbG9uZU5vZGUiLCJhcHBlbmRDaGlsZCIsInB1c2giLCJyaW1nIiwid2F0Y2giLCJzZWxlY3RlZFRodW1iIiwiZXZlbnRzIiwiRXZlbnRIYW5kbGVyIiwicGhvdG9zd2lwZVNsaWRlcyIsInNsaWRlIiwiaW5kZXhPZiIsInNyYyIsInpvb20iLCJtc3JjIiwiaCIsImltYWdlSGVpZ2h0IiwidyIsImltYWdlV2lkdGgiLCJib3R0b21CYXJIZWlnaHQiLCJsYXlvdXQiLCJpc0dyZWF0ZXJUaGFuQnJlYWtwb2ludCIsInBob3Rvc3dpcGVPcHRpb25zIiwiaW5kZXgiLCJiYXJzU2l6ZSIsInRvcCIsImJvdHRvbSIsImZ1bGxzY3JlZW5FbCIsInpvb21FbCIsInNoYXJlRWwiLCJjb3VudGVyRWwiLCJhcnJvd0VsIiwicHJlbG9hZGVyRWwiLCJjbG9zZU9uU2Nyb2xsIiwic2hvd0hpZGVPcGFjaXR5IiwiaGlzdG9yeSIsImxvb3AiLCJjbGlja1RvQ2xvc2VOb25ab29tYWJsZSIsInRpbWVUb0lkbGUiLCJ0aW1lVG9JZGxlT3V0c2lkZSIsImNsaWNrX3RvX3pvb20iLCJpc0xlc3NUaGFuQnJlYWtwb2ludCIsImdldFRodW1iQm91bmRzRm4iLCJwYWdlWVNjcm9sbCIsIndpbmRvdyIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsImxlZnQiLCJ5Iiwid2lkdGgiLCJwaG90b3N3aXBlIiwiUGhvdG9Td2lwZSIsInBob3Rvc3dpcGVVaSIsInJlZ2lzdGVyIiwiY2xvc2UiLCJnb1RvIiwiX2hhbmRsZVNjcm9sbEJ1dHRvblZpc2liaWxpdHkiLCJfb25TY3JvbGxCdXR0b25DbGljayIsIm9wdGlvbnMiLCJtb3VzZVVzZWQiLCJjbG9zZU9uVmVydGljYWxEcmFnIiwibGlzdGVuIiwiZ2V0Q3VycmVudEluZGV4IiwiZ2FsbGVyeVNlbGVjdGVkIiwic2xpZGVJbmRleCIsImdldEF0dHJpYnV0ZSIsIl9hZGp1c3RNb2JpbGVUaHVtYlBvc2l0aW9uIiwicmVtb3ZlVHJhcEZvY3VzIiwiZm9jdXMiLCJ1bnJlZ2lzdGVyQWxsIiwiY2xvc2VFc2MiLCJlIiwia2V5IiwicGFyZW50Tm9kZSIsImluaXQiLCJ0cmFwRm9jdXMiLCJ0aHVtYkJvdW5kcyIsInRodW1iV3JhcHBlckJvdW5kcyIsInNjcm9sbExlZnQiLCJvZmZzZXRMZWZ0IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbFJpZ2h0IiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7O0lBRXFCQSxrQjtBQUNuQixvQ0FNRztBQUFBOztBQUFBLFFBTERDLFFBS0MsUUFMREEsUUFLQztBQUFBLFFBSkRDLE1BSUMsUUFKREEsTUFJQztBQUFBLFFBSERDLGtCQUdDLFFBSERBLGtCQUdDO0FBQUEsUUFGREMsVUFFQyxRQUZEQSxV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QUtqRyxvQkFBTCxDQUEwQixDQUExQixFQUE2QmdHLFNBQTdCLENBQXVDRSxNQUF2QyxDQUE4QyxTQUE5QztBQUNEOztBQUVELFlBQUksS0FBS25HLGFBQUwsQ0FBbUIrRixVQUFuQixHQUFnQyxLQUFLL0YsYUFBTCxDQUFtQm9HLFdBQW5CLEdBQ2hDLEtBQUtwRyxhQUFMLENBQW1CcUcsV0FEdkIsRUFDb0M7QUFDbEMsZUFBS3BHLG9CQUFMLENBQTBCLENBQTFCLEVBQTZCZ0csU0FBN0IsQ0FBdUNDLEdBQXZDLENBQTJDLFNBQTNDO0FBQ0QsU0FIRCxNQUdPO0FBQ0wsZUFBS2pHLG9CQUFMLENBQTBCLENBQTFCLEVBQTZCZ0csU0FBN0IsQ0FBdUNFLE1BQXZDLENBQThDLFNBQTlDO0FBQ0Q7QUFDRixPQWZELE1BZU87QUFDTCxhQUFLbEcsb0JBQUwsQ0FBMEIsQ0FBMUIsRUFBNkJnRyxTQUE3QixDQUF1Q0UsTUFBdkMsQ0FBOEMsU0FBOUM7QUFDQSxhQUFLbEcsb0JBQUwsQ0FBMEIsQ0FBMUIsRUFBNkJnRyxTQUE3QixDQUF1Q0UsTUFBdkMsQ0FBOEMsU0FBOUM7QUFDRDtBQUNGOzs7eUNBRW9CRyxXLEVBQWE7QUFDaEMsVUFBSUEsV0FBSixFQUFpQjtBQUNmLGFBQUt0RyxhQUFMLENBQW1CK0YsVUFBbkIsR0FBZ0MsS0FBSy9GLGFBQUwsQ0FBbUIrRixVQUFuQixHQUFnQyxHQUFoRTtBQUNELE9BRkQsTUFFTztBQUNMLGFBQUsvRixhQUFMLENBQW1CK0YsVUFBbkIsR0FBZ0MsS0FBSy9GLGFBQUwsQ0FBbUIrRixVQUFuQixHQUFnQyxHQUFoRTtBQUNEO0FBQ0Y7Ozs2QkFFUTtBQUNQLFVBQUksS0FBSzVCLFVBQVQsRUFBcUI7QUFDbkIsYUFBS0EsVUFBTCxDQUFnQm9DLE9BQWhCO0FBQ0EsYUFBS3BDLFVBQUwsR0FBa0IsSUFBbEI7QUFDRDtBQUNGIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvY29tcG9uZW50cy9Qcm9kdWN0Q2xpY2tUb1pvb20uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGhvdG9Td2lwZSBmcm9tICdwaG90b3N3aXBlJztcbmltcG9ydCBFdmVudEhhbmRsZXIgZnJvbSAnQHBpeGVsdW5pb24vZXZlbnRzJztcbmltcG9ydCByaW1nIGZyb20gJ3JpbWctc2hvcGlmeSc7XG5pbXBvcnQge1xuICB0cmFwRm9jdXMsXG4gIHJlbW92ZVRyYXBGb2N1cyxcbn0gZnJvbSAnQHNob3BpZnkvdGhlbWUtYTExeSc7XG5cbmltcG9ydCBwaG90b3N3aXBlVWkgZnJvbSAncGhvdG9zd2lwZS9kaXN0L3Bob3Rvc3dpcGUtdWktZGVmYXVsdCc7XG5cbmltcG9ydCBsYXlvdXQgZnJvbSAnLi4vTGF5b3V0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdENsaWNrdG9ab29tIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHNldHRpbmdzLFxuICAgIHNsaWRlcyxcbiAgICBvcmlnaW5hbFRodW1ibmFpbHMsXG4gICAgc3RhcnRJbmRleCxcbiAgICBzZWxlY3RHYWxsZXJ5SW5kZXgsXG4gIH0pIHtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cbiAgICB0aGlzLnBob3Rvc3dpcGVEaWFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1waG90b3N3aXBlXScpO1xuICAgIHRoaXMudGh1bWJDb250YWluZXIgPSB0aGlzLnBob3Rvc3dpcGVEaWFsb2cucXVlcnlTZWxlY3RvcignW2RhdGEtcGhvdG9zd2lwZS10aHVtYnNdJyk7XG4gICAgdGhpcy50aHVtYlNjcm9sbGVyID0gdGhpcy5waG90b3N3aXBlRGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBob3Rvc3dpcGUtdGh1bWItc2Nyb2xsZXJdJyk7XG4gICAgdGhpcy50aHVtYlNjcm9sbGVyQnV0dG9ucyA9IHRoaXMucGhvdG9zd2lwZURpYWxvZy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1nYWxsZXJ5LXNjcm9sbC1idXR0b25dJyk7XG4gICAgdGhpcy5jbG9zZUJ1dHRvbiA9IHRoaXMucGhvdG9zd2lwZURpYWxvZy5xdWVyeVNlbGVjdG9yKCcucHN3cF9fYnV0dG9uLS1jbG9zZScpO1xuICAgIHRoaXMuc2VsZWN0ZWRTbGlkZSA9IHNsaWRlc1tzdGFydEluZGV4XTtcblxuICAgIHRoaXMudGh1bWJTY3JvbGxlci5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLnRodW1ibmFpbHMgPSBbXTtcblxuICAgIGxldCBzZWxlY3RlZEluZGV4ID0gc3RhcnRJbmRleDtcblxuICAgIC8vIENsb25lIHRoZSBvcmlnaW5hbCB0aHVtYm5haWxzIGludG8gdGhlIHBob3Rvc3dpcGUgZGlhbG9nXG4gICAgb3JpZ2luYWxUaHVtYm5haWxzLmZvckVhY2goKHRodW1iLCB0aHVtYkluZGV4KSA9PiB7XG4gICAgICBpZiAodGh1bWIuZGF0YXNldC5tZWRpYVR5cGUgIT09ICdpbWFnZScpIHtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPiB0aHVtYkluZGV4KSBzZWxlY3RlZEluZGV4LS07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld1RodW1iID0gdGh1bWIuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgdGhpcy50aHVtYlNjcm9sbGVyLmFwcGVuZENoaWxkKG5ld1RodW1iKTtcbiAgICAgIHRoaXMudGh1bWJuYWlscy5wdXNoKG5ld1RodW1iKTtcbiAgICB9KTtcblxuICAgIHJpbWcud2F0Y2godGhpcy50aHVtYkNvbnRhaW5lcik7XG5cbiAgICB0aGlzLnNlbGVjdGVkVGh1bWIgPSB0aGlzLnRodW1iQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdhbGxlcnktc2VsZWN0ZWQ9XCJ0cnVlXCJdJyk7XG5cbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXIoKTtcblxuICAgIC8vIFNldCB1cCBvcHRpb25zIGZvciBpbml0aWFsaXppbmcgUGhvdG9Td2lwZVxuICAgIGNvbnN0IHBob3Rvc3dpcGVTbGlkZXMgPSBbXTtcblxuICAgIHNsaWRlcy5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgIGlmIChbJ3ZpZGVvJywgJ2V4dGVybmFsX3ZpZGVvJywgJ21vZGVsJ10uaW5kZXhPZihzbGlkZS5kYXRhc2V0Lm1lZGlhVHlwZSkgPiAtMSkgcmV0dXJuO1xuICAgICAgcGhvdG9zd2lwZVNsaWRlcy5wdXNoKHtcbiAgICAgICAgc3JjOiBzbGlkZS5kYXRhc2V0Lnpvb20sXG4gICAgICAgIG1zcmM6IHNsaWRlLmRhdGFzZXQuem9vbSxcbiAgICAgICAgaDogc2xpZGUuZGF0YXNldC5pbWFnZUhlaWdodCxcbiAgICAgICAgdzogc2xpZGUuZGF0YXNldC5pbWFnZVdpZHRoLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBBZGp1c3QgdGhlIGJvdHRvbSBiYXIgaGVpZ2h0IHRvIGFsbG93IGZvciB0aGUgbW9iaWxlIHRodW1ibmFpbHNcbiAgICBjb25zdCBib3R0b21CYXJIZWlnaHQgPSBsYXlvdXQuaXNHcmVhdGVyVGhhbkJyZWFrcG9pbnQoJ0wnLCB0cnVlKSA/IDAgOiA3NTtcblxuICAgIGNvbnN0IHBob3Rvc3dpcGVPcHRpb25zID0ge1xuICAgICAgaW5kZXg6IHNlbGVjdGVkSW5kZXgsXG4gICAgICBiYXJzU2l6ZTogeyB0b3A6IDAsIGJvdHRvbTogYm90dG9tQmFySGVpZ2h0IH0sXG4gICAgICBmdWxsc2NyZWVuRWw6IGZhbHNlLFxuICAgICAgem9vbUVsOiBmYWxzZSxcbiAgICAgIHNoYXJlRWw6IGZhbHNlLFxuICAgICAgY291bnRlckVsOiBmYWxzZSxcbiAgICAgIGFycm93RWw6IGZhbHNlLFxuICAgICAgcHJlbG9hZGVyRWw6IGZhbHNlLFxuICAgICAgY2xvc2VPblNjcm9sbDogZmFsc2UsXG4gICAgICBzaG93SGlkZU9wYWNpdHk6IHRydWUsXG4gICAgICBoaXN0b3J5OiBmYWxzZSxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBjbGlja1RvQ2xvc2VOb25ab29tYWJsZTogZmFsc2UsXG4gICAgICB0aW1lVG9JZGxlOiBmYWxzZSxcbiAgICAgIHRpbWVUb0lkbGVPdXRzaWRlOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuY2xpY2tfdG9fem9vbSA9PT0gJ2Fsd2F5cydcbiAgICAgIHx8IChsYXlvdXQuaXNHcmVhdGVyVGhhbkJyZWFrcG9pbnQoJ1MnLCB0cnVlKSAmJiB0aGlzLnNldHRpbmdzLmNsaWNrX3RvX3pvb20gPT09ICdkZXNrdG9wJylcbiAgICAgIHx8IChsYXlvdXQuaXNMZXNzVGhhbkJyZWFrcG9pbnQoJ1MnKSAmJiB0aGlzLnNldHRpbmdzLmNsaWNrX3RvX3pvb20gPT09ICdtb2JpbGUnKSkge1xuICAgICAgcGhvdG9zd2lwZU9wdGlvbnMuZ2V0VGh1bWJCb3VuZHNGbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcGFnZVlTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5zZWxlY3RlZFNsaWRlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXJpbWddJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7IHg6IGJvdW5kcy5sZWZ0LCB5OiBib3VuZHMudG9wICsgcGFnZVlTY3JvbGwsIHc6IGJvdW5kcy53aWR0aCB9O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLnBob3Rvc3dpcGUgPSBuZXcgUGhvdG9Td2lwZShcbiAgICAgIHRoaXMucGhvdG9zd2lwZURpYWxvZyxcbiAgICAgIHBob3Rvc3dpcGVVaSxcbiAgICAgIHBob3Rvc3dpcGVTbGlkZXMsXG4gICAgICBwaG90b3N3aXBlT3B0aW9ucyxcbiAgICApO1xuXG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy5jbG9zZUJ1dHRvbiwgJ2NsaWNrJywgKCkgPT4gdGhpcy5waG90b3N3aXBlLmNsb3NlKCkpO1xuICAgIC8vIFRoZSBmb2xsb3dpbmcgZml4ZXMgYW4gaXNzdWUgb24gaU9TMTIgYW5kIGJlbG93LCB3aGVyZSBjbGljayBldmVudHMgd2VyZSBub3QgcmVnaXN0ZXJpbmdcbiAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLmNsb3NlQnV0dG9uLCAndG91Y2hzdGFydCcsICgpID0+IHRoaXMucGhvdG9zd2lwZS5jbG9zZSgpKTtcblxuICAgIHRoaXMudGh1bWJuYWlscy5mb3JFYWNoKCh0aHVtYiwgaW5kZXgpID0+IHtcbiAgICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHRodW1iLCAnY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucGhvdG9zd2lwZS5nb1RvKGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy50aHVtYlNjcm9sbGVyLCAnc2Nyb2xsJywgKCkgPT4gdGhpcy5faGFuZGxlU2Nyb2xsQnV0dG9uVmlzaWJpbGl0eSgpKTtcbiAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLnRodW1iU2Nyb2xsZXJCdXR0b25zWzBdLCAnY2xpY2snLCAoKSA9PiB0aGlzLl9vblNjcm9sbEJ1dHRvbkNsaWNrKHRydWUpKTtcbiAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLnRodW1iU2Nyb2xsZXJCdXR0b25zWzFdLCAnY2xpY2snLCAoKSA9PiB0aGlzLl9vblNjcm9sbEJ1dHRvbkNsaWNrKGZhbHNlKSk7XG5cbiAgICAvLyBQaG90b3N3aXBlIGRvY3VtZW50YXRpb24gY2xhaW1zIHRoYXQgdGhlIGNsb3NlT25WZXJ0aWNhbERyYWcgb3B0aW9uIGlzIGFsd2F5cyBmYWxzZSBpZlxuICAgIC8vIHRoZSBtb3VzZSBpcyB1c2VkLCB3aGljaCBpcyB3aGF0IHdlIHdhbnQuIFVuZm9ydHVuYXRlbHkgdGhhdCdzIG5vdCBob3cgaXQgYWN0dWFsbHkgd29ya3MsXG4gICAgLy8gc28gd2UgbmVlZCB0byBkeW5hbWljYWxseSB1cGRhdGUgdGhlIHNldHRpbmcgd2hlbiBhIG1vdXNlIGlzIGRldGVjdGVkLlxuICAgIGlmICh0aGlzLnBob3Rvc3dpcGUub3B0aW9ucy5tb3VzZVVzZWQpIHtcbiAgICAgIHRoaXMucGhvdG9zd2lwZS5vcHRpb25zLmNsb3NlT25WZXJ0aWNhbERyYWcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5waG90b3N3aXBlLmxpc3RlbignbW91c2VVc2VkJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnBob3Rvc3dpcGUub3B0aW9ucy5jbG9zZU9uVmVydGljYWxEcmFnID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnBob3Rvc3dpcGUubGlzdGVuKCdhZnRlckNoYW5nZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5waG90b3N3aXBlLmdldEN1cnJlbnRJbmRleCgpO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUaHVtYikge1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWIuZGF0YXNldC5nYWxsZXJ5U2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2VsZWN0ZWRUaHVtYiA9IHRoaXMudGh1bWJuYWlsc1tpbmRleF07XG4gICAgICB0aGlzLnNlbGVjdGVkVGh1bWIuZGF0YXNldC5nYWxsZXJ5U2VsZWN0ZWQgPSB0cnVlO1xuXG4gICAgICBjb25zdCBzbGlkZUluZGV4ID0gdGhpcy5zZWxlY3RlZFRodW1iLmdldEF0dHJpYnV0ZSgnZGF0YS1nYWxsZXJ5LWluZGV4Jyk7XG4gICAgICBjb25zdCBzbGlkZSA9IHNsaWRlc1tzbGlkZUluZGV4XTtcblxuICAgICAgdGhpcy5fYWRqdXN0TW9iaWxlVGh1bWJQb3NpdGlvbigpO1xuICAgICAgdGhpcy5faGFuZGxlU2Nyb2xsQnV0dG9uVmlzaWJpbGl0eSgpO1xuXG4gICAgICBzZWxlY3RHYWxsZXJ5SW5kZXgoc2xpZGVJbmRleCk7XG4gICAgICB0aGlzLnNlbGVjdGVkU2xpZGUgPSBzbGlkZTtcbiAgICB9KTtcblxuICAgIHRoaXMucGhvdG9zd2lwZS5saXN0ZW4oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgcmVtb3ZlVHJhcEZvY3VzKHRoaXMucGhvdG9zd2lwZURpYWxvZyk7XG4gICAgICB0aGlzLnNlbGVjdGVkU2xpZGUuZm9jdXMoKTtcbiAgICAgIHRoaXMucGhvdG9zd2lwZSA9IG51bGw7XG4gICAgfSk7XG5cbiAgICB0aGlzLnBob3Rvc3dpcGUubGlzdGVuKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgdGhpcy5ldmVudHMudW5yZWdpc3RlckFsbCgpO1xuICAgICAgdGhpcy5waG90b3N3aXBlID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8vIERldGVjdCBpZiBtb3VzZSBpcyBvdmVyIHRoZSB0aHVtYm5haWxzLCBpZiBpdCBpcyBhbGxvdyBzY3JvbGwgbGVmdC9yaWdodFxuICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHRoaXMudGh1bWJDb250YWluZXIsICdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgICAgaWYgKGxheW91dC5pc0xlc3NUaGFuQnJlYWtwb2ludCgnUycpKSB7XG4gICAgICAgIHRoaXMucGhvdG9zd2lwZS5vcHRpb25zLmNsb3NlT25TY3JvbGwgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy50aHVtYkNvbnRhaW5lciwgJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICBpZiAobGF5b3V0LmlzTGVzc1RoYW5CcmVha3BvaW50KCdTJykpIHtcbiAgICAgICAgdGhpcy5waG90b3N3aXBlLm9wdGlvbnMuY2xvc2VPblNjcm9sbCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSWYgYSB1c2VyIGNsb3NlcyB0aGUgZGlhbG9nIHVzaW5nIHRoZSBlc2NhcGUga2V5LCB0aGVuIHdlIHNob3VsZCBmb2N1c1xuICAgIC8vIG9uIHRoZSBleHBhbmQgYnV0dG9uLlxuICAgIGNvbnN0IGNsb3NlRXNjID0gZSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIHNsaWRlc1swXS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdhbGxlcnktZXhwYW5kXScpLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHdpbmRvdywgJ2tleWRvd24nLCBlID0+IGNsb3NlRXNjKGUpKTtcblxuICAgIHRoaXMucGhvdG9zd2lwZS5pbml0KCk7XG5cbiAgICB0cmFwRm9jdXModGhpcy5waG90b3N3aXBlRGlhbG9nKTtcbiAgfVxuXG4gIF9hZGp1c3RNb2JpbGVUaHVtYlBvc2l0aW9uKCkge1xuICAgIC8vIFRoaXMgYnJpbmdzIHRoZSB0aHVtYm5haWwgaW50byB2aWV3IGlmIGl0IGlzIG5vdCB2aXNpYmxlIG9uIHRoZSBzY3JlZW4gYWZ0ZXJcbiAgICAvLyBhIHVzZXIgc3dpcGVzIHRvIGEgc2xpZGUgdGhhdCBpdCBpcyB0aWVkIHRvLlxuICAgIGlmIChsYXlvdXQuaXNMZXNzVGhhbkJyZWFrcG9pbnQoJ1MnKSkge1xuICAgICAgY29uc3QgdGh1bWJCb3VuZHMgPSB0aGlzLnNlbGVjdGVkVGh1bWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCB0aHVtYldyYXBwZXJCb3VuZHMgPSB0aGlzLnRodW1iU2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGlmICh0aHVtYkJvdW5kcy5sZWZ0ICsgdGh1bWJCb3VuZHMud2lkdGggKyAzMCA+IHRodW1iV3JhcHBlckJvdW5kcy53aWR0aCkge1xuICAgICAgICB0aGlzLnRodW1iU2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IHRoaXMuc2VsZWN0ZWRUaHVtYi5vZmZzZXRMZWZ0XG4gICAgICAgICAgKyB0aHVtYkJvdW5kcy53aWR0aCAtIHRodW1iV3JhcHBlckJvdW5kcy53aWR0aCArIDM1O1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkVGh1bWIub2Zmc2V0TGVmdCA8IHRoaXMudGh1bWJTY3JvbGxlci5zY3JvbGxMZWZ0KSB7XG4gICAgICAgIHRoaXMudGh1bWJTY3JvbGxlci5zY3JvbGxMZWZ0ID0gdGhpcy5zZWxlY3RlZFRodW1iLm9mZnNldExlZnQgLSAzNTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlU2Nyb2xsQnV0dG9uVmlzaWJpbGl0eSgpIHtcbiAgICBpZiAobGF5b3V0LmlzTGVzc1RoYW5CcmVha3BvaW50KCdTJykpIHtcbiAgICAgIC8vIFdlIHVzZSA0cHggaGVyZSBqdXN0IHRvIGVuc3VyZSB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgYSBsaXR0bGUgYml0IGJlZm9yZVxuICAgICAgLy8gc2hvd2luZyB0aGUgYnV0dG9ucy5cbiAgICAgIGlmICh0aGlzLnRodW1iU2Nyb2xsZXIuc2Nyb2xsTGVmdCA+IDQpIHtcbiAgICAgICAgdGhpcy50aHVtYlNjcm9sbGVyQnV0dG9uc1swXS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRodW1iU2Nyb2xsZXJCdXR0b25zWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGh1bWJTY3JvbGxlci5zY3JvbGxMZWZ0IDwgdGhpcy50aHVtYlNjcm9sbGVyLnNjcm9sbFdpZHRoXG4gICAgICAgIC0gdGhpcy50aHVtYlNjcm9sbGVyLmNsaWVudFdpZHRoKSB7XG4gICAgICAgIHRoaXMudGh1bWJTY3JvbGxlckJ1dHRvbnNbMV0uY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHVtYlNjcm9sbGVyQnV0dG9uc1sxXS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGh1bWJTY3JvbGxlckJ1dHRvbnNbMF0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgdGhpcy50aHVtYlNjcm9sbGVyQnV0dG9uc1sxXS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfVxuICB9XG5cbiAgX29uU2Nyb2xsQnV0dG9uQ2xpY2soc2Nyb2xsUmlnaHQpIHtcbiAgICBpZiAoc2Nyb2xsUmlnaHQpIHtcbiAgICAgIHRoaXMudGh1bWJTY3JvbGxlci5zY3JvbGxMZWZ0ID0gdGhpcy50aHVtYlNjcm9sbGVyLnNjcm9sbExlZnQgLSAxMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGh1bWJTY3JvbGxlci5zY3JvbGxMZWZ0ID0gdGhpcy50aHVtYlNjcm9sbGVyLnNjcm9sbExlZnQgKyAxMDA7XG4gICAgfVxuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIGlmICh0aGlzLnBob3Rvc3dpcGUpIHtcbiAgICAgIHRoaXMucGhvdG9zd2lwZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLnBob3Rvc3dpcGUgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/ProductClickToZoom.js\n");

/***/ }),

/***/ "./source/scripts/components/ProductDetails.js":
/*!*****************************************************!*\
  !*** ./source/scripts/components/ProductDetails.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductDetails; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var shopify_asyncview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! shopify-asyncview */ \"./node_modules/shopify-asyncview/dist/index.es.js\");\n/* harmony import */ var shopify_variants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shopify-variants */ \"./node_modules/shopify-variants/dist/shopify-variants.es.js\");\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\n/* harmony import */ var _AddToCartFlyout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AddToCartFlyout */ \"./source/scripts/components/AddToCartFlyout.js\");\n/* harmony import */ var _ProductGallery__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ProductGallery */ \"./source/scripts/components/ProductGallery.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar ProductDetails = /*#__PURE__*/function () {\n  function ProductDetails(options) {\n    _classCallCheck(this, ProductDetails);\n\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n    this.$formArea = options.$formArea;\n    this.$details = options.$details;\n    this.context = options.context;\n    this.settings = options.settings;\n    this.product = options.product;\n    this.useHistory = options.useHistory;\n    this.variantHelper = null;\n    this.atcCallbacks = options.atcCallbacks; // Form\n\n    this.$form = this.$formArea.find('[data-product-form]');\n    this.$productAtcButton = this.$formArea.find('[data-product-atc]');\n    this.$productVariants = this.$form.find('[data-variants]');\n    this.$productOptions = this.$form.find('[data-product-option]');\n    this.detailsLink = this.$formArea[0].querySelector('[data-product-details-link]');\n    this.inStockNotificationForm = this.$formArea[0].querySelector('[data-in-stock-notification-form]');\n\n    if (this.detailsLink) {\n      this.detailsBaseHref = this.detailsLink.getAttribute('href');\n    }\n\n    this.variantFields = {\n      $price: this.$details.find('[data-price]'),\n      $priceMoney: this.$details.find('[data-price] .money'),\n      $compareAtPrice: this.$details.find('[data-price-compare-at]'),\n      $compareAtPriceMoney: this.$details.find('[data-price-compare-at] .money'),\n      $badge: this.$details.find('[data-badge-sales]'),\n      $badgeMoneySaved: this.$details.find('[data-price-money-saved]'),\n      $badgePercentSaved: this.$details.find('[data-price-percent-saved]'),\n      $stockLevel: this.$formArea.find('[data-stock-level]'),\n      $sku: this.$details.find('[data-product-sku]'),\n      unitPrice: this.$details[0].querySelector('[data-unit-price]'),\n      totalQuantity: this.$details[0].querySelector('[data-total-quantity]'),\n      unitPriceAmount: this.$details[0].querySelector('[data-unit-price-amount]'),\n      unitPriceMeasure: this.$details[0].querySelector('[data-unit-price-measure]'),\n      taxLine: this.$details[0].querySelector('[data-tax-line]')\n    };\n    this.forms = new _Forms__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.$form);\n\n    if (this.inStockNotificationForm) {\n      this.inStockForm = new _Forms__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.inStockNotificationForm);\n    }\n\n    if (this.product && this.product.media.length) {\n      this.gallery = new _ProductGallery__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n        el: options.gallery,\n        settings: this.settings,\n        isQuickshop: options.isQuickshop,\n        models: options.models\n      });\n    }\n\n    this._bindEvents();\n\n    this._initOptions();\n  }\n\n  _createClass(ProductDetails, [{\n    key: \"onQuickshopOpen\",\n    value: function onQuickshopOpen() {\n      this.gallery.onQuickshopOpen();\n    }\n  }, {\n    key: \"unloadAllMedia\",\n    value: function unloadAllMedia() {\n      if (this.gallery) {\n        this.gallery.unloadAllMedia();\n      }\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.$form.off(\".product-details-\".concat(this.settings.section_id));\n      this.$window.off(\".product-details-\".concat(this.settings.section_id));\n      this.forms.unload();\n\n      if (this.inStockForm) {\n        this.inStockForm.unload();\n      }\n\n      if (this.variantHelper) {\n        this.variantHelper.unload();\n      }\n\n      if (this.gallery) {\n        this.gallery.unload();\n      }\n    }\n  }, {\n    key: \"selectVariant\",\n    value: function selectVariant(variantId) {\n      if (variantId) {\n        this.variantHelper.selectVariant(variantId);\n      }\n\n      this.gallery.updateSlideHeight();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this = this;\n\n      this.$productOptions.on(\"focus.product-details-\".concat(this.settings.section_id), function () {\n        _this.activeElement = document.activeElement;\n      });\n      this.$window.on(\"shopify-variants:switch-variant.product-details-\".concat(this.settings.section_id), function (event, data) {\n        return _this._switchVariant(event, data);\n      });\n      this.$form.on(\"submit.product-details-\".concat(this.settings.section_id), function (event) {\n        return _this._AddToCartFlyout(event);\n      });\n    }\n  }, {\n    key: \"_initOptions\",\n    value: function _initOptions() {\n      if (!this.$productVariants.length) return;\n      this.variantHelper = new shopify_variants__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.product, this.$productVariants, this.$productOptions, {\n        mixedControls: true\n      });\n    }\n  }, {\n    key: \"_switchVariant\",\n    value: function _switchVariant(event, data) {\n      if (data.product !== this.product) return;\n      var variant = data.variant;\n      var firstLoad = data.firstLoad;\n\n      if (firstLoad) {\n        return;\n      } // Refocus the active element (Shopify Variants causes element to lose focus)\n\n\n      if (this.activeElement) {\n        this.activeElement.focus();\n      } // Update main select\n\n\n      this.$productVariants.val(data.variant.id);\n      this.gallery.selectMediaByVariant(variant); // Update Variant information\n\n      this._updatePrice({\n        price: variant.price,\n        compare_at_price: variant.compare_at_price\n      });\n\n      this._updateSKU(variant);\n\n      this._updateBadge(variant);\n\n      this._updateStockLevel(variant);\n\n      this._updateButton(variant);\n\n      this._updateSwatchLabel(variant);\n\n      this._updateFullDetailsLink(variant);\n\n      this._updateUnitPrice(variant);\n\n      if (this.useHistory) {\n        var url = \"\".concat(this.product.handle, \"?\").concat(jquery__WEBPACK_IMPORTED_MODULE_0___default.a.param({\n          variant: variant.id\n        }));\n        history.replaceState({}, 'variant', url);\n      }\n    }\n  }, {\n    key: \"_updatePrice\",\n    value: function _updatePrice(price) {\n      // Update compare at price\n      var hasComparePrice = !!price.compare_at_price && price.compare_at_price > price.price;\n      this.variantFields.$compareAtPrice.toggleClass('visible', hasComparePrice);\n      this.variantFields.$compareAtPriceMoney.text(Shopify.formatMoney(price.compare_at_price, this.settings.money_format)); // Update price\n\n      this.variantFields.$priceMoney.text(Shopify.formatMoney(price.price, this.settings.money_format));\n    }\n  }, {\n    key: \"_updateSKU\",\n    value: function _updateSKU(variant) {\n      if (variant.sku === '') {\n        this.variantFields.$sku.parent().addClass('product-sku--empty');\n      } else {\n        this.variantFields.$sku.parent().removeClass('product-sku--empty');\n      }\n\n      this.variantFields.$sku.text(variant.sku);\n    }\n  }, {\n    key: \"_updateBadge\",\n    value: function _updateBadge(variant) {\n      var priceSaved = variant.compare_at_price ? variant.compare_at_price - variant.price : 0;\n      this.variantFields.$badge.toggle(!!priceSaved);\n\n      if (this.variantFields.$badgeMoneySaved.length) {\n        // Update badge if it shows money saved\n        this.variantFields.$badgeMoneySaved[0].innerHTML = Shopify.formatMoney(priceSaved, this.settings.money_format);\n      }\n\n      if (this.variantFields.$badgePercentSaved.length) {\n        // Update badge if it shows percentiles\n        var percentileSaved = Math.round(priceSaved * 100 / variant.compare_at_price);\n        this.variantFields.$badgePercentSaved.text(percentileSaved);\n      }\n    }\n  }, {\n    key: \"_updateStockLevel\",\n    value: function _updateStockLevel(variant) {\n      var _this2 = this;\n\n      if (!this.settings.enableStockBadge) return;\n      var url = window.location.pathname;\n\n      if (!url.includes('/products')) {\n        url = \"\".concat(url, \"/products/\").concat(this.product.handle);\n      }\n\n      var params = {\n        view: '_stock-level',\n        variant: variant.id\n      };\n\n      if (variant.inventory_management === null) {\n        this.variantFields.$stockLevel.html('');\n      } else {\n        shopify_asyncview__WEBPACK_IMPORTED_MODULE_1__[\"default\"].load(url, params).then(function (_ref) {\n          var html = _ref.html,\n              data = _ref.data;\n          var fragment = document.createElement('div');\n          fragment.innerHTML = html.stockLevel;\n          var replacement = fragment.querySelector('.product--stock-level');\n\n          _this2.variantFields.$stockLevel.html(replacement);\n        });\n      }\n    }\n  }, {\n    key: \"_updateButton\",\n    value: function _updateButton(variant) {\n      if (variant.available) {\n        this.$productAtcButton.text(this.context.product_available);\n        this.$productAtcButton.removeClass('disabled').prop('disabled', false);\n      } else {\n        this.$productAtcButton.text(this.context.product_unavailable);\n        this.$productAtcButton.addClass('disabled').prop('disabled', true);\n      }\n    }\n  }, {\n    key: \"_updateSwatchLabel\",\n    value: function _updateSwatchLabel(variant) {\n      if (this.settings.enableSwatches) {\n        var swatchLabel = this.$form[0].querySelector('[data-option-swatch-value]');\n\n        if (swatchLabel) {\n          swatchLabel.innerText = variant.options[parseInt(swatchLabel.dataset.optionSwatchValue, 10)];\n        }\n      }\n    }\n  }, {\n    key: \"_updateFullDetailsLink\",\n    value: function _updateFullDetailsLink(variant) {\n      if (this.detailsLink) {\n        this.detailsLink.setAttribute('href', \"\".concat(this.detailsBaseHref, \"?variant=\").concat(variant.id));\n      }\n    }\n  }, {\n    key: \"_updateUnitPrice\",\n    value: function _updateUnitPrice(variant) {\n      if (this.variantFields.unitPrice && variant.unit_price_measurement) {\n        this.variantFields.totalQuantity.innerHTML = \"\".concat(variant.unit_price_measurement.quantity_value).concat(variant.unit_price_measurement.quantity_unit);\n        this.variantFields.unitPriceAmount.innerHTML = Shopify.formatMoney(variant.unit_price, this.settings.money_format);\n\n        if (variant.unit_price_measurement.reference_value === 1) {\n          this.variantFields.unitPriceMeasure.innerHTML = variant.unit_price_measurement.reference_unit;\n        } else {\n          this.variantFields.unitPriceMeasure.innerHTML = \"\".concat(variant.unit_price_measurement.reference_value).concat(variant.unit_price_measurement.reference_unit);\n        }\n\n        this.variantFields.unitPrice.classList.remove('hidden');\n      } else if (this.variantFields.unitPrice) {\n        this.variantFields.unitPrice.classList.add('hidden');\n      }\n\n      if (this.variantFields.taxLine) {\n        if (variant.taxable) {\n          this.variantFields.taxLine.classList.remove('hidden');\n        } else {\n          this.variantFields.taxLine.classList.add('hidden');\n        }\n      }\n    }\n  }, {\n    key: \"_AddToCartFlyout\",\n    value: function _AddToCartFlyout(event) {\n      event.preventDefault();\n      var formData = this.$form.serializeArray();\n      var options = {\n        $atcButton: this.$productAtcButton,\n        settings: {\n          moneyFormat: this.settings.money_format,\n          cartRedirection: this.settings.cart_redirection\n        }\n      };\n      _AddToCartFlyout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init(formData, this.product, options, this.atcCallbacks);\n    }\n  }]);\n\n  return ProductDetails;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1Byb2R1Y3REZXRhaWxzLmpzPzFhMmQiXSwibmFtZXMiOlsiUHJvZHVjdERldGFpbHMiLCJvcHRpb25zIiwiJHdpbmRvdyIsIiQiLCJ3aW5kb3ciLCIkZm9ybUFyZWEiLCIkZGV0YWlscyIsImNvbnRleHQiLCJzZXR0aW5ncyIsInByb2R1Y3QiLCJ1c2VIaXN0b3J5IiwidmFyaWFudEhlbHBlciIsImF0Y0NhbGxiYWNrcyIsIiRmb3JtIiwiZmluZCIsIiRwcm9kdWN0QXRjQnV0dG9uIiwiJHByb2R1Y3RWYXJpYW50cyIsIiRwcm9kdWN0T3B0aW9ucyIsImRldGFpbHNMaW5rIiwicXVlcnlTZWxlY3RvciIsImluU3RvY2tOb3RpZmljYXRpb25Gb3JtIiwiZGV0YWlsc0Jhc2VIcmVmIiwiZ2V0QXR0cmlidXRlIiwidmFyaWFudEZpZWxkcyIsIiRwcmljZSIsIiRwcmljZU1vbmV5IiwiJGNvbXBhcmVBdFByaWNlIiwiJGNvbXBhcmVBdFByaWNlTW9uZXkiLCIkYmFkZ2UiLCIkYmFkZ2VNb25leVNhdmVkIiwiJGJhZGdlUGVyY2VudFNhdmVkIiwiJHN0b2NrTGV2ZWwiLCIkc2t1IiwidW5pdFByaWNlIiwidG90YWxRdWFudGl0eSIsInVuaXRQcmljZUFtb3VudCIsInVuaXRQcmljZU1lYXN1cmUiLCJ0YXhMaW5lIiwiZm9ybXMiLCJGb3JtcyIsImluU3RvY2tGb3JtIiwibWVkaWEiLCJsZW5ndGgiLCJnYWxsZXJ5IiwiUHJvZHVjdEdhbGxlcnkiLCJlbCIsImlzUXVpY2tzaG9wIiwibW9kZWxzIiwiX2JpbmRFdmVudHMiLCJfaW5pdE9wdGlvbnMiLCJvblF1aWNrc2hvcE9wZW4iLCJ1bmxvYWRBbGxNZWRpYSIsIm9mZiIsInNlY3Rpb25faWQiLCJ1bmxvYWQiLCJ2YXJpYW50SWQiLCJzZWxlY3RWYXJpYW50IiwidXBkYXRlU2xpZGVIZWlnaHQiLCJvbiIsImFjdGl2ZUVsZW1lbnQiLCJkb2N1bWVudCIsImV2ZW50IiwiZGF0YSIsIl9zd2l0Y2hWYXJpYW50IiwiX0FkZFRvQ2FydEZseW91dCIsIlNob3BpZnlWYXJpYW50cyIsIm1peGVkQ29udHJvbHMiLCJ2YXJpYW50IiwiZmlyc3RMb2FkIiwiZm9jdXMiLCJ2YWwiLCJpZCIsInNlbGVjdE1lZGlhQnlWYXJpYW50IiwiX3VwZGF0ZVByaWNlIiwicHJpY2UiLCJjb21wYXJlX2F0X3ByaWNlIiwiX3VwZGF0ZVNLVSIsIl91cGRhdGVCYWRnZSIsIl91cGRhdGVTdG9ja0xldmVsIiwiX3VwZGF0ZUJ1dHRvbiIsIl91cGRhdGVTd2F0Y2hMYWJlbCIsIl91cGRhdGVGdWxsRGV0YWlsc0xpbmsiLCJfdXBkYXRlVW5pdFByaWNlIiwidXJsIiwiaGFuZGxlIiwicGFyYW0iLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwiaGFzQ29tcGFyZVByaWNlIiwidG9nZ2xlQ2xhc3MiLCJ0ZXh0IiwiU2hvcGlmeSIsImZvcm1hdE1vbmV5IiwibW9uZXlfZm9ybWF0Iiwic2t1IiwicGFyZW50IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInByaWNlU2F2ZWQiLCJ0b2dnbGUiLCJpbm5lckhUTUwiLCJwZXJjZW50aWxlU2F2ZWQiLCJNYXRoIiwicm91bmQiLCJlbmFibGVTdG9ja0JhZGdlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImluY2x1ZGVzIiwicGFyYW1zIiwidmlldyIsImludmVudG9yeV9tYW5hZ2VtZW50IiwiaHRtbCIsIkFzeW5jVmlldyIsImxvYWQiLCJ0aGVuIiwiZnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3RvY2tMZXZlbCIsInJlcGxhY2VtZW50IiwiYXZhaWxhYmxlIiwicHJvZHVjdF9hdmFpbGFibGUiLCJwcm9wIiwicHJvZHVjdF91bmF2YWlsYWJsZSIsImVuYWJsZVN3YXRjaGVzIiwic3dhdGNoTGFiZWwiLCJpbm5lclRleHQiLCJwYXJzZUludCIsImRhdGFzZXQiLCJvcHRpb25Td2F0Y2hWYWx1ZSIsInNldEF0dHJpYnV0ZSIsInVuaXRfcHJpY2VfbWVhc3VyZW1lbnQiLCJxdWFudGl0eV92YWx1ZSIsInF1YW50aXR5X3VuaXQiLCJ1bml0X3ByaWNlIiwicmVmZXJlbmNlX3ZhbHVlIiwicmVmZXJlbmNlX3VuaXQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJ0YXhhYmxlIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsInNlcmlhbGl6ZUFycmF5IiwiJGF0Y0J1dHRvbiIsIm1vbmV5Rm9ybWF0IiwiY2FydFJlZGlyZWN0aW9uIiwiY2FydF9yZWRpcmVjdGlvbiIsIkFkZFRvQ2FydEZseW91dCIsImluaXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7SUFFcUJBLGM7QUFDbkIsMEJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsU0FBS0MsT0FBTCxHQUFlQyw2Q0FBQyxDQUFDQyxNQUFELENBQWhCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQkosT0FBTyxDQUFDSSxTQUF6QjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JMLE9BQU8sQ0FBQ0ssUUFBeEI7QUFDQSxTQUFLQyxPQUFMLEdBQWVOLE9BQU8sQ0FBQ00sT0FBdkI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCUCxPQUFPLENBQUNPLFFBQXhCO0FBQ0EsU0FBS0MsT0FBTCxHQUFlUixPQUFPLENBQUNRLE9BQXZCO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQlQsT0FBTyxDQUFDUyxVQUExQjtBQUVBLFNBQUtDLGFBQUwsR0FBcUIsSUFBckI7QUFFQSxTQUFLQyxZQUFMLEdBQW9CWCxPQUFPLENBQUNXLFlBQTVCLENBWG1CLENBYW5COztBQUNBLFNBQUtDLEtBQUwsR0FBYSxLQUFLUixTQUFMLENBQWVTLElBQWYsQ0FBb0IscUJBQXBCLENBQWI7QUFDQSxTQUFLQyxpQkFBTCxHQUF5QixLQUFLVixTQUFMLENBQWVTLElBQWYsQ0FBb0Isb0JBQXBCLENBQXpCO0FBQ0EsU0FBS0UsZ0JBQUwsR0FBd0IsS0FBS0gsS0FBTCxDQUFX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O0FBRWRQLGdCQUFRLEVBQUU7QUFDUndJLHFCQUFXLEVBQUUsS0FBS3hJLFFBQUwsQ0FBY3FGLFlBRG5CO0FBRVJvRCx5QkFBZSxFQUFFLEtBQUt6SSxRQUFMLENBQWMwSTtBQUZ2QjtBQUZJLE9BQWhCO0FBUUFDLDhEQUFlLENBQUNDLElBQWhCLENBQXFCUCxRQUFyQixFQUErQixLQUFLcEksT0FBcEMsRUFBNkNSLE9BQTdDLEVBQXNELEtBQUtXLFlBQTNEO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1Byb2R1Y3REZXRhaWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBBc3luY1ZpZXcgZnJvbSAnc2hvcGlmeS1hc3luY3ZpZXcnO1xuaW1wb3J0IFNob3BpZnlWYXJpYW50cyBmcm9tICdzaG9waWZ5LXZhcmlhbnRzJztcbmltcG9ydCBGb3JtcyBmcm9tICcuLi9Gb3Jtcyc7XG5pbXBvcnQgQWRkVG9DYXJ0Rmx5b3V0IGZyb20gJy4vQWRkVG9DYXJ0Rmx5b3V0JztcbmltcG9ydCBQcm9kdWN0R2FsbGVyeSBmcm9tICcuL1Byb2R1Y3RHYWxsZXJ5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdERldGFpbHMge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy4kd2luZG93ID0gJCh3aW5kb3cpO1xuICAgIHRoaXMuJGZvcm1BcmVhID0gb3B0aW9ucy4kZm9ybUFyZWE7XG4gICAgdGhpcy4kZGV0YWlscyA9IG9wdGlvbnMuJGRldGFpbHM7XG4gICAgdGhpcy5jb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0O1xuICAgIHRoaXMuc2V0dGluZ3MgPSBvcHRpb25zLnNldHRpbmdzO1xuICAgIHRoaXMucHJvZHVjdCA9IG9wdGlvbnMucHJvZHVjdDtcbiAgICB0aGlzLnVzZUhpc3RvcnkgPSBvcHRpb25zLnVzZUhpc3Rvcnk7XG5cbiAgICB0aGlzLnZhcmlhbnRIZWxwZXIgPSBudWxsO1xuXG4gICAgdGhpcy5hdGNDYWxsYmFja3MgPSBvcHRpb25zLmF0Y0NhbGxiYWNrcztcblxuICAgIC8vIEZvcm1cbiAgICB0aGlzLiRmb3JtID0gdGhpcy4kZm9ybUFyZWEuZmluZCgnW2RhdGEtcHJvZHVjdC1mb3JtXScpO1xuICAgIHRoaXMuJHByb2R1Y3RBdGNCdXR0b24gPSB0aGlzLiRmb3JtQXJlYS5maW5kKCdbZGF0YS1wcm9kdWN0LWF0Y10nKTtcbiAgICB0aGlzLiRwcm9kdWN0VmFyaWFudHMgPSB0aGlzLiRmb3JtLmZpbmQoJ1tkYXRhLXZhcmlhbnRzXScpO1xuICAgIHRoaXMuJHByb2R1Y3RPcHRpb25zID0gdGhpcy4kZm9ybS5maW5kKCdbZGF0YS1wcm9kdWN0LW9wdGlvbl0nKTtcbiAgICB0aGlzLmRldGFpbHNMaW5rID0gdGhpcy4kZm9ybUFyZWFbMF0ucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZHVjdC1kZXRhaWxzLWxpbmtdJyk7XG4gICAgdGhpcy5pblN0b2NrTm90aWZpY2F0aW9uRm9ybSA9IHRoaXMuJGZvcm1BcmVhWzBdLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWluLXN0b2NrLW5vdGlmaWNhdGlvbi1mb3JtXScpO1xuXG4gICAgaWYgKHRoaXMuZGV0YWlsc0xpbmspIHtcbiAgICAgIHRoaXMuZGV0YWlsc0Jhc2VIcmVmID0gdGhpcy5kZXRhaWxzTGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICB9XG5cbiAgICB0aGlzLnZhcmlhbnRGaWVsZHMgPSB7XG4gICAgICAkcHJpY2U6IHRoaXMuJGRldGFpbHMuZmluZCgnW2RhdGEtcHJpY2VdJyksXG4gICAgICAkcHJpY2VNb25leTogdGhpcy4kZGV0YWlscy5maW5kKCdbZGF0YS1wcmljZV0gLm1vbmV5JyksXG4gICAgICAkY29tcGFyZUF0UHJpY2U6IHRoaXMuJGRldGFpbHMuZmluZCgnW2RhdGEtcHJpY2UtY29tcGFyZS1hdF0nKSxcbiAgICAgICRjb21wYXJlQXRQcmljZU1vbmV5OiB0aGlzLiRkZXRhaWxzLmZpbmQoJ1tkYXRhLXByaWNlLWNvbXBhcmUtYXRdIC5tb25leScpLFxuICAgICAgJGJhZGdlOiB0aGlzLiRkZXRhaWxzLmZpbmQoJ1tkYXRhLWJhZGdlLXNhbGVzXScpLFxuICAgICAgJGJhZGdlTW9uZXlTYXZlZDogdGhpcy4kZGV0YWlscy5maW5kKCdbZGF0YS1wcmljZS1tb25leS1zYXZlZF0nKSxcbiAgICAgICRiYWRnZVBlcmNlbnRTYXZlZDogdGhpcy4kZGV0YWlscy5maW5kKCdbZGF0YS1wcmljZS1wZXJjZW50LXNhdmVkXScpLFxuICAgICAgJHN0b2NrTGV2ZWw6IHRoaXMuJGZvcm1BcmVhLmZpbmQoJ1tkYXRhLXN0b2NrLWxldmVsXScpLFxuICAgICAgJHNrdTogdGhpcy4kZGV0YWlscy5maW5kKCdbZGF0YS1wcm9kdWN0LXNrdV0nKSxcbiAgICAgIHVuaXRQcmljZTogdGhpcy4kZGV0YWlsc1swXS5xdWVyeVNlbGVjdG9yKCdbZGF0YS11bml0LXByaWNlXScpLFxuICAgICAgdG90YWxRdWFudGl0eTogdGhpcy4kZGV0YWlsc1swXS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10b3RhbC1xdWFudGl0eV0nKSxcbiAgICAgIHVuaXRQcmljZUFtb3VudDogdGhpcy4kZGV0YWlsc1swXS5xdWVyeVNlbGVjdG9yKCdbZGF0YS11bml0LXByaWNlLWFtb3VudF0nKSxcbiAgICAgIHVuaXRQcmljZU1lYXN1cmU6IHRoaXMuJGRldGFpbHNbMF0ucXVlcnlTZWxlY3RvcignW2RhdGEtdW5pdC1wcmljZS1tZWFzdXJlXScpLFxuICAgICAgdGF4TGluZTogdGhpcy4kZGV0YWlsc1swXS5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YXgtbGluZV0nKSxcbiAgICB9O1xuXG4gICAgdGhpcy5mb3JtcyA9IG5ldyBGb3Jtcyh0aGlzLiRmb3JtKTtcblxuICAgIGlmICh0aGlzLmluU3RvY2tOb3RpZmljYXRpb25Gb3JtKSB7XG4gICAgICB0aGlzLmluU3RvY2tGb3JtID0gbmV3IEZvcm1zKHRoaXMuaW5TdG9ja05vdGlmaWNhdGlvbkZvcm0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb2R1Y3QgJiYgdGhpcy5wcm9kdWN0Lm1lZGlhLmxlbmd0aCkge1xuICAgICAgdGhpcy5nYWxsZXJ5ID0gbmV3IFByb2R1Y3RHYWxsZXJ5KHtcbiAgICAgICAgZWw6IG9wdGlvbnMuZ2FsbGVyeSxcbiAgICAgICAgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3MsXG4gICAgICAgIGlzUXVpY2tzaG9wOiBvcHRpb25zLmlzUXVpY2tzaG9wLFxuICAgICAgICBtb2RlbHM6IG9wdGlvbnMubW9kZWxzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICAgIHRoaXMuX2luaXRPcHRpb25zKCk7XG4gIH1cblxuICBvblF1aWNrc2hvcE9wZW4oKSB7XG4gICAgdGhpcy5nYWxsZXJ5Lm9uUXVpY2tzaG9wT3BlbigpO1xuICB9XG5cbiAgdW5sb2FkQWxsTWVkaWEoKSB7XG4gICAgaWYgKHRoaXMuZ2FsbGVyeSkge1xuICAgICAgdGhpcy5nYWxsZXJ5LnVubG9hZEFsbE1lZGlhKCk7XG4gICAgfVxuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuJGZvcm0ub2ZmKGAucHJvZHVjdC1kZXRhaWxzLSR7dGhpcy5zZXR0aW5ncy5zZWN0aW9uX2lkfWApO1xuICAgIHRoaXMuJHdpbmRvdy5vZmYoYC5wcm9kdWN0LWRldGFpbHMtJHt0aGlzLnNldHRpbmdzLnNlY3Rpb25faWR9YCk7XG4gICAgdGhpcy5mb3Jtcy51bmxvYWQoKTtcblxuICAgIGlmICh0aGlzLmluU3RvY2tGb3JtKSB7XG4gICAgICB0aGlzLmluU3RvY2tGb3JtLnVubG9hZCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZhcmlhbnRIZWxwZXIpIHtcbiAgICAgIHRoaXMudmFyaWFudEhlbHBlci51bmxvYWQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5nYWxsZXJ5KSB7XG4gICAgICB0aGlzLmdhbGxlcnkudW5sb2FkKCk7XG4gICAgfVxuICB9XG5cbiAgc2VsZWN0VmFyaWFudCh2YXJpYW50SWQpIHtcbiAgICBpZiAodmFyaWFudElkKSB7XG4gICAgICB0aGlzLnZhcmlhbnRIZWxwZXIuc2VsZWN0VmFyaWFudCh2YXJpYW50SWQpO1xuICAgIH1cbiAgICB0aGlzLmdhbGxlcnkudXBkYXRlU2xpZGVIZWlnaHQoKTtcbiAgfVxuXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuJHByb2R1Y3RPcHRpb25zLm9uKGBmb2N1cy5wcm9kdWN0LWRldGFpbHMtJHt0aGlzLnNldHRpbmdzLnNlY3Rpb25faWR9YCwgKCkgPT4ge1xuICAgICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB9KTtcbiAgICB0aGlzLiR3aW5kb3cub24oYHNob3BpZnktdmFyaWFudHM6c3dpdGNoLXZhcmlhbnQucHJvZHVjdC1kZXRhaWxzLSR7dGhpcy5zZXR0aW5ncy5zZWN0aW9uX2lkfWAsIChldmVudCwgZGF0YSkgPT4gdGhpcy5fc3dpdGNoVmFyaWFudChldmVudCwgZGF0YSkpO1xuICAgIHRoaXMuJGZvcm0ub24oYHN1Ym1pdC5wcm9kdWN0LWRldGFpbHMtJHt0aGlzLnNldHRpbmdzLnNlY3Rpb25faWR9YCwgZXZlbnQgPT4gdGhpcy5fQWRkVG9DYXJ0Rmx5b3V0KGV2ZW50KSk7XG4gIH1cblxuICBfaW5pdE9wdGlvbnMoKSB7XG4gICAgaWYgKCF0aGlzLiRwcm9kdWN0VmFyaWFudHMubGVuZ3RoKSByZXR1cm47XG5cbiAgICB0aGlzLnZhcmlhbnRIZWxwZXIgPSBuZXcgU2hvcGlmeVZhcmlhbnRzKFxuICAgICAgdGhpcy5wcm9kdWN0LFxuICAgICAgdGhpcy4kcHJvZHVjdFZhcmlhbnRzLFxuICAgICAgdGhpcy4kcHJvZHVjdE9wdGlvbnMsXG4gICAgICB7IG1peGVkQ29udHJvbHM6IHRydWUgfSxcbiAgICApO1xuICB9XG5cbiAgX3N3aXRjaFZhcmlhbnQoZXZlbnQsIGRhdGEpIHtcbiAgICBpZiAoZGF0YS5wcm9kdWN0ICE9PSB0aGlzLnByb2R1Y3QpIHJldHVybjtcblxuICAgIGNvbnN0IHZhcmlhbnQgPSBkYXRhLnZhcmlhbnQ7XG4gICAgY29uc3QgZmlyc3RMb2FkID0gZGF0YS5maXJzdExvYWQ7XG5cbiAgICBpZiAoZmlyc3RMb2FkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmVmb2N1cyB0aGUgYWN0aXZlIGVsZW1lbnQgKFNob3BpZnkgVmFyaWFudHMgY2F1c2VzIGVsZW1lbnQgdG8gbG9zZSBmb2N1cylcbiAgICBpZiAodGhpcy5hY3RpdmVFbGVtZW50KSB7XG4gICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgbWFpbiBzZWxlY3RcbiAgICB0aGlzLiRwcm9kdWN0VmFyaWFudHMudmFsKGRhdGEudmFyaWFudC5pZCk7XG4gICAgdGhpcy5nYWxsZXJ5LnNlbGVjdE1lZGlhQnlWYXJpYW50KHZhcmlhbnQpO1xuXG4gICAgLy8gVXBkYXRlIFZhcmlhbnQgaW5mb3JtYXRpb25cbiAgICB0aGlzLl91cGRhdGVQcmljZSh7IHByaWNlOiB2YXJpYW50LnByaWNlLCBjb21wYXJlX2F0X3ByaWNlOiB2YXJpYW50LmNvbXBhcmVfYXRfcHJpY2UgfSk7XG4gICAgdGhpcy5fdXBkYXRlU0tVKHZhcmlhbnQpO1xuICAgIHRoaXMuX3VwZGF0ZUJhZGdlKHZhcmlhbnQpO1xuICAgIHRoaXMuX3VwZGF0ZVN0b2NrTGV2ZWwodmFyaWFudCk7XG4gICAgdGhpcy5fdXBkYXRlQnV0dG9uKHZhcmlhbnQpO1xuICAgIHRoaXMuX3VwZGF0ZVN3YXRjaExhYmVsKHZhcmlhbnQpO1xuICAgIHRoaXMuX3VwZGF0ZUZ1bGxEZXRhaWxzTGluayh2YXJpYW50KTtcbiAgICB0aGlzLl91cGRhdGVVbml0UHJpY2UodmFyaWFudCk7XG5cbiAgICBpZiAodGhpcy51c2VIaXN0b3J5KSB7XG4gICAgICBjb25zdCB1cmwgPSBgJHsgdGhpcy5wcm9kdWN0LmhhbmRsZSB9PyR7JC5wYXJhbSh7IHZhcmlhbnQ6IHZhcmlhbnQuaWQgfSl9YDtcbiAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAndmFyaWFudCcsIHVybCk7XG4gICAgfVxuICB9XG5cbiAgX3VwZGF0ZVByaWNlKHByaWNlKSB7XG4gICAgLy8gVXBkYXRlIGNvbXBhcmUgYXQgcHJpY2VcbiAgICBjb25zdCBoYXNDb21wYXJlUHJpY2UgPSAoXG4gICAgICAhIXByaWNlLmNvbXBhcmVfYXRfcHJpY2UgJiYgcHJpY2UuY29tcGFyZV9hdF9wcmljZSA+IHByaWNlLnByaWNlXG4gICAgKTtcbiAgICB0aGlzLnZhcmlhbnRGaWVsZHMuJGNvbXBhcmVBdFByaWNlLnRvZ2dsZUNsYXNzKCd2aXNpYmxlJywgaGFzQ29tcGFyZVByaWNlKTtcbiAgICB0aGlzLnZhcmlhbnRGaWVsZHMuJGNvbXBhcmVBdFByaWNlTW9uZXkudGV4dChTaG9waWZ5LmZvcm1hdE1vbmV5KHByaWNlLmNvbXBhcmVfYXRfcHJpY2UsIHRoaXMuc2V0dGluZ3MubW9uZXlfZm9ybWF0KSk7XG5cbiAgICAvLyBVcGRhdGUgcHJpY2VcbiAgICB0aGlzLnZhcmlhbnRGaWVsZHMuJHByaWNlTW9uZXkudGV4dChTaG9waWZ5LmZvcm1hdE1vbmV5KHByaWNlLnByaWNlLCB0aGlzLnNldHRpbmdzLm1vbmV5X2Zvcm1hdCkpO1xuICB9XG5cbiAgX3VwZGF0ZVNLVSh2YXJpYW50KSB7XG4gICAgaWYgKHZhcmlhbnQuc2t1ID09PSAnJykge1xuICAgICAgdGhpcy52YXJpYW50RmllbGRzLiRza3UucGFyZW50KCkuYWRkQ2xhc3MoJ3Byb2R1Y3Qtc2t1LS1lbXB0eScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhcmlhbnRGaWVsZHMuJHNrdS5wYXJlbnQoKS5yZW1vdmVDbGFzcygncHJvZHVjdC1za3UtLWVtcHR5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy52YXJpYW50RmllbGRzLiRza3UudGV4dCh2YXJpYW50LnNrdSk7XG4gIH1cblxuICBfdXBkYXRlQmFkZ2UodmFyaWFudCkge1xuICAgIGNvbnN0IHByaWNlU2F2ZWQgPSB2YXJpYW50LmNvbXBhcmVfYXRfcHJpY2UgPyB2YXJpYW50LmNvbXBhcmVfYXRfcHJpY2UgLSB2YXJpYW50LnByaWNlIDogMDtcbiAgICB0aGlzLnZhcmlhbnRGaWVsZHMuJGJhZGdlLnRvZ2dsZSghIXByaWNlU2F2ZWQpO1xuXG4gICAgaWYgKHRoaXMudmFyaWFudEZpZWxkcy4kYmFkZ2VNb25leVNhdmVkLmxlbmd0aCkge1xuICAgICAgLy8gVXBkYXRlIGJhZGdlIGlmIGl0IHNob3dzIG1vbmV5IHNhdmVkXG4gICAgICB0aGlzLnZhcmlhbnRGaWVsZHMuJGJhZGdlTW9uZXlTYXZlZFswXS5pbm5lckhUTUwgPSBTaG9waWZ5LmZvcm1hdE1vbmV5KHByaWNlU2F2ZWQsIHRoaXMuc2V0dGluZ3MubW9uZXlfZm9ybWF0KVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZhcmlhbnRGaWVsZHMuJGJhZGdlUGVyY2VudFNhdmVkLmxlbmd0aCkge1xuICAgICAgLy8gVXBkYXRlIGJhZGdlIGlmIGl0IHNob3dzIHBlcmNlbnRpbGVzXG4gICAgICBjb25zdCBwZXJjZW50aWxlU2F2ZWQgPSBNYXRoLnJvdW5kKChwcmljZVNhdmVkICogMTAwKSAvIHZhcmlhbnQuY29tcGFyZV9hdF9wcmljZSk7XG4gICAgICB0aGlzLnZhcmlhbnRGaWVsZHMuJGJhZGdlUGVyY2VudFNhdmVkLnRleHQocGVyY2VudGlsZVNhdmVkKTtcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlU3RvY2tMZXZlbCh2YXJpYW50KSB7XG4gICAgaWYgKCF0aGlzLnNldHRpbmdzLmVuYWJsZVN0b2NrQmFkZ2UpIHJldHVybjtcblxuICAgIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG5cbiAgICBpZiAoIXVybC5pbmNsdWRlcygnL3Byb2R1Y3RzJykpIHtcbiAgICAgIHVybCA9IGAke3VybH0vcHJvZHVjdHMvJHt0aGlzLnByb2R1Y3QuaGFuZGxlfWBcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICB2aWV3OiAnX3N0b2NrLWxldmVsJyxcbiAgICAgIHZhcmlhbnQ6IHZhcmlhbnQuaWQsXG4gICAgfVxuXG4gICAgaWYgKHZhcmlhbnQuaW52ZW50b3J5X21hbmFnZW1lbnQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMudmFyaWFudEZpZWxkcy4kc3RvY2tMZXZlbC5odG1sKCcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgQXN5bmNWaWV3LmxvYWQodXJsLCBwYXJhbXMpXG4gICAgICAgIC50aGVuKCh7IGh0bWwsIGRhdGEgfSkgPT4ge1xuICAgICAgICAgIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIGZyYWdtZW50LmlubmVySFRNTCA9IGh0bWwuc3RvY2tMZXZlbDtcblxuICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gZnJhZ21lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtLXN0b2NrLWxldmVsJyk7XG5cbiAgICAgICAgICB0aGlzLnZhcmlhbnRGaWVsZHMuJHN0b2NrTGV2ZWwuaHRtbChyZXBsYWNlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVCdXR0b24odmFyaWFudCkge1xuICAgIGlmICh2YXJpYW50LmF2YWlsYWJsZSkge1xuICAgICAgdGhpcy4kcHJvZHVjdEF0Y0J1dHRvbi50ZXh0KHRoaXMuY29udGV4dC5wcm9kdWN0X2F2YWlsYWJsZSk7XG4gICAgICB0aGlzLiRwcm9kdWN0QXRjQnV0dG9uXG4gICAgICAgIC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKVxuICAgICAgICAucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJHByb2R1Y3RBdGNCdXR0b24udGV4dCh0aGlzLmNvbnRleHQucHJvZHVjdF91bmF2YWlsYWJsZSk7XG4gICAgICB0aGlzLiRwcm9kdWN0QXRjQnV0dG9uXG4gICAgICAgIC5hZGRDbGFzcygnZGlzYWJsZWQnKVxuICAgICAgICAucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlU3dhdGNoTGFiZWwodmFyaWFudCkge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVN3YXRjaGVzKSB7XG4gICAgICBjb25zdCBzd2F0Y2hMYWJlbCA9IHRoaXMuJGZvcm1bMF0ucXVlcnlTZWxlY3RvcignW2RhdGEtb3B0aW9uLXN3YXRjaC12YWx1ZV0nKTtcbiAgICAgIGlmIChzd2F0Y2hMYWJlbCkge1xuICAgICAgICBzd2F0Y2hMYWJlbC5pbm5lclRleHQgPSB2YXJpYW50Lm9wdGlvbnNbcGFyc2VJbnQoc3dhdGNoTGFiZWwuZGF0YXNldC5vcHRpb25Td2F0Y2hWYWx1ZSwgMTApXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfdXBkYXRlRnVsbERldGFpbHNMaW5rKHZhcmlhbnQpIHtcbiAgICBpZiAodGhpcy5kZXRhaWxzTGluaykge1xuICAgICAgdGhpcy5kZXRhaWxzTGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgJHt0aGlzLmRldGFpbHNCYXNlSHJlZn0/dmFyaWFudD0ke3ZhcmlhbnQuaWR9YCk7XG4gICAgfVxuICB9XG5cbiAgX3VwZGF0ZVVuaXRQcmljZSh2YXJpYW50KSB7XG4gICAgaWYgKHRoaXMudmFyaWFudEZpZWxkcy51bml0UHJpY2UgJiYgdmFyaWFudC51bml0X3ByaWNlX21lYXN1cmVtZW50KSB7XG4gICAgICB0aGlzLnZhcmlhbnRGaWVsZHMudG90YWxRdWFudGl0eS5pbm5lckhUTUwgPSBgJHt2YXJpYW50LnVuaXRfcHJpY2VfbWVhc3VyZW1lbnQucXVhbnRpdHlfdmFsdWV9JHt2YXJpYW50LnVuaXRfcHJpY2VfbWVhc3VyZW1lbnQucXVhbnRpdHlfdW5pdH1gO1xuXG4gICAgICB0aGlzLnZhcmlhbnRGaWVsZHMudW5pdFByaWNlQW1vdW50LmlubmVySFRNTCA9IFNob3BpZnkuZm9ybWF0TW9uZXkodmFyaWFudC51bml0X3ByaWNlLCB0aGlzLnNldHRpbmdzLm1vbmV5X2Zvcm1hdCk7XG4gICAgICBpZiAodmFyaWFudC51bml0X3ByaWNlX21lYXN1cmVtZW50LnJlZmVyZW5jZV92YWx1ZSA9PT0gMSkge1xuICAgICAgICB0aGlzLnZhcmlhbnRGaWVsZHMudW5pdFByaWNlTWVhc3VyZS5pbm5lckhUTUwgPSB2YXJpYW50LnVuaXRfcHJpY2VfbWVhc3VyZW1lbnQucmVmZXJlbmNlX3VuaXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZhcmlhbnRGaWVsZHMudW5pdFByaWNlTWVhc3VyZS5pbm5lckhUTUwgPSBgJHt2YXJpYW50LnVuaXRfcHJpY2VfbWVhc3VyZW1lbnQucmVmZXJlbmNlX3ZhbHVlfSR7dmFyaWFudC51bml0X3ByaWNlX21lYXN1cmVtZW50LnJlZmVyZW5jZV91bml0fWA7XG4gICAgICB9XG4gICAgICB0aGlzLnZhcmlhbnRGaWVsZHMudW5pdFByaWNlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH0gZWxzZSBpZiAodGhpcy52YXJpYW50RmllbGRzLnVuaXRQcmljZSkge1xuICAgICAgdGhpcy52YXJpYW50RmllbGRzLnVuaXRQcmljZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52YXJpYW50RmllbGRzLnRheExpbmUpIHtcbiAgICAgIGlmICh2YXJpYW50LnRheGFibGUpIHtcbiAgICAgICAgdGhpcy52YXJpYW50RmllbGRzLnRheExpbmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZhcmlhbnRGaWVsZHMudGF4TGluZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfQWRkVG9DYXJ0Rmx5b3V0KGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gdGhpcy4kZm9ybS5zZXJpYWxpemVBcnJheSgpO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICRhdGNCdXR0b246IHRoaXMuJHByb2R1Y3RBdGNCdXR0b24sXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBtb25leUZvcm1hdDogdGhpcy5zZXR0aW5ncy5tb25leV9mb3JtYXQsXG4gICAgICAgIGNhcnRSZWRpcmVjdGlvbjogdGhpcy5zZXR0aW5ncy5jYXJ0X3JlZGlyZWN0aW9uLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgQWRkVG9DYXJ0Rmx5b3V0LmluaXQoZm9ybURhdGEsIHRoaXMucHJvZHVjdCwgb3B0aW9ucywgdGhpcy5hdGNDYWxsYmFja3MpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/ProductDetails.js\n");

/***/ }),

/***/ "./source/scripts/components/ProductGallery.js":
/*!*****************************************************!*\
  !*** ./source/scripts/components/ProductGallery.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductGallery; });\n/* harmony import */ var drift_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drift-zoom */ \"./node_modules/drift-zoom/es/Drift.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pixelunion_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/events */ \"./node_modules/@pixelunion/events/dist/EventHandler.js\");\n/* harmony import */ var _pixelunion_events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Layout */ \"./source/scripts/Layout.js\");\n/* harmony import */ var _Video__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Video */ \"./source/scripts/components/Video.js\");\n/* harmony import */ var _ProductClickToZoom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ProductClickToZoom */ \"./source/scripts/components/ProductClickToZoom.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar ProductGallery = /*#__PURE__*/function () {\n  function ProductGallery(options) {\n    var _this = this;\n\n    _classCallCheck(this, ProductGallery);\n\n    this.el = options.el;\n    this.settings = options.settings;\n    this.isQuickshop = options.isQuickshop || false;\n    this.modelJson = options.models;\n    this.events = new _pixelunion_events__WEBPACK_IMPORTED_MODULE_2___default.a();\n    this.viewer = this.el.querySelector('[data-gallery-viewer]');\n    this.navigation = this.el.querySelector('[data-gallery-navigation]');\n    this.navScroller = this.el.querySelector('[data-gallery-scroller]');\n    this.navScrollerButtons = this.el.querySelectorAll('[data-gallery-scroll-button]');\n    this.figures = this.viewer.querySelectorAll('[data-gallery-figure]');\n    this.thumbnails = this.navigation.querySelectorAll('[data-gallery-thumbnail]');\n    this.zoomButton = this.viewer.querySelector('[data-gallery-expand]');\n    this.selected = {\n      figure: this.viewer.querySelector('[data-gallery-selected=\"true\"]'),\n      thumbnail: this.navigation.querySelector('[data-gallery-selected=\"true\"]')\n    };\n    this.models = {};\n    this.videos = {};\n    this.selectedVideo = null;\n    this.selectedModel = null;\n    this.showingInitialSlide = true;\n    this.updateSlideHeight = this._setSlideHeight.bind(this);\n    this._setupSelectedVideo = this._setupSelectedVideo.bind(this);\n    var features = [];\n\n    if (this.el.querySelector('[data-media-type=\"video\"]')) {\n      Promise.all([new Promise(function (resolve) {\n        if (!document.querySelector('#plyr-stylesheet')) {\n          var link = document.createElement('link');\n          link.setAttribute('id', 'plyr-stylesheet');\n          link.setAttribute('rel', 'stylesheet');\n          link.setAttribute('href', 'https://cdn.shopify.com/shopifycloud/shopify-plyr/v1.0/shopify-plyr.css');\n          link.onload = resolve;\n          document.body.appendChild(link);\n        } else {\n          resolve();\n        }\n      }), new Promise(function (resolve) {\n        features.push({\n          name: 'video-ui',\n          version: '1.0',\n          onLoad: resolve\n        });\n      })]).then(function () {\n        return _this._setupSelectedVideo();\n      });\n    }\n\n    if (this.el.querySelector('[data-media-type=\"model\"]')) {\n      this.viewInYourSpaceEl = this.el.querySelector('[data-shopify-xr]');\n      this.events.register(this.viewInYourSpaceEl, 'click', function (e) {\n        return _this._onViewInYourSpaceClick(e);\n      });\n      features.push({\n        name: 'model-viewer-ui',\n        version: '1.0',\n        onLoad: function onLoad() {\n          return _this._onModelLibraryLoad();\n        }\n      });\n      features.push({\n        name: 'shopify-xr',\n        version: '1.0',\n        onLoad: function onLoad() {\n          return _this._onShopifyXRLoad();\n        }\n      });\n    }\n\n    if (features.length) {\n      window.Shopify.loadFeatures(features);\n    }\n\n    if (this.isQuickshop) {\n      var quickshopModal = document.querySelector('[data-modal-container]');\n      quickshopModal.classList.add('quickshop-thumbs-left'); // Because of the way the quickshop is animated to open, if a video is first in the\n      // gallery the height of the slide will not be correct, so we need to wait until all the\n      // transitions end. This will only fire once, as opposed to listening to transitionend.\n      // this is especially important if the thumbnails are left aligned.\n\n      if (this.figures[0].dataset.mediaType === 'video') {\n        setTimeout(function () {\n          return _this._setSlideHeight();\n        }, 800);\n      }\n    }\n\n    this.events.register(this.navScroller, 'click', function (e) {\n      return _this._onThumbnailClick(e);\n    });\n    this.events.register(this.navScroller, 'scroll', function () {\n      return _this._handleScrollButtonVisibility();\n    });\n    this.events.register(this.navScrollerButtons[0], 'click', function () {\n      return _this._onScrollButtonClick(true);\n    });\n    this.events.register(this.navScrollerButtons[1], 'click', function () {\n      return _this._onScrollButtonClick(false);\n    });\n\n    if (this.settings.click_to_zoom !== 'disabled') {\n      var onZoomButtonClick = function onZoomButtonClick(e) {\n        e.stopPropagation();\n\n        _this._openImageZoom();\n      };\n\n      this.events.register(this.zoomButton, 'click', function (e) {\n        return onZoomButtonClick(e);\n      });\n      this.events.register(this.viewer, 'click', function (e) {\n        return onZoomButtonClick(e);\n      });\n    }\n\n    this._onResize = this._onResize.bind(this);\n    this.events.register(window, 'resize', function () {\n      return _this._onResize();\n    });\n\n    if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('S')) {\n      this._setupFlickity();\n\n      this._handleScrollButtonVisibility();\n    }\n\n    this._selectMediaByEl(this.selected.figure);\n  }\n\n  _createClass(ProductGallery, [{\n    key: \"selectMediaByVariant\",\n    value: function selectMediaByVariant(variant) {\n      if (!variant.featured_media) return;\n      var slide = this.viewer.querySelector(\"[data-media=\\\"\".concat(variant.featured_media.id, \"\\\"]\"));\n\n      this._selectMediaByEl(slide);\n    } // There are a few things we have to reset when the quickshop is opened. This is to catch\n    // the situation where if a quickshop is closed and then re-opened, especially after\n    // screen resize.\n\n  }, {\n    key: \"onQuickshopOpen\",\n    value: function onQuickshopOpen() {\n      this._setSlideHeight();\n\n      this._handleScrollButtonVisibility();\n\n      this._selectMediaByEl(this.selected.figure);\n    }\n  }, {\n    key: \"unloadAllMedia\",\n    value: function unloadAllMedia() {\n      for (var i = 0; i < this.figures.length; i++) {\n        if (this.models[i]) {\n          this.models[i].destroy();\n          this.models[i] = null;\n        }\n\n        if (this.videos[i]) {\n          this.videos[i].destroy();\n          this.videos[i] = null;\n        }\n      }\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.events.unregisterAll();\n      this.unloadAllMedia();\n\n      if (this.isQuickshop) {\n        rimg_shopify__WEBPACK_IMPORTED_MODULE_3__[\"default\"].unwatch(this.el);\n      }\n\n      this._closeImageZoom();\n\n      this._disableHoverZoom();\n\n      this._disableFlickity();\n    }\n  }, {\n    key: \"_onModelLibraryLoad\",\n    value: function _onModelLibraryLoad() {\n      var _this2 = this;\n\n      var onPlayListener = function onPlayListener() {\n        if (_this2.flickity) {\n          _this2.flickity.unbindDrag();\n        }\n      };\n\n      var onPauseListener = function onPauseListener() {\n        if (_this2.flickity) {\n          _this2.flickity.bindDrag();\n        }\n      };\n\n      this.el.querySelectorAll('.product-gallery--model').forEach(function (figureEl) {\n        var modelEl = figureEl.querySelector('model-viewer');\n        var galleryIndex = figureEl.dataset.galleryIndex;\n        var controls = ['zoom-in', 'zoom-out'];\n        if (document.fullscreenEnabled) controls.push('fullscreen');\n        _this2.models[galleryIndex] = new Shopify.ModelViewerUI(modelEl, {\n          controls: controls\n        });\n\n        _this2.events.register(modelEl, 'shopify_model_viewer_ui_toggle_play', onPlayListener);\n\n        _this2.events.register(modelEl, 'shopify_model_viewer_ui_toggle_pause', onPauseListener);\n      });\n    }\n  }, {\n    key: \"_onShopifyXRLoad\",\n    value: function _onShopifyXRLoad() {\n      if (this.modelJson) {\n        window.ShopifyXR = window.ShopifyXR || function () {\n          (ShopifyXR.q = ShopifyXR.q || []).push(arguments);\n        }; // eslint-disable-line\n\n\n        if (window.ShopifyXR.addModels) {\n          window.ShopifyXR.addModels(this.modelJson);\n        } else {\n          window.ShopifyXR('addModels', this.modelJson);\n        }\n      }\n    }\n  }, {\n    key: \"_onResize\",\n    value: function _onResize() {\n      if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('S', true)) {\n        this._disableFlickity();\n      } else {\n        this._setupFlickity();\n      }\n\n      if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('L', true) && !this.drift) {\n        this._setupHoverZoom();\n      } else if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('L')) {\n        this._disableHoverZoom();\n      }\n\n      this._adjustGalleryPositioning();\n\n      this._handleScrollButtonVisibility();\n    }\n  }, {\n    key: \"_onThumbnailClick\",\n    value: function _onThumbnailClick(e) {\n      var button;\n      this.showingInitialSlide = false; // We use pointer-events: none on all of the elements within the thumbnail\n      // so that any click event will be triggered on the button.\n\n      if (e.target.classList.contains('product-gallery--media-thumbnail')) {\n        button = e.target;\n      } else {\n        return;\n      }\n\n      var selectedIndex = parseInt(button.dataset.galleryIndex, 10);\n\n      if (this.flickity) {\n        this.flickity.select(selectedIndex);\n      } else {\n        this._selectMediaByIndex(selectedIndex);\n      }\n    }\n  }, {\n    key: \"_onViewInYourSpaceClick\",\n    value: function _onViewInYourSpaceClick(e) {\n      var currentTarget = e.currentTarget;\n      var figure = this.viewer.querySelector(\"[data-media=\\\"\".concat(currentTarget.dataset.shopifyModel3dId, \"\\\"]\"));\n\n      this._selectMediaByEl(figure);\n    }\n  }, {\n    key: \"_selectMediaByEl\",\n    value: function _selectMediaByEl(el) {\n      this._selectMediaByIndex(parseInt(el.dataset.galleryIndex, 10));\n    }\n  }, {\n    key: \"_selectMediaByIndex\",\n    value: function _selectMediaByIndex(index) {\n      var figure = this.figures[index];\n      this.selected.figure.dataset.gallerySelected = false;\n      this.selected.figure.setAttribute('aria-hidden', true);\n      this.selected.figure = figure;\n      this.selected.figure.dataset.gallerySelected = true;\n      this.selected.figure.setAttribute('aria-hidden', false);\n      this.selected.thumbnail.dataset.gallerySelected = false;\n      this.selected.thumbnail = this.thumbnails[index];\n      this.selected.thumbnail.dataset.gallerySelected = true;\n      var _this$selected$figure = this.selected.figure.dataset,\n          media = _this$selected$figure.media,\n          mediaType = _this$selected$figure.mediaType;\n      this.viewer.dataset.selectedMediaType = mediaType;\n\n      this._disableHoverZoom();\n\n      if (this.selectedModel) {\n        this.selectedModel.pause();\n      }\n\n      if (this.models[figure.dataset.galleryIndex]) {\n        this.selectedModel = this.models[figure.dataset.galleryIndex];\n\n        if (!document.documentElement.classList.contains('has-touch') && !this.showingInitialSlide) {\n          this.selectedModel.play();\n        }\n      }\n\n      if (this.selectedVideo) {\n        this.selectedVideo.pause();\n      }\n\n      if (this.viewInYourSpaceEl) {\n        this.viewInYourSpaceEl.dataset.shopifyModel3dId = this.viewInYourSpaceEl.dataset.defaultModelId;\n      }\n\n      switch (mediaType) {\n        case 'model':\n          this.viewInYourSpaceEl.dataset.shopifyModel3dId = media;\n          break;\n\n        case 'video':\n        case 'external_video':\n          this._setupSelectedVideo();\n\n          break;\n\n        case 'image':\n          this._setupHoverZoom();\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (this.flickity) {\n        this.flickity.bindDrag();\n        this.flickity.select(index);\n      }\n\n      this._adjustGalleryPositioning();\n    }\n  }, {\n    key: \"_setupSelectedVideo\",\n    value: function _setupSelectedVideo() {\n      if (this.selectedVideo) {\n        this.selectedVideo.pause();\n      }\n\n      var _this$selected$figure2 = this.selected.figure.dataset,\n          mediaType = _this$selected$figure2.mediaType,\n          galleryIndex = _this$selected$figure2.galleryIndex;\n      var shouldAutoplay = _Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('L', true) && this.settings.gallery_video_autoplay && !this.showingInitialSlide;\n\n      if (mediaType === 'video' || mediaType === 'external_video') {\n        var videoElement;\n\n        if (this.videos[galleryIndex]) {\n          this.selectedVideo = this.videos[galleryIndex];\n          if (shouldAutoplay) this.selectedVideo.play();\n        } else {\n          if (mediaType === 'video') {\n            // Plyr hasn't loaded yet, will be called again after loadFeatures\n            if (!Shopify.Plyr) return;\n            videoElement = this.selected.figure.querySelector('video');\n            this.selectedVideo = new Shopify.Plyr(videoElement, {\n              loop: {\n                active: this.settings.gallery_video_looping\n              }\n            });\n            if (shouldAutoplay) this.selectedVideo.play();\n          } else {\n            videoElement = this.selected.figure.querySelector('[data-video]');\n            this.selectedVideo = new _Video__WEBPACK_IMPORTED_MODULE_5__[\"default\"](videoElement, {\n              loop: this.settings.gallery_video_looping\n            });\n            if (shouldAutoplay) this.selectedVideo.play();\n          }\n\n          this.videos[galleryIndex] = this.selectedVideo;\n        }\n\n        this.selected.figure.focus();\n      }\n    }\n  }, {\n    key: \"_setupHoverZoom\",\n    value: function _setupHoverZoom() {\n      var _this3 = this;\n\n      if (this.settings.hover_zoom === 'disabled' || !_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('L', true) || this.selected.figure.dataset.mediaType !== 'image' || document.documentElement.classList.contains('has-touch')) return;\n      var selectedImage = this.selected.figure.querySelector('[data-rimg]');\n      selectedImage.setAttribute('data-zoom', this.selected.figure.getAttribute('data-zoom'));\n      this.drift = new drift_zoom__WEBPACK_IMPORTED_MODULE_0__[\"default\"](selectedImage, {\n        paneContainer: this.settings.hover_zoom === 'separate' ? this.el.querySelector('[data-zoomed-image]') : this.selected.figure,\n        inlinePane: false,\n        hoverBoundingBox: this.settings.hover_zoom === 'separate',\n        handleTouch: false,\n        onShow: function onShow() {\n          if (_this3.settings.hover_zoom === 'separate') {\n            document.body.classList.add('product-gallery--fade');\n          }\n        },\n        onHide: function onHide() {\n          if (_this3.settings.hover_zoom === 'separate') {\n            document.body.classList.remove('product-gallery--fade');\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_disableHoverZoom\",\n    value: function _disableHoverZoom() {\n      if (this.drift) {\n        this.drift.disable();\n        this.drift = null;\n      }\n    }\n  }, {\n    key: \"_setupFlickity\",\n    value: function _setupFlickity() {\n      var _this4 = this;\n\n      if (this.flickity || !_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('S')) return;\n      this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_1___default.a(this.viewer, {\n        accessibility: false,\n        adaptiveHeight: true,\n        cellSelector: '.product-gallery--media',\n        contain: true,\n        friction: 0.5,\n        freeScroll: false,\n        initialIndex: parseInt(this.selected.figure.dataset.galleryIndex, 10),\n        lazyLoad: false,\n        percentPosition: false,\n        prevNextButtons: false,\n        pageDots: false,\n        selectedAttraction: 0.1,\n        setGallerySize: false,\n        wrapAround: true\n      });\n      this.flickityEvent = this.events.register(this.settings.lazy_load ? this.viewer : this.selected.figure.querySelector('img'), this.settings.lazy_load ? 'rimg:load' : 'load', function () {\n        return _this4._setSlideHeight();\n      });\n      this.flickity.on('change', function (index) {\n        _this4.showingInitialSlide = false;\n\n        _this4._selectMediaByEl(_this4.figures[index]);\n      }); // Flickity controls the pointerdown event which prevents model-viewer-ui from\n      // triggering .play() on mouseup. This returns this functionality.\n\n      this.flickity.on('staticClick', function (event, pointer, cellElement) {\n        var figure = cellElement.querySelector('.product-gallery--model');\n\n        if (figure && _this4.models[figure.dataset.galleryIndex]) {\n          var model = _this4.models[figure.dataset.galleryIndex];\n          model.play();\n        }\n      });\n      this.flickity.on('pointerDown', function () {\n        // Removes the focus ring when swiping with touch device\n        _this4.viewer.blur();\n      }); // We need to disable the product zoom open if a user is swiping\n      // This was an issue on mouse gestures, not on touch\n\n      if (this.settings.click_to_zoom !== 'disabled' && document.documentElement.classList.contains('no-touch')) {\n        this.flickity.on('dragEnd', function () {\n          _this4.swiped = true;\n        });\n      }\n\n      this._setSlideHeight();\n    }\n  }, {\n    key: \"_disableFlickity\",\n    value: function _disableFlickity() {\n      if (this.flickity) {\n        this.flickity.destroy();\n        this.flickity = null;\n        this.events.unregister(this.flickityEvent);\n      }\n    }\n  }, {\n    key: \"_setSlideHeight\",\n    value: function _setSlideHeight() {\n      this.navigation.classList.remove('loading'); // Use the stored image height for situations where the DOM is in a midway state.\n\n      var containerHeight = this.storedImageHeight || this.selected.figure.getBoundingClientRect().height;\n      this.storedImageHeight = null;\n\n      if (containerHeight > 0) {\n        this.viewer.style.height = \"\".concat(containerHeight, \"px\");\n      }\n    }\n  }, {\n    key: \"_adjustGalleryPositioning\",\n    value: function _adjustGalleryPositioning() {\n      var _this5 = this;\n\n      if (this.settings.thumbnail_position === 'left') {\n        if (this.isQuickshop) {\n          if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('L', true)) {\n            this.el.dataset.productGalleryThumbs = 'left';\n          } else {\n            this.storedImageHeight = this.selected.figure.getBoundingClientRect().height;\n            this.el.dataset.productGalleryThumbs = 'center';\n          }\n        } // We need to adjust the width of the thumbnails if they are positioned left\n        // and they wrap into 2 columns. CSS flexbox does not cause the width of the\n        // element to stretch. Looks like it's a problem with flexbox when wrapping columns:\n        // https://stackoverflow.com/questions/33891709/when-flexbox-items-wrap-in-column-mode-container-does-not-grow-its-width\n\n\n        if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('L', true) || _Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('S', true) && !this.isQuickshop) {\n          if (this.el.firstChild !== this.navigation) {\n            var activeButton = document.activeElement;\n            this.el.insertBefore(this.navigation, this.viewer);\n            activeButton.focus(); // This prevents loss of focus if one of the thumbnails are selected\n          } // When switching layouts in the editor sometimes we need to wait for a few milliseconds\n          // before positioning the thumbs.\n\n\n          setTimeout(function () {\n            // Double check that the layout is the correct size, since the timeout will\n            if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('L', true) || _Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('S', true) && !_this5.isQuickshop) {\n              var leftmostBounds = _this5.thumbnails[0].getBoundingClientRect();\n\n              var thumbStyle = _this5.thumbnails[0].currentStyle || window.getComputedStyle(_this5.thumbnails[0]);\n              var thumbMargin = parseInt(thumbStyle.marginLeft, 10) * 2;\n              var wrapped = Array.prototype.some.call(_this5.thumbnails, function (thumb) {\n                return thumb.getBoundingClientRect().left > leftmostBounds.left;\n              });\n\n              if (wrapped) {\n                _this5.navigation.style.width = \"\".concat((leftmostBounds.width + thumbMargin) * 2, \"px\");\n                _this5.navigation.style.maxWidth = \"\".concat((leftmostBounds.width + thumbMargin) * 2, \"px\");\n              }\n            } else {\n              _this5.navigation.style.width = '';\n              _this5.navigation.style.maxWidth = '';\n            }\n\n            _this5._setSlideHeight();\n          }, 500);\n        } else {\n          if (this.el.firstElementChild === this.navigation) {\n            this.el.appendChild(this.navigation);\n          }\n\n          this.navigation.style.width = '';\n          this.navigation.style.maxWidth = '';\n\n          this._setSlideHeight();\n        }\n\n        if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('S')) {\n          this._adjustMobileThumbnailPosition();\n        }\n      } else {\n        this._setSlideHeight();\n\n        this._adjustMobileThumbnailPosition();\n      }\n    }\n  }, {\n    key: \"_adjustMobileThumbnailPosition\",\n    value: function _adjustMobileThumbnailPosition() {\n      // This brings the thumbnail into view if it is not visible on the screen after\n      // a user swipes to a slide that it is tied to. Only important on mobile.\n      if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('S') || _Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('L') && this.isQuickshop) {\n        var thumbBounds = this.selected.thumbnail.getBoundingClientRect();\n        var thumbWrapperBounds = this.navScroller.getBoundingClientRect();\n\n        if (this.selected.thumbnail.offsetLeft + thumbBounds.width + 30 - this.navScroller.scrollLeft > thumbWrapperBounds.width) {\n          this.navScroller.scrollLeft = this.selected.thumbnail.offsetLeft + thumbBounds.width - thumbWrapperBounds.width + 35;\n        } else if (this.selected.thumbnail.offsetLeft < this.navScroller.scrollLeft) {\n          this.navScroller.scrollLeft = this.selected.thumbnail.offsetLeft - 35;\n        }\n      }\n    }\n  }, {\n    key: \"_handleScrollButtonVisibility\",\n    value: function _handleScrollButtonVisibility() {\n      if (_Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('S') || _Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('L') && this.isQuickshop) {\n        // We use 4px here just to ensure the user has scrolled a little bit before\n        // showing the buttons.\n        if (this.navScroller.scrollLeft > 4) {\n          this.navScrollerButtons[0].classList.add('visible');\n        } else {\n          this.navScrollerButtons[0].classList.remove('visible');\n        }\n\n        if (this.navScroller.scrollLeft < this.navScroller.scrollWidth - this.navScroller.clientWidth) {\n          this.navScrollerButtons[1].classList.add('visible');\n        } else {\n          this.navScrollerButtons[1].classList.remove('visible');\n        }\n      } else {\n        this.navScrollerButtons[0].classList.remove('visible');\n        this.navScrollerButtons[1].classList.remove('visible');\n      }\n    }\n  }, {\n    key: \"_onScrollButtonClick\",\n    value: function _onScrollButtonClick(scrollRight) {\n      if (scrollRight) {\n        this.navScroller.scrollLeft = this.navScroller.scrollLeft - 100;\n      } else {\n        this.navScroller.scrollLeft = this.navScroller.scrollLeft + 100;\n      }\n    }\n  }, {\n    key: \"_closeImageZoom\",\n    value: function _closeImageZoom() {\n      if (this.imageZoom) {\n        this.imageZoom.unload();\n        this.imageZoom = null;\n      }\n    }\n  }, {\n    key: \"_openImageZoom\",\n    value: function _openImageZoom() {\n      var _this6 = this;\n\n      if (this.selected.figure.dataset.mediaType !== 'image' || _Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isGreaterThanBreakpoint('L') && this.settings.click_to_zoom === 'mobile' || _Layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isLessThanBreakpoint('L') && this.settings.click_to_zoom === 'desktop') return;\n\n      if (this.swiped) {\n        this.swiped = false;\n        return;\n      }\n\n      this._closeImageZoom();\n\n      this.imageZoom = new _ProductClickToZoom__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n        settings: this.settings,\n        slides: this.figures,\n        originalThumbnails: this.thumbnails,\n        startIndex: parseInt(this.selected.figure.dataset.galleryIndex, 10),\n        selectGalleryIndex: function selectGalleryIndex(index) {\n          return _this6._selectMediaByIndex(index);\n        }\n      });\n    }\n  }]);\n\n  return ProductGallery;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1Byb2R1Y3RHYWxsZXJ5LmpzPzFjMGYiXSwibmFtZXMiOlsiUHJvZHVjdEdhbGxlcnkiLCJvcHRpb25zIiwiZWwiLCJzZXR0aW5ncyIsImlzUXVpY2tzaG9wIiwibW9kZWxKc29uIiwibW9kZWxzIiwiZXZlbnRzIiwiRXZlbnRIYW5kbGVyIiwidmlld2VyIiwicXVlcnlTZWxlY3RvciIsIm5hdmlnYXRpb24iLCJuYXZTY3JvbGxlciIsIm5hdlNjcm9sbGVyQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaWd1cmVzIiwidGh1bWJuYWlscyIsInpvb21CdXR0b24iLCJzZWxlY3RlZCIsImZpZ3VyZSIsInRodW1ibmFpbCIsInZpZGVvcyIsInNlbGVjdGVkVmlkZW8iLCJzZWxlY3RlZE1vZGVsIiwic2hvd2luZ0luaXRpYWxTbGlkZSIsInVwZGF0ZVNsaWRlSGVpZ2h0IiwiX3NldFNsaWRlSGVpZ2h0IiwiYmluZCIsIl9zZXR1cFNlbGVjdGVkVmlkZW8iLCJmZWF0dXJlcyIsIlByb21pc2UiLCJhbGwiLCJyZXNvbHZlIiwiZG9jdW1lbnQiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsIm9ubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInB1c2giLCJuYW1lIiwidmVyc2lvbiIsIm9uTG9hZCIsInRoZW4iLCJ2aWV3SW5Zb3VyU3BhY2VFbCIsInJlZ2lzdGVyIiwiZSIsIl9vblZpZXdJbllvdXJTcGFjZUNsaWNrIiwiX29uTW9kZWxMaWJyYXJ5TG9hZCIsIl9vblNob3BpZnlYUkxvYWQiLCJsZW5ndGgiLCJ3aW5kb3ciLCJTaG9waWZ5IiwibG9hZEZlYXR1cmVzIiwicXVpY2tzaG9wTW9kYWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRhc2V0IiwibWVkaWFUeXBlIiwic2V0VGltZW91dCIsIl9vblRodW1ibmFpbENsaWNrIiwiX2hhbmRsZVNjcm9sbEJ1dHRvblZpc2liaWxpdHkiLCJfb25TY3JvbGxCdXR0b25DbGljayIsImNsaWNrX3RvX3pvb20iLCJvblpvb21CdXR0b25DbGljayIsInN0b3BQcm9wYWdhdGlvbiIsIl9vcGVuSW1hZ2Vab29tIiwiX29uUmVzaXplIiwibGF5b3V0IiwiaXNMZXNzVGhhbkJyZWFrcG9pbnQiLCJfc2V0dXBGbGlja2l0eSIsIl9zZWxlY3RNZWRpYUJ5RWwiLCJ2YXJpYW50IiwiZmVhdHVyZWRfbWVkaWEiLCJzbGlkZSIsImlkIiwiaSIsImRlc3Ryb3kiLCJ1bnJlZ2lzdGVyQWxsIiwidW5sb2FkQWxsTWVkaWEiLCJyaW1nIiwidW53YXRjaCIsIl9jbG9zZUltYWdlWm9vbSIsIl9kaXNhYmxlSG92ZXJab29tIiwiX2Rpc2FibGVGbGlja2l0eSIsIm9uUGxheUxpc3RlbmVyIiwiZmxpY2tpdHkiLCJ1bmJpbmREcmFnIiwib25QYXVzZUxpc3RlbmVyIiwiYmluZERyYWciLCJmb3JFYWNoIiwiZmlndXJlRWwiLCJtb2RlbEVsIiwiZ2FsbGVyeUluZGV4IiwiY29udHJvbHMiLCJmdWxsc2NyZWVuRW5hYmxlZCIsIk1vZGVsVmlld2VyVUkiLCJTaG9waWZ5WFIiLCJxIiwiYXJndW1lbnRzIiwiYWRkTW9kZWxzIiwiaXNHcmVhdGVyVGhhbkJyZWFrcG9pbnQiLCJkcmlmdCIsIl9zZXR1cEhvdmVyWm9vbSIsIl9hZGp1c3RHYWxsZXJ5UG9zaXRpb25pbmciLCJidXR0b24iLCJ0YXJnZXQiLCJjb250YWlucyIsInNlbGVjdGVkSW5kZXgiLCJwYXJzZUludCIsInNlbGVjdCIsIl9zZWxlY3RNZWRpYUJ5SW5kZXgiLCJjdXJyZW50VGFyZ2V0Iiwic2hvcGlmeU1vZGVsM2RJZCIsImluZGV4IiwiZ2FsbGVyeVNlbGVjdGVkIiwibWVkaWEiLCJzZWxlY3RlZE1lZGlhVHlwZSIsInBhdXNlIiwiZG9jdW1lbnRFbGVtZW50IiwicGxheSIsImRlZmF1bHRNb2RlbElkIiwic2hvdWxkQXV0b3BsYXkiLCJnYWxsZXJ5X3ZpZGVvX2F1dG9wbGF5IiwidmlkZW9FbGVtZW50IiwiUGx5ciIsImxvb3AiLCJhY3RpdmUiLCJnYWxsZXJ5X3ZpZGVvX2xvb3BpbmciLCJWaWRlbyIsImZvY3VzIiwiaG92ZXJfem9vbSIsInNlbGVjdGVkSW1hZ2UiLCJnZXRBdHRyaWJ1dGUiLCJEcmlmdCIsInBhbmVDb250YWluZXIiLCJpbmxpbmVQYW5lIiwiaG92ZXJCb3VuZGluZ0JveCIsImhhbmRsZVRvdWNoIiwib25TaG93Iiwib25IaWRlIiwicmVtb3ZlIiwiZGlzYWJsZSIsIkZsaWNraXR5IiwiYWNjZXNzaWJpbGl0eSIsImFkYXB0aXZlSGVpZ2h0IiwiY2VsbFNlbGVjdG9yIiwiY29udGFpbiIsImZyaWN0aW9uIiwiZnJlZVNjcm9sbCIsImluaXRpYWxJbmRleCIsImxhenlMb2FkIiwicGVyY2VudFBvc2l0aW9uIiwicHJldk5leHRCdXR0b25zIiwicGFnZURvdHMiLCJzZWxlY3RlZEF0dHJhY3Rpb24iLCJzZXRHYWxsZXJ5U2l6ZSIsIndyYXBBcm91bmQiLCJmbGlja2l0eUV2ZW50IiwibGF6eV9sb2FkIiwib24iLCJldmVudCIsInBvaW50ZXIiLCJjZWxsRWxlbWVudCIsIm1vZGVsIiwiYmx1ciIsInN3aXBlZCIsInVucmVnaXN0ZXIiLCJjb250YWluZXJIZWlnaHQiLCJzdG9yZWRJbWFnZUhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhlaWdodCIsInN0eWxlIiwidGh1bWJuYWlsX3Bvc2l0aW9uIiwicHJvZHVjdEdhbGxlcnlUaHVtYnMiLCJmaXJzdENoaWxkIiwiYWN0aXZlQnV0dG9uIiwiYWN0aXZlRWxlbWVudCIsImluc2VydEJlZm9yZSIsImxlZnRtb3N0Qm91bmRzIiwidGh1bWJTdHlsZSIsImN1cnJlbnRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJ0aHVtYk1hcmdpbiIsIm1hcmdpbkxlZnQiLCJ3cmFwcGVkIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzb21lIiwiY2FsbCIsInRodW1iIiwibGVmdCIsIndpZHRoIiwibWF4V2lkdGgiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIl9hZGp1c3RNb2JpbGVUaHVtYm5haWxQb3NpdGlvbiIsInRodW1iQm91bmRzIiwidGh1bWJXcmFwcGVyQm91bmRzIiwib2Zmc2V0TGVmdCIsInNjcm9sbExlZnQiLCJzY3JvbGxXaWR0aCIsImNsaWVudFdpZHRoIiwic2Nyb2xsUmlnaHQiLCJpbWFnZVpvb20iLCJ1bmxvYWQiLCJQcm9kdWN0Q2xpY2t0b1pvb20iLCJzbGlkZXMiLCJvcmlnaW5hbFRodW1ibmFpbHMiLCJzdGFydEluZGV4Iiwic2VsZWN0R2FsbGVyeUluZGV4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztJQUVxQkEsYztBQUNuQiwwQkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUFBOztBQUNuQixTQUFLQyxFQUFMLEdBQVVELE9BQU8sQ0FBQ0MsRUFBbEI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCRixPQUFPLENBQUNFLFFBQXhCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQkgsT0FBTyxDQUFDRyxXQUFSLElBQXVCLEtBQTFDO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQkosT0FBTyxDQUFDSyxNQUF6QjtBQUVBLFNBQUtDLE1BQUwsR0FBYyxJQUFJQyx5REFBSixFQUFkO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLEtBQUtQLEVBQUwsQ0FBUVEsYUFBUixDQUFzQix1QkFBdEIsQ0FBZDtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsS0FBS1QsRUFBTCxDQUFRUSxhQUFSLENBQXNCLDJCQUF0QixDQUFsQjtBQUNBLFNBQUtFLFdBQUwsR0FBbUIsS0FBS1YsRUFBTCxDQUFRUSxhQUFSLENBQXNCLHlCQUF0QixDQUFuQjtBQUNBLFNBQUtHLGtCQUFMLEdBQTBCLEtBQUtYLEVBQUwsQ0FBUVksZ0JBQVIsQ0FBeUIsOEJBQXpCLENBQTFCO0FBQ0EsU0FBS0MsT0FBTCxHQUFlLEtBQUtOLE1BQUwsQ0FBWUssZ0JBQVosQ0FBNkIsdUJBQTdCLENBQWY7QUFDQSxT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Q0FBY0MsTUFBZCxDQUFxQnVDLE9BQXJCLENBQTZCQyxTQUE3QixLQUEyQyxPQUEzQyxJQUNFVSwrQ0FBTSxDQUFDaUMsdUJBQVAsQ0FBK0IsR0FBL0IsS0FBdUMsS0FBS25HLFFBQUwsQ0FBYzZELGFBQWQsS0FBZ0MsUUFEekUsSUFFRUssK0NBQU0sQ0FBQ0Msb0JBQVAsQ0FBNEIsR0FBNUIsS0FBb0MsS0FBS25FLFFBQUwsQ0FBYzZELGFBQWQsS0FBZ0MsU0FGMUUsRUFHRTs7QUFFRixVQUFJLEtBQUt1RyxNQUFULEVBQWlCO0FBQ2YsYUFBS0EsTUFBTCxHQUFjLEtBQWQ7QUFDQTtBQUNEOztBQUVELFdBQUtwRixlQUFMOztBQUVBLFdBQUt5SCxTQUFMLEdBQWlCLElBQUlFLDJEQUFKLENBQXVCO0FBQ3RDM00sZ0JBQVEsRUFBRSxLQUFLQSxRQUR1QjtBQUV0QzRNLGNBQU0sRUFBRSxLQUFLaE0sT0FGeUI7QUFHdENpTSwwQkFBa0IsRUFBRSxLQUFLaE0sVUFIYTtBQUl0Q2lNLGtCQUFVLEVBQUVuRyxRQUFRLENBQUMsS0FBSzVGLFFBQUwsQ0FBY0MsTUFBZCxDQUFxQnVDLE9BQXJCLENBQTZCb0MsWUFBOUIsRUFBNEMsRUFBNUMsQ0FKa0I7QUFLdENvSCwwQkFBa0IsRUFBRSw0QkFBQS9GLEtBQUs7QUFBQSxpQkFBSSxNQUFJLENBQUNILG1CQUFMLENBQXlCRyxLQUF6QixDQUFKO0FBQUE7QUFMYSxPQUF2QixDQUFqQjtBQU9EIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvY29tcG9uZW50cy9Qcm9kdWN0R2FsbGVyeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEcmlmdCBmcm9tICdkcmlmdC16b29tJztcbmltcG9ydCBGbGlja2l0eSBmcm9tICdmbGlja2l0eSc7XG5pbXBvcnQgRXZlbnRIYW5kbGVyIGZyb20gJ0BwaXhlbHVuaW9uL2V2ZW50cyc7XG5pbXBvcnQgcmltZyBmcm9tICdyaW1nLXNob3BpZnknO1xuXG5pbXBvcnQgbGF5b3V0IGZyb20gJy4uL0xheW91dCc7XG5pbXBvcnQgVmlkZW8gZnJvbSAnLi9WaWRlbyc7XG5pbXBvcnQgUHJvZHVjdENsaWNrdG9ab29tIGZyb20gJy4vUHJvZHVjdENsaWNrVG9ab29tJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdEdhbGxlcnkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5lbCA9IG9wdGlvbnMuZWw7XG4gICAgdGhpcy5zZXR0aW5ncyA9IG9wdGlvbnMuc2V0dGluZ3M7XG4gICAgdGhpcy5pc1F1aWNrc2hvcCA9IG9wdGlvbnMuaXNRdWlja3Nob3AgfHwgZmFsc2U7XG4gICAgdGhpcy5tb2RlbEpzb24gPSBvcHRpb25zLm1vZGVscztcblxuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50SGFuZGxlcigpO1xuICAgIHRoaXMudmlld2VyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1nYWxsZXJ5LXZpZXdlcl0nKTtcbiAgICB0aGlzLm5hdmlnYXRpb24gPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdhbGxlcnktbmF2aWdhdGlvbl0nKTtcbiAgICB0aGlzLm5hdlNjcm9sbGVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1nYWxsZXJ5LXNjcm9sbGVyXScpO1xuICAgIHRoaXMubmF2U2Nyb2xsZXJCdXR0b25zID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1nYWxsZXJ5LXNjcm9sbC1idXR0b25dJyk7XG4gICAgdGhpcy5maWd1cmVzID0gdGhpcy52aWV3ZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZ2FsbGVyeS1maWd1cmVdJyk7XG4gICAgdGhpcy50aHVtYm5haWxzID0gdGhpcy5uYXZpZ2F0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWdhbGxlcnktdGh1bWJuYWlsXScpO1xuICAgIHRoaXMuem9vbUJ1dHRvbiA9IHRoaXMudmlld2VyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdhbGxlcnktZXhwYW5kXScpO1xuXG4gICAgdGhpcy5zZWxlY3RlZCA9IHtcbiAgICAgIGZpZ3VyZTogdGhpcy52aWV3ZXIucXVlcnlTZWxlY3RvcignW2RhdGEtZ2FsbGVyeS1zZWxlY3RlZD1cInRydWVcIl0nKSxcbiAgICAgIHRodW1ibmFpbDogdGhpcy5uYXZpZ2F0aW9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWdhbGxlcnktc2VsZWN0ZWQ9XCJ0cnVlXCJdJyksXG4gICAgfTtcblxuICAgIHRoaXMubW9kZWxzID0ge307XG4gICAgdGhpcy52aWRlb3MgPSB7fTtcbiAgICB0aGlzLnNlbGVjdGVkVmlkZW8gPSBudWxsO1xuICAgIHRoaXMuc2VsZWN0ZWRNb2RlbCA9IG51bGw7XG4gICAgdGhpcy5zaG93aW5nSW5pdGlhbFNsaWRlID0gdHJ1ZTtcblxuICAgIHRoaXMudXBkYXRlU2xpZGVIZWlnaHQgPSB0aGlzLl9zZXRTbGlkZUhlaWdodC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3NldHVwU2VsZWN0ZWRWaWRlbyA9IHRoaXMuX3NldHVwU2VsZWN0ZWRWaWRlby5iaW5kKHRoaXMpO1xuXG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcblxuICAgIGlmICh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZGlhLXR5cGU9XCJ2aWRlb1wiXScpKSB7XG4gICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BseXItc3R5bGVzaGVldCcpKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXG4gICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaWQnLCAncGx5ci1zdHlsZXNoZWV0Jyk7XG4gICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTtcbiAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJ2h0dHBzOi8vY2RuLnNob3BpZnkuY29tL3Nob3BpZnljbG91ZC9zaG9waWZ5LXBseXIvdjEuMC9zaG9waWZ5LXBseXIuY3NzJyk7XG4gICAgICAgICAgICBsaW5rLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgZmVhdHVyZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiAndmlkZW8tdWknLFxuICAgICAgICAgICAgdmVyc2lvbjogJzEuMCcsXG4gICAgICAgICAgICBvbkxvYWQ6IHJlc29sdmUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLFxuICAgICAgXSkudGhlbigoKSA9PiB0aGlzLl9zZXR1cFNlbGVjdGVkVmlkZW8oKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtbWVkaWEtdHlwZT1cIm1vZGVsXCJdJykpIHtcbiAgICAgIHRoaXMudmlld0luWW91clNwYWNlRWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNob3BpZnkteHJdJyk7XG4gICAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLnZpZXdJbllvdXJTcGFjZUVsLCAnY2xpY2snLCBlID0+IHRoaXMuX29uVmlld0luWW91clNwYWNlQ2xpY2soZSkpO1xuXG4gICAgICBmZWF0dXJlcy5wdXNoKFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ21vZGVsLXZpZXdlci11aScsXG4gICAgICAgICAgdmVyc2lvbjogJzEuMCcsXG4gICAgICAgICAgb25Mb2FkOiAoKSA9PiB0aGlzLl9vbk1vZGVsTGlicmFyeUxvYWQoKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBmZWF0dXJlcy5wdXNoKFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ3Nob3BpZnkteHInLFxuICAgICAgICAgIHZlcnNpb246ICcxLjAnLFxuICAgICAgICAgIG9uTG9hZDogKCkgPT4gdGhpcy5fb25TaG9waWZ5WFJMb2FkKCksXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgIHdpbmRvdy5TaG9waWZ5LmxvYWRGZWF0dXJlcyhmZWF0dXJlcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNRdWlja3Nob3ApIHtcbiAgICAgIGNvbnN0IHF1aWNrc2hvcE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kYWwtY29udGFpbmVyXScpO1xuICAgICAgcXVpY2tzaG9wTW9kYWwuY2xhc3NMaXN0LmFkZCgncXVpY2tzaG9wLXRodW1icy1sZWZ0Jyk7XG5cbiAgICAgIC8vIEJlY2F1c2Ugb2YgdGhlIHdheSB0aGUgcXVpY2tzaG9wIGlzIGFuaW1hdGVkIHRvIG9wZW4sIGlmIGEgdmlkZW8gaXMgZmlyc3QgaW4gdGhlXG4gICAgICAvLyBnYWxsZXJ5IHRoZSBoZWlnaHQgb2YgdGhlIHNsaWRlIHdpbGwgbm90IGJlIGNvcnJlY3QsIHNvIHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBhbGwgdGhlXG4gICAgICAvLyB0cmFuc2l0aW9ucyBlbmQuIFRoaXMgd2lsbCBvbmx5IGZpcmUgb25jZSwgYXMgb3Bwb3NlZCB0byBsaXN0ZW5pbmcgdG8gdHJhbnNpdGlvbmVuZC5cbiAgICAgIC8vIHRoaXMgaXMgZXNwZWNpYWxseSBpbXBvcnRhbnQgaWYgdGhlIHRodW1ibmFpbHMgYXJlIGxlZnQgYWxpZ25lZC5cbiAgICAgIGlmICh0aGlzLmZpZ3VyZXNbMF0uZGF0YXNldC5tZWRpYVR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLl9zZXRTbGlkZUhlaWdodCgpLCA4MDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHRoaXMubmF2U2Nyb2xsZXIsICdjbGljaycsIGUgPT4gdGhpcy5fb25UaHVtYm5haWxDbGljayhlKSk7XG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy5uYXZTY3JvbGxlciwgJ3Njcm9sbCcsICgpID0+IHRoaXMuX2hhbmRsZVNjcm9sbEJ1dHRvblZpc2liaWxpdHkoKSk7XG4gICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy5uYXZTY3JvbGxlckJ1dHRvbnNbMF0sICdjbGljaycsICgpID0+IHRoaXMuX29uU2Nyb2xsQnV0dG9uQ2xpY2sodHJ1ZSkpO1xuICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKHRoaXMubmF2U2Nyb2xsZXJCdXR0b25zWzFdLCAnY2xpY2snLCAoKSA9PiB0aGlzLl9vblNjcm9sbEJ1dHRvbkNsaWNrKGZhbHNlKSk7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5jbGlja190b196b29tICE9PSAnZGlzYWJsZWQnKSB7XG4gICAgICBjb25zdCBvblpvb21CdXR0b25DbGljayA9IGUgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLl9vcGVuSW1hZ2Vab29tKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih0aGlzLnpvb21CdXR0b24sICdjbGljaycsIGUgPT4gb25ab29tQnV0dG9uQ2xpY2soZSkpO1xuICAgICAgdGhpcy5ldmVudHMucmVnaXN0ZXIodGhpcy52aWV3ZXIsICdjbGljaycsIGUgPT4gb25ab29tQnV0dG9uQ2xpY2soZSkpO1xuICAgIH1cblxuICAgIHRoaXMuX29uUmVzaXplID0gdGhpcy5fb25SZXNpemUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcih3aW5kb3csICdyZXNpemUnLCAoKSA9PiB0aGlzLl9vblJlc2l6ZSgpKTtcblxuICAgIGlmIChsYXlvdXQuaXNMZXNzVGhhbkJyZWFrcG9pbnQoJ1MnKSkge1xuICAgICAgdGhpcy5fc2V0dXBGbGlja2l0eSgpO1xuICAgICAgdGhpcy5faGFuZGxlU2Nyb2xsQnV0dG9uVmlzaWJpbGl0eSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3NlbGVjdE1lZGlhQnlFbCh0aGlzLnNlbGVjdGVkLmZpZ3VyZSk7XG4gIH1cblxuICBzZWxlY3RNZWRpYUJ5VmFyaWFudCh2YXJpYW50KSB7XG4gICAgaWYgKCF2YXJpYW50LmZlYXR1cmVkX21lZGlhKSByZXR1cm47XG5cbiAgICBjb25zdCBzbGlkZSA9IHRoaXMudmlld2VyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLW1lZGlhPVwiJHt2YXJpYW50LmZlYXR1cmVkX21lZGlhLmlkfVwiXWApO1xuICAgIHRoaXMuX3NlbGVjdE1lZGlhQnlFbChzbGlkZSk7XG4gIH1cblxuICAvLyBUaGVyZSBhcmUgYSBmZXcgdGhpbmdzIHdlIGhhdmUgdG8gcmVzZXQgd2hlbiB0aGUgcXVpY2tzaG9wIGlzIG9wZW5lZC4gVGhpcyBpcyB0byBjYXRjaFxuICAvLyB0aGUgc2l0dWF0aW9uIHdoZXJlIGlmIGEgcXVpY2tzaG9wIGlzIGNsb3NlZCBhbmQgdGhlbiByZS1vcGVuZWQsIGVzcGVjaWFsbHkgYWZ0ZXJcbiAgLy8gc2NyZWVuIHJlc2l6ZS5cbiAgb25RdWlja3Nob3BPcGVuKCkge1xuICAgIHRoaXMuX3NldFNsaWRlSGVpZ2h0KCk7XG4gICAgdGhpcy5faGFuZGxlU2Nyb2xsQnV0dG9uVmlzaWJpbGl0eSgpO1xuICAgIHRoaXMuX3NlbGVjdE1lZGlhQnlFbCh0aGlzLnNlbGVjdGVkLmZpZ3VyZSk7XG4gIH1cblxuICB1bmxvYWRBbGxNZWRpYSgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlndXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMubW9kZWxzW2ldKSB7XG4gICAgICAgIHRoaXMubW9kZWxzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb2RlbHNbaV0gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52aWRlb3NbaV0pIHtcbiAgICAgICAgdGhpcy52aWRlb3NbaV0uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnZpZGVvc1tpXSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuZXZlbnRzLnVucmVnaXN0ZXJBbGwoKTtcblxuICAgIHRoaXMudW5sb2FkQWxsTWVkaWEoKTtcblxuICAgIGlmICh0aGlzLmlzUXVpY2tzaG9wKSB7XG4gICAgICByaW1nLnVud2F0Y2godGhpcy5lbCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xvc2VJbWFnZVpvb20oKTtcbiAgICB0aGlzLl9kaXNhYmxlSG92ZXJab29tKCk7XG4gICAgdGhpcy5fZGlzYWJsZUZsaWNraXR5KCk7XG4gIH1cblxuICBfb25Nb2RlbExpYnJhcnlMb2FkKCkge1xuICAgIGNvbnN0IG9uUGxheUxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZmxpY2tpdHkpIHtcbiAgICAgICAgdGhpcy5mbGlja2l0eS51bmJpbmREcmFnKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvblBhdXNlTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5mbGlja2l0eSkge1xuICAgICAgICB0aGlzLmZsaWNraXR5LmJpbmREcmFnKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9kdWN0LWdhbGxlcnktLW1vZGVsJylcbiAgICAgIC5mb3JFYWNoKGZpZ3VyZUVsID0+IHtcbiAgICAgICAgY29uc3QgbW9kZWxFbCA9IGZpZ3VyZUVsLnF1ZXJ5U2VsZWN0b3IoJ21vZGVsLXZpZXdlcicpO1xuICAgICAgICBjb25zdCB7IGdhbGxlcnlJbmRleCB9ID0gZmlndXJlRWwuZGF0YXNldDtcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBbJ3pvb20taW4nLCAnem9vbS1vdXQnXTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkKSBjb250cm9scy5wdXNoKCdmdWxsc2NyZWVuJyk7XG5cbiAgICAgICAgdGhpcy5tb2RlbHNbZ2FsbGVyeUluZGV4XSA9IG5ldyBTaG9waWZ5Lk1vZGVsVmlld2VyVUkobW9kZWxFbCwgeyBjb250cm9scyB9KTtcblxuICAgICAgICB0aGlzLmV2ZW50cy5yZWdpc3Rlcihtb2RlbEVsLCAnc2hvcGlmeV9tb2RlbF92aWV3ZXJfdWlfdG9nZ2xlX3BsYXknLCBvblBsYXlMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuZXZlbnRzLnJlZ2lzdGVyKG1vZGVsRWwsICdzaG9waWZ5X21vZGVsX3ZpZXdlcl91aV90b2dnbGVfcGF1c2UnLCBvblBhdXNlTGlzdGVuZXIpO1xuICAgICAgfSk7XG4gIH1cblxuICBfb25TaG9waWZ5WFJMb2FkKCkge1xuICAgIGlmICh0aGlzLm1vZGVsSnNvbikge1xuICAgICAgd2luZG93LlNob3BpZnlYUiA9IHdpbmRvdy5TaG9waWZ5WFIgfHwgZnVuY3Rpb24oKSB7KFNob3BpZnlYUi5xID0gU2hvcGlmeVhSLnF8fFtdICkucHVzaChhcmd1bWVudHMpOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICBpZiAod2luZG93LlNob3BpZnlYUi5hZGRNb2RlbHMpIHtcbiAgICAgICAgd2luZG93LlNob3BpZnlYUi5hZGRNb2RlbHModGhpcy5tb2RlbEpzb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LlNob3BpZnlYUignYWRkTW9kZWxzJywgdGhpcy5tb2RlbEpzb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vblJlc2l6ZSgpIHtcbiAgICBpZiAobGF5b3V0LmlzR3JlYXRlclRoYW5CcmVha3BvaW50KCdTJywgdHJ1ZSkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVGbGlja2l0eSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zZXR1cEZsaWNraXR5KCk7XG4gICAgfVxuXG4gICAgaWYgKGxheW91dC5pc0dyZWF0ZXJUaGFuQnJlYWtwb2ludCgnTCcsIHRydWUpICYmICF0aGlzLmRyaWZ0KSB7XG4gICAgICB0aGlzLl9zZXR1cEhvdmVyWm9vbSgpO1xuICAgIH0gZWxzZSBpZiAobGF5b3V0LmlzTGVzc1RoYW5CcmVha3BvaW50KCdMJykpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVIb3Zlclpvb20oKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hZGp1c3RHYWxsZXJ5UG9zaXRpb25pbmcoKTtcbiAgICB0aGlzLl9oYW5kbGVTY3JvbGxCdXR0b25WaXNpYmlsaXR5KCk7XG4gIH1cblxuICBfb25UaHVtYm5haWxDbGljayhlKSB7XG4gICAgbGV0IGJ1dHRvbjtcbiAgICB0aGlzLnNob3dpbmdJbml0aWFsU2xpZGUgPSBmYWxzZTtcblxuICAgIC8vIFdlIHVzZSBwb2ludGVyLWV2ZW50czogbm9uZSBvbiBhbGwgb2YgdGhlIGVsZW1lbnRzIHdpdGhpbiB0aGUgdGh1bWJuYWlsXG4gICAgLy8gc28gdGhhdCBhbnkgY2xpY2sgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQgb24gdGhlIGJ1dHRvbi5cbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0LWdhbGxlcnktLW1lZGlhLXRodW1ibmFpbCcpKSB7XG4gICAgICBidXR0b24gPSBlLnRhcmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBwYXJzZUludChidXR0b24uZGF0YXNldC5nYWxsZXJ5SW5kZXgsIDEwKTtcblxuICAgIGlmICh0aGlzLmZsaWNraXR5KSB7XG4gICAgICB0aGlzLmZsaWNraXR5LnNlbGVjdChzZWxlY3RlZEluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2VsZWN0TWVkaWFCeUluZGV4KHNlbGVjdGVkSW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIF9vblZpZXdJbllvdXJTcGFjZUNsaWNrKGUpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRUYXJnZXQgfSA9IGU7XG4gICAgY29uc3QgZmlndXJlID0gdGhpcy52aWV3ZXIucXVlcnlTZWxlY3RvcihgW2RhdGEtbWVkaWE9XCIke2N1cnJlbnRUYXJnZXQuZGF0YXNldC5zaG9waWZ5TW9kZWwzZElkfVwiXWApO1xuXG4gICAgdGhpcy5fc2VsZWN0TWVkaWFCeUVsKGZpZ3VyZSk7XG4gIH1cblxuICBfc2VsZWN0TWVkaWFCeUVsKGVsKSB7XG4gICAgdGhpcy5fc2VsZWN0TWVkaWFCeUluZGV4KHBhcnNlSW50KGVsLmRhdGFzZXQuZ2FsbGVyeUluZGV4LCAxMCkpO1xuICB9XG5cbiAgX3NlbGVjdE1lZGlhQnlJbmRleChpbmRleCkge1xuICAgIGNvbnN0IGZpZ3VyZSA9IHRoaXMuZmlndXJlc1tpbmRleF07XG5cbiAgICB0aGlzLnNlbGVjdGVkLmZpZ3VyZS5kYXRhc2V0LmdhbGxlcnlTZWxlY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuc2VsZWN0ZWQuZmlndXJlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcbiAgICB0aGlzLnNlbGVjdGVkLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICB0aGlzLnNlbGVjdGVkLmZpZ3VyZS5kYXRhc2V0LmdhbGxlcnlTZWxlY3RlZCA9IHRydWU7XG4gICAgdGhpcy5zZWxlY3RlZC5maWd1cmUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcblxuICAgIHRoaXMuc2VsZWN0ZWQudGh1bWJuYWlsLmRhdGFzZXQuZ2FsbGVyeVNlbGVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5zZWxlY3RlZC50aHVtYm5haWwgPSB0aGlzLnRodW1ibmFpbHNbaW5kZXhdO1xuICAgIHRoaXMuc2VsZWN0ZWQudGh1bWJuYWlsLmRhdGFzZXQuZ2FsbGVyeVNlbGVjdGVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IHsgbWVkaWEsIG1lZGlhVHlwZSB9ID0gdGhpcy5zZWxlY3RlZC5maWd1cmUuZGF0YXNldDtcblxuICAgIHRoaXMudmlld2VyLmRhdGFzZXQuc2VsZWN0ZWRNZWRpYVR5cGUgPSBtZWRpYVR5cGU7XG5cbiAgICB0aGlzLl9kaXNhYmxlSG92ZXJab29tKCk7XG5cbiAgICBpZiAodGhpcy5zZWxlY3RlZE1vZGVsKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkTW9kZWwucGF1c2UoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RlbHNbZmlndXJlLmRhdGFzZXQuZ2FsbGVyeUluZGV4XSkge1xuICAgICAgdGhpcy5zZWxlY3RlZE1vZGVsID0gdGhpcy5tb2RlbHNbZmlndXJlLmRhdGFzZXQuZ2FsbGVyeUluZGV4XTtcbiAgICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaGFzLXRvdWNoJykgJiYgIXRoaXMuc2hvd2luZ0luaXRpYWxTbGlkZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkTW9kZWwucGxheSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNlbGVjdGVkVmlkZW8pIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRWaWRlby5wYXVzZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXdJbllvdXJTcGFjZUVsKSB7XG4gICAgICB0aGlzLnZpZXdJbllvdXJTcGFjZUVsLmRhdGFzZXQuc2hvcGlmeU1vZGVsM2RJZCA9IHRoaXMudmlld0luWW91clNwYWNlRWwuZGF0YXNldC5kZWZhdWx0TW9kZWxJZDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG1lZGlhVHlwZSkge1xuICAgICAgY2FzZSAnbW9kZWwnOlxuICAgICAgICB0aGlzLnZpZXdJbllvdXJTcGFjZUVsLmRhdGFzZXQuc2hvcGlmeU1vZGVsM2RJZCA9IG1lZGlhO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgIGNhc2UgJ2V4dGVybmFsX3ZpZGVvJzpcbiAgICAgICAgdGhpcy5fc2V0dXBTZWxlY3RlZFZpZGVvKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICB0aGlzLl9zZXR1cEhvdmVyWm9vbSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZsaWNraXR5KSB7XG4gICAgICB0aGlzLmZsaWNraXR5LmJpbmREcmFnKCk7XG4gICAgICB0aGlzLmZsaWNraXR5LnNlbGVjdChpbmRleCk7XG4gICAgfVxuXG4gICAgdGhpcy5fYWRqdXN0R2FsbGVyeVBvc2l0aW9uaW5nKCk7XG4gIH1cblxuICBfc2V0dXBTZWxlY3RlZFZpZGVvKCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkVmlkZW8pIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRWaWRlby5wYXVzZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgbWVkaWFUeXBlLCBnYWxsZXJ5SW5kZXggfSA9IHRoaXMuc2VsZWN0ZWQuZmlndXJlLmRhdGFzZXQ7XG4gICAgY29uc3Qgc2hvdWxkQXV0b3BsYXkgPSBsYXlvdXQuaXNHcmVhdGVyVGhhbkJyZWFrcG9pbnQoJ0wnLCB0cnVlKVxuICAgICAgJiYgdGhpcy5zZXR0aW5ncy5nYWxsZXJ5X3ZpZGVvX2F1dG9wbGF5XG4gICAgICAmJiAhdGhpcy5zaG93aW5nSW5pdGlhbFNsaWRlO1xuXG4gICAgaWYgKG1lZGlhVHlwZSA9PT0gJ3ZpZGVvJyB8fCBtZWRpYVR5cGUgPT09ICdleHRlcm5hbF92aWRlbycpIHtcbiAgICAgIGxldCB2aWRlb0VsZW1lbnQ7XG5cbiAgICAgIGlmICh0aGlzLnZpZGVvc1tnYWxsZXJ5SW5kZXhdKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWaWRlbyA9IHRoaXMudmlkZW9zW2dhbGxlcnlJbmRleF07XG4gICAgICAgIGlmIChzaG91bGRBdXRvcGxheSkgdGhpcy5zZWxlY3RlZFZpZGVvLnBsYXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtZWRpYVR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAvLyBQbHlyIGhhc24ndCBsb2FkZWQgeWV0LCB3aWxsIGJlIGNhbGxlZCBhZ2FpbiBhZnRlciBsb2FkRmVhdHVyZXNcbiAgICAgICAgICBpZiAoIVNob3BpZnkuUGx5cikgcmV0dXJuO1xuICAgICAgICAgIHZpZGVvRWxlbWVudCA9IHRoaXMuc2VsZWN0ZWQuZmlndXJlLnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJyk7XG5cbiAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlkZW8gPSBuZXcgU2hvcGlmeS5QbHlyKHZpZGVvRWxlbWVudCwge1xuICAgICAgICAgICAgbG9vcDogeyBhY3RpdmU6IHRoaXMuc2V0dGluZ3MuZ2FsbGVyeV92aWRlb19sb29waW5nIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHNob3VsZEF1dG9wbGF5KSB0aGlzLnNlbGVjdGVkVmlkZW8ucGxheSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZGVvRWxlbWVudCA9IHRoaXMuc2VsZWN0ZWQuZmlndXJlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXZpZGVvXScpO1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWRlbyA9IG5ldyBWaWRlbyh2aWRlb0VsZW1lbnQsIHtcbiAgICAgICAgICAgIGxvb3A6IHRoaXMuc2V0dGluZ3MuZ2FsbGVyeV92aWRlb19sb29waW5nLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChzaG91bGRBdXRvcGxheSkgdGhpcy5zZWxlY3RlZFZpZGVvLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZGVvc1tnYWxsZXJ5SW5kZXhdID0gdGhpcy5zZWxlY3RlZFZpZGVvO1xuICAgICAgfVxuICAgICAgdGhpcy5zZWxlY3RlZC5maWd1cmUuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBIb3Zlclpvb20oKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zZXR0aW5ncy5ob3Zlcl96b29tID09PSAnZGlzYWJsZWQnXG4gICAgICB8fCAhbGF5b3V0LmlzR3JlYXRlclRoYW5CcmVha3BvaW50KCdMJywgdHJ1ZSlcbiAgICAgIHx8IHRoaXMuc2VsZWN0ZWQuZmlndXJlLmRhdGFzZXQubWVkaWFUeXBlICE9PSAnaW1hZ2UnXG4gICAgICB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXMtdG91Y2gnKVxuICAgICkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRJbWFnZSA9IHRoaXMuc2VsZWN0ZWQuZmlndXJlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXJpbWddJyk7XG4gICAgc2VsZWN0ZWRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtem9vbScsIHRoaXMuc2VsZWN0ZWQuZmlndXJlLmdldEF0dHJpYnV0ZSgnZGF0YS16b29tJykpO1xuXG4gICAgdGhpcy5kcmlmdCA9IG5ldyBEcmlmdChzZWxlY3RlZEltYWdlLCB7XG4gICAgICBwYW5lQ29udGFpbmVyOiB0aGlzLnNldHRpbmdzLmhvdmVyX3pvb20gPT09ICdzZXBhcmF0ZSdcbiAgICAgICAgPyB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXpvb21lZC1pbWFnZV0nKVxuICAgICAgICA6IHRoaXMuc2VsZWN0ZWQuZmlndXJlLFxuICAgICAgaW5saW5lUGFuZTogZmFsc2UsXG4gICAgICBob3ZlckJvdW5kaW5nQm94OiB0aGlzLnNldHRpbmdzLmhvdmVyX3pvb20gPT09ICdzZXBhcmF0ZScsXG4gICAgICBoYW5kbGVUb3VjaDogZmFsc2UsXG4gICAgICBvblNob3c6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaG92ZXJfem9vbSA9PT0gJ3NlcGFyYXRlJykge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1nYWxsZXJ5LS1mYWRlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkhpZGU6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaG92ZXJfem9vbSA9PT0gJ3NlcGFyYXRlJykge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncHJvZHVjdC1nYWxsZXJ5LS1mYWRlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBfZGlzYWJsZUhvdmVyWm9vbSgpIHtcbiAgICBpZiAodGhpcy5kcmlmdCkge1xuICAgICAgdGhpcy5kcmlmdC5kaXNhYmxlKCk7XG4gICAgICB0aGlzLmRyaWZ0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBGbGlja2l0eSgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmZsaWNraXR5XG4gICAgICB8fCAhbGF5b3V0LmlzTGVzc1RoYW5CcmVha3BvaW50KCdTJylcbiAgICApIHJldHVybjtcblxuICAgIHRoaXMuZmxpY2tpdHkgPSBuZXcgRmxpY2tpdHkodGhpcy52aWV3ZXIsIHtcbiAgICAgIGFjY2Vzc2liaWxpdHk6IGZhbHNlLFxuICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXG4gICAgICBjZWxsU2VsZWN0b3I6ICcucHJvZHVjdC1nYWxsZXJ5LS1tZWRpYScsXG4gICAgICBjb250YWluOiB0cnVlLFxuICAgICAgZnJpY3Rpb246IDAuNSxcbiAgICAgIGZyZWVTY3JvbGw6IGZhbHNlLFxuICAgICAgaW5pdGlhbEluZGV4OiBwYXJzZUludCh0aGlzLnNlbGVjdGVkLmZpZ3VyZS5kYXRhc2V0LmdhbGxlcnlJbmRleCwgMTApLFxuICAgICAgbGF6eUxvYWQ6IGZhbHNlLFxuICAgICAgcGVyY2VudFBvc2l0aW9uOiBmYWxzZSxcbiAgICAgIHByZXZOZXh0QnV0dG9uczogZmFsc2UsXG4gICAgICBwYWdlRG90czogZmFsc2UsXG4gICAgICBzZWxlY3RlZEF0dHJhY3Rpb246IDAuMSxcbiAgICAgIHNldEdhbGxlcnlTaXplOiBmYWxzZSxcbiAgICAgIHdyYXBBcm91bmQ6IHRydWUsXG4gICAgfSk7XG5cbiAgICB0aGlzLmZsaWNraXR5RXZlbnQgPSB0aGlzLmV2ZW50cy5yZWdpc3RlcihcbiAgICAgIHRoaXMuc2V0dGluZ3MubGF6eV9sb2FkID8gdGhpcy52aWV3ZXIgOiB0aGlzLnNlbGVjdGVkLmZpZ3VyZS5xdWVyeVNlbGVjdG9yKCdpbWcnKSxcbiAgICAgIHRoaXMuc2V0dGluZ3MubGF6eV9sb2FkID8gJ3JpbWc6bG9hZCcgOiAnbG9hZCcsXG4gICAgICAoKSA9PiB0aGlzLl9zZXRTbGlkZUhlaWdodCgpLFxuICAgICk7XG5cbiAgICB0aGlzLmZsaWNraXR5Lm9uKCdjaGFuZ2UnLCBpbmRleCA9PiB7XG4gICAgICB0aGlzLnNob3dpbmdJbml0aWFsU2xpZGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3NlbGVjdE1lZGlhQnlFbCh0aGlzLmZpZ3VyZXNbaW5kZXhdKTtcbiAgICB9KTtcblxuICAgIC8vIEZsaWNraXR5IGNvbnRyb2xzIHRoZSBwb2ludGVyZG93biBldmVudCB3aGljaCBwcmV2ZW50cyBtb2RlbC12aWV3ZXItdWkgZnJvbVxuICAgIC8vIHRyaWdnZXJpbmcgLnBsYXkoKSBvbiBtb3VzZXVwLiBUaGlzIHJldHVybnMgdGhpcyBmdW5jdGlvbmFsaXR5LlxuICAgIHRoaXMuZmxpY2tpdHkub24oJ3N0YXRpY0NsaWNrJywgKGV2ZW50LCBwb2ludGVyLCBjZWxsRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgZmlndXJlID0gY2VsbEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtZ2FsbGVyeS0tbW9kZWwnKTtcblxuICAgICAgaWYgKGZpZ3VyZSAmJiB0aGlzLm1vZGVsc1tmaWd1cmUuZGF0YXNldC5nYWxsZXJ5SW5kZXhdKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbHNbZmlndXJlLmRhdGFzZXQuZ2FsbGVyeUluZGV4XTtcbiAgICAgICAgbW9kZWwucGxheSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5mbGlja2l0eS5vbigncG9pbnRlckRvd24nLCAoKSA9PiB7XG4gICAgICAvLyBSZW1vdmVzIHRoZSBmb2N1cyByaW5nIHdoZW4gc3dpcGluZyB3aXRoIHRvdWNoIGRldmljZVxuICAgICAgdGhpcy52aWV3ZXIuYmx1cigpO1xuICAgIH0pO1xuXG4gICAgLy8gV2UgbmVlZCB0byBkaXNhYmxlIHRoZSBwcm9kdWN0IHpvb20gb3BlbiBpZiBhIHVzZXIgaXMgc3dpcGluZ1xuICAgIC8vIFRoaXMgd2FzIGFuIGlzc3VlIG9uIG1vdXNlIGdlc3R1cmVzLCBub3Qgb24gdG91Y2hcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5jbGlja190b196b29tICE9PSAnZGlzYWJsZWQnXG4gICAgICAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCduby10b3VjaCcpKSB7XG4gICAgICB0aGlzLmZsaWNraXR5Lm9uKCdkcmFnRW5kJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnN3aXBlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRTbGlkZUhlaWdodCgpO1xuICB9XG5cbiAgX2Rpc2FibGVGbGlja2l0eSgpIHtcbiAgICBpZiAodGhpcy5mbGlja2l0eSkge1xuICAgICAgdGhpcy5mbGlja2l0eS5kZXN0cm95KCk7XG4gICAgICB0aGlzLmZsaWNraXR5ID0gbnVsbDtcbiAgICAgIHRoaXMuZXZlbnRzLnVucmVnaXN0ZXIodGhpcy5mbGlja2l0eUV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBfc2V0U2xpZGVIZWlnaHQoKSB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcblxuICAgIC8vIFVzZSB0aGUgc3RvcmVkIGltYWdlIGhlaWdodCBmb3Igc2l0dWF0aW9ucyB3aGVyZSB0aGUgRE9NIGlzIGluIGEgbWlkd2F5IHN0YXRlLlxuICAgIGNvbnN0IGNvbnRhaW5lckhlaWdodCA9IHRoaXMuc3RvcmVkSW1hZ2VIZWlnaHRcbiAgICAgIHx8IHRoaXMuc2VsZWN0ZWQuZmlndXJlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICB0aGlzLnN0b3JlZEltYWdlSGVpZ2h0ID0gbnVsbDtcblxuICAgIGlmIChjb250YWluZXJIZWlnaHQgPiAwKSB7XG4gICAgICB0aGlzLnZpZXdlci5zdHlsZS5oZWlnaHQgPSBgJHtjb250YWluZXJIZWlnaHR9cHhgO1xuICAgIH1cbiAgfVxuXG4gIF9hZGp1c3RHYWxsZXJ5UG9zaXRpb25pbmcoKSB7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MudGh1bWJuYWlsX3Bvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgIGlmICh0aGlzLmlzUXVpY2tzaG9wKSB7XG4gICAgICAgIGlmIChsYXlvdXQuaXNHcmVhdGVyVGhhbkJyZWFrcG9pbnQoJ0wnLCB0cnVlKSkge1xuICAgICAgICAgIHRoaXMuZWwuZGF0YXNldC5wcm9kdWN0R2FsbGVyeVRodW1icyA9ICdsZWZ0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0b3JlZEltYWdlSGVpZ2h0ID0gdGhpcy5zZWxlY3RlZC5maWd1cmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICAgIHRoaXMuZWwuZGF0YXNldC5wcm9kdWN0R2FsbGVyeVRodW1icyA9ICdjZW50ZXInO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIG5lZWQgdG8gYWRqdXN0IHRoZSB3aWR0aCBvZiB0aGUgdGh1bWJuYWlscyBpZiB0aGV5IGFyZSBwb3NpdGlvbmVkIGxlZnRcbiAgICAgIC8vIGFuZCB0aGV5IHdyYXAgaW50byAyIGNvbHVtbnMuIENTUyBmbGV4Ym94IGRvZXMgbm90IGNhdXNlIHRoZSB3aWR0aCBvZiB0aGVcbiAgICAgIC8vIGVsZW1lbnQgdG8gc3RyZXRjaC4gTG9va3MgbGlrZSBpdCdzIGEgcHJvYmxlbSB3aXRoIGZsZXhib3ggd2hlbiB3cmFwcGluZyBjb2x1bW5zOlxuICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzM4OTE3MDkvd2hlbi1mbGV4Ym94LWl0ZW1zLXdyYXAtaW4tY29sdW1uLW1vZGUtY29udGFpbmVyLWRvZXMtbm90LWdyb3ctaXRzLXdpZHRoXG4gICAgICBpZiAobGF5b3V0LmlzR3JlYXRlclRoYW5CcmVha3BvaW50KCdMJywgdHJ1ZSlcbiAgICAgICAgfHwgKGxheW91dC5pc0dyZWF0ZXJUaGFuQnJlYWtwb2ludCgnUycsIHRydWUpICYmICF0aGlzLmlzUXVpY2tzaG9wKSkge1xuICAgICAgICBpZiAodGhpcy5lbC5maXJzdENoaWxkICE9PSB0aGlzLm5hdmlnYXRpb24pIHtcbiAgICAgICAgICBjb25zdCBhY3RpdmVCdXR0b24gPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgIHRoaXMuZWwuaW5zZXJ0QmVmb3JlKHRoaXMubmF2aWdhdGlvbiwgdGhpcy52aWV3ZXIpO1xuICAgICAgICAgIGFjdGl2ZUJ1dHRvbi5mb2N1cygpOyAvLyBUaGlzIHByZXZlbnRzIGxvc3Mgb2YgZm9jdXMgaWYgb25lIG9mIHRoZSB0aHVtYm5haWxzIGFyZSBzZWxlY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hlbiBzd2l0Y2hpbmcgbGF5b3V0cyBpbiB0aGUgZWRpdG9yIHNvbWV0aW1lcyB3ZSBuZWVkIHRvIHdhaXQgZm9yIGEgZmV3IG1pbGxpc2Vjb25kc1xuICAgICAgICAvLyBiZWZvcmUgcG9zaXRpb25pbmcgdGhlIHRodW1icy5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy8gRG91YmxlIGNoZWNrIHRoYXQgdGhlIGxheW91dCBpcyB0aGUgY29ycmVjdCBzaXplLCBzaW5jZSB0aGUgdGltZW91dCB3aWxsXG4gICAgICAgICAgaWYgKGxheW91dC5pc0dyZWF0ZXJUaGFuQnJlYWtwb2ludCgnTCcsIHRydWUpXG4gICAgICAgICAgICB8fCAobGF5b3V0LmlzR3JlYXRlclRoYW5CcmVha3BvaW50KCdTJywgdHJ1ZSkgJiYgIXRoaXMuaXNRdWlja3Nob3ApKSB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0bW9zdEJvdW5kcyA9IHRoaXMudGh1bWJuYWlsc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IHRodW1iU3R5bGUgPSB0aGlzLnRodW1ibmFpbHNbMF0uY3VycmVudFN0eWxlXG4gICAgICAgICAgICAgIHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMudGh1bWJuYWlsc1swXSk7XG4gICAgICAgICAgICBjb25zdCB0aHVtYk1hcmdpbiA9IChwYXJzZUludCh0aHVtYlN0eWxlLm1hcmdpbkxlZnQsIDEwKSkgKiAyO1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZCA9IEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodGhpcy50aHVtYm5haWxzLFxuICAgICAgICAgICAgICB0aHVtYiA9PiB0aHVtYi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ID4gbGVmdG1vc3RCb3VuZHMubGVmdCk7XG4gICAgICAgICAgICBpZiAod3JhcHBlZCkge1xuICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uc3R5bGUud2lkdGggPSBgJHsobGVmdG1vc3RCb3VuZHMud2lkdGggKyB0aHVtYk1hcmdpbikgKiAyfXB4YDtcbiAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLnN0eWxlLm1heFdpZHRoID0gYCR7KGxlZnRtb3N0Qm91bmRzLndpZHRoICsgdGh1bWJNYXJnaW4pICogMn1weGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLnN0eWxlLm1heFdpZHRoID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3NldFNsaWRlSGVpZ2h0KCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5lbC5maXJzdEVsZW1lbnRDaGlsZCA9PT0gdGhpcy5uYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLm5hdmlnYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICB0aGlzLm5hdmlnYXRpb24uc3R5bGUubWF4V2lkdGggPSAnJztcbiAgICAgICAgdGhpcy5fc2V0U2xpZGVIZWlnaHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxheW91dC5pc0xlc3NUaGFuQnJlYWtwb2ludCgnUycpKSB7XG4gICAgICAgIHRoaXMuX2FkanVzdE1vYmlsZVRodW1ibmFpbFBvc2l0aW9uKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NldFNsaWRlSGVpZ2h0KCk7XG4gICAgICB0aGlzLl9hZGp1c3RNb2JpbGVUaHVtYm5haWxQb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIF9hZGp1c3RNb2JpbGVUaHVtYm5haWxQb3NpdGlvbigpIHtcbiAgICAvLyBUaGlzIGJyaW5ncyB0aGUgdGh1bWJuYWlsIGludG8gdmlldyBpZiBpdCBpcyBub3QgdmlzaWJsZSBvbiB0aGUgc2NyZWVuIGFmdGVyXG4gICAgLy8gYSB1c2VyIHN3aXBlcyB0byBhIHNsaWRlIHRoYXQgaXQgaXMgdGllZCB0by4gT25seSBpbXBvcnRhbnQgb24gbW9iaWxlLlxuICAgIGlmIChsYXlvdXQuaXNMZXNzVGhhbkJyZWFrcG9pbnQoJ1MnKVxuICAgICAgfHwgKGxheW91dC5pc0xlc3NUaGFuQnJlYWtwb2ludCgnTCcpICYmIHRoaXMuaXNRdWlja3Nob3ApKSB7XG4gICAgICBjb25zdCB0aHVtYkJvdW5kcyA9IHRoaXMuc2VsZWN0ZWQudGh1bWJuYWlsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgdGh1bWJXcmFwcGVyQm91bmRzID0gdGhpcy5uYXZTY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQudGh1bWJuYWlsLm9mZnNldExlZnQgKyB0aHVtYkJvdW5kcy53aWR0aCArIDMwXG4gICAgICAgIC0gdGhpcy5uYXZTY3JvbGxlci5zY3JvbGxMZWZ0ID4gdGh1bWJXcmFwcGVyQm91bmRzLndpZHRoKSB7XG4gICAgICAgIHRoaXMubmF2U2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IHRoaXMuc2VsZWN0ZWQudGh1bWJuYWlsLm9mZnNldExlZnRcbiAgICAgICAgICArIHRodW1iQm91bmRzLndpZHRoIC0gdGh1bWJXcmFwcGVyQm91bmRzLndpZHRoICsgMzU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWQudGh1bWJuYWlsLm9mZnNldExlZnQgPCB0aGlzLm5hdlNjcm9sbGVyLnNjcm9sbExlZnQpIHtcbiAgICAgICAgdGhpcy5uYXZTY3JvbGxlci5zY3JvbGxMZWZ0ID0gdGhpcy5zZWxlY3RlZC50aHVtYm5haWwub2Zmc2V0TGVmdCAtIDM1O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVTY3JvbGxCdXR0b25WaXNpYmlsaXR5KCkge1xuICAgIGlmIChsYXlvdXQuaXNMZXNzVGhhbkJyZWFrcG9pbnQoJ1MnKVxuICAgICAgfHwgKGxheW91dC5pc0xlc3NUaGFuQnJlYWtwb2ludCgnTCcpICYmIHRoaXMuaXNRdWlja3Nob3ApKSB7XG4gICAgICAvLyBXZSB1c2UgNHB4IGhlcmUganVzdCB0byBlbnN1cmUgdGhlIHVzZXIgaGFzIHNjcm9sbGVkIGEgbGl0dGxlIGJpdCBiZWZvcmVcbiAgICAgIC8vIHNob3dpbmcgdGhlIGJ1dHRvbnMuXG4gICAgICBpZiAodGhpcy5uYXZTY3JvbGxlci5zY3JvbGxMZWZ0ID4gNCkge1xuICAgICAgICB0aGlzLm5hdlNjcm9sbGVyQnV0dG9uc1swXS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5hdlNjcm9sbGVyQnV0dG9uc1swXS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm5hdlNjcm9sbGVyLnNjcm9sbExlZnQgPCB0aGlzLm5hdlNjcm9sbGVyLnNjcm9sbFdpZHRoXG4gICAgICAgIC0gdGhpcy5uYXZTY3JvbGxlci5jbGllbnRXaWR0aCkge1xuICAgICAgICB0aGlzLm5hdlNjcm9sbGVyQnV0dG9uc1sxXS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5hdlNjcm9sbGVyQnV0dG9uc1sxXS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmF2U2Nyb2xsZXJCdXR0b25zWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgIHRoaXMubmF2U2Nyb2xsZXJCdXR0b25zWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9XG4gIH1cblxuICBfb25TY3JvbGxCdXR0b25DbGljayhzY3JvbGxSaWdodCkge1xuICAgIGlmIChzY3JvbGxSaWdodCkge1xuICAgICAgdGhpcy5uYXZTY3JvbGxlci5zY3JvbGxMZWZ0ID0gdGhpcy5uYXZTY3JvbGxlci5zY3JvbGxMZWZ0IC0gMTAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5hdlNjcm9sbGVyLnNjcm9sbExlZnQgPSB0aGlzLm5hdlNjcm9sbGVyLnNjcm9sbExlZnQgKyAxMDA7XG4gICAgfVxuICB9XG5cbiAgX2Nsb3NlSW1hZ2Vab29tKCkge1xuICAgIGlmICh0aGlzLmltYWdlWm9vbSkge1xuICAgICAgdGhpcy5pbWFnZVpvb20udW5sb2FkKCk7XG4gICAgICB0aGlzLmltYWdlWm9vbSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgX29wZW5JbWFnZVpvb20oKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWQuZmlndXJlLmRhdGFzZXQubWVkaWFUeXBlICE9PSAnaW1hZ2UnXG4gICAgICB8fCAobGF5b3V0LmlzR3JlYXRlclRoYW5CcmVha3BvaW50KCdMJykgJiYgdGhpcy5zZXR0aW5ncy5jbGlja190b196b29tID09PSAnbW9iaWxlJylcbiAgICAgIHx8IChsYXlvdXQuaXNMZXNzVGhhbkJyZWFrcG9pbnQoJ0wnKSAmJiB0aGlzLnNldHRpbmdzLmNsaWNrX3RvX3pvb20gPT09ICdkZXNrdG9wJylcbiAgICApIHJldHVybjtcblxuICAgIGlmICh0aGlzLnN3aXBlZCkge1xuICAgICAgdGhpcy5zd2lwZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9jbG9zZUltYWdlWm9vbSgpO1xuXG4gICAgdGhpcy5pbWFnZVpvb20gPSBuZXcgUHJvZHVjdENsaWNrdG9ab29tKHtcbiAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzLFxuICAgICAgc2xpZGVzOiB0aGlzLmZpZ3VyZXMsXG4gICAgICBvcmlnaW5hbFRodW1ibmFpbHM6IHRoaXMudGh1bWJuYWlscyxcbiAgICAgIHN0YXJ0SW5kZXg6IHBhcnNlSW50KHRoaXMuc2VsZWN0ZWQuZmlndXJlLmRhdGFzZXQuZ2FsbGVyeUluZGV4LCAxMCksXG4gICAgICBzZWxlY3RHYWxsZXJ5SW5kZXg6IGluZGV4ID0+IHRoaXMuX3NlbGVjdE1lZGlhQnlJbmRleChpbmRleCksXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/components/ProductGallery.js\n");

/***/ }),

/***/ "./source/scripts/components/ProductGridItem.js":
/*!******************************************************!*\
  !*** ./source/scripts/components/ProductGridItem.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductGridItem; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _helpers_LazyLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/LazyLoader */ \"./source/scripts/helpers/LazyLoader.js\");\n/* harmony import */ var _ProductQuickshop__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ProductQuickshop */ \"./source/scripts/components/ProductQuickshop.js\");\n/* harmony import */ var _AddToCartFlyout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AddToCartFlyout */ \"./source/scripts/components/AddToCartFlyout.js\");\n/* harmony import */ var _GridItemSwatches__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GridItemSwatches */ \"./source/scripts/components/GridItemSwatches.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar ProductGridItem = /*#__PURE__*/function () {\n  function ProductGridItem(options) {\n    _classCallCheck(this, ProductGridItem);\n\n    this.$el = options.$el;\n    this.id = options.id;\n    this.product = options.product;\n    this.currentView = options.view;\n    this.queryParams = options.queryParams || {};\n    this.events = [];\n    this._init = this._init.bind(this);\n\n    if (options.lazy === true) {\n      this.lazyLoader = new _helpers_LazyLoader__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.$el[0], this._init);\n    } else {\n      this._init();\n    }\n  }\n\n  _createClass(ProductGridItem, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this = this;\n\n      this.productQuickshop = null;\n      this.quickBuySettings = null;\n      this.actionsOpen = false;\n      this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n      this.$html = jquery__WEBPACK_IMPORTED_MODULE_0___default()('html');\n      this.$content = this.$el.find('[data-product-item-content]');\n      this.$actions = this.$el.find('[data-product-actions]');\n      this.swatchesEl = this.$el[0].querySelector('[data-swatches]');\n      this.hasProductActions = this.$actions.length;\n      this._addToCart = this._addToCart.bind(this);\n      this._actionsToggle = this._actionsToggle.bind(this);\n      var productQuickshopEl = this.$el.get(0).querySelector('[data-product-quickshop]');\n\n      if (productQuickshopEl) {\n        this.productQuickshop = new _ProductQuickshop__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n          el: productQuickshopEl,\n          id: this.id,\n          url: productQuickshopEl.dataset.productQuickshopUrl,\n          hash: productQuickshopEl.dataset.productQuickshopHash,\n          trigger: this.$el.find('.productitem--title a')[0],\n          button: this.$el.find('[data-quickshop-trigger=\"full\"]')\n        });\n\n        this._openQuickShop = function (e) {\n          e.preventDefault();\n\n          _this.productQuickshop.open(e.currentTarget.dataset.quickshopTrigger === 'full');\n        };\n\n        this._loadQuickShop = function () {\n          _this.productQuickshop.load();\n        };\n      }\n\n      if (this.hasProductActions || this.swatchesEl && this.swatchesEl.classList.contains('productitem--swatches-show-on-hover')) {\n        this.events.push(this.$content.on('mouseenter.product-item', this._actionsToggle));\n        this.events.push(this.$content.on('mouseleave.product-item', this._actionsToggle));\n        this.events.push(this.$content.on('focusin.product-item', this._actionsToggle));\n      }\n\n      if (this.hasProductActions) {\n        // $scripts checks existence of script in header before attempting to inject\n        scriptjs__WEBPACK_IMPORTED_MODULE_1___default()(jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-scripts]').data('shopify-api-url'), function () {\n          _this.events.push(_this.$el.on('click.product-item', '[data-quick-buy]', _this._addToCart));\n\n          if (_this.productQuickshop) {\n            _this.events.push(_this.$el.on('focusin.product-item', '[data-quickshop-trigger]', _this._loadQuickShop));\n\n            _this.events.push(_this.$el.on('mouseover.product-item', '[data-quickshop-trigger]', _this._loadQuickShop));\n\n            _this.events.push(_this.$el.on('click.product-item', '[data-quickshop-trigger]', _this._openQuickShop));\n          }\n        });\n      }\n\n      if (this.$el.find('[data-quick-buy]').length) {\n        this._initQuickBuy();\n      }\n\n      this._objectFitPolyfill();\n\n      if (this.swatchesEl) {\n        this.swatches = new _GridItemSwatches__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n          el: this.$el[0],\n          productQuickshop: this.productQuickshop,\n          product: this.product\n        });\n      }\n    }\n  }, {\n    key: \"handleViewChange\",\n    value: function handleViewChange(view) {\n      this.currentView = view;\n\n      if (this.swatches) {\n        this.swatches.resize();\n      }\n    }\n  }, {\n    key: \"_initQuickBuy\",\n    value: function _initQuickBuy() {\n      try {\n        this.quickBuySettings = JSON.parse(this.$el.find('[data-quick-buy-settings]').text());\n      } catch (error) {\n        return console.warn(\"Quick buy: invalid QuickBuy data found. \".concat(error.message));\n      }\n    }\n  }, {\n    key: \"_isObjectFitAvailable\",\n    value: function _isObjectFitAvailable() {\n      return 'objectFit' in document.documentElement.style;\n    }\n  }, {\n    key: \"_objectFitPolyfill\",\n    value: function _objectFitPolyfill() {\n      if (this._isObjectFitAvailable()) {\n        return;\n      }\n\n      var $figure = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-product-item-image]', this.$el);\n      var featuredSrc = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.productitem--image-primary', $figure).attr('src');\n      var alternateSrc = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.productitem--image-alternate', $figure).attr('src');\n      $figure.addClass('product-item-image-no-objectfit');\n      $figure.css('background-image', \"url(\\\"\".concat(featuredSrc, \"\\\")\"));\n\n      if (alternateSrc) {\n        this.$el.on('mouseover', function () {\n          $figure.css('background-image', \"url(\\\"\".concat(alternateSrc, \"\\\")\"));\n        });\n        this.$el.on('mouseleave', function () {\n          $figure.css('background-image', \"url(\\\"\".concat(featuredSrc, \"\\\")\"));\n        });\n      }\n    }\n    /**\n     * Get height of element, and combined height of element + actions\n     *\n     * @returns {{heightBase, heightExpanded: *}}\n     * @private\n     */\n\n  }, {\n    key: \"_getHeights\",\n    value: function _getHeights() {\n      var heightBase = 0;\n      var parent = this.$el.parent();\n\n      if (parent.hasClass('product-row--no-spacing') || parent.hasClass('productgrid--no-spacing')) {\n        var imageHeight = this.$el.find('[data-product-page-link]').outerHeight(true);\n        var infoHeight = this.$el.find('.productitem--info').outerHeight(true);\n        var cardPadding = parseFloat(this.$content.css('padding-top').replace('px', '')) + parseFloat(this.$content.css('padding-bottom').replace('px', ''));\n        heightBase = imageHeight + infoHeight + cardPadding;\n      } else {\n        heightBase = this.$el.height();\n      }\n\n      var actionsHeight = this.$el.find('[data-product-actions]').outerHeight(true) || 0;\n      var swatchesHeight = this.$el.find('.productitem--swatches-show-on-hover').outerHeight(true) || 0;\n      var heightExpanded = heightBase + actionsHeight + swatchesHeight;\n      return {\n        heightBase: heightBase,\n        heightExpanded: heightExpanded\n      };\n    }\n  }, {\n    key: \"_actionsToggle\",\n    value: function _actionsToggle(event) {\n      if (!_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"min\"]('L') || document.documentElement.classList.contains('has-touch') || this.currentView === 'list-view') return;\n      var $currentTarget = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget);\n      var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.target);\n      var openProductItem = false; // This function gets called on the element as well as the document focusin, so we want to\n      // be extra careful that we are inside the product card in question. We want the product card\n      // to close if another product card has received focus.\n\n      var productHasFocus = this.$el.is($currentTarget) || this.$el.is($target) || this.$el.is($target.parents('.productgrid--item').first()) || event.type === 'focusin' && $target[0].contains(this.$el[0]);\n\n      if (event.type === 'mouseenter' || event.type === 'mouseleave') {\n        openProductItem = event.type === 'mouseenter';\n      } else if (productHasFocus) {\n        openProductItem = true;\n      }\n\n      if (openProductItem) {\n        this._showActions();\n      } else {\n        this._hideActions();\n      }\n    }\n  }, {\n    key: \"_showActions\",\n    value: function _showActions() {\n      var _this2 = this;\n\n      if (this.actionsOpen) {\n        return;\n      }\n\n      var _this$_getHeights = this._getHeights(),\n          heightBase = _this$_getHeights.heightBase,\n          heightExpanded = _this$_getHeights.heightExpanded; // Lock heights to prevent jumping\n\n\n      this.$el.css('height', heightBase);\n      this.$content.css('height', heightBase); // Store height for when hovering out\n\n      this.$el.data('base-height', heightBase); // Start animation, and transition height to expanded height\n\n      this.$el.revealer('show').one('revealer-animating.product-item', function () {\n        _this2.$content.css('height', heightExpanded);\n      });\n      document.addEventListener('focusin', this._actionsToggle);\n      this.actionsOpen = true;\n    }\n  }, {\n    key: \"_hideActions\",\n    value: function _hideActions() {\n      var _this3 = this;\n\n      var height = this.$el.data('base-height');\n      /*\n        - Transition buttons up, using base height for animation\n        - Remove heights after animation is complete in case of resize\n       */\n\n      this.$el.revealer('hide').one('revealer-animating', function () {\n        _this3.$el.off('revealer-animating.product-item');\n\n        _this3.$el.css({\n          height: height\n        });\n\n        _this3.$content.css({\n          height: height\n        });\n      }).one('revealer-hide', function () {\n        _this3.$el.off('revealer-hide.product-item').css('height', '');\n\n        _this3.$content.css('height', '');\n      });\n      document.removeEventListener('focusin', this._actionsToggle);\n      this.actionsOpen = false;\n    }\n  }, {\n    key: \"_addToCart\",\n    value: function _addToCart(event) {\n      event.preventDefault();\n      var $atcButton = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget);\n      var variantID = $atcButton.attr('data-variant-id');\n      var formData = [{\n        'name': 'id',\n        'value': variantID\n      }, {\n        'name': 'quantity',\n        'value': 1\n      }];\n      var options = {\n        $atcButton: $atcButton,\n        settings: {\n          moneyFormat: this.quickBuySettings.money_format,\n          cartRedirection: this.quickBuySettings.cart_redirection\n        }\n      };\n      _AddToCartFlyout__WEBPACK_IMPORTED_MODULE_5__[\"default\"].init(formData, this.product, options);\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.events.forEach(function ($el) {\n        return $el.off('.product-item');\n      });\n\n      if (this.productQuickshop) {\n        this.productQuickshop.unload();\n      }\n\n      document.removeEventListener('focusin', this._actionsToggle);\n\n      if (this.swatches) {\n        this.swatches.unload();\n      }\n\n      this.lazyLoader.unload();\n    }\n  }]);\n\n  return ProductGridItem;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1Byb2R1Y3RHcmlkSXRlbS5qcz85YTA3Il0sIm5hbWVzIjpbIlByb2R1Y3RHcmlkSXRlbSIsIm9wdGlvbnMiLCIkZWwiLCJpZCIsInByb2R1Y3QiLCJjdXJyZW50VmlldyIsInZpZXciLCJxdWVyeVBhcmFtcyIsImV2ZW50cyIsIl9pbml0IiwiYmluZCIsImxhenkiLCJsYXp5TG9hZGVyIiwiTGF6eUxvYWRlciIsInByb2R1Y3RRdWlja3Nob3AiLCJxdWlja0J1eVNldHRpbmdzIiwiYWN0aW9uc09wZW4iLCIkd2luZG93IiwiJCIsIndpbmRvdyIsIiRodG1sIiwiJGNvbnRlbnQiLCJmaW5kIiwiJGFjdGlvbnMiLCJzd2F0Y2hlc0VsIiwicXVlcnlTZWxlY3RvciIsImhhc1Byb2R1Y3RBY3Rpb25zIiwibGVuZ3RoIiwiX2FkZFRvQ2FydCIsIl9hY3Rpb25zVG9nZ2xlIiwicHJvZHVjdFF1aWNrc2hvcEVsIiwiZ2V0IiwiUHJvZHVjdFF1aWNrc2hvcCIsImVsIiwidXJsIiwiZGF0YXNldCIsInByb2R1Y3RRdWlja3Nob3BVcmwiLCJoYXNoIiwicHJvZHVjdFF1aWNrc2hvcEhhc2giLCJ0cmlnZ2VyIiwiYnV0dG9uIiwiX29wZW5RdWlja1Nob3AiLCJlIiwicHJldmVudERlZmF1bHQiLCJvcGVuIiwiY3VycmVudFRhcmdldCIsInF1aWNrc2hvcFRyaWdnZXIiLCJfbG9hZFF1aWNrU2hvcCIsImxvYWQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInB1c2giLCJvbiIsIiRzY3JpcHQiLCJkYXRhIiwiX2luaXRRdWlja0J1eSIsIl9vYmplY3RGaXRQb2x5ZmlsbCIsInN3YXRjaGVzIiwiR3JpZEl0ZW1Td2F0Y2hlcyIsInJlc2l6ZSIsIkpTT04iLCJwYXJzZSIsInRleHQiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwibWVzc2FnZSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJfaXNPYmplY3RGaXRBdmFpbGFibGUiLCIkZmlndXJlIiwiZmVhdHVyZWRTcmMiLCJhdHRyIiwiYWx0ZXJuYXRlU3JjIiwiYWRkQ2xhc3MiLCJjc3MiLCJoZWlnaHRCYXNlIiwicGFyZW50IiwiaGFzQ2xhc3MiLCJpbWFnZUhlaWdodCIsIm91dGVySGVpZ2h0IiwiaW5mb0hlaWdodCIsImNhcmRQYWRkaW5nIiwicGFyc2VGbG9hdCIsInJlcGxhY2UiLCJoZWlnaHQiLCJhY3Rpb25zSGVpZ2h0Iiwic3dhdGNoZXNIZWlnaHQiLCJoZWlnaHRFeHBhbmRlZCIsImV2ZW50IiwiYnJlYWtwb2ludCIsIiRjdXJyZW50VGFyZ2V0IiwiJHRhcmdldCIsInRhcmdldCIsIm9wZW5Qcm9kdWN0SXRlbSIsInByb2R1Y3RIYXNGb2N1cyIsImlzIiwicGFyZW50cyIsImZpcnN0IiwidHlwZSIsIl9zaG93QWN0aW9ucyIsIl9oaWRlQWN0aW9ucyIsIl9nZXRIZWlnaHRzIiwicmV2ZWFsZXIiLCJvbmUiLCJhZGRFdmVudExpc3RlbmVyIiwib2ZmIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIiRhdGNCdXR0b24iLCJ2YXJpYW50SUQiLCJmb3JtRGF0YSIsInNldHRpbmdzIiwibW9uZXlGb3JtYXQiLCJtb25leV9mb3JtYXQiLCJjYXJ0UmVkaXJlY3Rpb24iLCJjYXJ0X3JlZGlyZWN0aW9uIiwiQWRkVG9DYXJ0Rmx5b3V0IiwiaW5pdCIsImZvckVhY2giLCJ1bmxvYWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztJQUVxQkEsZTtBQUNuQiwyQkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUNuQixTQUFLQyxHQUFMLEdBQVdELE9BQU8sQ0FBQ0MsR0FBbkI7QUFDQSxTQUFLQyxFQUFMLEdBQVVGLE9BQU8sQ0FBQ0UsRUFBbEI7QUFDQSxTQUFLQyxPQUFMLEdBQWVILE9BQU8sQ0FBQ0csT0FBdkI7QUFDQSxTQUFLQyxXQUFMLEdBQW1CSixPQUFP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O0FBQ0EsVUFBTWlFLFNBQVMsR0FBR0QsVUFBVSxDQUFDcEMsSUFBWCxDQUFnQixpQkFBaEIsQ0FBbEI7QUFFQSxVQUFNc0MsUUFBUSxHQUFHLENBQ2Y7QUFDRSxnQkFBUSxJQURWO0FBRUUsaUJBQVNEO0FBRlgsT0FEZSxFQUtmO0FBQ0UsZ0JBQVEsVUFEVjtBQUVFLGlCQUFTO0FBRlgsT0FMZSxDQUFqQjtBQVdBLFVBQU03RyxPQUFPLEdBQUc7QUFDZDRHLGtCQUFVLEVBQVZBLFVBRGM7QUFFZEcsZ0JBQVEsRUFBRTtBQUNSQyxxQkFBVyxFQUFFLEtBQUtsRyxnQkFBTCxDQUFzQm1HLFlBRDNCO0FBRVJDLHlCQUFlLEVBQUUsS0FBS3BHLGdCQUFMLENBQXNCcUc7QUFGL0I7QUFGSSxPQUFoQjtBQVFBQyw4REFBZSxDQUFDQyxJQUFoQixDQUFxQlAsUUFBckIsRUFBK0IsS0FBSzNHLE9BQXBDLEVBQTZDSCxPQUE3QztBQUNEOzs7NkJBRVE7QUFDUCxXQUFLTyxNQUFMLENBQVkrRyxPQUFaLENBQW9CLFVBQUFySCxHQUFHO0FBQUEsZUFBSUEsR0FBRyxDQUFDeUcsR0FBSixDQUFRLGVBQVIsQ0FBSjtBQUFBLE9BQXZCOztBQUVBLFVBQUksS0FBSzdGLGdCQUFULEVBQTJCO0FBQ3pCLGFBQUtBLGdCQUFMLENBQXNCMEcsTUFBdEI7QUFDRDs7QUFFRHJELGNBQVEsQ0FBQ3lDLG1CQUFULENBQTZCLFNBQTdCLEVBQXdDLEtBQUsvRSxjQUE3Qzs7QUFFQSxVQUFJLEtBQUs0QixRQUFULEVBQW1CO0FBQ2pCLGFBQUtBLFFBQUwsQ0FBYytELE1BQWQ7QUFDRDs7QUFDRCxXQUFLNUcsVUFBTCxDQUFnQjRHLE1BQWhCO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1Byb2R1Y3RHcmlkSXRlbS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgJHNjcmlwdCBmcm9tICdzY3JpcHRqcyc7XG5pbXBvcnQgKiBhcyBicmVha3BvaW50IGZyb20gJ0BwaXhlbHVuaW9uL2JyZWFrcG9pbnQnO1xuaW1wb3J0IExhenlMb2FkZXIgZnJvbSAnLi4vaGVscGVycy9MYXp5TG9hZGVyJztcbmltcG9ydCBQcm9kdWN0UXVpY2tzaG9wIGZyb20gJy4vUHJvZHVjdFF1aWNrc2hvcCc7XG5pbXBvcnQgQWRkVG9DYXJ0Rmx5b3V0IGZyb20gJy4vQWRkVG9DYXJ0Rmx5b3V0JztcbmltcG9ydCBHcmlkSXRlbVN3YXRjaGVzIGZyb20gJy4vR3JpZEl0ZW1Td2F0Y2hlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2R1Y3RHcmlkSXRlbSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbCA9IG9wdGlvbnMuJGVsO1xuICAgIHRoaXMuaWQgPSBvcHRpb25zLmlkO1xuICAgIHRoaXMucHJvZHVjdCA9IG9wdGlvbnMucHJvZHVjdDtcbiAgICB0aGlzLmN1cnJlbnRWaWV3ID0gb3B0aW9ucy52aWV3O1xuICAgIHRoaXMucXVlcnlQYXJhbXMgPSBvcHRpb25zLnF1ZXJ5UGFyYW1zIHx8IHt9O1xuICAgIHRoaXMuZXZlbnRzID0gW107XG5cbiAgICB0aGlzLl9pbml0ID0gdGhpcy5faW5pdC5iaW5kKHRoaXMpO1xuXG4gICAgaWYgKG9wdGlvbnMubGF6eSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5sYXp5TG9hZGVyID0gbmV3IExhenlMb2FkZXIodGhpcy4kZWxbMF0sIHRoaXMuX2luaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9pbml0KCk7XG4gICAgfVxuICB9XG5cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5wcm9kdWN0UXVpY2tzaG9wID0gbnVsbDtcbiAgICB0aGlzLnF1aWNrQnV5U2V0dGluZ3MgPSBudWxsO1xuICAgIHRoaXMuYWN0aW9uc09wZW4gPSBmYWxzZTtcblxuICAgIHRoaXMuJHdpbmRvdyA9ICQod2luZG93KTtcbiAgICB0aGlzLiRodG1sID0gJCgnaHRtbCcpO1xuICAgIHRoaXMuJGNvbnRlbnQgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1wcm9kdWN0LWl0ZW0tY29udGVudF0nKTtcbiAgICB0aGlzLiRhY3Rpb25zID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtcHJvZHVjdC1hY3Rpb25zXScpO1xuICAgIHRoaXMuc3dhdGNoZXNFbCA9IHRoaXMuJGVsWzBdLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXN3YXRjaGVzXScpO1xuICAgIHRoaXMuaGFzUHJvZHVjdEFjdGlvbnMgPSB0aGlzLiRhY3Rpb25zLmxlbmd0aDtcblxuICAgIHRoaXMuX2FkZFRvQ2FydCA9IHRoaXMuX2FkZFRvQ2FydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2FjdGlvbnNUb2dnbGUgPSB0aGlzLl9hY3Rpb25zVG9nZ2xlLmJpbmQodGhpcyk7XG5cbiAgICBjb25zdCBwcm9kdWN0UXVpY2tzaG9wRWwgPSB0aGlzLiRlbC5nZXQoMCkucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZHVjdC1xdWlja3Nob3BdJyk7XG4gICAgaWYgKHByb2R1Y3RRdWlja3Nob3BFbCkge1xuICAgICAgdGhpcy5wcm9kdWN0UXVpY2tzaG9wID0gbmV3IFByb2R1Y3RRdWlja3Nob3Aoe1xuICAgICAgICBlbDogcHJvZHVjdFF1aWNrc2hvcEVsLFxuICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgdXJsOiBwcm9kdWN0UXVpY2tzaG9wRWwuZGF0YXNldC5wcm9kdWN0UXVpY2tzaG9wVXJsLFxuICAgICAgICBoYXNoOiBwcm9kdWN0UXVpY2tzaG9wRWwuZGF0YXNldC5wcm9kdWN0UXVpY2tzaG9wSGFzaCxcbiAgICAgICAgdHJpZ2dlcjogdGhpcy4kZWwuZmluZCgnLnByb2R1Y3RpdGVtLS10aXRsZSBhJylbMF0sXG4gICAgICAgIGJ1dHRvbjogdGhpcy4kZWwuZmluZCgnW2RhdGEtcXVpY2tzaG9wLXRyaWdnZXI9XCJmdWxsXCJdJyksXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX29wZW5RdWlja1Nob3AgPSBlID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnByb2R1Y3RRdWlja3Nob3Aub3BlbihlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5xdWlja3Nob3BUcmlnZ2VyID09PSAnZnVsbCcpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuX2xvYWRRdWlja1Nob3AgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvZHVjdFF1aWNrc2hvcC5sb2FkKCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhhc1Byb2R1Y3RBY3Rpb25zIHx8ICh0aGlzLnN3YXRjaGVzRWwgJiYgdGhpcy5zd2F0Y2hlc0VsLmNsYXNzTGlzdC5jb250YWlucygncHJvZHVjdGl0ZW0tLXN3YXRjaGVzLXNob3ctb24taG92ZXInKSkpIHtcbiAgICAgIHRoaXMuZXZlbnRzLnB1c2godGhpcy4kY29udGVudC5vbignbW91c2VlbnRlci5wcm9kdWN0LWl0ZW0nLCB0aGlzLl9hY3Rpb25zVG9nZ2xlKSk7XG4gICAgICB0aGlzLmV2ZW50cy5wdXNoKHRoaXMuJGNvbnRlbnQub24oJ21vdXNlbGVhdmUucHJvZHVjdC1pdGVtJywgdGhpcy5fYWN0aW9uc1RvZ2dsZSkpO1xuICAgICAgdGhpcy5ldmVudHMucHVzaCh0aGlzLiRjb250ZW50Lm9uKCdmb2N1c2luLnByb2R1Y3QtaXRlbScsIHRoaXMuX2FjdGlvbnNUb2dnbGUpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNQcm9kdWN0QWN0aW9ucykge1xuICAgICAgLy8gJHNjcmlwdHMgY2hlY2tzIGV4aXN0ZW5jZSBvZiBzY3JpcHQgaW4gaGVhZGVyIGJlZm9yZSBhdHRlbXB0aW5nIHRvIGluamVjdFxuICAgICAgJHNjcmlwdCgkKCdbZGF0YS1zY3JpcHRzXScpLmRhdGEoJ3Nob3BpZnktYXBpLXVybCcpLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZXZlbnRzLnB1c2godGhpcy4kZWwub24oJ2NsaWNrLnByb2R1Y3QtaXRlbScsICdbZGF0YS1xdWljay1idXldJywgdGhpcy5fYWRkVG9DYXJ0KSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvZHVjdFF1aWNrc2hvcCkge1xuICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2godGhpcy4kZWwub24oJ2ZvY3VzaW4ucHJvZHVjdC1pdGVtJywgJ1tkYXRhLXF1aWNrc2hvcC10cmlnZ2VyXScsIHRoaXMuX2xvYWRRdWlja1Nob3ApKTtcbiAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHRoaXMuJGVsLm9uKCdtb3VzZW92ZXIucHJvZHVjdC1pdGVtJywgJ1tkYXRhLXF1aWNrc2hvcC10cmlnZ2VyXScsIHRoaXMuX2xvYWRRdWlja1Nob3ApKTtcbiAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHRoaXMuJGVsLm9uKCdjbGljay5wcm9kdWN0LWl0ZW0nLCAnW2RhdGEtcXVpY2tzaG9wLXRyaWdnZXJdJywgdGhpcy5fb3BlblF1aWNrU2hvcCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4kZWwuZmluZCgnW2RhdGEtcXVpY2stYnV5XScpLmxlbmd0aCkge1xuICAgICAgdGhpcy5faW5pdFF1aWNrQnV5KCk7XG4gICAgfVxuXG4gICAgdGhpcy5fb2JqZWN0Rml0UG9seWZpbGwoKTtcblxuICAgIGlmICh0aGlzLnN3YXRjaGVzRWwpIHtcbiAgICAgIHRoaXMuc3dhdGNoZXMgPSBuZXcgR3JpZEl0ZW1Td2F0Y2hlcyh7XG4gICAgICAgIGVsOiB0aGlzLiRlbFswXSxcbiAgICAgICAgcHJvZHVjdFF1aWNrc2hvcDogdGhpcy5wcm9kdWN0UXVpY2tzaG9wLFxuICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVWaWV3Q2hhbmdlKHZpZXcpIHtcbiAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdmlldztcbiAgICBpZiAodGhpcy5zd2F0Y2hlcykge1xuICAgICAgdGhpcy5zd2F0Y2hlcy5yZXNpemUoKTtcbiAgICB9XG4gIH1cblxuICBfaW5pdFF1aWNrQnV5KCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnF1aWNrQnV5U2V0dGluZ3MgPSBKU09OLnBhcnNlKHRoaXMuJGVsLmZpbmQoJ1tkYXRhLXF1aWNrLWJ1eS1zZXR0aW5nc10nKS50ZXh0KCkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gY29uc29sZS53YXJuKGBRdWljayBidXk6IGludmFsaWQgUXVpY2tCdXkgZGF0YSBmb3VuZC4gJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIF9pc09iamVjdEZpdEF2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gJ29iamVjdEZpdCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuICB9XG5cbiAgX29iamVjdEZpdFBvbHlmaWxsKCkge1xuICAgIGlmICh0aGlzLl9pc09iamVjdEZpdEF2YWlsYWJsZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgJGZpZ3VyZSA9ICQoJ1tkYXRhLXByb2R1Y3QtaXRlbS1pbWFnZV0nLCB0aGlzLiRlbCk7XG4gICAgY29uc3QgZmVhdHVyZWRTcmMgPSAkKCcucHJvZHVjdGl0ZW0tLWltYWdlLXByaW1hcnknLCAkZmlndXJlKS5hdHRyKCdzcmMnKTtcbiAgICBjb25zdCBhbHRlcm5hdGVTcmMgPSAkKCcucHJvZHVjdGl0ZW0tLWltYWdlLWFsdGVybmF0ZScsICRmaWd1cmUpLmF0dHIoJ3NyYycpO1xuXG4gICAgJGZpZ3VyZS5hZGRDbGFzcygncHJvZHVjdC1pdGVtLWltYWdlLW5vLW9iamVjdGZpdCcpO1xuICAgICRmaWd1cmUuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgYHVybChcIiR7IGZlYXR1cmVkU3JjIH1cIilgKTtcblxuICAgIGlmIChhbHRlcm5hdGVTcmMpIHtcbiAgICAgIHRoaXMuJGVsLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICRmaWd1cmUuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgYHVybChcIiR7IGFsdGVybmF0ZVNyYyB9XCIpYCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy4kZWwub24oJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICRmaWd1cmUuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgYHVybChcIiR7IGZlYXR1cmVkU3JjIH1cIilgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaGVpZ2h0IG9mIGVsZW1lbnQsIGFuZCBjb21iaW5lZCBoZWlnaHQgb2YgZWxlbWVudCArIGFjdGlvbnNcbiAgICpcbiAgICogQHJldHVybnMge3toZWlnaHRCYXNlLCBoZWlnaHRFeHBhbmRlZDogKn19XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0SGVpZ2h0cygpIHtcbiAgICBsZXQgaGVpZ2h0QmFzZSA9IDA7XG5cbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLiRlbC5wYXJlbnQoKTtcblxuICAgIGlmIChwYXJlbnQuaGFzQ2xhc3MoJ3Byb2R1Y3Qtcm93LS1uby1zcGFjaW5nJykgfHwgcGFyZW50Lmhhc0NsYXNzKCdwcm9kdWN0Z3JpZC0tbm8tc3BhY2luZycpKSB7XG4gICAgICBjb25zdCBpbWFnZUhlaWdodCA9IHRoaXMuJGVsLmZpbmQoJ1tkYXRhLXByb2R1Y3QtcGFnZS1saW5rXScpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgY29uc3QgaW5mb0hlaWdodCA9IHRoaXMuJGVsLmZpbmQoJy5wcm9kdWN0aXRlbS0taW5mbycpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgY29uc3QgY2FyZFBhZGRpbmcgPSBwYXJzZUZsb2F0KHRoaXMuJGNvbnRlbnQuY3NzKCdwYWRkaW5nLXRvcCcpLnJlcGxhY2UoJ3B4JywgJycpKVxuICAgICAgICArIHBhcnNlRmxvYXQodGhpcy4kY29udGVudC5jc3MoJ3BhZGRpbmctYm90dG9tJykucmVwbGFjZSgncHgnLCAnJykpO1xuXG4gICAgICBoZWlnaHRCYXNlID0gaW1hZ2VIZWlnaHQgKyBpbmZvSGVpZ2h0ICsgY2FyZFBhZGRpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodEJhc2UgPSB0aGlzLiRlbC5oZWlnaHQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhY3Rpb25zSGVpZ2h0ID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtcHJvZHVjdC1hY3Rpb25zXScpLm91dGVySGVpZ2h0KHRydWUpIHx8IDA7XG4gICAgY29uc3Qgc3dhdGNoZXNIZWlnaHQgPSB0aGlzLiRlbC5maW5kKCcucHJvZHVjdGl0ZW0tLXN3YXRjaGVzLXNob3ctb24taG92ZXInKS5vdXRlckhlaWdodCh0cnVlKSB8fCAwO1xuXG4gICAgY29uc3QgaGVpZ2h0RXhwYW5kZWQgPSBoZWlnaHRCYXNlICsgYWN0aW9uc0hlaWdodCArIHN3YXRjaGVzSGVpZ2h0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhlaWdodEJhc2UsXG4gICAgICBoZWlnaHRFeHBhbmRlZCxcbiAgICB9O1xuICB9XG5cbiAgX2FjdGlvbnNUb2dnbGUoZXZlbnQpIHtcbiAgICBpZiAoIWJyZWFrcG9pbnQubWluKCdMJylcbiAgICAgIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2hhcy10b3VjaCcpXG4gICAgICB8fCB0aGlzLmN1cnJlbnRWaWV3ID09PSAnbGlzdC12aWV3JykgcmV0dXJuO1xuXG4gICAgY29uc3QgJGN1cnJlbnRUYXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0ICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XG5cbiAgICBsZXQgb3BlblByb2R1Y3RJdGVtID0gZmFsc2U7XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIG9uIHRoZSBlbGVtZW50IGFzIHdlbGwgYXMgdGhlIGRvY3VtZW50IGZvY3VzaW4sIHNvIHdlIHdhbnQgdG9cbiAgICAvLyBiZSBleHRyYSBjYXJlZnVsIHRoYXQgd2UgYXJlIGluc2lkZSB0aGUgcHJvZHVjdCBjYXJkIGluIHF1ZXN0aW9uLiBXZSB3YW50IHRoZSBwcm9kdWN0IGNhcmRcbiAgICAvLyB0byBjbG9zZSBpZiBhbm90aGVyIHByb2R1Y3QgY2FyZCBoYXMgcmVjZWl2ZWQgZm9jdXMuXG4gICAgY29uc3QgcHJvZHVjdEhhc0ZvY3VzID0gdGhpcy4kZWwuaXMoJGN1cnJlbnRUYXJnZXQpXG4gICAgICB8fCB0aGlzLiRlbC5pcygkdGFyZ2V0KVxuICAgICAgfHwgdGhpcy4kZWwuaXMoJHRhcmdldC5wYXJlbnRzKCcucHJvZHVjdGdyaWQtLWl0ZW0nKS5maXJzdCgpKVxuICAgICAgfHwgKGV2ZW50LnR5cGUgPT09ICdmb2N1c2luJyAmJiAkdGFyZ2V0WzBdLmNvbnRhaW5zKHRoaXMuJGVsWzBdKSk7XG5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IGV2ZW50LnR5cGUgPT09ICdtb3VzZWxlYXZlJykge1xuICAgICAgb3BlblByb2R1Y3RJdGVtID0gZXZlbnQudHlwZSA9PT0gJ21vdXNlZW50ZXInO1xuICAgIH0gZWxzZSBpZiAocHJvZHVjdEhhc0ZvY3VzKSB7XG4gICAgICBvcGVuUHJvZHVjdEl0ZW0gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcGVuUHJvZHVjdEl0ZW0pIHtcbiAgICAgIHRoaXMuX3Nob3dBY3Rpb25zKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVBY3Rpb25zKCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dBY3Rpb25zKCkge1xuICAgIGlmICh0aGlzLmFjdGlvbnNPcGVuKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgeyBoZWlnaHRCYXNlLCBoZWlnaHRFeHBhbmRlZCB9ID0gdGhpcy5fZ2V0SGVpZ2h0cygpO1xuXG4gICAgLy8gTG9jayBoZWlnaHRzIHRvIHByZXZlbnQganVtcGluZ1xuICAgIHRoaXMuJGVsLmNzcygnaGVpZ2h0JywgaGVpZ2h0QmFzZSk7XG4gICAgdGhpcy4kY29udGVudC5jc3MoJ2hlaWdodCcsIGhlaWdodEJhc2UpO1xuXG4gICAgLy8gU3RvcmUgaGVpZ2h0IGZvciB3aGVuIGhvdmVyaW5nIG91dFxuICAgIHRoaXMuJGVsLmRhdGEoJ2Jhc2UtaGVpZ2h0JywgaGVpZ2h0QmFzZSk7XG5cbiAgICAvLyBTdGFydCBhbmltYXRpb24sIGFuZCB0cmFuc2l0aW9uIGhlaWdodCB0byBleHBhbmRlZCBoZWlnaHRcbiAgICB0aGlzLiRlbFxuICAgICAgLnJldmVhbGVyKCdzaG93JylcbiAgICAgIC5vbmUoJ3JldmVhbGVyLWFuaW1hdGluZy5wcm9kdWN0LWl0ZW0nLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuJGNvbnRlbnQuY3NzKCdoZWlnaHQnLCBoZWlnaHRFeHBhbmRlZCk7XG4gICAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLl9hY3Rpb25zVG9nZ2xlKTtcblxuICAgIHRoaXMuYWN0aW9uc09wZW4gPSB0cnVlO1xuICB9XG5cbiAgX2hpZGVBY3Rpb25zKCkge1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuJGVsLmRhdGEoJ2Jhc2UtaGVpZ2h0Jyk7XG5cbiAgICAvKlxuICAgICAgLSBUcmFuc2l0aW9uIGJ1dHRvbnMgdXAsIHVzaW5nIGJhc2UgaGVpZ2h0IGZvciBhbmltYXRpb25cbiAgICAgIC0gUmVtb3ZlIGhlaWdodHMgYWZ0ZXIgYW5pbWF0aW9uIGlzIGNvbXBsZXRlIGluIGNhc2Ugb2YgcmVzaXplXG4gICAgICovXG4gICAgdGhpcy4kZWxcbiAgICAgIC5yZXZlYWxlcignaGlkZScpXG4gICAgICAub25lKCdyZXZlYWxlci1hbmltYXRpbmcnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuJGVsLm9mZigncmV2ZWFsZXItYW5pbWF0aW5nLnByb2R1Y3QtaXRlbScpO1xuICAgICAgICB0aGlzLiRlbC5jc3MoeyBoZWlnaHQgfSk7XG4gICAgICAgIHRoaXMuJGNvbnRlbnQuY3NzKHsgaGVpZ2h0IH0pO1xuICAgICAgfSkub25lKCdyZXZlYWxlci1oaWRlJywgKCkgPT4ge1xuICAgICAgICB0aGlzLiRlbFxuICAgICAgICAgIC5vZmYoJ3JldmVhbGVyLWhpZGUucHJvZHVjdC1pdGVtJylcbiAgICAgICAgICAuY3NzKCdoZWlnaHQnLCAnJyk7XG4gICAgICAgIHRoaXMuJGNvbnRlbnQuY3NzKCdoZWlnaHQnLCAnJyk7XG4gICAgICB9KTtcblxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLl9hY3Rpb25zVG9nZ2xlKTtcblxuICAgIHRoaXMuYWN0aW9uc09wZW4gPSBmYWxzZTtcbiAgfVxuXG4gIF9hZGRUb0NhcnQoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0ICRhdGNCdXR0b24gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHZhcmlhbnRJRCA9ICRhdGNCdXR0b24uYXR0cignZGF0YS12YXJpYW50LWlkJyk7XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IFtcbiAgICAgIHtcbiAgICAgICAgJ25hbWUnOiAnaWQnLFxuICAgICAgICAndmFsdWUnOiB2YXJpYW50SUQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnbmFtZSc6ICdxdWFudGl0eScsXG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgJGF0Y0J1dHRvbixcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIG1vbmV5Rm9ybWF0OiB0aGlzLnF1aWNrQnV5U2V0dGluZ3MubW9uZXlfZm9ybWF0LFxuICAgICAgICBjYXJ0UmVkaXJlY3Rpb246IHRoaXMucXVpY2tCdXlTZXR0aW5ncy5jYXJ0X3JlZGlyZWN0aW9uLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgQWRkVG9DYXJ0Rmx5b3V0LmluaXQoZm9ybURhdGEsIHRoaXMucHJvZHVjdCwgb3B0aW9ucyk7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy5ldmVudHMuZm9yRWFjaCgkZWwgPT4gJGVsLm9mZignLnByb2R1Y3QtaXRlbScpKTtcblxuICAgIGlmICh0aGlzLnByb2R1Y3RRdWlja3Nob3ApIHtcbiAgICAgIHRoaXMucHJvZHVjdFF1aWNrc2hvcC51bmxvYWQoKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5fYWN0aW9uc1RvZ2dsZSk7XG5cbiAgICBpZiAodGhpcy5zd2F0Y2hlcykge1xuICAgICAgdGhpcy5zd2F0Y2hlcy51bmxvYWQoKTtcbiAgICB9XG4gICAgdGhpcy5sYXp5TG9hZGVyLnVubG9hZCgpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/ProductGridItem.js\n");

/***/ }),

/***/ "./source/scripts/components/ProductQuickshop.js":
/*!*******************************************************!*\
  !*** ./source/scripts/components/ProductQuickshop.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductQuickshop; });\n/* harmony import */ var shopify_asyncview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! shopify-asyncview */ \"./node_modules/shopify-asyncview/dist/index.es.js\");\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal */ \"./source/scripts/components/Modal.js\");\n/* harmony import */ var _ProductDetails__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProductDetails */ \"./source/scripts/components/ProductDetails.js\");\n/* harmony import */ var _RichText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RichText */ \"./source/scripts/components/RichText.js\");\n/* harmony import */ var _helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/ProductReviews */ \"./source/scripts/helpers/ProductReviews.js\");\n/* harmony import */ var _shortcodes_Shortcodes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shortcodes/Shortcodes */ \"./source/scripts/shortcodes/Shortcodes.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n/**\n * Updates element IDs to ensure they are unique within the document by checking for conflicts.\n * Also checks associated labels and updates the `for` attribute if required.\n * @param {NodeList} idEls Elements to check for ID uniqueness within the document\n * @param {NodeList} labels Labels to update if element with associated ID is updated.\n */\n\nfunction makeIDsUnique(idEls, labels) {\n  idEls.forEach(function (idEl) {\n    var oldId = idEl.getAttribute('id');\n    var duplicateCount = document.querySelectorAll(\"[id$=\\\"\".concat(oldId, \"\\\"]\")).length;\n\n    if (duplicateCount > 0) {\n      var newId = \"\".concat(duplicateCount).concat(oldId);\n      idEl.setAttribute('id', newId); // update label\n\n      labels.forEach(function (label) {\n        if (label.matches(\"[for=\\\"\".concat(oldId, \"\\\"]\"))) {\n          label.setAttribute('for', newId);\n        }\n      });\n    }\n  });\n}\n\nvar ProductQuickshop = /*#__PURE__*/function () {\n  function ProductQuickshop(options) {\n    _classCallCheck(this, ProductQuickshop);\n\n    this.options = options;\n    this.el = null;\n    this.modal = null;\n    this.richText = null;\n    this.productDetails = null;\n    this.initialVariant = this.options.initialVariant || null;\n    this.isLoaded = false;\n    this.loader = null;\n    this.isOpen = false;\n  }\n  /**\n   * Sets a variant to be preselected when quickshop is opened\n   * @param {integer} variantId - Variant ID to preselect when quickshop is opened\n   */\n\n\n  _createClass(ProductQuickshop, [{\n    key: \"setInitialVariant\",\n    value: function setInitialVariant(variantId) {\n      this.initialVariant = variantId;\n    }\n  }, {\n    key: \"open\",\n    value: function open(full) {\n      var _this = this;\n\n      var loader = !this.isLoaded && this.loader ? this.loader : this.load();\n      loader.then(function () {\n        var _this$options = _this.options,\n            id = _this$options.id,\n            url = _this$options.url,\n            trigger = _this$options.trigger,\n            button = _this$options.button;\n        var modalCallbacks = {\n          onOpen: function onOpen() {\n            return _this._selectInitialVariant();\n          },\n          onClose: function onClose() {\n            return _this.close();\n          }\n        };\n        var leftThumbsClass = button[0] && button[0].hasAttribute('data-thumbs-left') ? ' quickshop-thumbs-left' : '';\n        _this.modal = new _Modal__WEBPACK_IMPORTED_MODULE_2__[\"default\"](modalCallbacks);\n\n        _this.modal.open(\"#shopify-section-\".concat(id, \" [data-product-quickshop-url=\\\"\").concat(url, \"\\\"]\"), full ? \"quickshop-full\".concat(leftThumbsClass) : 'quickshop-slim', trigger);\n\n        rimg_shopify__WEBPACK_IMPORTED_MODULE_1__[\"default\"].watch(_this.el);\n\n        _this.productDetails.onQuickshopOpen();\n\n        if (window.Shopify && Shopify.PaymentButton) {\n          Shopify.PaymentButton.init();\n        }\n\n        _this.isOpen = true;\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this2 = this;\n\n      if (this.isLoaded || this.loader) {\n        var loader = this.loader || Promise.resolve();\n        return loader.then(function () {\n          if (!_this2.isOpen) {\n            return;\n          }\n\n          if (!_this2.openingAddToCart) {\n            var trigger = _this2.options.trigger;\n            trigger.focus();\n          }\n\n          _this2._clearNotification();\n\n          _this2.modal.unload();\n\n          _this2.productDetails.unloadAllMedia();\n\n          _this2.isOpen = false;\n        });\n      }\n\n      return Promise.resolve();\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      var _this3 = this;\n\n      if (this.isLoaded || this.loader) {\n        return this.close().then(function () {\n          if (_this3.productDetails) {\n            _this3.productDetails.unload();\n          }\n\n          if (_this3.richText) {\n            _this3.richText.unload();\n          }\n\n          if (_this3.shortcodes) {\n            _this3.shortcodes.unload();\n          }\n        });\n      }\n\n      return Promise.resolve();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      var _this4 = this;\n\n      // If we're already loaded, return true\n      if (this.isLoaded) {\n        return Promise.resolve(true);\n      } // If we're currently loading, return the existing promise\n\n\n      if (this.loader) {\n        return this.loader;\n      }\n\n      var _this$options2 = this.options,\n          el = _this$options2.el,\n          url = _this$options2.url,\n          hash = _this$options2.hash;\n      this.openingAddToCart = false;\n      this.loader = shopify_asyncview__WEBPACK_IMPORTED_MODULE_0__[\"default\"].load(url, {\n        view: '_quickshop'\n      }, {\n        hash: hash\n      }).then(function (response) {\n        var data = response.data,\n            html = response.html;\n        var context = data.context,\n            settings = data.settings,\n            product = data.product,\n            models = data.models;\n        var container = document.createElement('div');\n        container.innerHTML = html;\n        var formArea = container.querySelector('[data-product-form-area]');\n        makeIDsUnique(formArea.querySelectorAll('select[id], input[id]'), formArea.querySelectorAll('label[for]'));\n        var gallery = container.querySelector('[data-product-gallery]');\n        var details = container.querySelector('[data-product-details]');\n        var description = container.querySelector('[data-product-description]');\n        _this4._onATCInit = _this4._onATCInit.bind(_this4);\n        _this4._onATCError = _this4._onATCError.bind(_this4);\n        _this4._onATCSuccess = _this4._onATCSuccess.bind(_this4);\n        _this4._onATCClose = _this4._onATCClose.bind(_this4);\n        var atcCallbacks = {\n          onInit: _this4._onATCInit,\n          onError: _this4._onATCError,\n          onSuccess: _this4._onATCSuccess,\n          onClose: _this4._onATCClose\n        };\n        _this4.productDetails = new _ProductDetails__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n          $formArea: $(formArea),\n          gallery: gallery,\n          $details: $(details),\n          atcCallbacks: atcCallbacks,\n          context: context,\n          settings: settings,\n          product: product,\n          models: models,\n          useHistory: false,\n          isQuickshop: true\n        });\n        _this4.shortcodes = new _shortcodes_Shortcodes__WEBPACK_IMPORTED_MODULE_6__[\"default\"](container);\n\n        if (description) {\n          _this4.richText = new _RichText__WEBPACK_IMPORTED_MODULE_4__[\"default\"](description);\n        }\n\n        Object(_helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        el.setAttribute('data-loaded', true);\n        _this4.el = el.appendChild(container);\n        _this4.isLoaded = true;\n      }).then(function () {\n        _this4.loader = null;\n        return true;\n      }).catch(function () {\n        _this4.loader = null;\n        return false;\n      });\n      return this.loader;\n    }\n  }, {\n    key: \"_selectInitialVariant\",\n    value: function _selectInitialVariant() {\n      this.productDetails.selectVariant(this.initialVariant);\n    }\n  }, {\n    key: \"_setNotification\",\n    value: function _setNotification(notification) {\n      var isVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var shouldFocus = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (!this.isLoaded) {\n        return;\n      }\n\n      var notificationContainer = this.el.querySelector('[data-product-quickshop-message]');\n      notificationContainer.appendChild(notification);\n\n      if (isVisible) {\n        notificationContainer.classList.add('visible');\n      } else {\n        notificationContainer.classList.remove('visible');\n      }\n\n      if (shouldFocus) {\n        notification.focus();\n      }\n    }\n  }, {\n    key: \"_clearNotification\",\n    value: function _clearNotification() {\n      if (!this.isLoaded) {\n        return;\n      }\n\n      var notificationContainer = this.el.querySelector('[data-product-quickshop-message]');\n      notificationContainer.classList.remove('visible');\n\n      while (notificationContainer.firstChild) {\n        notificationContainer.removeChild(notificationContainer.firstChild);\n      }\n    }\n  }, {\n    key: \"_onATCInit\",\n    value: function _onATCInit() {\n      this.openingAddToCart = true;\n\n      this._clearNotification();\n    }\n  }, {\n    key: \"_onATCError\",\n    value: function _onATCError(error) {\n      var notification = document.createElement('div');\n      notification.classList.add('product-message--error');\n      notification.setAttribute('tabindex', '-1');\n      notification.innerHTML = error;\n\n      this._setNotification(notification, true, true);\n    }\n  }, {\n    key: \"_onATCSuccess\",\n    value: function _onATCSuccess() {\n      this.close();\n    }\n  }, {\n    key: \"_onATCClose\",\n    value: function _onATCClose() {\n      var trigger = this.options.trigger;\n      trigger.focus();\n    }\n  }]);\n\n  return ProductQuickshop;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1Byb2R1Y3RRdWlja3Nob3AuanM/N2Y0YyJdLCJuYW1lcyI6WyJtYWtlSURzVW5pcXVlIiwiaWRFbHMiLCJsYWJlbHMiLCJmb3JFYWNoIiwiaWRFbCIsIm9sZElkIiwiZ2V0QXR0cmlidXRlIiwiZHVwbGljYXRlQ291bnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJuZXdJZCIsInNldEF0dHJpYnV0ZSIsImxhYmVsIiwibWF0Y2hlcyIsIlByb2R1Y3RRdWlja3Nob3AiLCJvcHRpb25zIiwiZWwiLCJtb2RhbCIsInJpY2hUZXh0IiwicHJvZHVjdERldGFpbHMiLCJpbml0aWFsVmFyaWFudCIsImlzTG9hZGVkIiwibG9hZGVyIiwiaXNPcGVuIiwidmFyaWFudElkIiwiZnVsbCIsImxvYWQiLCJ0aGVuIiwiaWQiLCJ1cmwiLCJ0cmlnZ2VyIiwiYnV0dG9uIiwibW9kYWxDYWxsYmFja3MiLCJvbk9wZW4iLCJfc2VsZWN0SW5pdGlhbFZhcmlhbnQiLCJvbkNsb3NlIiwiY2xvc2UiLCJsZWZ0VGh1bWJzQ2xhc3MiLCJoYXNBdHRyaWJ1dGUiLCJNb2RhbCIsIm9wZW4iLCJyaW1nIiwid2F0Y2giLCJvblF1aWNrc2hvcE9wZW4iLCJ3aW5kb3ciLCJTaG9waWZ5IiwiUGF5bWVudEJ1dHRvbiIsImluaXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9wZW5pbmdBZGRUb0NhcnQiLCJmb2N1cyIsIl9jbGVhck5vdGlmaWNhdGlvbiIsInVubG9hZCIsInVubG9hZEFsbE1lZGlhIiwic2hvcnRjb2RlcyIsImhhc2giLCJBc3luY1ZpZXciLCJ2aWV3IiwicmVzcG9uc2UiLCJkYXRhIiwiaHRtbCIsImNvbnRleHQiLCJzZXR0aW5ncyIsInByb2R1Y3QiLCJtb2RlbHMiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiZm9ybUFyZWEiLCJxdWVyeVNlbGVjdG9yIiwiZ2FsbGVyeSIsImRldGFpbHMiLCJkZXNjcmlwdGlvbiIsIl9vbkFUQ0luaXQiLCJiaW5kIiwiX29uQVRDRXJyb3IiLCJfb25BVENTdWNjZXNzIiwiX29uQVRDQ2xvc2UiLCJhdGNDYWxsYmFja3MiLCJvbkluaXQiLCJvbkVycm9yIiwib25TdWNjZXNzIiwiUHJvZHVjdERldGFpbHMiLCIkZm9ybUFyZWEiLCIkIiwiJGRldGFpbHMiLCJ1c2VIaXN0b3J5IiwiaXNRdWlja3Nob3AiLCJTaG9ydGNvZGVzIiwiUmljaFRleHQiLCJpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzIiwiYXBwZW5kQ2hpbGQiLCJjYXRjaCIsInNlbGVjdFZhcmlhbnQiLCJub3RpZmljYXRpb24iLCJpc1Zpc2libGUiLCJzaG91bGRGb2N1cyIsIm5vdGlmaWNhdGlvbkNvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImVycm9yIiwiX3NldE5vdGlmaWNhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU1BLFNBQVNBLGFBQVQsQ0FBdUJDLEtBQXZCLEVBQThCQyxNQUE5QixFQUFzQztBQUNwQ0QsT0FBSyxDQUFDRSxPQUFOLENBQWMsVUFBQUMsSUFBSSxFQUFJO0FBQ3BCLFFBQU1DLEtBQUssR0FBR0QsSUFBSSxDQUFDRSxZQUFMLENBQWtCLElBQWxCLENBQWQ7QUFDQSxRQUFNQyxjQUFjLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQVQsa0JBQW1DSixLQUFuQyxVQUE4Q0ssTUFBckU7O0FBRUEsUUFBSUgsY0FBYyxHQUFHLENBQXJCLEVBQXdCO0FBQ3RCLFVBQU1JLEtBQUssYUFBTUosY0FBTixTQUF1QkYsS0FBdkIsQ0FBWDtBQUNBRCxVQUFJLENBQUNRLFlBQUwsQ0FBa0IsSUFBbEIsRUFBd0JELEtBQXhCLEVBRnNCLENBSXRCOztBQUNBVCxZQUFNLENBQUND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RSxxQkFBcUIsR0FBRyxLQUFLbEYsRUFBTCxDQUFRc0QsYUFBUixDQUFzQixrQ0FBdEIsQ0FBOUI7QUFFQTRCLDJCQUFxQixDQUFDQyxTQUF0QixDQUFnQ0UsTUFBaEMsQ0FBdUMsU0FBdkM7O0FBRUEsYUFBT0gscUJBQXFCLENBQUNJLFVBQTdCLEVBQXlDO0FBQ3ZDSiw2QkFBcUIsQ0FBQ0ssV0FBdEIsQ0FBa0NMLHFCQUFxQixDQUFDSSxVQUF4RDtBQUNEO0FBQ0Y7OztpQ0FFWTtBQUNYLFdBQUtwRCxnQkFBTCxHQUF3QixJQUF4Qjs7QUFDQSxXQUFLRSxrQkFBTDtBQUNEOzs7Z0NBRVdvRCxLLEVBQU87QUFDakIsVUFBTVQsWUFBWSxHQUFHeEYsUUFBUSxDQUFDNEQsYUFBVCxDQUF1QixLQUF2QixDQUFyQjtBQUVBNEIsa0JBQVksQ0FBQ0ksU0FBYixDQUF1QkMsR0FBdkIsQ0FBMkIsd0JBQTNCO0FBQ0FMLGtCQUFZLENBQUNwRixZQUFiLENBQTBCLFVBQTFCLEVBQXNDLElBQXRDO0FBQ0FvRixrQkFBWSxDQUFDM0IsU0FBYixHQUF5Qm9DLEtBQXpCOztBQUVBLFdBQUtDLGdCQUFMLENBQXNCVixZQUF0QixFQUFvQyxJQUFwQyxFQUEwQyxJQUExQztBQUNEOzs7b0NBRWU7QUFDZCxXQUFLM0QsS0FBTDtBQUNEOzs7a0NBRWE7QUFBQSxVQUNKTixPQURJLEdBQ1EsS0FBS2YsT0FEYixDQUNKZSxPQURJO0FBRVpBLGFBQU8sQ0FBQ3FCLEtBQVI7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvUHJvZHVjdFF1aWNrc2hvcC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBc3luY1ZpZXcgZnJvbSAnc2hvcGlmeS1hc3luY3ZpZXcnO1xuaW1wb3J0IHJpbWcgZnJvbSAncmltZy1zaG9waWZ5JztcbmltcG9ydCBNb2RhbCBmcm9tICcuL01vZGFsJztcbmltcG9ydCBQcm9kdWN0RGV0YWlscyBmcm9tICcuL1Byb2R1Y3REZXRhaWxzJztcbmltcG9ydCBSaWNoVGV4dCBmcm9tICcuL1JpY2hUZXh0JztcbmltcG9ydCBpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzIGZyb20gJy4uL2hlbHBlcnMvUHJvZHVjdFJldmlld3MnO1xuaW1wb3J0IFNob3J0Y29kZXMgZnJvbSAnLi4vc2hvcnRjb2Rlcy9TaG9ydGNvZGVzJztcblxuLyoqXG4gKiBVcGRhdGVzIGVsZW1lbnQgSURzIHRvIGVuc3VyZSB0aGV5IGFyZSB1bmlxdWUgd2l0aGluIHRoZSBkb2N1bWVudCBieSBjaGVja2luZyBmb3IgY29uZmxpY3RzLlxuICogQWxzbyBjaGVja3MgYXNzb2NpYXRlZCBsYWJlbHMgYW5kIHVwZGF0ZXMgdGhlIGBmb3JgIGF0dHJpYnV0ZSBpZiByZXF1aXJlZC5cbiAqIEBwYXJhbSB7Tm9kZUxpc3R9IGlkRWxzIEVsZW1lbnRzIHRvIGNoZWNrIGZvciBJRCB1bmlxdWVuZXNzIHdpdGhpbiB0aGUgZG9jdW1lbnRcbiAqIEBwYXJhbSB7Tm9kZUxpc3R9IGxhYmVscyBMYWJlbHMgdG8gdXBkYXRlIGlmIGVsZW1lbnQgd2l0aCBhc3NvY2lhdGVkIElEIGlzIHVwZGF0ZWQuXG4gKi9cbmZ1bmN0aW9uIG1ha2VJRHNVbmlxdWUoaWRFbHMsIGxhYmVscykge1xuICBpZEVscy5mb3JFYWNoKGlkRWwgPT4ge1xuICAgIGNvbnN0IG9sZElkID0gaWRFbC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgY29uc3QgZHVwbGljYXRlQ291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbaWQkPVwiJHtvbGRJZH1cIl1gKS5sZW5ndGg7XG5cbiAgICBpZiAoZHVwbGljYXRlQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCBuZXdJZCA9IGAke2R1cGxpY2F0ZUNvdW50fSR7b2xkSWR9YDtcbiAgICAgIGlkRWwuc2V0QXR0cmlidXRlKCdpZCcsIG5ld0lkKTtcblxuICAgICAgLy8gdXBkYXRlIGxhYmVsXG4gICAgICBsYWJlbHMuZm9yRWFjaChsYWJlbCA9PiB7XG4gICAgICAgIGlmIChsYWJlbC5tYXRjaGVzKGBbZm9yPVwiJHtvbGRJZH1cIl1gKSkge1xuICAgICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgbmV3SWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9kdWN0UXVpY2tzaG9wIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5lbCA9IG51bGw7XG4gICAgdGhpcy5tb2RhbCA9IG51bGw7XG4gICAgdGhpcy5yaWNoVGV4dCA9IG51bGw7XG4gICAgdGhpcy5wcm9kdWN0RGV0YWlscyA9IG51bGw7XG4gICAgdGhpcy5pbml0aWFsVmFyaWFudCA9IHRoaXMub3B0aW9ucy5pbml0aWFsVmFyaWFudCB8fCBudWxsO1xuXG4gICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlO1xuICAgIHRoaXMubG9hZGVyID0gbnVsbDtcblxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIHZhcmlhbnQgdG8gYmUgcHJlc2VsZWN0ZWQgd2hlbiBxdWlja3Nob3AgaXMgb3BlbmVkXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gdmFyaWFudElkIC0gVmFyaWFudCBJRCB0byBwcmVzZWxlY3Qgd2hlbiBxdWlja3Nob3AgaXMgb3BlbmVkXG4gICAqL1xuICBzZXRJbml0aWFsVmFyaWFudCh2YXJpYW50SWQpIHtcbiAgICB0aGlzLmluaXRpYWxWYXJpYW50ID0gdmFyaWFudElkO1xuICB9XG5cbiAgb3BlbihmdWxsKSB7XG4gICAgY29uc3QgbG9hZGVyID0gIXRoaXMuaXNMb2FkZWQgJiYgdGhpcy5sb2FkZXIgPyB0aGlzLmxvYWRlciA6IHRoaXMubG9hZCgpO1xuXG4gICAgbG9hZGVyLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpZCxcbiAgICAgICAgdXJsLFxuICAgICAgICB0cmlnZ2VyLFxuICAgICAgICBidXR0b24sXG4gICAgICB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgY29uc3QgbW9kYWxDYWxsYmFja3MgPSB7XG4gICAgICAgIG9uT3BlbjogKCkgPT4gdGhpcy5fc2VsZWN0SW5pdGlhbFZhcmlhbnQoKSxcbiAgICAgICAgb25DbG9zZTogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbGVmdFRodW1ic0NsYXNzID0gYnV0dG9uWzBdICYmIGJ1dHRvblswXS5oYXNBdHRyaWJ1dGUoJ2RhdGEtdGh1bWJzLWxlZnQnKVxuICAgICAgICA/ICcgcXVpY2tzaG9wLXRodW1icy1sZWZ0J1xuICAgICAgICA6ICcnO1xuXG4gICAgICB0aGlzLm1vZGFsID0gbmV3IE1vZGFsKG1vZGFsQ2FsbGJhY2tzKTtcbiAgICAgIHRoaXMubW9kYWwub3BlbihcbiAgICAgICAgYCNzaG9waWZ5LXNlY3Rpb24tJHtpZH0gW2RhdGEtcHJvZHVjdC1xdWlja3Nob3AtdXJsPVwiJHt1cmx9XCJdYCxcbiAgICAgICAgZnVsbCA/IGBxdWlja3Nob3AtZnVsbCR7bGVmdFRodW1ic0NsYXNzfWAgOiAncXVpY2tzaG9wLXNsaW0nLFxuICAgICAgICB0cmlnZ2VyLFxuICAgICAgKTtcblxuICAgICAgcmltZy53YXRjaCh0aGlzLmVsKTtcblxuICAgICAgdGhpcy5wcm9kdWN0RGV0YWlscy5vblF1aWNrc2hvcE9wZW4oKTtcblxuICAgICAgaWYgKHdpbmRvdy5TaG9waWZ5ICYmIFNob3BpZnkuUGF5bWVudEJ1dHRvbikge1xuICAgICAgICBTaG9waWZ5LlBheW1lbnRCdXR0b24uaW5pdCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBpZiAodGhpcy5pc0xvYWRlZCB8fCB0aGlzLmxvYWRlcikge1xuICAgICAgY29uc3QgbG9hZGVyID0gdGhpcy5sb2FkZXIgfHwgUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAgIHJldHVybiBsb2FkZXIudGhlbigoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMub3BlbmluZ0FkZFRvQ2FydCkge1xuICAgICAgICAgIGNvbnN0IHsgdHJpZ2dlciB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgIHRyaWdnZXIuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NsZWFyTm90aWZpY2F0aW9uKCk7XG4gICAgICAgIHRoaXMubW9kYWwudW5sb2FkKCk7XG5cbiAgICAgICAgdGhpcy5wcm9kdWN0RGV0YWlscy51bmxvYWRBbGxNZWRpYSgpO1xuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgaWYgKHRoaXMuaXNMb2FkZWQgfHwgdGhpcy5sb2FkZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3NlKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnByb2R1Y3REZXRhaWxzKSB7XG4gICAgICAgICAgICB0aGlzLnByb2R1Y3REZXRhaWxzLnVubG9hZCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLnJpY2hUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnJpY2hUZXh0LnVubG9hZCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLnNob3J0Y29kZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvcnRjb2Rlcy51bmxvYWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGxvYWQoKSB7XG4gICAgLy8gSWYgd2UncmUgYWxyZWFkeSBsb2FkZWQsIHJldHVybiB0cnVlXG4gICAgaWYgKHRoaXMuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UncmUgY3VycmVudGx5IGxvYWRpbmcsIHJldHVybiB0aGUgZXhpc3RpbmcgcHJvbWlzZVxuICAgIGlmICh0aGlzLmxvYWRlcikge1xuICAgICAgcmV0dXJuIHRoaXMubG9hZGVyO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGVsLFxuICAgICAgdXJsLFxuICAgICAgaGFzaCxcbiAgICB9ID0gdGhpcy5vcHRpb25zO1xuICAgIHRoaXMub3BlbmluZ0FkZFRvQ2FydCA9IGZhbHNlO1xuXG4gICAgdGhpcy5sb2FkZXIgPSBBc3luY1ZpZXcubG9hZCh1cmwsIHsgdmlldzogJ19xdWlja3Nob3AnIH0sIHsgaGFzaCB9KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBjb25zdCB7IGRhdGEsIGh0bWwgfSA9IHJlc3BvbnNlO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBzZXR0aW5ncyxcbiAgICAgICAgICBwcm9kdWN0LFxuICAgICAgICAgIG1vZGVscyxcbiAgICAgICAgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgIGNvbnN0IGZvcm1BcmVhID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3QtZm9ybS1hcmVhXScpO1xuICAgICAgICBtYWtlSURzVW5pcXVlKGZvcm1BcmVhLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdFtpZF0sIGlucHV0W2lkXScpLCBmb3JtQXJlYS5xdWVyeVNlbGVjdG9yQWxsKCdsYWJlbFtmb3JdJykpO1xuICAgICAgICBjb25zdCBnYWxsZXJ5ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3QtZ2FsbGVyeV0nKTtcbiAgICAgICAgY29uc3QgZGV0YWlscyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LWRldGFpbHNdJyk7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3QtZGVzY3JpcHRpb25dJyk7XG5cbiAgICAgICAgdGhpcy5fb25BVENJbml0ID0gdGhpcy5fb25BVENJbml0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX29uQVRDRXJyb3IgPSB0aGlzLl9vbkFUQ0Vycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX29uQVRDU3VjY2VzcyA9IHRoaXMuX29uQVRDU3VjY2Vzcy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vbkFUQ0Nsb3NlID0gdGhpcy5fb25BVENDbG9zZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGNvbnN0IGF0Y0NhbGxiYWNrcyA9IHtcbiAgICAgICAgICBvbkluaXQ6IHRoaXMuX29uQVRDSW5pdCxcbiAgICAgICAgICBvbkVycm9yOiB0aGlzLl9vbkFUQ0Vycm9yLFxuICAgICAgICAgIG9uU3VjY2VzczogdGhpcy5fb25BVENTdWNjZXNzLFxuICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuX29uQVRDQ2xvc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5wcm9kdWN0RGV0YWlscyA9IG5ldyBQcm9kdWN0RGV0YWlscyh7XG4gICAgICAgICAgJGZvcm1BcmVhOiAkKGZvcm1BcmVhKSxcbiAgICAgICAgICBnYWxsZXJ5LFxuICAgICAgICAgICRkZXRhaWxzOiAkKGRldGFpbHMpLFxuICAgICAgICAgIGF0Y0NhbGxiYWNrcyxcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIHNldHRpbmdzLFxuICAgICAgICAgIHByb2R1Y3QsXG4gICAgICAgICAgbW9kZWxzLFxuICAgICAgICAgIHVzZUhpc3Rvcnk6IGZhbHNlLFxuICAgICAgICAgIGlzUXVpY2tzaG9wOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNob3J0Y29kZXMgPSBuZXcgU2hvcnRjb2Rlcyhjb250YWluZXIpO1xuXG4gICAgICAgIGlmIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgIHRoaXMucmljaFRleHQgPSBuZXcgUmljaFRleHQoZGVzY3JpcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdFNob3BpZnlQcm9kdWN0UmV2aWV3cygpO1xuXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1sb2FkZWQnLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmVsID0gZWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWU7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5sb2FkZXI7XG4gIH1cblxuICBfc2VsZWN0SW5pdGlhbFZhcmlhbnQoKSB7XG4gICAgdGhpcy5wcm9kdWN0RGV0YWlscy5zZWxlY3RWYXJpYW50KHRoaXMuaW5pdGlhbFZhcmlhbnQpO1xuICB9XG5cbiAgX3NldE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIGlzVmlzaWJsZSA9IGZhbHNlLCBzaG91bGRGb2N1cyA9IGZhbHNlKSB7XG4gICAgaWYgKCF0aGlzLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uQ29udGFpbmVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LXF1aWNrc2hvcC1tZXNzYWdlXScpO1xuXG4gICAgbm90aWZpY2F0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbik7XG5cbiAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICBub3RpZmljYXRpb25Db250YWluZXIuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3RpZmljYXRpb25Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRGb2N1cykge1xuICAgICAgbm90aWZpY2F0aW9uLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgX2NsZWFyTm90aWZpY2F0aW9uKCkge1xuICAgIGlmICghdGhpcy5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbkNvbnRhaW5lciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZHVjdC1xdWlja3Nob3AtbWVzc2FnZV0nKTtcblxuICAgIG5vdGlmaWNhdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG5cbiAgICB3aGlsZSAobm90aWZpY2F0aW9uQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgIG5vdGlmaWNhdGlvbkNvbnRhaW5lci5yZW1vdmVDaGlsZChub3RpZmljYXRpb25Db250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgfVxuICB9XG5cbiAgX29uQVRDSW5pdCgpIHtcbiAgICB0aGlzLm9wZW5pbmdBZGRUb0NhcnQgPSB0cnVlO1xuICAgIHRoaXMuX2NsZWFyTm90aWZpY2F0aW9uKCk7XG4gIH1cblxuICBfb25BVENFcnJvcihlcnJvcikge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgbm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtbWVzc2FnZS0tZXJyb3InKTtcbiAgICBub3RpZmljYXRpb24uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIG5vdGlmaWNhdGlvbi5pbm5lckhUTUwgPSBlcnJvcjtcblxuICAgIHRoaXMuX3NldE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHRydWUsIHRydWUpO1xuICB9XG5cbiAgX29uQVRDU3VjY2VzcygpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBfb25BVENDbG9zZSgpIHtcbiAgICBjb25zdCB7IHRyaWdnZXIgfSA9IHRoaXMub3B0aW9ucztcbiAgICB0cmlnZ2VyLmZvY3VzKCk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/components/ProductQuickshop.js\n");

/***/ }),

/***/ "./source/scripts/components/ProductRowScroller.js":
/*!*********************************************************!*\
  !*** ./source/scripts/components/ProductRowScroller.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductRowScroller; });\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar ProductRowScroller = /*#__PURE__*/function () {\n  function ProductRowScroller(productRow) {\n    _classCallCheck(this, ProductRowScroller);\n\n    this.$window = $(window);\n    this.flickity = null;\n    this.productRow = productRow;\n    this.$productRow = $(this.productRow); // Activate flickity on mobile\n\n    this._mobileSlider = this._mobileSlider.bind(this);\n    _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"onChange\"](this._mobileSlider);\n\n    this._mobileSlider();\n  }\n\n  _createClass(ProductRowScroller, [{\n    key: \"unload\",\n    value: function unload() {\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"offChange\"](this._mobileSlider);\n\n      this._destroyFlickity();\n    }\n  }, {\n    key: \"_initFlickity\",\n    value: function _initFlickity() {\n      this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_1___default.a(this.productRow, {\n        cellSelector: '.productgrid--item',\n        contain: true,\n        freeScroll: true,\n        percentPosition: false,\n        prevNextButtons: false,\n        pageDots: false,\n        setGallerySize: false\n      });\n\n      this._bindSlider();\n    }\n  }, {\n    key: \"_destroyFlickity\",\n    value: function _destroyFlickity() {\n      if (!this.flickity) {\n        return;\n      }\n\n      this.$window.off('.product-row');\n      this.$productRow.off('.product-row');\n      this.flickity.destroy();\n      this.flickity = null;\n    }\n  }, {\n    key: \"_mobileSlider\",\n    value: function _mobileSlider() {\n      // If is Large layout, attempt to destroy flickity\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"min\"]('L')) {\n        this._destroyFlickity();\n\n        return;\n      } // Is XS/S/M, and flickity is init'd -- do nothing\n\n\n      if (this.flickity) {\n        return;\n      } // Is XS/S/M, and flickity is not init'd\n\n\n      this._initFlickity();\n    }\n  }, {\n    key: \"_bindSlider\",\n    value: function _bindSlider() {\n      var _this = this;\n\n      var $slider = this.$productRow.find('.flickity-slider');\n      this.$window.on('resize.product-row', just_debounce__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n        _this.$productRow.trigger('heightUpdate.product-row');\n      }));\n      this.flickity.on('cellSelect', function () {\n        _this.$productRow.trigger('heightUpdate.product-row');\n      });\n      this.$productRow.on('heightUpdate.product-row', function () {\n        if (!_this.flickity) {\n          return;\n        }\n\n        $slider.height(Math.ceil(_this.flickity.maxCellHeight));\n      }); // Sets the Slider to the height of the first slide\n\n      this.$productRow.trigger('heightUpdate.product-row');\n    }\n  }]);\n\n  return ProductRowScroller;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1Byb2R1Y3RSb3dTY3JvbGxlci5qcz8xNzI5Il0sIm5hbWVzIjpbIlByb2R1Y3RSb3dTY3JvbGxlciIsInByb2R1Y3RSb3ciLCIkd2luZG93IiwiJCIsIndpbmRvdyIsImZsaWNraXR5IiwiJHByb2R1Y3RSb3ciLCJfbW9iaWxlU2xpZGVyIiwiYmluZCIsImJyZWFrcG9pbnQiLCJfZGVzdHJveUZsaWNraXR5IiwiRmxpY2tpdHkiLCJjZWxsU2VsZWN0b3IiLCJjb250YWluIiwiZnJlZVNjcm9sbCIsInBlcmNlbnRQb3NpdGlvbiIsInByZXZOZXh0QnV0dG9ucyIsInBhZ2VEb3RzIiwic2V0R2FsbGVyeVNpemUiLCJfYmluZFNsaWRlciIsIm9mZiIsImRlc3Ryb3kiLCJfaW5pdEZsaWNraXR5IiwiJHNsaWRlciIsImZpbmQiLCJvbiIsImRlYm91bmNlIiwidHJpZ2dlciIsImhlaWdodCIsIk1hdGgiLCJjZWlsIiwibWF4Q2VsbEhlaWdodCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0lBR3FCQSxrQjtBQUNuQiw4QkFBWUMsVUFBWixFQUF3QjtBQUFBOztBQUN0QixTQUFLQyxPQUFMLEdBQWVDLENBQUMsQ0FBQ0MsTUFBRCxDQUFoQjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxTQUFLSixVQUFMLEdBQWtCQSxVQUFsQjtBQUNBLFNBQUtLLFdBQUwsR0FBbUJILENBQUMsQ0FBQyxLQUFLRixVQUFOLENBQXBCLENBSnNCLENBTXRCOztBQUNBLFNBQUtNLGFBQUwsR0FBcUIsS0FBS0EsYUFBTCxDQUFtQkMsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBckI7QUFDQUMsbUVBQUEsQ0FBb0IsS0FBS0YsYUFBekI7O0FBRUEsU0FBS0EsYUFBTDtBQUNEOzs7OzZCQUVRO0FBQ1BFLHNFQUFBLENBQXFCLEtBQUtGLGFBQTFCOztBQUNBLFdBQUtHLGdCQUFMO0FBQ0Q7OztvQ0FFZTtBQUNkLFdBQUtMLFFBQUwsR0FBZ0IsSUFBSU0sK0NBQUosQ0FBYSxLQUFLVixVQUFsQixFQUE4QjtBQUM1Q1csb0JBQVksRUFBRSxvQkFEOEI7QUFFNUNDLGVBQU8sRUFBRSxJQUZtQztBQUc1Q0Msa0JBQVUsRUFBRSxJQUhnQztBQUk1Q0MsdUJBQWUsRUFBRSxLQUoyQjtBQUs1Q0MsdUJBQWUsRUFBRSxLQUwyQjtBQU01Q0MsZ0JBQVEsRUFBRSxLQU5rQztBQU81Q0Msc0JBQWMsRUFBRTtBQVA0QixPQUE5QixDQUFoQjs7QUFVQSxXQUFLQyxXQUFMO0FBQ0Q7Ozt1Q0FFa0I7QUFDakIsVUFBSSxDQUFDLEtBQUtkLFFBQVYsRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxXQUFLSCxPQUFMLENBQWFrQixHQUFiLENBQWlCLGNBQWpCO0FBQ0EsV0FBS2QsV0FBTCxDQUFpQmMsR0FBakIsQ0FBcUIsY0FBckI7QUFFQSxXQUFLZixRQUFMLENBQWNnQixPQUFkO0FBQ0EsV0FBS2hCLFFBQUwsR0FBZ0IsSUFBaEI7QUFDRDs7O29DQUVlO0FBQ2Q7QUFDQSxVQUFJSSwwREFBQSxDQUFlLEdBQWYsQ0FBSixFQUF5QjtBQUN2QixhQUFLQyxnQkFBTDs7QUFDQTtBQUNELE9BTGEsQ0FPZDs7O0FBQ0EsVUFBSSxLQUFLTCxRQUFULEVBQW1CO0FBQ2pCO0FBQ0QsT0FWYSxDQVlkOzs7QUFDQSxXQUFLaUIsYUFBTDtBQUNEOzs7a0NBRWE7QUFBQTs7QUFDWixVQUFNQyxPQUFPLEdBQUcsS0FBS2pCLFdBQUwsQ0FBaUJrQixJQUFqQixDQUFzQixrQkFBdEIsQ0FBaEI7QUFFQSxXQUFLdEIsT0FBTCxDQUFhdUIsRUFBYixDQUFnQixvQkFBaEIsRUFBc0NDLG9EQUFRLENBQUMsWUFBTTtBQUNuRCxhQUFJLENBQUNwQixXQUFMLENBQWlCcUIsT0FBakIsQ0FBeUIsMEJBQXpCO0FBQ0QsT0FGNkMsQ0FBOUM7QUFJQSxXQUFLdEIsUUFBTCxDQUFjb0IsRUFBZCxDQUFpQixZQUFqQixFQUErQixZQUFNO0FBQ25DLGFBQUksQ0FBQ25CLFdBQUwsQ0FBaUJxQixPQUFqQixDQUF5QiwwQkFBekI7QUFDRCxPQUZEO0FBSUEsV0FBS3JCLFdBQUwsQ0FBaUJtQixFQUFqQixDQUFvQiwwQkFBcEIsRUFBZ0QsWUFBTTtBQUNwRCxZQUFJLENBQUMsS0FBSSxDQUFDcEIsUUFBVixFQUFvQjtBQUNsQjtBQUNEOztBQUVEa0IsZUFBTyxDQUFDSyxNQUFSLENBQWVDLElBQUksQ0FBQ0MsSUFBTCxDQUFVLEtBQUksQ0FBQ3pCLFFBQUwsQ0FBYzBCLGFBQXhCLENBQWY7QUFDRCxPQU5ELEVBWFksQ0FtQlo7O0FBQ0EsV0FBS3pCLFdBQUwsQ0FBaUJxQixPQUFqQixDQUF5QiwwQkFBekI7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvUHJvZHVjdFJvd1Njcm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlYm91bmNlIGZyb20gJ2p1c3QtZGVib3VuY2UnO1xuaW1wb3J0IEZsaWNraXR5IGZyb20gJ2ZsaWNraXR5JztcbmltcG9ydCAqIGFzIGJyZWFrcG9pbnQgZnJvbSAnQHBpeGVsdW5pb24vYnJlYWtwb2ludCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdFJvd1Njcm9sbGVyIHtcbiAgY29uc3RydWN0b3IocHJvZHVjdFJvdykge1xuICAgIHRoaXMuJHdpbmRvdyA9ICQod2luZG93KTtcbiAgICB0aGlzLmZsaWNraXR5ID0gbnVsbDtcbiAgICB0aGlzLnByb2R1Y3RSb3cgPSBwcm9kdWN0Um93O1xuICAgIHRoaXMuJHByb2R1Y3RSb3cgPSAkKHRoaXMucHJvZHVjdFJvdyk7XG5cbiAgICAvLyBBY3RpdmF0ZSBmbGlja2l0eSBvbiBtb2JpbGVcbiAgICB0aGlzLl9tb2JpbGVTbGlkZXIgPSB0aGlzLl9tb2JpbGVTbGlkZXIuYmluZCh0aGlzKTtcbiAgICBicmVha3BvaW50Lm9uQ2hhbmdlKHRoaXMuX21vYmlsZVNsaWRlcik7XG5cbiAgICB0aGlzLl9tb2JpbGVTbGlkZXIoKTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICBicmVha3BvaW50Lm9mZkNoYW5nZSh0aGlzLl9tb2JpbGVTbGlkZXIpO1xuICAgIHRoaXMuX2Rlc3Ryb3lGbGlja2l0eSgpO1xuICB9XG5cbiAgX2luaXRGbGlja2l0eSgpIHtcbiAgICB0aGlzLmZsaWNraXR5ID0gbmV3IEZsaWNraXR5KHRoaXMucHJvZHVjdFJvdywge1xuICAgICAgY2VsbFNlbGVjdG9yOiAnLnByb2R1Y3RncmlkLS1pdGVtJyxcbiAgICAgIGNvbnRhaW46IHRydWUsXG4gICAgICBmcmVlU2Nyb2xsOiB0cnVlLFxuICAgICAgcGVyY2VudFBvc2l0aW9uOiBmYWxzZSxcbiAgICAgIHByZXZOZXh0QnV0dG9uczogZmFsc2UsXG4gICAgICBwYWdlRG90czogZmFsc2UsXG4gICAgICBzZXRHYWxsZXJ5U2l6ZTogZmFsc2UsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9iaW5kU2xpZGVyKCk7XG4gIH1cblxuICBfZGVzdHJveUZsaWNraXR5KCkge1xuICAgIGlmICghdGhpcy5mbGlja2l0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vZmYoJy5wcm9kdWN0LXJvdycpO1xuICAgIHRoaXMuJHByb2R1Y3RSb3cub2ZmKCcucHJvZHVjdC1yb3cnKTtcblxuICAgIHRoaXMuZmxpY2tpdHkuZGVzdHJveSgpO1xuICAgIHRoaXMuZmxpY2tpdHkgPSBudWxsO1xuICB9XG5cbiAgX21vYmlsZVNsaWRlcigpIHtcbiAgICAvLyBJZiBpcyBMYXJnZSBsYXlvdXQsIGF0dGVtcHQgdG8gZGVzdHJveSBmbGlja2l0eVxuICAgIGlmIChicmVha3BvaW50Lm1pbignTCcpKSB7XG4gICAgICB0aGlzLl9kZXN0cm95RmxpY2tpdHkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJcyBYUy9TL00sIGFuZCBmbGlja2l0eSBpcyBpbml0J2QgLS0gZG8gbm90aGluZ1xuICAgIGlmICh0aGlzLmZsaWNraXR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSXMgWFMvUy9NLCBhbmQgZmxpY2tpdHkgaXMgbm90IGluaXQnZFxuICAgIHRoaXMuX2luaXRGbGlja2l0eSgpO1xuICB9XG5cbiAgX2JpbmRTbGlkZXIoKSB7XG4gICAgY29uc3QgJHNsaWRlciA9IHRoaXMuJHByb2R1Y3RSb3cuZmluZCgnLmZsaWNraXR5LXNsaWRlcicpO1xuXG4gICAgdGhpcy4kd2luZG93Lm9uKCdyZXNpemUucHJvZHVjdC1yb3cnLCBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICB0aGlzLiRwcm9kdWN0Um93LnRyaWdnZXIoJ2hlaWdodFVwZGF0ZS5wcm9kdWN0LXJvdycpO1xuICAgIH0pKTtcblxuICAgIHRoaXMuZmxpY2tpdHkub24oJ2NlbGxTZWxlY3QnLCAoKSA9PiB7XG4gICAgICB0aGlzLiRwcm9kdWN0Um93LnRyaWdnZXIoJ2hlaWdodFVwZGF0ZS5wcm9kdWN0LXJvdycpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kcHJvZHVjdFJvdy5vbignaGVpZ2h0VXBkYXRlLnByb2R1Y3Qtcm93JywgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmZsaWNraXR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJHNsaWRlci5oZWlnaHQoTWF0aC5jZWlsKHRoaXMuZmxpY2tpdHkubWF4Q2VsbEhlaWdodCkpO1xuICAgIH0pO1xuXG4gICAgLy8gU2V0cyB0aGUgU2xpZGVyIHRvIHRoZSBoZWlnaHQgb2YgdGhlIGZpcnN0IHNsaWRlXG4gICAgdGhpcy4kcHJvZHVjdFJvdy50cmlnZ2VyKCdoZWlnaHRVcGRhdGUucHJvZHVjdC1yb3cnKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/ProductRowScroller.js\n");

/***/ }),

/***/ "./source/scripts/components/RichText.js":
/*!***********************************************!*\
  !*** ./source/scripts/components/RichText.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RichText; });\n/* harmony import */ var fitvids__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fitvids */ \"./node_modules/fitvids/index.js\");\n/* harmony import */ var fitvids__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fitvids__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pixelunion_grouped_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixelunion/grouped-content */ \"./node_modules/@pixelunion/grouped-content/dist/index.js\");\n/* harmony import */ var _pixelunion_grouped_content__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_grouped_content__WEBPACK_IMPORTED_MODULE_1__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar RichText = /*#__PURE__*/function () {\n  function RichText(el) {\n    _classCallCheck(this, RichText);\n\n    this.$el = $(el);\n\n    this._initExternalLinks();\n\n    this.groupedContent = null;\n\n    if (this.$el.length) {\n      this.groupedContent = new _pixelunion_grouped_content__WEBPACK_IMPORTED_MODULE_1___default.a(this.$el.get(0), {\n        layout: 'tabs',\n        intelliparse: false\n      });\n      fitvids__WEBPACK_IMPORTED_MODULE_0___default()('.rte');\n    }\n  }\n\n  _createClass(RichText, [{\n    key: \"unload\",\n    value: function unload() {\n      if (this.groupedContent) {\n        this.groupedContent.unload();\n      }\n    }\n    /**\n     * Open links within an RTE field in a new window if they point to external domains\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_initExternalLinks\",\n    value: function _initExternalLinks() {\n      var anchors = this.$el.find('a[href^=\"http\"]').filter(function (i, el) {\n        return el.href.indexOf(location.hostname) === -1;\n      });\n      anchors.attr('target', '_blank');\n    }\n  }]);\n\n  return RichText;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1JpY2hUZXh0LmpzPzViYTgiXSwibmFtZXMiOlsiUmljaFRleHQiLCJlbCIsIiRlbCIsIiQiLCJfaW5pdEV4dGVybmFsTGlua3MiLCJncm91cGVkQ29udGVudCIsImxlbmd0aCIsIkdyb3VwZWRDb250ZW50IiwiZ2V0IiwibGF5b3V0IiwiaW50ZWxsaXBhcnNlIiwiZml0dmlkcyIsInVubG9hZCIsImFuY2hvcnMiLCJmaW5kIiwiZmlsdGVyIiwiaSIsImhyZWYiLCJpbmRleE9mIiwibG9jYXRpb24iLCJob3N0bmFtZSIsImF0dHIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7O0lBRXFCQSxRO0FBQ25CLG9CQUFZQyxFQUFaLEVBQWdCO0FBQUE7O0FBQ2QsU0FBS0MsR0FBTCxHQUFXQyxDQUFDLENBQUNGLEVBQUQsQ0FBWjs7QUFDQSxTQUFLRyxrQkFBTDs7QUFDQSxTQUFLQyxjQUFMLEdBQXNCLElBQXRCOztBQUVBLFFBQUksS0FBS0gsR0FBTCxDQUFTSSxNQUFiLEVBQXFCO0FBQ25CLFdBQUtELGNBQUwsR0FBc0IsSUFBSUUsa0VBQUosQ0FBbUIsS0FBS0wsR0FBTCxDQUFTTSxHQUFULENBQWEsQ0FBYixDQUFuQixFQUFvQztBQUN4REMsY0FBTSxFQUFFLE1BRGdEO0FBRXhEQyxvQkFBWSxFQUFFO0FBRjBDLE9BQXBDLENBQXRCO0FBS0FDLG9EQUFPLENBQUMsTUFBRCxDQUFQO0FBQ0Q7QUFDRjs7Ozs2QkFFUTtBQUNQLFVBQUksS0FBS04sY0FBVCxFQUF5QjtBQUN2QixhQUFLQSxjQUFMLENBQW9CTyxNQUFwQjtBQUNEO0FBQ0Y7QUFFRDs7Ozs7Ozs7eUNBS29CO0FBQ2xCLFVBQU1DLE9BQU8sR0FBRyxLQUFLWCxHQUFMLENBQVNZLElBQVQsQ0FBYyxpQkFBZCxFQUFpQ0MsTUFBakMsQ0FBd0MsVUFBQ0MsQ0FBRCxFQUFJZixFQUFKLEVBQVc7QUFDakUsZUFBT0EsRUFBRSxDQUFDZ0IsSUFBSCxDQUFRQyxPQUFSLENBQWdCQyxRQUFRLENBQUNDLFFBQXpCLE1BQXVDLENBQUMsQ0FBL0M7QUFDRCxPQUZlLENBQWhCO0FBSUFQLGFBQU8sQ0FBQ1EsSUFBUixDQUFhLFFBQWIsRUFBdUIsUUFBdkI7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvUmljaFRleHQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZml0dmlkcyBmcm9tICdmaXR2aWRzJztcbmltcG9ydCBHcm91cGVkQ29udGVudCBmcm9tICdAcGl4ZWx1bmlvbi9ncm91cGVkLWNvbnRlbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSaWNoVGV4dCB7XG4gIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgdGhpcy4kZWwgPSAkKGVsKTtcbiAgICB0aGlzLl9pbml0RXh0ZXJuYWxMaW5rcygpO1xuICAgIHRoaXMuZ3JvdXBlZENvbnRlbnQgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMuJGVsLmxlbmd0aCkge1xuICAgICAgdGhpcy5ncm91cGVkQ29udGVudCA9IG5ldyBHcm91cGVkQ29udGVudCh0aGlzLiRlbC5nZXQoMCksIHtcbiAgICAgICAgbGF5b3V0OiAndGFicycsXG4gICAgICAgIGludGVsbGlwYXJzZTogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgZml0dmlkcygnLnJ0ZScpO1xuICAgIH1cbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICBpZiAodGhpcy5ncm91cGVkQ29udGVudCkge1xuICAgICAgdGhpcy5ncm91cGVkQ29udGVudC51bmxvYWQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBsaW5rcyB3aXRoaW4gYW4gUlRFIGZpZWxkIGluIGEgbmV3IHdpbmRvdyBpZiB0aGV5IHBvaW50IHRvIGV4dGVybmFsIGRvbWFpbnNcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0RXh0ZXJuYWxMaW5rcygpe1xuICAgIGNvbnN0IGFuY2hvcnMgPSB0aGlzLiRlbC5maW5kKCdhW2hyZWZePVwiaHR0cFwiXScpLmZpbHRlcigoaSwgZWwpID0+IHtcbiAgICAgIHJldHVybiBlbC5ocmVmLmluZGV4T2YobG9jYXRpb24uaG9zdG5hbWUpID09PSAtMTtcbiAgICB9KTtcblxuICAgIGFuY2hvcnMuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/RichText.js\n");

/***/ }),

/***/ "./source/scripts/components/Video.js":
/*!********************************************!*\
  !*** ./source/scripts/components/Video.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Video; });\n/* harmony import */ var _Youtube__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Youtube */ \"./source/scripts/components/Youtube.js\");\n/* harmony import */ var _Vimeo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vimeo */ \"./source/scripts/components/Vimeo.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Video = /*#__PURE__*/function () {\n  function Video(el, options) {\n    _classCallCheck(this, Video);\n\n    this.el = el;\n    this.options = options;\n    this.platform = el.getAttribute('data-video').trim();\n    this.playButton = el.querySelector('[data-video-play-button]');\n    this.videoEl = el.querySelector('[data-video-element]');\n    this.onPlayClick = this._onPlayClick.bind(this);\n    this.onPauseClick = this._onPauseClick.bind(this);\n    this.autoplay = this._autoplay.bind(this);\n    this.video = null;\n    this.videoData = {\n      el: this.videoEl.childNodes[0],\n      videoUrl: this.videoEl.getAttribute('data-video-url'),\n      loop: this.options && this.options.loop\n    };\n\n    switch (this.platform) {\n      case 'youtube':\n        this.video = new _Youtube__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.videoData);\n        break;\n\n      case 'vimeo':\n        this.video = new _Vimeo__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.videoData);\n        break;\n\n      default:\n        this.video = null;\n        break;\n    }\n\n    if (this.playButton) {\n      if (this.options && this.options.autoplay) {\n        this.autoplay();\n      }\n\n      this.playButton.addEventListener('click', this.onPlayClick);\n    }\n  }\n\n  _createClass(Video, [{\n    key: \"_onPlayClick\",\n    value: function _onPlayClick() {\n      var _this = this;\n\n      this.el.classList.add('video-loading');\n      this.video.play().then(function () {\n        _this.el.classList.add('video-transitioning');\n\n        setTimeout(function () {\n          _this.el.classList.remove('video-loading');\n\n          _this.el.classList.remove('video-transitioning');\n\n          _this.el.classList.add('video-playing');\n        }, 200);\n      });\n    }\n  }, {\n    key: \"_onPauseClick\",\n    value: function _onPauseClick() {\n      this.video.pause();\n    }\n  }, {\n    key: \"_autoplay\",\n    value: function _autoplay() {\n      var _this2 = this;\n\n      this.el.classList.add('video-loading');\n      this.video.autoplay().then(function () {\n        _this2.el.classList.add('video-transitioning');\n\n        setTimeout(function () {\n          _this2.el.classList.remove('video-loading');\n\n          _this2.el.classList.remove('video-transitioning');\n\n          _this2.el.classList.add('video-playing');\n        }, 200);\n      });\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this._onPlayClick();\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this._onPauseClick();\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      if (this.playButton) {\n        this.playButton.removeEventListener('click', this.onPlayClick);\n      }\n\n      if (this.video) {\n        this.video.unload();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unload();\n    }\n  }]);\n\n  return Video;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1ZpZGVvLmpzPzZhMDUiXSwibmFtZXMiOlsiVmlkZW8iLCJlbCIsIm9wdGlvbnMiLCJwbGF0Zm9ybSIsImdldEF0dHJpYnV0ZSIsInRyaW0iLCJwbGF5QnV0dG9uIiwicXVlcnlTZWxlY3RvciIsInZpZGVvRWwiLCJvblBsYXlDbGljayIsIl9vblBsYXlDbGljayIsImJpbmQiLCJvblBhdXNlQ2xpY2siLCJfb25QYXVzZUNsaWNrIiwiYXV0b3BsYXkiLCJfYXV0b3BsYXkiLCJ2aWRlbyIsInZpZGVvRGF0YSIsImNoaWxkTm9kZXMiLCJ2aWRlb1VybCIsImxvb3AiLCJZb3V0dWJlIiwiVmltZW8iLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwicGxheSIsInRoZW4iLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwicGF1c2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5sb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTs7SUFFcUJBLEs7QUFDbkIsaUJBQVlDLEVBQVosRUFBZ0JDLE9BQWhCLEVBQXlCO0FBQUE7O0FBQ3ZCLFNBQUtELEVBQUwsR0FBVUEsRUFBVjtBQUNBLFNBQUtDLE9BQUwsR0FBZUEsT0FBZjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JGLEVBQUUsQ0FBQ0csWUFBSCxDQUFnQixZQUFoQixFQUE4QkMsSUFBOUIsRUFBaEI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCTCxFQUFFLENBQUNNLGFBQUgsQ0FBaUIsMEJBQWpCLENBQWxCO0FBQ0EsU0FBS0MsT0FBTCxHQUFlUCxFQUFFLENBQUNNLGFBQUgsQ0FBaUIsc0JBQWpCLENBQWY7QUFFQSxTQUFLRSxXQUFMLEdBQW1CLEtBQUtDLFlBQUwsQ0FBa0JDLElBQWxCLENBQXVCLElBQXZCLENBQW5CO0FBQ0EsU0FBS0MsWUFBTCxHQUFvQixLQUFLQyxhQUFMLENBQW1CRixJQUFuQixDQUF3QixJQUF4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QkFFUztBQUNSLFdBQUtBLE1BQUw7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvVmlkZW8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgWW91dHViZSBmcm9tICcuL1lvdXR1YmUnO1xuaW1wb3J0IFZpbWVvIGZyb20gJy4vVmltZW8nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWRlbyB7XG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5wbGF0Zm9ybSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS12aWRlbycpLnRyaW0oKTtcbiAgICB0aGlzLnBsYXlCdXR0b24gPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS12aWRlby1wbGF5LWJ1dHRvbl0nKTtcbiAgICB0aGlzLnZpZGVvRWwgPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS12aWRlby1lbGVtZW50XScpO1xuXG4gICAgdGhpcy5vblBsYXlDbGljayA9IHRoaXMuX29uUGxheUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblBhdXNlQ2xpY2sgPSB0aGlzLl9vblBhdXNlQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLmF1dG9wbGF5ID0gdGhpcy5fYXV0b3BsYXkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMudmlkZW8gPSBudWxsO1xuXG4gICAgdGhpcy52aWRlb0RhdGEgPSB7XG4gICAgICBlbDogdGhpcy52aWRlb0VsLmNoaWxkTm9kZXNbMF0sXG4gICAgICB2aWRlb1VybDogdGhpcy52aWRlb0VsLmdldEF0dHJpYnV0ZSgnZGF0YS12aWRlby11cmwnKSxcbiAgICAgIGxvb3A6IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubG9vcCxcbiAgICB9O1xuXG4gICAgc3dpdGNoICh0aGlzLnBsYXRmb3JtKSB7XG4gICAgICBjYXNlICd5b3V0dWJlJzpcbiAgICAgICAgdGhpcy52aWRlbyA9IG5ldyBZb3V0dWJlKHRoaXMudmlkZW9EYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aW1lbyc6XG4gICAgICAgIHRoaXMudmlkZW8gPSBuZXcgVmltZW8odGhpcy52aWRlb0RhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMudmlkZW8gPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wbGF5QnV0dG9uKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5hdXRvcGxheSkge1xuICAgICAgICB0aGlzLmF1dG9wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25QbGF5Q2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIF9vblBsYXlDbGljaygpIHtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3ZpZGVvLWxvYWRpbmcnKTtcblxuICAgIHRoaXMudmlkZW8ucGxheSgpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgndmlkZW8tdHJhbnNpdGlvbmluZycpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlkZW8tbG9hZGluZycpO1xuICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlkZW8tdHJhbnNpdGlvbmluZycpO1xuICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgndmlkZW8tcGxheWluZycpO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSk7XG4gIH1cblxuICBfb25QYXVzZUNsaWNrKCkge1xuICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcbiAgfVxuXG4gIF9hdXRvcGxheSgpIHtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3ZpZGVvLWxvYWRpbmcnKTtcblxuICAgIHRoaXMudmlkZW8uYXV0b3BsYXkoKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3ZpZGVvLXRyYW5zaXRpb25pbmcnKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3ZpZGVvLWxvYWRpbmcnKTtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3ZpZGVvLXRyYW5zaXRpb25pbmcnKTtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3ZpZGVvLXBsYXlpbmcnKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcGxheSgpIHtcbiAgICB0aGlzLl9vblBsYXlDbGljaygpO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5fb25QYXVzZUNsaWNrKCk7XG4gIH1cblxuXG4gIHVubG9hZCgpIHtcbiAgICBpZiAodGhpcy5wbGF5QnV0dG9uKSB7XG4gICAgICB0aGlzLnBsYXlCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uUGxheUNsaWNrKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWRlbykge1xuICAgICAgdGhpcy52aWRlby51bmxvYWQoKTtcbiAgICB9XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMudW5sb2FkKCk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/components/Video.js\n");

/***/ }),

/***/ "./source/scripts/components/Vimeo.js":
/*!********************************************!*\
  !*** ./source/scripts/components/Vimeo.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VimeoPlayer; });\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar api = 'https://player.vimeo.com/api/player.js';\nvar apiLoaded = false;\n\nvar VimeoPlayer = /*#__PURE__*/function () {\n  function VimeoPlayer(_ref) {\n    var el = _ref.el,\n        videoUrl = _ref.videoUrl;\n\n    _classCallCheck(this, VimeoPlayer);\n\n    this.el = el;\n    var urlParts = videoUrl.split('/');\n    this.id = urlParts[urlParts.length - 1];\n    this.onReadyCallback = null;\n    this.onApiLoaded = this._onApiLoaded.bind(this);\n    this.onProgress = this._onProgress.bind(this);\n    this.onProgressCallback = null;\n\n    if (apiLoaded) {\n      this._onApiLoaded();\n    } else {\n      scriptjs__WEBPACK_IMPORTED_MODULE_0___default()(api, this.onApiLoaded);\n    }\n  }\n\n  _createClass(VimeoPlayer, [{\n    key: \"play\",\n    value: function play() {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        _this.onProgressCallback = resolve;\n\n        if (apiLoaded) {\n          _this.player.on('play', _this.onProgress);\n\n          _this.player.play();\n        } else {\n          _this.onReadyCallback = function () {\n            _this.player.on('play', _this.onProgress);\n\n            _this.player.play();\n          };\n        }\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this2 = this;\n\n      return new Promise(function (resolve) {\n        _this2.onProgressCallback = resolve;\n\n        if (apiLoaded) {\n          _this2.player.on('pause', _this2.onProgress);\n\n          _this2.player.pause();\n        } else {\n          _this2.onReadyCallback = function () {\n            _this2.player.on('pause', _this2.onProgress);\n\n            _this2.player.pause();\n          };\n        }\n      });\n    }\n  }, {\n    key: \"autoplay\",\n    value: function autoplay() {\n      var _this3 = this;\n\n      return new Promise(function (resolve) {\n        _this3.onProgressCallback = resolve;\n\n        if (apiLoaded) {\n          _this3.player.on('play', _this3.onProgress);\n\n          _this3.player.setVolume(0);\n\n          _this3.player.play();\n        } else {\n          _this3.onReadyCallback = function () {\n            _this3.player.on('play', _this3.onProgress);\n\n            _this3.player.setVolume(0);\n\n            _this3.player.play();\n          };\n        }\n      });\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.player.unload().catch();\n    }\n  }, {\n    key: \"_onApiLoaded\",\n    value: function _onApiLoaded() {\n      this.player = new window.Vimeo.Player(this.el, {\n        id: this.id\n      });\n      this.player.ready().then().catch();\n      apiLoaded = true;\n\n      if (this.onReadyCallback) {\n        this.onReadyCallback();\n      }\n    }\n  }, {\n    key: \"_onProgress\",\n    value: function _onProgress() {\n      this.player.off('play', this.onProgress);\n      this.player.off('pause', this.onProgress);\n\n      if (this.onProgressCallback) {\n        this.onProgressCallback();\n        this.onProgressCallback = null;\n      }\n    }\n  }]);\n\n  return VimeoPlayer;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1ZpbWVvLmpzP2U2MzEiXSwibmFtZXMiOlsiYXBpIiwiYXBpTG9hZGVkIiwiVmltZW9QbGF5ZXIiLCJlbCIsInZpZGVvVXJsIiwidXJsUGFydHMiLCJzcGxpdCIsImlkIiwibGVuZ3RoIiwib25SZWFkeUNhbGxiYWNrIiwib25BcGlMb2FkZWQiLCJfb25BcGlMb2FkZWQiLCJiaW5kIiwib25Qcm9ncmVzcyIsIl9vblByb2dyZXNzIiwib25Qcm9ncmVzc0NhbGxiYWNrIiwiJHNjcmlwdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicGxheWVyIiwib24iLCJwbGF5IiwicGF1c2UiLCJzZXRWb2x1bWUiLCJ1bmxvYWQiLCJjYXRjaCIsIndpbmRvdyIsIlZpbWVvIiwiUGxheWVyIiwicmVhZHkiLCJ0aGVuIiwib2ZmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFFQSxJQUFNQSxHQUFHLEdBQUcsd0NBQVo7QUFDQSxJQUFJQyxTQUFTLEdBQUcsS0FBaEI7O0lBRXFCQyxXO0FBQ25CLDZCQUE4QjtBQUFBLFFBQWhCQyxFQUFnQixRQUFoQkEsRUFBZ0I7QUFBQSxRQUFaQyxRQUFZLFFBQVpBLFFBQVk7O0FBQUE7O0FBQzVCLFNBQUtELEVBQUwsR0FBVUEsRUFBVjtBQUNBLFFBQU1FLFFBQVEsR0FBR0QsUUFBUSxDQUFDRSxLQUFULENBQWUsR0FBZixDQUFqQjtBQUVBLFNBQUtDLEVBQUwsR0FBVUYsUUFBUSxDQUFDQSxRQUFRLENBQUNHLE1BQVQsR0FBa0IsQ0FBbkIsQ0FBbEI7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLElBQXZCO0FBRUEsU0FBS0MsV0FBTCxHQUFtQixLQUFLQyxZQUFMLENBQWtCQyxJQUFsQixDQUF1QixJQUF2QixDQUFuQjtBQUVBLFNBQUtDLFVBQUwsR0FBa0IsS0FBS0MsV0FBTCxDQUFpQkYsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBbEI7QUFDQSxTQUFLRyxrQkFBTCxH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R0FBWixDQUFnQixPQUFoQixFQUF5QixLQUFLbEIsVUFBOUI7O0FBRUEsVUFBSSxLQUFLRSxrQkFBVCxFQUE2QjtBQUMzQixhQUFLQSxrQkFBTDtBQUNBLGFBQUtBLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0Q7QUFDRiIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvVmltZW8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJHNjcmlwdCBmcm9tICdzY3JpcHRqcyc7XG5cbmNvbnN0IGFwaSA9ICdodHRwczovL3BsYXllci52aW1lby5jb20vYXBpL3BsYXllci5qcyc7XG5sZXQgYXBpTG9hZGVkID0gZmFsc2U7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpbWVvUGxheWVyIHtcbiAgY29uc3RydWN0b3IoeyBlbCwgdmlkZW9VcmwgfSkge1xuICAgIHRoaXMuZWwgPSBlbDtcbiAgICBjb25zdCB1cmxQYXJ0cyA9IHZpZGVvVXJsLnNwbGl0KCcvJyk7XG5cbiAgICB0aGlzLmlkID0gdXJsUGFydHNbdXJsUGFydHMubGVuZ3RoIC0gMV07XG4gICAgdGhpcy5vblJlYWR5Q2FsbGJhY2sgPSBudWxsO1xuXG4gICAgdGhpcy5vbkFwaUxvYWRlZCA9IHRoaXMuX29uQXBpTG9hZGVkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblByb2dyZXNzQ2FsbGJhY2sgPSBudWxsO1xuXG4gICAgaWYgKGFwaUxvYWRlZCkge1xuICAgICAgdGhpcy5fb25BcGlMb2FkZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjcmlwdChhcGksIHRoaXMub25BcGlMb2FkZWQpO1xuICAgIH1cbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5vblByb2dyZXNzQ2FsbGJhY2sgPSByZXNvbHZlO1xuXG4gICAgICBpZiAoYXBpTG9hZGVkKSB7XG4gICAgICAgIHRoaXMucGxheWVyLm9uKCdwbGF5JywgdGhpcy5vblByb2dyZXNzKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vblJlYWR5Q2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXIub24oJ3BsYXknLCB0aGlzLm9uUHJvZ3Jlc3MpO1xuICAgICAgICAgIHRoaXMucGxheWVyLnBsYXkoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMub25Qcm9ncmVzc0NhbGxiYWNrID0gcmVzb2x2ZTtcblxuICAgICAgaWYgKGFwaUxvYWRlZCkge1xuICAgICAgICB0aGlzLnBsYXllci5vbigncGF1c2UnLCB0aGlzLm9uUHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLnBsYXllci5wYXVzZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vblJlYWR5Q2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXIub24oJ3BhdXNlJywgdGhpcy5vblByb2dyZXNzKTtcbiAgICAgICAgICB0aGlzLnBsYXllci5wYXVzZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXV0b3BsYXkoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5vblByb2dyZXNzQ2FsbGJhY2sgPSByZXNvbHZlO1xuXG4gICAgICBpZiAoYXBpTG9hZGVkKSB7XG4gICAgICAgIHRoaXMucGxheWVyLm9uKCdwbGF5JywgdGhpcy5vblByb2dyZXNzKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0Vm9sdW1lKDApO1xuICAgICAgICB0aGlzLnBsYXllci5wbGF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uUmVhZHlDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnBsYXllci5vbigncGxheScsIHRoaXMub25Qcm9ncmVzcyk7XG4gICAgICAgICAgdGhpcy5wbGF5ZXIuc2V0Vm9sdW1lKDApO1xuICAgICAgICAgIHRoaXMucGxheWVyLnBsYXkoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICB0aGlzLnBsYXllclxuICAgICAgLnVubG9hZCgpXG4gICAgICAuY2F0Y2goKTtcbiAgfVxuXG4gIF9vbkFwaUxvYWRlZCgpIHtcbiAgICB0aGlzLnBsYXllciA9IG5ldyB3aW5kb3cuVmltZW8uUGxheWVyKHRoaXMuZWwsIHsgaWQ6IHRoaXMuaWQgfSk7XG5cbiAgICB0aGlzLnBsYXllclxuICAgICAgLnJlYWR5KClcbiAgICAgIC50aGVuKClcbiAgICAgIC5jYXRjaCgpO1xuXG4gICAgYXBpTG9hZGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLm9uUmVhZHlDYWxsYmFjaykge1xuICAgICAgdGhpcy5vblJlYWR5Q2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBfb25Qcm9ncmVzcygpIHtcbiAgICB0aGlzLnBsYXllci5vZmYoJ3BsYXknLCB0aGlzLm9uUHJvZ3Jlc3MpO1xuICAgIHRoaXMucGxheWVyLm9mZigncGF1c2UnLCB0aGlzLm9uUHJvZ3Jlc3MpO1xuXG4gICAgaWYgKHRoaXMub25Qcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgICB0aGlzLm9uUHJvZ3Jlc3NDYWxsYmFjaygpO1xuICAgICAgdGhpcy5vblByb2dyZXNzQ2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/Vimeo.js\n");

/***/ }),

/***/ "./source/scripts/components/Youtube.js":
/*!**********************************************!*\
  !*** ./source/scripts/components/Youtube.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Youtube; });\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar api = 'https://www.youtube.com/iframe_api';\nvar apiLoadedCallbacks = [];\nvar apiLoaded = false;\n\nwindow.onYouTubeIframeAPIReady = function () {\n  apiLoadedCallbacks.forEach(function (apiLoadedCallback) {\n    return apiLoadedCallback();\n  });\n  apiLoadedCallbacks = [];\n  apiLoaded = true;\n};\n\nvar Youtube = /*#__PURE__*/function () {\n  function Youtube(_ref) {\n    var el = _ref.el,\n        videoUrl = _ref.videoUrl,\n        loop = _ref.loop;\n\n    _classCallCheck(this, Youtube);\n\n    var regex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/i;\n    this.el = el;\n    this.id = videoUrl.match(regex)[1] || null;\n    this.onApiLoaded = this._onApiLoaded.bind(this);\n    this.isReady = false;\n    this.onReady = this._onReady.bind(this);\n    this.onReadyCallback = null;\n    this.loop = loop ? 1 : 0;\n    this.onStateChange = this._onStateChange.bind(this);\n    this.onPlayCallback = null;\n\n    if (apiLoaded) {\n      this._onApiLoaded();\n    } else {\n      apiLoadedCallbacks.push(this.onApiLoaded);\n      scriptjs__WEBPACK_IMPORTED_MODULE_0___default()(api);\n    }\n  }\n\n  _createClass(Youtube, [{\n    key: \"play\",\n    value: function play() {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        _this.onPlayCallback = resolve;\n\n        if (_this.isReady) {\n          _this.player.playVideo();\n        } else {\n          _this.onReadyCallback = function () {\n            _this.player.playVideo();\n          };\n        }\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this2 = this;\n\n      return new Promise(function (resolve) {\n        _this2.onPlayCallback = resolve;\n\n        if (_this2.isReady) {\n          _this2.player.pauseVideo();\n        } else {\n          _this2.onReadyCallback = function () {\n            _this2.player.pauseVideo();\n          };\n        }\n      });\n    }\n  }, {\n    key: \"autoplay\",\n    value: function autoplay() {\n      var _this3 = this;\n\n      return new Promise(function (resolve) {\n        _this3.onPlayCallback = resolve;\n\n        if (_this3.isReady) {\n          _this3.player.playVideo();\n\n          _this3.player.mute();\n        } else {\n          _this3.onReadyCallback = function () {\n            _this3.player.playVideo();\n\n            _this3.player.mute();\n          };\n        }\n      });\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.player.destroy();\n    }\n  }, {\n    key: \"_onApiLoaded\",\n    value: function _onApiLoaded() {\n      var playerVars = {\n        modestbranding: true,\n        showinfo: false,\n        controls: false,\n        loop: this.loop,\n        rel: 0\n      };\n\n      if (this.loop) {\n        // This is required to allow 'loop' to work based on the YouTube api\n        playerVars.playlist = this.id;\n      }\n\n      this.player = new YT.Player(this.el, {\n        videoId: this.id,\n        playerVars: playerVars,\n        events: {\n          onReady: this.onReady,\n          onStateChange: this.onStateChange\n        }\n      });\n    }\n  }, {\n    key: \"_onReady\",\n    value: function _onReady() {\n      this.isReady = true;\n\n      if (this.onReadyCallback) {\n        this.onReadyCallback();\n      }\n    }\n  }, {\n    key: \"_onStateChange\",\n    value: function _onStateChange(event) {\n      var state = event.data;\n\n      if (this.onPlayCallback && state === YT.PlayerState.BUFFERING) {\n        this.onPlayCallback();\n        this.onPlayCallback = null;\n      }\n    }\n  }]);\n\n  return Youtube;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL1lvdXR1YmUuanM/MTgzYSJdLCJuYW1lcyI6WyJhcGkiLCJhcGlMb2FkZWRDYWxsYmFja3MiLCJhcGlMb2FkZWQiLCJ3aW5kb3ciLCJvbllvdVR1YmVJZnJhbWVBUElSZWFkeSIsImZvckVhY2giLCJhcGlMb2FkZWRDYWxsYmFjayIsIllvdXR1YmUiLCJlbCIsInZpZGVvVXJsIiwibG9vcCIsInJlZ2V4IiwiaWQiLCJtYXRjaCIsIm9uQXBpTG9hZGVkIiwiX29uQXBpTG9hZGVkIiwiYmluZCIsImlzUmVhZHkiLCJvblJlYWR5IiwiX29uUmVhZHkiLCJvblJlYWR5Q2FsbGJhY2siLCJvblN0YXRlQ2hhbmdlIiwiX29uU3RhdGVDaGFuZ2UiLCJvblBsYXlDYWxsYmFjayIsInB1c2giLCIkc2NyaXB0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJwbGF5ZXIiLCJwbGF5VmlkZW8iLCJwYXVzZVZpZGVvIiwibXV0ZSIsImRlc3Ryb3kiLCJwbGF5ZXJWYXJzIiwibW9kZXN0YnJhbmRpbmciLCJzaG93aW5mbyIsImNvbnRyb2xzIiwicmVsIiwicGxheWxpc3QiLCJZVCIsIlBsYXllciIsInZpZGVvSWQiLCJldmVudHMiLCJldmVudCIsInN0YXRlIiwiZGF0YSIsIlBsYXllclN0YXRlIiwiQlVGRkVSSU5HIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFFQSxJQUFNQSxHQUFHLEdBQUcsb0NBQVo7QUFDQSxJQUFJQyxrQkFBa0IsR0FBRyxFQUF6QjtBQUNBLElBQUlDLFNBQVMsR0FBRyxLQUFoQjs7QUFFQUMsTUFBTSxDQUFDQyx1QkFBUCxHQUFpQyxZQUFNO0FBQ3JDSCxvQkFBa0IsQ0FBQ0ksT0FBbkIsQ0FBMkIsVUFBQUMsaUJBQWlCO0FBQUEsV0FBSUEsaUJBQWlCLEVBQXJCO0FBQUEsR0FBNUM7QUFDQUwsb0JBQWtCLEdBQUcsRUFBckI7QUFDQUMsV0FBUyxHQUFHLElBQVo7QUFDRCxD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UUEsVUFBSSxLQUFLM0IsSUFBVCxFQUFlO0FBQ2I7QUFDQXVCLGtCQUFVLENBQUNLLFFBQVgsR0FBc0IsS0FBSzFCLEVBQTNCO0FBQ0Q7O0FBRUQsV0FBS2dCLE1BQUwsR0FBYyxJQUFJVyxFQUFFLENBQUNDLE1BQVAsQ0FBYyxLQUFLaEMsRUFBbkIsRUFBdUI7QUFDbkNpQyxlQUFPLEVBQUUsS0FBSzdCLEVBRHFCO0FBRW5DcUIsa0JBQVUsRUFBVkEsVUFGbUM7QUFHbkNTLGNBQU0sRUFBRTtBQUNOeEIsaUJBQU8sRUFBRSxLQUFLQSxPQURSO0FBRU5HLHVCQUFhLEVBQUUsS0FBS0E7QUFGZDtBQUgyQixPQUF2QixDQUFkO0FBUUQ7OzsrQkFFVTtBQUNULFdBQUtKLE9BQUwsR0FBZSxJQUFmOztBQUVBLFVBQUksS0FBS0csZUFBVCxFQUEwQjtBQUN4QixhQUFLQSxlQUFMO0FBQ0Q7QUFDRjs7O21DQUVjdUIsSyxFQUFPO0FBQ3BCLFVBQU1DLEtBQUssR0FBR0QsS0FBSyxDQUFDRSxJQUFwQjs7QUFFQSxVQUNFLEtBQUt0QixjQUFMLElBQ0dxQixLQUFLLEtBQUtMLEVBQUUsQ0FBQ08sV0FBSCxDQUFlQyxTQUY5QixFQUdFO0FBQ0EsYUFBS3hCLGNBQUw7QUFDQSxhQUFLQSxjQUFMLEdBQXNCLElBQXRCO0FBQ0Q7QUFDRiIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvWW91dHViZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkc2NyaXB0IGZyb20gJ3NjcmlwdGpzJztcblxuY29uc3QgYXBpID0gJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGknO1xubGV0IGFwaUxvYWRlZENhbGxiYWNrcyA9IFtdO1xubGV0IGFwaUxvYWRlZCA9IGZhbHNlO1xuXG53aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSAoKSA9PiB7XG4gIGFwaUxvYWRlZENhbGxiYWNrcy5mb3JFYWNoKGFwaUxvYWRlZENhbGxiYWNrID0+IGFwaUxvYWRlZENhbGxiYWNrKCkpO1xuICBhcGlMb2FkZWRDYWxsYmFja3MgPSBbXTtcbiAgYXBpTG9hZGVkID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFlvdXR1YmUge1xuICBjb25zdHJ1Y3Rvcih7IGVsLCB2aWRlb1VybCwgbG9vcCB9KSB7XG4gICAgY29uc3QgcmVnZXggPSAvKD86eW91dHViZVxcLmNvbVxcLyg/OlteXFwvXStcXC8uK1xcL3woPzp2fGUoPzptYmVkKT8pXFwvfC4qWz8mXXY9KXx5b3V0dVxcLmJlXFwvKShbXlwiJj9cXC8gXXsxMX0pL2k7XG5cbiAgICB0aGlzLmVsID0gZWw7XG4gICAgdGhpcy5pZCA9IHZpZGVvVXJsLm1hdGNoKHJlZ2V4KVsxXSB8fCBudWxsO1xuXG4gICAgdGhpcy5vbkFwaUxvYWRlZCA9IHRoaXMuX29uQXBpTG9hZGVkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmlzUmVhZHkgPSBmYWxzZTtcbiAgICB0aGlzLm9uUmVhZHkgPSB0aGlzLl9vblJlYWR5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblJlYWR5Q2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMubG9vcCA9IGxvb3AgPyAxIDogMDtcblxuICAgIHRoaXMub25TdGF0ZUNoYW5nZSA9IHRoaXMuX29uU3RhdGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uUGxheUNhbGxiYWNrID0gbnVsbDtcblxuICAgIGlmIChhcGlMb2FkZWQpIHtcbiAgICAgIHRoaXMuX29uQXBpTG9hZGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaUxvYWRlZENhbGxiYWNrcy5wdXNoKHRoaXMub25BcGlMb2FkZWQpO1xuICAgICAgJHNjcmlwdChhcGkpO1xuICAgIH1cbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5vblBsYXlDYWxsYmFjayA9IHJlc29sdmU7XG5cbiAgICAgIGlmICh0aGlzLmlzUmVhZHkpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uUmVhZHlDYWxsYmFjayA9ICgpID0+IHsgdGhpcy5wbGF5ZXIucGxheVZpZGVvKCk7IH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLm9uUGxheUNhbGxiYWNrID0gcmVzb2x2ZTtcblxuICAgICAgaWYgKHRoaXMuaXNSZWFkeSkge1xuICAgICAgICB0aGlzLnBsYXllci5wYXVzZVZpZGVvKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uUmVhZHlDYWxsYmFjayA9ICgpID0+IHsgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpOyB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXV0b3BsYXkoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5vblBsYXlDYWxsYmFjayA9IHJlc29sdmU7XG5cbiAgICAgIGlmICh0aGlzLmlzUmVhZHkpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgICAgIHRoaXMucGxheWVyLm11dGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub25SZWFkeUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMucGxheWVyLnBsYXlWaWRlbygpO1xuICAgICAgICAgIHRoaXMucGxheWVyLm11dGUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICB0aGlzLnBsYXllci5kZXN0cm95KCk7XG4gIH1cblxuICBfb25BcGlMb2FkZWQoKSB7XG4gICAgY29uc3QgcGxheWVyVmFycyA9IHtcbiAgICAgIG1vZGVzdGJyYW5kaW5nOiB0cnVlLFxuICAgICAgc2hvd2luZm86IGZhbHNlLFxuICAgICAgY29udHJvbHM6IGZhbHNlLFxuICAgICAgbG9vcDogdGhpcy5sb29wLFxuICAgICAgcmVsOiAwLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIHRvIGFsbG93ICdsb29wJyB0byB3b3JrIGJhc2VkIG9uIHRoZSBZb3VUdWJlIGFwaVxuICAgICAgcGxheWVyVmFycy5wbGF5bGlzdCA9IHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgdGhpcy5wbGF5ZXIgPSBuZXcgWVQuUGxheWVyKHRoaXMuZWwsIHtcbiAgICAgIHZpZGVvSWQ6IHRoaXMuaWQsXG4gICAgICBwbGF5ZXJWYXJzLFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIG9uUmVhZHk6IHRoaXMub25SZWFkeSxcbiAgICAgICAgb25TdGF0ZUNoYW5nZTogdGhpcy5vblN0YXRlQ2hhbmdlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIF9vblJlYWR5KCkge1xuICAgIHRoaXMuaXNSZWFkeSA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5vblJlYWR5Q2FsbGJhY2spIHtcbiAgICAgIHRoaXMub25SZWFkeUNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgX29uU3RhdGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGV2ZW50LmRhdGE7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9uUGxheUNhbGxiYWNrXG4gICAgICAmJiBzdGF0ZSA9PT0gWVQuUGxheWVyU3RhdGUuQlVGRkVSSU5HXG4gICAgKSB7XG4gICAgICB0aGlzLm9uUGxheUNhbGxiYWNrKCk7XG4gICAgICB0aGlzLm9uUGxheUNhbGxiYWNrID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/components/Youtube.js\n");

/***/ }),

/***/ "./source/scripts/components/header/BasicHeader.js":
/*!*********************************************************!*\
  !*** ./source/scripts/components/header/BasicHeader.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BasicHeader; });\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header */ \"./source/scripts/components/header/Header.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar BasicHeader = /*#__PURE__*/function (_Header) {\n  _inherits(BasicHeader, _Header);\n\n  var _super = _createSuper(BasicHeader);\n\n  function BasicHeader(options, settings) {\n    var _this;\n\n    _classCallCheck(this, BasicHeader);\n\n    _this = _super.call(this, options, settings);\n    _this.headerContent = _this.header.querySelector('[data-site-header-main]');\n    _this.logo = _this.header.querySelector('.site-logo');\n    _this.logoImage = _this.logo.querySelector('img');\n    _this.logoText = _this.logo.querySelector('.desktop-logo-text');\n    _this.logoPosition = settings.desktop_logo_position;\n    _this.navList = _this.header.querySelector('.site-navigation > [data-navmenu]');\n    _this.headerActions = _this.header.querySelector('.site-header-main-actions');\n    _this.searchWrapper = _this.header.querySelector('[data-search-wrapper]');\n    _this.searchButton = _this.headerActions.querySelector('[data-search-toggle]');\n    _this.searchInput = _this.header.querySelector('[data-live-search-input]');\n    _this.searchClose = _this.header.querySelector('[data-search-close]');\n    _this.takeoverCancel = _this.header.querySelector('[data-live-search-takeover-cancel]');\n    _this._adjustSizeAndPlacement = _this._adjustSizeAndPlacement.bind(_assertThisInitialized(_this));\n    _this._openSearch = _this._openSearch.bind(_assertThisInitialized(_this));\n    _this._closeSearch = _this._closeSearch.bind(_assertThisInitialized(_this)); // Need to watch for logo load so we can determin nav placement based on its width\n\n    if (_this.logoImage) {\n      _this.logoImage.addEventListener('load', _this._adjustSizeAndPlacement);\n    }\n\n    _this._adjustSizeAndPlacement();\n\n    _this.previousWindowWidth = window.innerWidth;\n\n    _this.windowResize = function () {\n      if (_this.previousWindowWidth === window.innerWidth) return;\n      _this.previousWindowWidth = window.innerWidth;\n\n      _this._adjustSizeAndPlacement();\n    };\n\n    _this._closeEsc = function (e) {\n      if (e.key === 'Escape') {\n        _this._closeSearch();\n      }\n    };\n\n    _this._searchFocusIn = function () {\n      if (!_this.searchWrapper.contains(document.activeElement)) {\n        _this._closeSearch();\n      }\n    };\n\n    _this.searchButton.addEventListener('click', _this._openSearch);\n\n    _this.searchClose.addEventListener('click', _this._closeSearch);\n\n    _this.takeoverCancel.addEventListener('click', _this._closeSearch);\n\n    window.addEventListener('resize', _this.windowResize);\n    window.addEventListener('load', _this._adjustSizeAndPlacement);\n    window.addEventListener('keydown', _this._closeEsc);\n    return _this;\n  }\n\n  _createClass(BasicHeader, [{\n    key: \"_adjustSizeAndPlacement\",\n    value: function _adjustSizeAndPlacement() {\n      var _this2 = this;\n\n      var headerStyles = window.getComputedStyle(this.headerContent);\n      var headerWidth = this.headerContent.clientWidth - headerStyles.paddingLeft.replace('px', '');\n      var headerActionsWidth = this.headerActions.clientWidth;\n      var logoWidth = this.logo.clientWidth;\n      var logoHeight = this.logo.clientHeight;\n      var navListWidth = this.navList.clientWidth;\n\n      var setHeaderMinHeight = function setHeaderMinHeight() {\n        if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__[\"max\"]('M')) {\n          _this2.headerContent.style.minHeight = '';\n        } else {\n          var paddingTop = parseInt(headerStyles.paddingTop.replace('px', ''), 10);\n          var paddingBottom = parseInt(headerStyles.paddingBottom.replace('px', ''), 10);\n          _this2.headerContent.style.minHeight = \"\".concat(logoHeight + paddingTop + paddingBottom, \"px\");\n        }\n      };\n\n      if (this.settings.navigation_layout === 'below') {\n        setHeaderMinHeight();\n        return;\n      }\n\n      if (this.logoPosition === 'center') {\n        var logoContentWidth = this.logoImage ? this.logoImage.clientWidth : this.logoText.clientWidth;\n\n        if (navListWidth > logoWidth / 2 - logoContentWidth / 2) {\n          this.headerContent.classList.add('site-header-stacked');\n        } else {\n          this.headerContent.classList.remove('site-header-stacked');\n        }\n      } else {\n        var widestSide = headerActionsWidth > logoWidth ? headerActionsWidth : logoWidth;\n        setHeaderMinHeight();\n\n        if (headerWidth / 2 <= navListWidth / 2 + widestSide) {\n          this.headerContent.classList.add('site-header-stacked');\n        } else {\n          this.headerContent.classList.remove('site-header-stacked');\n        }\n      }\n\n      this.header.classList.remove('site-header-loading');\n    }\n  }, {\n    key: \"_openSearch\",\n    value: function _openSearch(e) {\n      e.stopPropagation();\n\n      if (this.liveSearch && _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__[\"max\"]('S')) {\n        // If LiveSearch is enabled, open the mobile search takeover\n        this.liveSearch.openMobileTakeover();\n      }\n\n      this.headerContent.classList.remove('live-search--hidden');\n      this.searchInput.focus();\n      window.addEventListener('focusin', this._searchFocusIn);\n    }\n  }, {\n    key: \"_closeSearch\",\n    value: function _closeSearch() {\n      this.headerContent.classList.add('live-search--hidden');\n\n      if (this.searchWrapper.contains(document.activeElement)) {\n        this.searchButton.focus();\n      }\n\n      window.removeEventListener('focusin', this._searchFocusIn);\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      _get(_getPrototypeOf(BasicHeader.prototype), \"unload\", this).call(this);\n\n      if (this.logoImage) {\n        this.logoImage.removeEventListener('load', this._adjustSizeAndPlacement);\n      }\n\n      this.searchButton.removeEventListener('click', this._openSearch);\n      this.searchClose.removeEventListener('click', this._closeSearch);\n      this.takeoverCancel.removeEventListener('click', this._closeSearch);\n      window.removeEventListener('resize', this.windowResize);\n      window.removeEventListener('load', this._adjustSizeAndPlacement);\n      window.removeEventListener('keydown', this._closeEsc);\n    }\n  }]);\n\n  return BasicHeader;\n}(_Header__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL2hlYWRlci9CYXNpY0hlYWRlci5qcz9lODI2Il0sIm5hbWVzIjpbIkJhc2ljSGVhZGVyIiwib3B0aW9ucyIsInNldHRpbmdzIiwiaGVhZGVyQ29udGVudCIsImhlYWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJsb2dvIiwibG9nb0ltYWdlIiwibG9nb1RleHQiLCJsb2dvUG9zaXRpb24iLCJkZXNrdG9wX2xvZ29fcG9zaXRpb24iLCJuYXZMaXN0IiwiaGVhZGVyQWN0aW9ucyIsInNlYXJjaFdyYXBwZXIiLCJzZWFyY2hCdXR0b24iLCJzZWFyY2hJbnB1dCIsInNlYXJjaENsb3NlIiwidGFrZW92ZXJDYW5jZWwiLCJfYWRqdXN0U2l6ZUFuZFBsYWNlbWVudCIsImJpbmQiLCJfb3BlblNlYXJjaCIsIl9jbG9zZVNlYXJjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2aW91c1dpbmRvd1dpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsIndpbmRvd1Jlc2l6ZSIsIl9jbG9zZUVzYyIsImUiLCJrZXkiLCJfc2VhcmNoRm9jdXNJbiIsImNvbnRhaW5zIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiaGVhZGVyU3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImhlYWRlcldpZHRoIiwiY2xpZW50V2lkdGgiLCJwYWRkaW5nTGVmdCIsInJlcGxhY2UiLCJoZWFkZXJBY3Rpb25zV2lkdGgiLCJsb2dvV2lkdGgiLCJsb2dvSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwibmF2TGlzdFdpZHRoIiwic2V0SGVhZGVyTWluSGVpZ2h0IiwiYnJlYWtwb2ludCIsInN0eWxlIiwibWluSGVpZ2h0IiwicGFkZGluZ1RvcCIsInBhcnNlSW50IiwicGFkZGluZ0JvdHRvbSIsIm5hdmlnYXRpb25fbGF5b3V0IiwibG9nb0NvbnRlbnRXaWR0aCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIndpZGVzdFNpZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJsaXZlU2VhcmNoIiwib3Blbk1vYmlsZVRha2VvdmVyIiwiZm9jdXMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiSGVhZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTs7SUFFcUJBLFc7Ozs7O0FBQ25CLHVCQUFZQyxPQUFaLEVBQXFCQyxRQUFyQixFQUErQjtBQUFBOztBQUFBOztBQUM3Qiw4QkFBTUQsT0FBTixFQUFlQyxRQUFmO0FBRUEsVUFBS0MsYUFBTCxHQUFxQixNQUFLQyxNQUFMLENBQVlDLGFBQVosQ0FBMEIseUJBQTFCLENBQXJCO0FBQ0EsVUFBS0MsSUFBTCxHQUFZLE1BQUtGLE1BQUwsQ0FBWUMsYUFBWixDQUEwQixZQUExQixDQUFaO0FBQ0EsVUFBS0UsU0FBTCxHQUFpQixNQUFLRCxJQUFMLENBQVVELGFBQVYsQ0FBd0IsS0FBeEIsQ0FBakI7QUFDQSxVQUFLRyxRQUFMLEdBQWdCLE1BQUtGLElBQUwsQ0FBVUQsYUFBVixDQUF3QixvQkFBeEIsQ0FBaEI7QUFDQSxVQUFLSSxZQUFMLEdBQW9CUCxRQUFRLENBQUNRLHFCQUE3QjtBQUNBLFVBQUtDLE9BQUwsR0FBZSxNQUFLUCxNQUFMLENBQVlDLGFBQVosQ0FBMEIsbUNBQTFCLENBQWY7QUFDQSxVQUFLTyxhQUFMLEdBQXFCLE1BQUtSLE1BQUwsQ0FBWUMsYUFBWixDQUEwQiwyQkFBMUIsQ0FBckI7QUFDQSxVQUFLUSxhQUFMLEdBQXFCLE1BQUtULE1BQUwsQ0FBWUMsYUFBWixDQUEwQix1QkFBMUIsQ0FBckI7QUFDQSxVQUFLUyxZQUFMLEdBQW9CLE1BQUtGLGFBQUwsQ0FBbUJQLGFBQW5CLENBQWlDLHNCQUFqQyxDQUFwQjtBQUNBLFVBQUtVLFdBQUwsR0FBbUIsTUFBS1gsTUFBTCxDQUFZQyxhQUFaLENBQTBCLDBCQUExQixDQUFuQjtBQUNBLFVBQUtXLFdBQUwsR0FBbUIsTUFBS1osTUFBTCxDQUFZQyxhQUFaLENBQTBCLHFCQUExQixD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LE9BQXhDLEVBQWlELEtBQUt6QyxZQUF0RDtBQUNBRyxZQUFNLENBQUNzQyxtQkFBUCxDQUEyQixRQUEzQixFQUFxQyxLQUFLcEMsWUFBMUM7QUFDQUYsWUFBTSxDQUFDc0MsbUJBQVAsQ0FBMkIsTUFBM0IsRUFBbUMsS0FBSzVDLHVCQUF4QztBQUNBTSxZQUFNLENBQUNzQyxtQkFBUCxDQUEyQixTQUEzQixFQUFzQyxLQUFLbkMsU0FBM0M7QUFDRDs7OztFQTFJc0NvQywrQyIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvaGVhZGVyL0Jhc2ljSGVhZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYnJlYWtwb2ludCBmcm9tICdAcGl4ZWx1bmlvbi9icmVha3BvaW50JztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9IZWFkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY0hlYWRlciBleHRlbmRzIEhlYWRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHNldHRpbmdzKSB7XG4gICAgc3VwZXIob3B0aW9ucywgc2V0dGluZ3MpO1xuXG4gICAgdGhpcy5oZWFkZXJDb250ZW50ID0gdGhpcy5oZWFkZXIucXVlcnlTZWxlY3RvcignW2RhdGEtc2l0ZS1oZWFkZXItbWFpbl0nKTtcbiAgICB0aGlzLmxvZ28gPSB0aGlzLmhlYWRlci5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1sb2dvJyk7XG4gICAgdGhpcy5sb2dvSW1hZ2UgPSB0aGlzLmxvZ28ucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgdGhpcy5sb2dvVGV4dCA9IHRoaXMubG9nby5xdWVyeVNlbGVjdG9yKCcuZGVza3RvcC1sb2dvLXRleHQnKTtcbiAgICB0aGlzLmxvZ29Qb3NpdGlvbiA9IHNldHRpbmdzLmRlc2t0b3BfbG9nb19wb3NpdGlvbjtcbiAgICB0aGlzLm5hdkxpc3QgPSB0aGlzLmhlYWRlci5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1uYXZpZ2F0aW9uID4gW2RhdGEtbmF2bWVudV0nKTtcbiAgICB0aGlzLmhlYWRlckFjdGlvbnMgPSB0aGlzLmhlYWRlci5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXItbWFpbi1hY3Rpb25zJyk7XG4gICAgdGhpcy5zZWFyY2hXcmFwcGVyID0gdGhpcy5oZWFkZXIucXVlcnlTZWxlY3RvcignW2RhdGEtc2VhcmNoLXdyYXBwZXJdJyk7XG4gICAgdGhpcy5zZWFyY2hCdXR0b24gPSB0aGlzLmhlYWRlckFjdGlvbnMucXVlcnlTZWxlY3RvcignW2RhdGEtc2VhcmNoLXRvZ2dsZV0nKTtcbiAgICB0aGlzLnNlYXJjaElucHV0ID0gdGhpcy5oZWFkZXIucXVlcnlTZWxlY3RvcignW2RhdGEtbGl2ZS1zZWFyY2gtaW5wdXRdJyk7XG4gICAgdGhpcy5zZWFyY2hDbG9zZSA9IHRoaXMuaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlYXJjaC1jbG9zZV0nKTtcbiAgICB0aGlzLnRha2VvdmVyQ2FuY2VsID0gdGhpcy5oZWFkZXIucXVlcnlTZWxlY3RvcignW2RhdGEtbGl2ZS1zZWFyY2gtdGFrZW92ZXItY2FuY2VsXScpO1xuXG4gICAgdGhpcy5fYWRqdXN0U2l6ZUFuZFBsYWNlbWVudCA9IHRoaXMuX2FkanVzdFNpemVBbmRQbGFjZW1lbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vcGVuU2VhcmNoID0gdGhpcy5fb3BlblNlYXJjaC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Nsb3NlU2VhcmNoID0gdGhpcy5fY2xvc2VTZWFyY2guYmluZCh0aGlzKTtcblxuICAgIC8vIE5lZWQgdG8gd2F0Y2ggZm9yIGxvZ28gbG9hZCBzbyB3ZSBjYW4gZGV0ZXJtaW4gbmF2IHBsYWNlbWVudCBiYXNlZCBvbiBpdHMgd2lkdGhcbiAgICBpZiAodGhpcy5sb2dvSW1hZ2UpIHtcbiAgICAgIHRoaXMubG9nb0ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9hZGp1c3RTaXplQW5kUGxhY2VtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLl9hZGp1c3RTaXplQW5kUGxhY2VtZW50KCk7XG5cbiAgICB0aGlzLnByZXZpb3VzV2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLndpbmRvd1Jlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnByZXZpb3VzV2luZG93V2lkdGggPT09IHdpbmRvdy5pbm5lcldpZHRoKSByZXR1cm47XG5cbiAgICAgIHRoaXMucHJldmlvdXNXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy5fYWRqdXN0U2l6ZUFuZFBsYWNlbWVudCgpO1xuICAgIH07XG5cbiAgICB0aGlzLl9jbG9zZUVzYyA9IGUgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICB0aGlzLl9jbG9zZVNlYXJjaCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9zZWFyY2hGb2N1c0luID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnNlYXJjaFdyYXBwZXIuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgdGhpcy5fY2xvc2VTZWFyY2goKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vcGVuU2VhcmNoKTtcbiAgICB0aGlzLnNlYXJjaENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xvc2VTZWFyY2gpO1xuICAgIHRoaXMudGFrZW92ZXJDYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZVNlYXJjaCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMud2luZG93UmVzaXplKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2FkanVzdFNpemVBbmRQbGFjZW1lbnQpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VFc2MpO1xuICB9XG5cbiAgX2FkanVzdFNpemVBbmRQbGFjZW1lbnQoKSB7XG4gICAgY29uc3QgaGVhZGVyU3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5oZWFkZXJDb250ZW50KTtcbiAgICBjb25zdCBoZWFkZXJXaWR0aCA9IHRoaXMuaGVhZGVyQ29udGVudC5jbGllbnRXaWR0aCAtIGhlYWRlclN0eWxlcy5wYWRkaW5nTGVmdC5yZXBsYWNlKCdweCcsICcnKTtcbiAgICBjb25zdCBoZWFkZXJBY3Rpb25zV2lkdGggPSB0aGlzLmhlYWRlckFjdGlvbnMuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgbG9nb1dpZHRoID0gdGhpcy5sb2dvLmNsaWVudFdpZHRoO1xuICAgIGNvbnN0IGxvZ29IZWlnaHQgPSB0aGlzLmxvZ28uY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IG5hdkxpc3RXaWR0aCA9IHRoaXMubmF2TGlzdC5jbGllbnRXaWR0aDtcblxuICAgIGNvbnN0IHNldEhlYWRlck1pbkhlaWdodCA9ICgpID0+IHtcbiAgICAgIGlmIChicmVha3BvaW50Lm1heCgnTScpKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyQ29udGVudC5zdHlsZS5taW5IZWlnaHQgPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdUb3AgPSBwYXJzZUludChoZWFkZXJTdHlsZXMucGFkZGluZ1RvcC5yZXBsYWNlKCdweCcsICcnKSwgMTApO1xuICAgICAgICBjb25zdCBwYWRkaW5nQm90dG9tID0gcGFyc2VJbnQoaGVhZGVyU3R5bGVzLnBhZGRpbmdCb3R0b20ucmVwbGFjZSgncHgnLCAnJyksIDEwKTtcbiAgICAgICAgdGhpcy5oZWFkZXJDb250ZW50LnN0eWxlLm1pbkhlaWdodCA9IGAke2xvZ29IZWlnaHQgKyBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbX1weGA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLnNldHRpbmdzLm5hdmlnYXRpb25fbGF5b3V0ID09PSAnYmVsb3cnKSB7XG4gICAgICBzZXRIZWFkZXJNaW5IZWlnaHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sb2dvUG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICBjb25zdCBsb2dvQ29udGVudFdpZHRoID0gdGhpcy5sb2dvSW1hZ2VcbiAgICAgICAgPyB0aGlzLmxvZ29JbWFnZS5jbGllbnRXaWR0aCA6IHRoaXMubG9nb1RleHQuY2xpZW50V2lkdGg7XG5cbiAgICAgIGlmIChuYXZMaXN0V2lkdGggPiBsb2dvV2lkdGggLyAyIC0gbG9nb0NvbnRlbnRXaWR0aCAvIDIpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJDb250ZW50LmNsYXNzTGlzdC5hZGQoJ3NpdGUtaGVhZGVyLXN0YWNrZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGVhZGVyQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdzaXRlLWhlYWRlci1zdGFja2VkJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHdpZGVzdFNpZGUgPSBoZWFkZXJBY3Rpb25zV2lkdGggPiBsb2dvV2lkdGggPyBoZWFkZXJBY3Rpb25zV2lkdGggOiBsb2dvV2lkdGg7XG5cbiAgICAgIHNldEhlYWRlck1pbkhlaWdodCgpO1xuXG4gICAgICBpZiAoaGVhZGVyV2lkdGggLyAyIDw9IG5hdkxpc3RXaWR0aCAvIDIgKyB3aWRlc3RTaWRlKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyQ29udGVudC5jbGFzc0xpc3QuYWRkKCdzaXRlLWhlYWRlci1zdGFja2VkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhlYWRlckNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2l0ZS1oZWFkZXItc3RhY2tlZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ3NpdGUtaGVhZGVyLWxvYWRpbmcnKTtcbiAgfVxuXG4gIF9vcGVuU2VhcmNoKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKHRoaXMubGl2ZVNlYXJjaCAmJiBicmVha3BvaW50Lm1heCgnUycpKSB7XG4gICAgICAvLyBJZiBMaXZlU2VhcmNoIGlzIGVuYWJsZWQsIG9wZW4gdGhlIG1vYmlsZSBzZWFyY2ggdGFrZW92ZXJcbiAgICAgIHRoaXMubGl2ZVNlYXJjaC5vcGVuTW9iaWxlVGFrZW92ZXIoKTtcbiAgICB9XG5cbiAgICB0aGlzLmhlYWRlckNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnbGl2ZS1zZWFyY2gtLWhpZGRlbicpO1xuICAgIHRoaXMuc2VhcmNoSW5wdXQuZm9jdXMoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuX3NlYXJjaEZvY3VzSW4pO1xuICB9XG5cbiAgX2Nsb3NlU2VhcmNoKCkge1xuICAgIHRoaXMuaGVhZGVyQ29udGVudC5jbGFzc0xpc3QuYWRkKCdsaXZlLXNlYXJjaC0taGlkZGVuJyk7XG4gICAgaWYgKHRoaXMuc2VhcmNoV3JhcHBlci5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgdGhpcy5zZWFyY2hCdXR0b24uZm9jdXMoKTtcbiAgICB9XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuX3NlYXJjaEZvY3VzSW4pO1xuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHN1cGVyLnVubG9hZCgpO1xuXG4gICAgaWYgKHRoaXMubG9nb0ltYWdlKSB7XG4gICAgICB0aGlzLmxvZ29JbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYWRqdXN0U2l6ZUFuZFBsYWNlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWFyY2hCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vcGVuU2VhcmNoKTtcbiAgICB0aGlzLnNlYXJjaENsb3NlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xvc2VTZWFyY2gpO1xuICAgIHRoaXMudGFrZW92ZXJDYW5jZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZVNlYXJjaCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMud2luZG93UmVzaXplKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2FkanVzdFNpemVBbmRQbGFjZW1lbnQpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VFc2MpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/header/BasicHeader.js\n");

/***/ }),

/***/ "./source/scripts/components/header/Header.js":
/*!****************************************************!*\
  !*** ./source/scripts/components/header/Header.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Header; });\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _search_LiveSearch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../search/LiveSearch */ \"./source/scripts/components/search/LiveSearch.js\");\n/* harmony import */ var _search_SearchForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../search/SearchForm */ \"./source/scripts/components/search/SearchForm.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar Header = /*#__PURE__*/function () {\n  function Header(options, settings) {\n    var _this = this;\n\n    _classCallCheck(this, Header);\n\n    this.$scripts = options.$scripts;\n    this.section = options.section;\n    this.header = this.section.querySelector('.site-header');\n    this.searchBar = this.header.querySelector('[data-live-search]');\n    this.postMessage = options.postMessage;\n    this.settings = settings;\n    this.stickyClass = 'site-header--sticky';\n\n    if (this.settings.sticky_header) {\n      this.section.classList.add(this.stickyClass);\n    } // Setup search form/live search\n\n\n    this.liveSearch = null;\n    this.searchForm = null;\n\n    if (this.settings.live_search.enable) {\n      scriptjs__WEBPACK_IMPORTED_MODULE_0___default()(this.$scripts.data('shopify-api-url'), function () {\n        _this.liveSearch = new _search_LiveSearch__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n          el: _this.searchBar,\n          header: _this.header\n        }, _this.settings.live_search);\n      });\n    } else {\n      this.searchForm = new _search_SearchForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.searchBar);\n    }\n  }\n\n  _createClass(Header, [{\n    key: \"unload\",\n    value: function unload() {\n      this.section.classList.remove(this.stickyClass);\n\n      if (this.settings.live_search.enable) {\n        this.liveSearch.unload();\n      } else {\n        this.searchForm.unload();\n      }\n    }\n  }, {\n    key: \"onSectionBlockSelect\",\n    value: function onSectionBlockSelect() {// Do nothing\n    }\n  }, {\n    key: \"onSectionBlockDeselect\",\n    value: function onSectionBlockDeselect() {// Do nothing\n    }\n  }, {\n    key: \"sectionDeselect\",\n    value: function sectionDeselect() {// Do nothing\n    }\n  }]);\n\n  return Header;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL2hlYWRlci9IZWFkZXIuanM/ZDUxYSJdLCJuYW1lcyI6WyJIZWFkZXIiLCJvcHRpb25zIiwic2V0dGluZ3MiLCIkc2NyaXB0cyIsInNlY3Rpb24iLCJoZWFkZXIiLCJxdWVyeVNlbGVjdG9yIiwic2VhcmNoQmFyIiwicG9zdE1lc3NhZ2UiLCJzdGlja3lDbGFzcyIsInN0aWNreV9oZWFkZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJsaXZlU2VhcmNoIiwic2VhcmNoRm9ybSIsImxpdmVfc2VhcmNoIiwiZW5hYmxlIiwiJHNjcmlwdCIsImRhdGEiLCJMaXZlU2VhcmNoIiwiZWwiLCJTZWFyY2hGb3JtIiwicmVtb3ZlIiwidW5sb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7O0lBRXFCQSxNO0FBQ25CLGtCQUFZQyxPQUFaLEVBQXFCQyxRQUFyQixFQUErQjtBQUFBOztBQUFBOztBQUM3QixTQUFLQyxRQUFMLEdBQWdCRixPQUFPLENBQUNFLFFBQXhCO0FBQ0EsU0FBS0MsT0FBTCxHQUFlSCxPQUFPLENBQUNHLE9BQXZCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLEtBQUtELE9BQUwsQ0FBYUUsYUFBYixDQUEyQixjQUEzQixDQUFkO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixLQUFLRixNQUFMLENBQVlDLGFBQVosQ0FBMEIsb0JBQTFCLENBQWpCO0FBRUEsU0FBS0UsV0FBTCxHQUFtQlAsT0FBTyxDQUFDTyxXQUEzQjtBQUVBLFNBQUtOLFFBQUwsR0FBZ0JBLFFBQWhCO0FBRUEsU0FBS08sV0FBTCxHQUFtQixxQkFBbkI7O0FBRUEsUUFBSSxLQUFLUCxRQUFMLENBQWNRLGFBQWxCLEVBQWlDO0FBQy9CLFdBQUtOLE9BQUwsQ0FBYU8sU0FBYixDQUF1QkMsR0FBdkIsQ0FBMkIsS0FBS0gsV0FBaEM7QUFDRCxLQWQ0QixDQWdCN0I7OztBQUNBLFNBQUtJLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLElBQWxCOztBQUVBLFFBQUksS0FBS1osUUFBTCxDQUFjYSxXQUFkLENBQTBCQyxNQUE5QixFQUFzQztBQUNwQ0MscURBQU8sQ0FBQyxLQUFLZCxRQUFMLENBQWNlLElBQWQsQ0FBbUIsaUJBQW5CLENBQUQsRUFBd0MsWUFBTTtBQUNuRCxhQUFJLENBQUNMLFVBQUwsR0FBa0IsSUFBSU0sMERBQUosQ0FBZTtBQUMvQkMsWUFBRSxFQUFFLEtBQUksQ0FBQ2IsU0FEc0I7QUFFL0JGLGdCQUFNLEVBQUUsS0FBSSxDQUFDQTtBQUZrQixTQUFmLEVBR2YsS0FBSSxDQUFDSCxRQUFMLENBQWNhLFdBSEMsQ0FBbEI7QUFJRCxPQUxNLENBQVA7QUFNRCxLQVBELE1BT087QUFDTCxXQUFLRCxVQUFMLEdBQWtCLElBQUlPLDBEQUFKLENBQWUsS0FBS2QsU0FBcEIsQ0FBbEI7QUFDRDtBQUNGOzs7OzZCQUVRO0FBQ1AsV0FBS0gsT0FBTCxDQUFhTyxTQUFiLENBQXVCVyxNQUF2QixDQUE4QixLQUFLYixXQUFuQzs7QUFFQSxVQUFJLEtBQUtQLFFBQUwsQ0FBY2EsV0FBZCxDQUEwQkMsTUFBOUIsRUFBc0M7QUFDcEMsYUFBS0gsVUFBTCxDQUFnQlUsTUFBaEI7QUFDRCxPQUZELE1BRU87QUFDTCxhQUFLVCxVQUFMLENBQWdCUyxNQUFoQjtBQUNEO0FBQ0Y7OzsyQ0FFc0IsQ0FDckI7QUFDRDs7OzZDQUV3QixDQUN2QjtBQUNEOzs7c0NBRWlCLENBQ2hCO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL2hlYWRlci9IZWFkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJHNjcmlwdCBmcm9tICdzY3JpcHRqcyc7XG5cbmltcG9ydCBMaXZlU2VhcmNoIGZyb20gJy4uL3NlYXJjaC9MaXZlU2VhcmNoJztcbmltcG9ydCBTZWFyY2hGb3JtIGZyb20gJy4uL3NlYXJjaC9TZWFyY2hGb3JtJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgc2V0dGluZ3MpIHtcbiAgICB0aGlzLiRzY3JpcHRzID0gb3B0aW9ucy4kc2NyaXB0cztcbiAgICB0aGlzLnNlY3Rpb24gPSBvcHRpb25zLnNlY3Rpb247XG4gICAgdGhpcy5oZWFkZXIgPSB0aGlzLnNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnNpdGUtaGVhZGVyJyk7XG4gICAgdGhpcy5zZWFyY2hCYXIgPSB0aGlzLmhlYWRlci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1saXZlLXNlYXJjaF0nKTtcblxuICAgIHRoaXMucG9zdE1lc3NhZ2UgPSBvcHRpb25zLnBvc3RNZXNzYWdlO1xuXG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuXG4gICAgdGhpcy5zdGlja3lDbGFzcyA9ICdzaXRlLWhlYWRlci0tc3RpY2t5JztcblxuICAgIGlmICh0aGlzLnNldHRpbmdzLnN0aWNreV9oZWFkZXIpIHtcbiAgICAgIHRoaXMuc2VjdGlvbi5jbGFzc0xpc3QuYWRkKHRoaXMuc3RpY2t5Q2xhc3MpO1xuICAgIH1cblxuICAgIC8vIFNldHVwIHNlYXJjaCBmb3JtL2xpdmUgc2VhcmNoXG4gICAgdGhpcy5saXZlU2VhcmNoID0gbnVsbDtcbiAgICB0aGlzLnNlYXJjaEZvcm0gPSBudWxsO1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MubGl2ZV9zZWFyY2guZW5hYmxlKSB7XG4gICAgICAkc2NyaXB0KHRoaXMuJHNjcmlwdHMuZGF0YSgnc2hvcGlmeS1hcGktdXJsJyksICgpID0+IHtcbiAgICAgICAgdGhpcy5saXZlU2VhcmNoID0gbmV3IExpdmVTZWFyY2goe1xuICAgICAgICAgIGVsOiB0aGlzLnNlYXJjaEJhcixcbiAgICAgICAgICBoZWFkZXI6IHRoaXMuaGVhZGVyLFxuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLmxpdmVfc2VhcmNoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlYXJjaEZvcm0gPSBuZXcgU2VhcmNoRm9ybSh0aGlzLnNlYXJjaEJhcik7XG4gICAgfVxuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc3RpY2t5Q2xhc3MpO1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MubGl2ZV9zZWFyY2guZW5hYmxlKSB7XG4gICAgICB0aGlzLmxpdmVTZWFyY2gudW5sb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VhcmNoRm9ybS51bmxvYWQoKTtcbiAgICB9XG4gIH1cblxuICBvblNlY3Rpb25CbG9ja1NlbGVjdCgpIHtcbiAgICAvLyBEbyBub3RoaW5nXG4gIH1cblxuICBvblNlY3Rpb25CbG9ja0Rlc2VsZWN0KCkge1xuICAgIC8vIERvIG5vdGhpbmdcbiAgfVxuXG4gIHNlY3Rpb25EZXNlbGVjdCgpIHtcbiAgICAvLyBEbyBub3RoaW5nXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/components/header/Header.js\n");

/***/ }),

/***/ "./source/scripts/components/header/MinimalHeader.js":
/*!***********************************************************!*\
  !*** ./source/scripts/components/header/MinimalHeader.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MinimalHeader; });\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header */ \"./source/scripts/components/header/Header.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar MinimalHeader = /*#__PURE__*/function (_Header) {\n  _inherits(MinimalHeader, _Header);\n\n  var _super = _createSuper(MinimalHeader);\n\n  function MinimalHeader(options, settings) {\n    var _this;\n\n    _classCallCheck(this, MinimalHeader);\n\n    _this = _super.call(this, options, settings);\n    _this.navOpenClass = 'site-header-nav--open';\n    _this.menuToggle = _this.header.querySelector('[data-menu-toggle]');\n    _this.menu = _this.section.querySelector('[data-site-navigation]');\n    _this.searchOpenClass = 'site-header-search--open';\n    _this.searchToggle = _this.header.querySelector('[data-search-toggle]');\n    _this.searchInput = _this.header.querySelector('[data-live-search-input]');\n    _this.transitioning = false; // Setup Menu toggles\n\n    _this._toggleMenu = _this._toggleMenu.bind(_assertThisInitialized(_this));\n\n    _this.toggleClick = function (event) {\n      event.preventDefault();\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__[\"min\"]('L')) _this._toggleMenu();\n    };\n\n    _this.menuToggle.addEventListener('click', _this.toggleClick); // Setup Search toggles\n\n\n    _this._toggleSearchBar = _this._toggleSearchBar.bind(_assertThisInitialized(_this));\n    _this._closeSearchBar = _this._closeSearchBar.bind(_assertThisInitialized(_this));\n    _this.searchTransitioning = false; // Show the menu briefly to get its height and then replace its style\n\n    _this.menu.setAttribute('style', 'display: block; visibility: hidden;');\n\n    _this.menu.setAttribute('style', \"margin-top: -\".concat(_this.menu.getBoundingClientRect().height, \"px;\"));\n\n    _this._closeEsc = function (e) {\n      if (e.key === 'Escape') {\n        if (_this.searchBar.contains(document.activeElement)) {\n          _this.searchToggle.focus();\n        }\n\n        _this._closeSearchBar();\n      }\n    };\n\n    _this.stopProp = function (e) {\n      return e.stopPropagation();\n    }; // If reloading in the editor close the search bar so it doesn't interfere with other settings\n\n\n    _this._closeSearchBar();\n\n    _this.searchToggle.addEventListener('click', _this._toggleSearchBar);\n\n    _this.searchBar.addEventListener('click', _this.stopProp);\n\n    window.addEventListener('resize', _this._closeSearchBar);\n    window.addEventListener('click', _this._closeSearchBar);\n    window.addEventListener('keydown', _this._closeEsc);\n    return _this;\n  }\n\n  _createClass(MinimalHeader, [{\n    key: \"closeNavigation\",\n    value: function closeNavigation() {\n      var _this2 = this;\n\n      if (this.searchTransitioning || this.transitioning) {\n        return;\n      }\n\n      this.menuToggle.classList.remove('active');\n\n      this.navTransitionOutEvent = function () {\n        _this2.header.classList.remove(_this2.navOpenClass);\n\n        _this2.transitioning = false;\n\n        _this2.menu.removeEventListener('transitionend', _this2.navTransitionOutEvent);\n      };\n\n      this.menu.addEventListener('transitionend', this.navTransitionOutEvent);\n      this.transitioning = true;\n      this.menu.setAttribute('style', \"margin-top: -\".concat(this.menu.getBoundingClientRect().height, \"px;\"));\n      this.postMessage('nav:close-all');\n    }\n  }, {\n    key: \"openNavigation\",\n    value: function openNavigation() {\n      var _this3 = this;\n\n      if (this.searchTransitioning) {\n        return;\n      }\n\n      this._closeSearchBar();\n\n      if (this.transitioning || this.header.classList.contains(this.navOpenClass)) {\n        return;\n      }\n\n      this.menuToggle.classList.add('active');\n\n      this.navTransitionInEvent = function () {\n        _this3.transitioning = false;\n\n        _this3.menu.removeEventListener('transitionend', _this3.navTransitionInEvent);\n      };\n\n      this.menu.addEventListener('transitionend', this.navTransitionInEvent);\n      this.transitioning = true; // We need to wait for the browser to set the display to 'block' before we set the margin\n      // This will help with ensuring the different animations/transitions happen in sequence\n      // and not at the same time.\n\n      window.requestAnimationFrame(function () {\n        _this3.header.classList.add(_this3.navOpenClass);\n\n        window.requestAnimationFrame(function () {\n          _this3.menu.setAttribute('style', 'margin-top: 0;');\n        });\n      });\n    }\n  }, {\n    key: \"_toggleMenu\",\n    value: function _toggleMenu() {\n      if (this.header.classList.contains(this.navOpenClass)) {\n        this.closeNavigation();\n      } else {\n        this.openNavigation();\n      }\n    }\n  }, {\n    key: \"_toggleSearchBar\",\n    value: function _toggleSearchBar(e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__[\"max\"]('S')) {\n        if (this.header.classList.contains(this.searchOpenClass)) {\n          // This will only be called on mobile if LiveSearch is not enabled.\n          this._closeSearchBar();\n        } else if (this.liveSearch) {\n          // If LiveSearch is enabled, open the mobile search takeover\n          this.liveSearch.openMobileTakeover();\n        } else {\n          // If LiveSearch is not enabled, we need to show the mobile search bar without takeover\n          this._openSearchBar();\n        }\n      } else if (this.header.classList.contains(this.searchOpenClass)) {\n        // If the search bar is open\n        this._closeSearchBar();\n      } else {\n        this._openSearchBar();\n      }\n    }\n  }, {\n    key: \"_openSearchBar\",\n    value: function _openSearchBar() {\n      var _this4 = this;\n\n      if (this.searchTransitioning || this.header.classList.contains(this.searchOpenClass)) {\n        return;\n      }\n\n      if (this.header.classList.contains(this.navOpenClass)) {\n        this.closeNavigation();\n      }\n\n      this.searchTransitioning = true;\n\n      this.searchAnimatingInEvent = function () {\n        _this4.searchBar.classList.remove('animating-in');\n\n        _this4.searchTransitioning = false;\n\n        _this4.searchBar.removeEventListener('animationend', _this4.searchAnimatingInEvent);\n      };\n\n      this.header.classList.add(this.searchOpenClass);\n      this.searchBar.addEventListener('animationend', this.searchAnimatingInEvent);\n      this.searchBar.classList.add('animating-in');\n      this.searchInput.focus();\n    }\n  }, {\n    key: \"_closeSearchBar\",\n    value: function _closeSearchBar() {\n      var _this5 = this;\n\n      if (this.searchTransitioning || !this.header.classList.contains(this.searchOpenClass)) {\n        return;\n      }\n\n      this.searchTransitioning = true;\n\n      this.searchAnimatingOutEvent = function () {\n        _this5.searchBar.classList.remove('animating-out');\n\n        _this5.header.classList.remove(_this5.searchOpenClass);\n\n        _this5.searchTransitioning = false;\n\n        _this5.searchBar.removeEventListener('animationend', _this5.searchAnimatingOutEvent);\n      };\n\n      this.searchBar.addEventListener('animationend', this.searchAnimatingOutEvent);\n      this.searchBar.classList.add('animating-out');\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      _get(_getPrototypeOf(MinimalHeader.prototype), \"unload\", this).call(this);\n\n      this.menuToggle.removeEventListener('click', this.toggleClick);\n      this.searchToggle.removeEventListener('click', this._toggleSearchBar);\n      this.searchBar.removeEventListener('click', this.stopProp);\n      window.removeEventListener('resize', this._closeSearchBar);\n      window.removeEventListener('click', this._closeSearchBar);\n      window.removeEventListener('keydown', this._closeEsc);\n    }\n  }, {\n    key: \"onSectionBlockSelect\",\n    value: function onSectionBlockSelect() {\n      this.menuToggle.classList.add('active');\n      this.header.classList.add(this.navOpenClass);\n      this.openNavigation();\n    }\n  }, {\n    key: \"onSectionBlockDeselect\",\n    value: function onSectionBlockDeselect() {\n      this.menuToggle.classList.remove('active');\n    }\n  }, {\n    key: \"sectionDeselect\",\n    value: function sectionDeselect() {\n      this.closeNavigation();\n    }\n  }]);\n\n  return MinimalHeader;\n}(_Header__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL2hlYWRlci9NaW5pbWFsSGVhZGVyLmpzPzdhMTYiXSwibmFtZXMiOlsiTWluaW1hbEhlYWRlciIsIm9wdGlvbnMiLCJzZXR0aW5ncyIsIm5hdk9wZW5DbGFzcyIsIm1lbnVUb2dnbGUiLCJoZWFkZXIiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsInNlY3Rpb24iLCJzZWFyY2hPcGVuQ2xhc3MiLCJzZWFyY2hUb2dnbGUiLCJzZWFyY2hJbnB1dCIsInRyYW5zaXRpb25pbmciLCJfdG9nZ2xlTWVudSIsImJpbmQiLCJ0b2dnbGVDbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJicmVha3BvaW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVTZWFyY2hCYXIiLCJfY2xvc2VTZWFyY2hCYXIiLCJzZWFyY2hUcmFuc2l0aW9uaW5nIiwic2V0QXR0cmlidXRlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiX2Nsb3NlRXNjIiwiZSIsImtleSIsInNlYXJjaEJhciIsImNvbnRhaW5zIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiZm9jdXMiLCJzdG9wUHJvcCIsInN0b3BQcm9wYWdhdGlvbiIsIndpbmRvdyIsImNsYXNzTGlzdCIsInJlbW92ZSIsIm5hdlRyYW5zaXRpb25PdXRFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwb3N0TWVzc2FnZSIsImFkZCIsIm5hdlRyYW5zaXRpb25JbkV2ZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xvc2VOYXZpZ2F0aW9uIiwib3Blbk5hdmlnYXRpb24iLCJsaXZlU2VhcmNoIiwib3Blbk1vYmlsZVRha2VvdmVyIiwiX29wZW5TZWFyY2hCYXIiLCJzZWFyY2hBbmltYXRpbmdJbkV2ZW50Iiwic2VhcmNoQW5pbWF0aW5nT3V0RXZlbnQiLCJIZWFkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztJQUVxQkEsYTs7Ozs7QUFDbkIseUJBQVlDLE9BQVosRUFBcUJDLFFBQXJCLEVBQStCO0FBQUE7O0FBQUE7O0FBQzdCLDhCQUFNRCxPQUFOLEVBQWVDLFFBQWY7QUFFQSxVQUFLQyxZQUFMLEdBQW9CLHVCQUFwQjtBQUNBLFVBQUtDLFVBQUwsR0FBa0IsTUFBS0MsTUFBTCxDQUFZQyxhQUFaLENBQTBCLG9CQUExQixDQUFsQjtBQUNBLFVBQUtDLElBQUwsR0FBWSxNQUFLQyxPQUFMLENBQWFGLGFBQWIsQ0FBMkIsd0JBQTNCLENBQVo7QUFFQSxVQUFLRyxlQUFMLEdBQXVCLDBCQUF2QjtBQUNBLFVBQUtDLFlBQUwsR0FBb0IsTUFBS0wsTUFBTCxDQUFZQyxhQUFaLENBQTBCLHNCQUExQixDQUFwQjtBQUNBLFVBQUtLLFdBQUwsR0FBbUIsTUFBS04sTUFBTCxDQUFZQyxhQUFaLENBQTBCLDBCQUExQixDQUFuQjtBQUVBLFVBQUtNLGFBQUwsR0FBcUIsS0FBckIsQ0FYNkIsQ0FhN0I7O0FBQ0EsVUFBS0MsV0FBTCxHQUFtQixNQUFLQSxXQUFMLENBQWlCQyxJQUFqQiwrQkFBbkI7O0FBRUEsVUFBS0MsV0FBTCxHQUFtQixVQUFBQyxLQUFLLEVBQUk7QUFDMUJBLFdBQUssQ0FBQ0MsY0FBTjtBQUNBLFVBQUlDLDBEQUFBLENBQWUsR0FBZixDQUFKLEVBQXlCLE1BQUtMLFdBQUw7QUFDMUIsS0FIRDs7QUFLQSxVQUFLVCxVQUFMLENBQWdCZSxnQkFBaEIsQ0FBaUMsT0FBakMsRUFBMEMsTUFBS0osV0FBL0MsRUFyQjZCLENBdUI3Qjs7O0FBQ0EsVUFBS0ssZ0JBQUwsR0FBd0IsTUFBS0EsZ0JBQUwsQ0FBc0JOLElBQXRCLCtCQUF4QjtBQUNBLFVBQUtPLGVBQUwsR0FBdUIsTUFBS0EsZUFBTCxDQUFxQlAsSUFBckIsK0JBQXZCO0FBRUEsVUFBS1EsbUJBQUwsR0FBMkIsS0FBM0IsQ0EzQjZCLENBNkI3Qjs7QUFDQSxVQUFLZixJQUFMLENBQVVnQixZQUFWLENBQXVCLE9BQXZCLEVBQWdDLHFDQUFoQzs7QUFDQSxVQUFLaEIsSUFBTCxDQUFVZ0IsWUFBVixDQUF1QixPQUF2Qix5QkFBZ0QsTUFBS2hCLElBQUwsQ0FBVWlCLHFCQUFWLEdBQWtDQyxNQUFsRjs7QUFFQSxVQUFLQyxTQUFMLEdBQWlCLFVBQUFDLENBQUMsRUFBSTtBQUNwQixVQUFJQSxDQUFDLENBQUNDLEdBQUYsS0FBVSxRQUFkLEVBQXdCO0FBQ3RCLFlBQUksTUFBS0MsU0FBTCxDQUFlQyxRQUFmLENBQXdCQyxRQUFRLENBQUNDLGFBQWpDLENBQUosRUFBcUQ7QUFDbkQsZ0JBQUt0QixZQUFMLENBQWtCdUIsS0FBbEI7QUFDRDs7QUFDRCxjQUFLWixlQUFMO0FBQ0Q7QUFDRixLQVBEOztBQVNBLFVBQUthLFFBQUwsR0FBZ0IsVUFBQVAsQ0FBQztBQUFBLGFBQUlBLENBQUMsQ0FBQ1EsZUFBRixFQUFKO0FBQUEsS0FBakIsQ0ExQzZCLENBNEM3Qjs7O0FBQ0EsVUFBS2QsZUFBTDs7QUFFQSxVQUFLWCxZQUFMLENBQWtCUyxnQkFBbEIsQ0FBbUMsT0FBbkMsRUFBNEMsTUFBS0MsZ0JBQWpEOztBQUNBLFVBQUtTLFNBQUwsQ0FBZVYsZ0JBQWYsQ0FBZ0MsT0FBaEMsRUFBeUMsTUFBS2UsUUFBOUM7O0FBQ0FFLFVBQU0sQ0FBQ2pCLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLE1BQUtFLGVBQXZDO0FBQ0FlLFVBQU0sQ0FBQ2pCLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLE1BQUtFLGVBQXRDO0FBQ0FlLFVBQU0sQ0FBQ2pCLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLE1BQUtPLFNBQXhDO0FBbkQ2QjtBQW9EOUI7Ozs7c0NBRWlCO0FBQUE7O0FBQ2hCLFVBQUksS0FBS0osbUJBQUwsSUFBNEIsS0FBS1YsYUFBckMsRUFBb0Q7QUFBRTtBQUFTOztBQUUvRCxXQUFLUixVQUFMLENBQWdCaUMsU0FBaEIsQ0FBMEJDLE1BQTFCLENBQWlDLFFBQWpDOztBQUVBLFdBQUtDLHFCQUFMLEdBQTZCLFlBQU07QUFDakMsY0FBSSxDQUFDbEMsTUFBTCxDQUFZZ0MsU0FBWixDQUFzQkMsTUFBdEIsQ0FBNkIsTUFBSSxDQUFDbkMsWUFBbEM7O0FBQ0EsY0FBSSxDQUFDUyxhQUFMLEdBQXFCLEtBQXJCOztBQUNBLGNBQUksQ0FBQ0wsSUFBTCxDQUFVaUMsbUJBQVYsQ0FBOEIsZUFBOUIsRUFBK0MsTUFBSSxDQUFDRCxxQkFBcEQ7QUFDRCxPQUpEOztBQU1BLFdBQUtoQyxJQUFMLENBQVVZLGdCQUFWLENBQTJCLGVBQTNCLEVBQTRDLEtBQUtvQixxQkFBakQ7QUFFQSxXQUFLM0IsYUFBTCxHQUFxQixJQUFyQjtBQUNBLFdBQUtMLElBQUwsQ0FBVWdCLFlBQVYsQ0FBdUIsT0FBdkIseUJBQWdELEtBQUtoQixJQUFMLENBQVVpQixxQkFBVixHQUFrQ0MsTUFBbEY7QUFFQSxXQUFLZ0IsV0FBTCxDQUFpQixlQUFqQjtBQUNEOzs7cUNBRWdCO0FBQUE7O0FBQ2YsVUFBSSxLQUFLbkIsbUJBQVQsRUFBOEI7QUFDNUI7QUFDRDs7QUFFRCxXQUFLRCxlQUFMOztBQUVBLFVBQUksS0FBS1QsYUFBTCxJQUFzQixLQUFLUCxNQUFMLENBQVlnQyxTQUFaLENBQXNCUCxRQUF0QixDQUErQixLQUFLM0IsWUFBcEMsQ0FBMUIsRUFBNkU7QUFBRTtBQUFTOztBQUV4RixXQUFLQyxVQUFMLENBQWdCaUMsU0FBaEIsQ0FBMEJLLEdBQTFCLENBQThCLFFBQTlCOztBQUVBLFdBQUtDLG9CQUFMLEdBQTRCLFlBQU07QUFDaEMsY0FBSSxDQUFDL0IsYUFBTCxHQUFxQixLQUFyQjs7QUFDQSxjQUFJLENBQUNMLElBQUwsQ0FBVWlDLG1CQUFWLENBQThCLGVBQTlCLEVBQStDLE1BQUksQ0FBQ0csb0JBQXBEO0FBQ0QsT0FIRDs7QUFLQSxXQUFLcEMsSUFBTCxDQUFVWSxnQkFBVixDQUEyQixlQUEzQixFQUE0QyxLQUFLd0Isb0JBQWpEO0FBRUEsV0FBSy9CLGFBQUwsR0FBcUIsSUFBckIsQ0FsQmUsQ0FvQmY7QUFDQTtBQUNBOztBQUNBd0IsWUFBTSxDQUFDUSxxQkFBUCxDQUE2QixZQUFNO0FBQ2pDLGNBQUksQ0FBQ3ZDLE1BQUwsQ0FBWWdDLFNBQVosQ0FBc0JLLEdBQXRCLENBQTBCLE1BQUksQ0FBQ3ZDLFlBQS9COztBQUVBaUMsY0FBTSxDQUFDUSxxQkFBUCxDQUE2QixZQUFNO0FBQ2pDLGdCQUFJLENBQUNyQyxJQUFMLENBQVVnQixZQUFWLENBQXVCLE9BQXZCLEVBQWdDLGdCQUFoQztBQUNELFNBRkQ7QUFHRCxPQU5EO0FBT0Q7OztrQ0FFYTtBQUNaLFVBQUksS0FBS2xCLE1BQUwsQ0FBWWdDLFNBQVosQ0FBc0JQLFFBQXRCLENBQStCLEtBQUszQixZQUFwQyxDQUFKLEVBQXVEO0FBQ3JELGFBQUswQyxlQUFMO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsYUFBS0MsY0FBTDtBQUNEO0FBQ0Y7OztxQ0FFZ0JuQixDLEVBQUc7QUFDbEJBLE9BQUMsQ0FBQ1EsZUFBRjtBQUNBUixPQUFDLENBQUNWLGNBQUY7O0FBRUEsVUFBSUMsMERBQUEsQ0FBZSxHQUFmLENBQUosRUFBeUI7QUFDdkIsWUFBSSxLQUFLYixNQUFMLENBQVlnQyxTQUFaLENBQXNCUCxRQUF0QixDQUErQixLQUFLckIsZUFBcEMsQ0FBSixFQUEwRDtBQUN4RDtBQUNBLGVBQUtZLGVBQUw7QUFDRCxTQUhELE1BR08sSUFBSSxLQUFLMEIsVUFBVCxFQUFxQjtBQUMxQjtBQUNBLGVBQUtBLFVBQUwsQ0FBZ0JDLGtCQUFoQjtBQUNELFNBSE0sTUFHQTtBQUNMO0FBQ0EsZUFBS0MsY0FBTDtBQUNEO0FBQ0YsT0FYRCxNQVdPLElBQUksS0FBSzVDLE1BQUwsQ0FBWWdDLFNBQVosQ0FBc0JQLFFBQXRCLENBQStCLEtBQUtyQixlQUFwQyxDQUFKLEVBQTBEO0FBQy9EO0FBQ0EsYUFBS1ksZUFBTDtBQUNELE9BSE0sTUFHQTtBQUNMLGFBQUs0QixjQUFMO0FBQ0Q7QUFDRjs7O3FDQUVnQjtBQUFBOztBQUNmLFVBQUksS0FBSzNCLG1CQUFMLElBQTRCLEtBQUtqQixNQUFMLENBQVlnQyxTQUFaLENBQXNCUCxRQUF0QixDQUErQixLQUFLckIsZUFBcEMsQ0FBaEMsRUFBc0Y7QUFDcEY7QUFDRDs7QUFFRCxVQUFJLEtBQUtKLE1BQUwsQ0FBWWdDLFNBQVosQ0FBc0JQLFFBQXRCLENBQStCLEtBQUszQixZQUFwQyxDQUFKLEVBQXVEO0FBQ3JELGFBQUswQyxlQUFMO0FBQ0Q7O0FBRUQsV0FBS3ZCLG1CQUFMLEdBQTJCLElBQTNCOztBQUVBLFdBQUs0QixzQkFBTCxHQUE4QixZQUFNO0FBQ2xDLGNBQUksQ0FBQ3JCLFNBQUwsQ0FBZVEsU0FBZixDQUF5QkMsTUFBekIsQ0FBZ0MsY0FBaEM7O0FBQ0EsY0FBSSxDQUFDaEIsbUJBQUwsR0FBMkIsS0FBM0I7O0FBQ0EsY0FBSSxDQUFDTyxTQUFMLENBQWVXLG1CQUFmLENBQW1DLGNBQW5DLEVBQW1ELE1BQUksQ0FBQ1Usc0JBQXhEO0FBQ0QsT0FKRDs7QUFNQSxXQUFLN0MsTUFBTCxDQUFZZ0MsU0FBWixDQUFzQkssR0FBdEIsQ0FBMEIsS0FBS2pDLGVBQS9CO0FBQ0EsV0FBS29CLFNBQUwsQ0FBZVYsZ0JBQWYsQ0FBZ0MsY0FBaEMsRUFBZ0QsS0FBSytCLHNCQUFyRDtBQUNBLFdBQUtyQixTQUFMLENBQWVRLFNBQWYsQ0FBeUJLLEdBQXpCLENBQTZCLGNBQTdCO0FBRUEsV0FBSy9CLFdBQUwsQ0FBaUJzQixLQUFqQjtBQUNEOzs7c0NBRWlCO0FBQUE7O0FBQ2hCLFVBQUksS0FBS1gsbUJBQUwsSUFBNkIsQ0FBQyxLQUFLakIsTUFBTCxDQUFZZ0MsU0FBWixDQUFzQlAsUUFBdEIsQ0FBK0IsS0FBS3JCLGVBQXBDLENBQWxDLEVBQXlGO0FBQ3ZGO0FBQ0Q7O0FBRUQsV0FBS2EsbUJBQUwsR0FBMkIsSUFBM0I7O0FBRUEsV0FBSzZCLHVCQUFMLEdBQStCLFlBQU07QUFDbkMsY0FBSSxDQUFDdEIsU0FBTCxDQUFlUSxTQUFmLENBQXlCQyxNQUF6QixDQUFnQyxlQUFoQzs7QUFDQSxjQUFJLENBQUNqQyxNQUFMLENBQVlnQyxTQUFaLENBQXNCQyxNQUF0QixDQUE2QixNQUFJLENBQUM3QixlQUFsQzs7QUFDQSxjQUFJLENBQUNhLG1CQUFMLEdBQTJCLEtBQTNCOztBQUNBLGNBQUksQ0FBQ08sU0FBTCxDQUFlVyxtQkFBZixDQUFtQyxjQUFuQyxFQUFtRCxNQUFJLENBQUNXLHVCQUF4RDtBQUNELE9BTEQ7O0FBT0EsV0FBS3RCLFNBQUwsQ0FBZVYsZ0JBQWYsQ0FBZ0MsY0FBaEMsRUFBZ0QsS0FBS2dDLHVCQUFyRDtBQUNBLFdBQUt0QixTQUFMLENBQWVRLFNBQWYsQ0FBeUJLLEdBQXpCLENBQTZCLGVBQTdCO0FBQ0Q7Ozs2QkFFUTtBQUNQOztBQUNBLFdBQUt0QyxVQUFMLENBQWdCb0MsbUJBQWhCLENBQW9DLE9BQXBDLEVBQTZDLEtBQUt6QixXQUFsRDtBQUNBLFdBQUtMLFlBQUwsQ0FBa0I4QixtQkFBbEIsQ0FBc0MsT0FBdEMsRUFBK0MsS0FBS3BCLGdCQUFwRDtBQUNBLFdBQUtTLFNBQUwsQ0FBZVcsbUJBQWYsQ0FBbUMsT0FBbkMsRUFBNEMsS0FBS04sUUFBakQ7QUFDQUUsWUFBTSxDQUFDSSxtQkFBUCxDQUEyQixRQUEzQixFQUFxQyxLQUFLbkIsZUFBMUM7QUFDQWUsWUFBTSxDQUFDSSxtQkFBUCxDQUEyQixPQUEzQixFQUFvQyxLQUFLbkIsZUFBekM7QUFDQWUsWUFBTSxDQUFDSSxtQkFBUCxDQUEyQixTQUEzQixFQUFzQyxLQUFLZCxTQUEzQztBQUNEOzs7MkNBRXNCO0FBQ3JCLFdBQUt0QixVQUFMLENBQWdCaUMsU0FBaEIsQ0FBMEJLLEdBQTFCLENBQThCLFFBQTlCO0FBQ0EsV0FBS3JDLE1BQUwsQ0FBWWdDLFNBQVosQ0FBc0JLLEdBQXRCLENBQTBCLEtBQUt2QyxZQUEvQjtBQUNBLFdBQUsyQyxjQUFMO0FBQ0Q7Ozs2Q0FFd0I7QUFDdkIsV0FBSzFDLFVBQUwsQ0FBZ0JpQyxTQUFoQixDQUEwQkMsTUFBMUIsQ0FBaUMsUUFBakM7QUFDRDs7O3NDQUVpQjtBQUNoQixXQUFLTyxlQUFMO0FBQ0Q7Ozs7RUF6TXdDTywrQyIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2NvbXBvbmVudHMvaGVhZGVyL01pbmltYWxIZWFkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBicmVha3BvaW50IGZyb20gJ0BwaXhlbHVuaW9uL2JyZWFrcG9pbnQnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL0hlYWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pbmltYWxIZWFkZXIgZXh0ZW5kcyBIZWFkZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBzZXR0aW5ncykge1xuICAgIHN1cGVyKG9wdGlvbnMsIHNldHRpbmdzKTtcblxuICAgIHRoaXMubmF2T3BlbkNsYXNzID0gJ3NpdGUtaGVhZGVyLW5hdi0tb3Blbic7XG4gICAgdGhpcy5tZW51VG9nZ2xlID0gdGhpcy5oZWFkZXIucXVlcnlTZWxlY3RvcignW2RhdGEtbWVudS10b2dnbGVdJyk7XG4gICAgdGhpcy5tZW51ID0gdGhpcy5zZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmF2aWdhdGlvbl0nKTtcblxuICAgIHRoaXMuc2VhcmNoT3BlbkNsYXNzID0gJ3NpdGUtaGVhZGVyLXNlYXJjaC0tb3Blbic7XG4gICAgdGhpcy5zZWFyY2hUb2dnbGUgPSB0aGlzLmhlYWRlci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZWFyY2gtdG9nZ2xlXScpO1xuICAgIHRoaXMuc2VhcmNoSW5wdXQgPSB0aGlzLmhlYWRlci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1saXZlLXNlYXJjaC1pbnB1dF0nKTtcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuXG4gICAgLy8gU2V0dXAgTWVudSB0b2dnbGVzXG4gICAgdGhpcy5fdG9nZ2xlTWVudSA9IHRoaXMuX3RvZ2dsZU1lbnUuYmluZCh0aGlzKTtcblxuICAgIHRoaXMudG9nZ2xlQ2xpY2sgPSBldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGJyZWFrcG9pbnQubWluKCdMJykpIHRoaXMuX3RvZ2dsZU1lbnUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5tZW51VG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVDbGljayk7XG5cbiAgICAvLyBTZXR1cCBTZWFyY2ggdG9nZ2xlc1xuICAgIHRoaXMuX3RvZ2dsZVNlYXJjaEJhciA9IHRoaXMuX3RvZ2dsZVNlYXJjaEJhci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Nsb3NlU2VhcmNoQmFyID0gdGhpcy5fY2xvc2VTZWFyY2hCYXIuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc2VhcmNoVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuXG4gICAgLy8gU2hvdyB0aGUgbWVudSBicmllZmx5IHRvIGdldCBpdHMgaGVpZ2h0IGFuZCB0aGVuIHJlcGxhY2UgaXRzIHN0eWxlXG4gICAgdGhpcy5tZW51LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogYmxvY2s7IHZpc2liaWxpdHk6IGhpZGRlbjsnKTtcbiAgICB0aGlzLm1lbnUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBtYXJnaW4tdG9wOiAtJHt0aGlzLm1lbnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fXB4O2ApO1xuXG4gICAgdGhpcy5fY2xvc2VFc2MgPSBlID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoQmFyLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgdGhpcy5zZWFyY2hUb2dnbGUuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbG9zZVNlYXJjaEJhcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnN0b3BQcm9wID0gZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgLy8gSWYgcmVsb2FkaW5nIGluIHRoZSBlZGl0b3IgY2xvc2UgdGhlIHNlYXJjaCBiYXIgc28gaXQgZG9lc24ndCBpbnRlcmZlcmUgd2l0aCBvdGhlciBzZXR0aW5nc1xuICAgIHRoaXMuX2Nsb3NlU2VhcmNoQmFyKCk7XG5cbiAgICB0aGlzLnNlYXJjaFRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX3RvZ2dsZVNlYXJjaEJhcik7XG4gICAgdGhpcy5zZWFyY2hCYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0b3BQcm9wKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fY2xvc2VTZWFyY2hCYXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlU2VhcmNoQmFyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlRXNjKTtcbiAgfVxuXG4gIGNsb3NlTmF2aWdhdGlvbigpIHtcbiAgICBpZiAodGhpcy5zZWFyY2hUcmFuc2l0aW9uaW5nIHx8IHRoaXMudHJhbnNpdGlvbmluZykgeyByZXR1cm47IH1cblxuICAgIHRoaXMubWVudVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblxuICAgIHRoaXMubmF2VHJhbnNpdGlvbk91dEV2ZW50ID0gKCkgPT4ge1xuICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLm5hdk9wZW5DbGFzcyk7XG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMubWVudS5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5uYXZUcmFuc2l0aW9uT3V0RXZlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLm1lbnUuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMubmF2VHJhbnNpdGlvbk91dEV2ZW50KTtcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgdGhpcy5tZW51LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgbWFyZ2luLXRvcDogLSR7dGhpcy5tZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodH1weDtgKTtcblxuICAgIHRoaXMucG9zdE1lc3NhZ2UoJ25hdjpjbG9zZS1hbGwnKTtcbiAgfVxuXG4gIG9wZW5OYXZpZ2F0aW9uKCkge1xuICAgIGlmICh0aGlzLnNlYXJjaFRyYW5zaXRpb25pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9jbG9zZVNlYXJjaEJhcigpO1xuXG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLmhlYWRlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5uYXZPcGVuQ2xhc3MpKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5tZW51VG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgdGhpcy5uYXZUcmFuc2l0aW9uSW5FdmVudCA9ICgpID0+IHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5tZW51LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm5hdlRyYW5zaXRpb25JbkV2ZW50KTtcbiAgICB9O1xuXG4gICAgdGhpcy5tZW51LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm5hdlRyYW5zaXRpb25JbkV2ZW50KTtcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7XG5cbiAgICAvLyBXZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBicm93c2VyIHRvIHNldCB0aGUgZGlzcGxheSB0byAnYmxvY2snIGJlZm9yZSB3ZSBzZXQgdGhlIG1hcmdpblxuICAgIC8vIFRoaXMgd2lsbCBoZWxwIHdpdGggZW5zdXJpbmcgdGhlIGRpZmZlcmVudCBhbmltYXRpb25zL3RyYW5zaXRpb25zIGhhcHBlbiBpbiBzZXF1ZW5jZVxuICAgIC8vIGFuZCBub3QgYXQgdGhlIHNhbWUgdGltZS5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5hZGQodGhpcy5uYXZPcGVuQ2xhc3MpO1xuXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5tZW51LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luLXRvcDogMDsnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX3RvZ2dsZU1lbnUoKSB7XG4gICAgaWYgKHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLm5hdk9wZW5DbGFzcykpIHtcbiAgICAgIHRoaXMuY2xvc2VOYXZpZ2F0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3Blbk5hdmlnYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlU2VhcmNoQmFyKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChicmVha3BvaW50Lm1heCgnUycpKSB7XG4gICAgICBpZiAodGhpcy5oZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuc2VhcmNoT3BlbkNsYXNzKSkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgb25seSBiZSBjYWxsZWQgb24gbW9iaWxlIGlmIExpdmVTZWFyY2ggaXMgbm90IGVuYWJsZWQuXG4gICAgICAgIHRoaXMuX2Nsb3NlU2VhcmNoQmFyKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubGl2ZVNlYXJjaCkge1xuICAgICAgICAvLyBJZiBMaXZlU2VhcmNoIGlzIGVuYWJsZWQsIG9wZW4gdGhlIG1vYmlsZSBzZWFyY2ggdGFrZW92ZXJcbiAgICAgICAgdGhpcy5saXZlU2VhcmNoLm9wZW5Nb2JpbGVUYWtlb3ZlcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgTGl2ZVNlYXJjaCBpcyBub3QgZW5hYmxlZCwgd2UgbmVlZCB0byBzaG93IHRoZSBtb2JpbGUgc2VhcmNoIGJhciB3aXRob3V0IHRha2VvdmVyXG4gICAgICAgIHRoaXMuX29wZW5TZWFyY2hCYXIoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnNlYXJjaE9wZW5DbGFzcykpIHtcbiAgICAgIC8vIElmIHRoZSBzZWFyY2ggYmFyIGlzIG9wZW5cbiAgICAgIHRoaXMuX2Nsb3NlU2VhcmNoQmFyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX29wZW5TZWFyY2hCYXIoKTtcbiAgICB9XG4gIH1cblxuICBfb3BlblNlYXJjaEJhcigpIHtcbiAgICBpZiAodGhpcy5zZWFyY2hUcmFuc2l0aW9uaW5nIHx8IHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnNlYXJjaE9wZW5DbGFzcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMubmF2T3BlbkNsYXNzKSkge1xuICAgICAgdGhpcy5jbG9zZU5hdmlnYXRpb24oKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlYXJjaFRyYW5zaXRpb25pbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5zZWFyY2hBbmltYXRpbmdJbkV2ZW50ID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZWFyY2hCYXIuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0aW5nLWluJyk7XG4gICAgICB0aGlzLnNlYXJjaFRyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2VhcmNoQmFyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIHRoaXMuc2VhcmNoQW5pbWF0aW5nSW5FdmVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5hZGQodGhpcy5zZWFyY2hPcGVuQ2xhc3MpO1xuICAgIHRoaXMuc2VhcmNoQmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIHRoaXMuc2VhcmNoQW5pbWF0aW5nSW5FdmVudCk7XG4gICAgdGhpcy5zZWFyY2hCYXIuY2xhc3NMaXN0LmFkZCgnYW5pbWF0aW5nLWluJyk7XG5cbiAgICB0aGlzLnNlYXJjaElucHV0LmZvY3VzKCk7XG4gIH1cblxuICBfY2xvc2VTZWFyY2hCYXIoKSB7XG4gICAgaWYgKHRoaXMuc2VhcmNoVHJhbnNpdGlvbmluZyB8fCAoIXRoaXMuaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnNlYXJjaE9wZW5DbGFzcykpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZWFyY2hUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuc2VhcmNoQW5pbWF0aW5nT3V0RXZlbnQgPSAoKSA9PiB7XG4gICAgICB0aGlzLnNlYXJjaEJhci5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpbmctb3V0Jyk7XG4gICAgICB0aGlzLmhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2VhcmNoT3BlbkNsYXNzKTtcbiAgICAgIHRoaXMuc2VhcmNoVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5zZWFyY2hCYXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgdGhpcy5zZWFyY2hBbmltYXRpbmdPdXRFdmVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2VhcmNoQmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIHRoaXMuc2VhcmNoQW5pbWF0aW5nT3V0RXZlbnQpO1xuICAgIHRoaXMuc2VhcmNoQmFyLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGluZy1vdXQnKTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICBzdXBlci51bmxvYWQoKTtcbiAgICB0aGlzLm1lbnVUb2dnbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZUNsaWNrKTtcbiAgICB0aGlzLnNlYXJjaFRvZ2dsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX3RvZ2dsZVNlYXJjaEJhcik7XG4gICAgdGhpcy5zZWFyY2hCYXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0b3BQcm9wKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fY2xvc2VTZWFyY2hCYXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlU2VhcmNoQmFyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlRXNjKTtcbiAgfVxuXG4gIG9uU2VjdGlvbkJsb2NrU2VsZWN0KCkge1xuICAgIHRoaXMubWVudVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB0aGlzLmhlYWRlci5jbGFzc0xpc3QuYWRkKHRoaXMubmF2T3BlbkNsYXNzKTtcbiAgICB0aGlzLm9wZW5OYXZpZ2F0aW9uKCk7XG4gIH1cblxuICBvblNlY3Rpb25CbG9ja0Rlc2VsZWN0KCkge1xuICAgIHRoaXMubWVudVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuXG4gIHNlY3Rpb25EZXNlbGVjdCgpIHtcbiAgICB0aGlzLmNsb3NlTmF2aWdhdGlvbigpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/header/MinimalHeader.js\n");

/***/ }),

/***/ "./source/scripts/components/header/TraditionalHeader.js":
/*!***************************************************************!*\
  !*** ./source/scripts/components/header/TraditionalHeader.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TraditionalHeader; });\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header */ \"./source/scripts/components/header/Header.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar TraditionalHeader = /*#__PURE__*/function (_Header) {\n  _inherits(TraditionalHeader, _Header);\n\n  var _super = _createSuper(TraditionalHeader);\n\n  function TraditionalHeader(options, settings) {\n    var _this;\n\n    _classCallCheck(this, TraditionalHeader);\n\n    _this = _super.call(this, options, settings);\n    _this.body = document.querySelector('body');\n    _this.menuToggle = _this.header.querySelector('[data-menu-toggle]');\n    _this.menu = _this.section.querySelector('[data-site-navigation]');\n    _this.searchInput = _this.header.querySelector('[data-live-search-input]');\n    _this.lastToggle = Date.now() - 1000;\n    _this.transitioning = false;\n    _this.navOpenClass = 'site-header-nav--open';\n    _this.scrolledClass = 'traditional-header--scrolled'; // Setup Menu toggles\n\n    _this._toggleMenu = _this._toggleMenu.bind(_assertThisInitialized(_this));\n    _this._toggleStickyHeader = _this._toggleStickyHeader.bind(_assertThisInitialized(_this));\n\n    _this.toggleClick = function (e) {\n      e.preventDefault();\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__[\"min\"]('L')) _this._toggleMenu();\n    };\n\n    _this.menuToggle.addEventListener('click', _this.toggleClick); // Setup Search Toggle for mobile\n\n\n    _this.searchInputFocused = function (e) {\n      e.preventDefault();\n\n      if (_this.liveSearch && _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__[\"max\"]('S')) {\n        _this.liveSearch.openMobileTakeover();\n      }\n    };\n\n    _this.searchInput.addEventListener('focus', _this.searchInputFocused); // Setup sticky header collapse\n\n\n    if (_this.settings.sticky_header) {\n      _this.observer = new IntersectionObserver(function (entries) {\n        return _this._toggleStickyHeader(entries);\n      });\n\n      _this.observer.observe(document.querySelector('.intersection-target'));\n    }\n\n    return _this;\n  }\n\n  _createClass(TraditionalHeader, [{\n    key: \"closeNavigation\",\n    value: function closeNavigation() {\n      var _this2 = this;\n\n      if (this.transitioning) {\n        return;\n      }\n\n      this.menuToggle.classList.remove('active');\n\n      this.navTransitionOutEvent = function () {\n        _this2.header.classList.remove(_this2.navOpenClass);\n\n        _this2.transitioning = false;\n\n        _this2.menu.removeEventListener('transitionend', _this2.navTransitionOutEvent);\n      };\n\n      this.menu.addEventListener('transitionend', this.navTransitionOutEvent);\n      this.transitioning = true;\n      this.menu.setAttribute('style', \"margin-top: -\".concat(this.menu.getBoundingClientRect().height, \"px;\"));\n      this.postMessage('nav:close-all');\n    }\n  }, {\n    key: \"openNavigation\",\n    value: function openNavigation() {\n      var _this3 = this;\n\n      if (this.transitioning || this.header.classList.contains(this.navOpenClass)) {\n        return;\n      }\n\n      this.menuToggle.classList.add('active');\n\n      this.navTransitionInEvent = function () {\n        _this3.transitioning = false;\n\n        _this3.menu.removeEventListener('transitionend', _this3.navTransitionInEvent);\n      };\n\n      this.menu.addEventListener('transitionend', this.navTransitionInEvent);\n      this.transitioning = true; // We need to wait for the browser to set the display to 'block' before we set the margin\n      // This will help with ensuring the different animations/transitions happen in sequence\n      // and not at the same time.\n\n      window.requestAnimationFrame(function () {\n        _this3.header.classList.add(_this3.navOpenClass);\n\n        window.requestAnimationFrame(function () {\n          _this3.menu.setAttribute('style', 'margin-top: 0;');\n        });\n      });\n    }\n  }, {\n    key: \"_toggleMenu\",\n    value: function _toggleMenu() {\n      if (this.header.classList.contains(this.navOpenClass)) {\n        this.closeNavigation();\n      } else {\n        this.openNavigation();\n      }\n    }\n    /**\n     * Sticky header only shows as sticky after scroll\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_toggleStickyHeader\",\n    value: function _toggleStickyHeader(entries) {\n      if (this.body.classList.contains('scroll-lock') || !_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_0__[\"min\"]('L')) {\n        return;\n      }\n\n      var shouldShrink = !entries[0].isIntersecting; // Sticky header is scrolled, is and is visible -- nothing more to do!\n\n      if (shouldShrink && this.header.classList.contains(this.scrolledClass)) {\n        return;\n      } // We also check to make sure the toggle hasnt activated recently to stop jerky transitions\n\n\n      if (this.lastToggle + 500 > Date.now()) {\n        return;\n      }\n\n      this.lastToggle = Date.now();\n\n      if (shouldShrink) {\n        this._shrink();\n      } else {\n        this._expand();\n      }\n    }\n  }, {\n    key: \"_shrink\",\n    value: function _shrink() {\n      this.closeNavigation();\n      this.header.classList.add(this.scrolledClass);\n    }\n  }, {\n    key: \"_expand\",\n    value: function _expand() {\n      this.openNavigation();\n      this.header.classList.remove(this.scrolledClass);\n      this.menuToggle.classList.remove('active');\n    }\n  }, {\n    key: \"onSectionBlockSelect\",\n    value: function onSectionBlockSelect() {\n      this.header.classList.add(this.navOpenClass);\n      this.menuToggle.classList.add('active');\n      this.menu.setAttribute('style', 'margin-top: 0;');\n      this.openNavigation();\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      _get(_getPrototypeOf(TraditionalHeader.prototype), \"unload\", this).call(this);\n\n      this.body.classList.remove(this.scrolledClass);\n      this.menuToggle.removeEventListener('click', this.toggleClick);\n      this.searchInput.removeEventListener('focus', this.searchInputFocused);\n      window.removeEventListener('scroll', this._toggleStickyHeader);\n\n      if (this.observer) {\n        this.observer.disconnect();\n      }\n    }\n  }]);\n\n  return TraditionalHeader;\n}(_Header__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL2hlYWRlci9UcmFkaXRpb25hbEhlYWRlci5qcz8wYWMxIl0sIm5hbWVzIjpbIlRyYWRpdGlvbmFsSGVhZGVyIiwib3B0aW9ucyIsInNldHRpbmdzIiwiYm9keSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1lbnVUb2dnbGUiLCJoZWFkZXIiLCJtZW51Iiwic2VjdGlvbiIsInNlYXJjaElucHV0IiwibGFzdFRvZ2dsZSIsIkRhdGUiLCJub3ciLCJ0cmFuc2l0aW9uaW5nIiwibmF2T3BlbkNsYXNzIiwic2Nyb2xsZWRDbGFzcyIsIl90b2dnbGVNZW51IiwiYmluZCIsIl90b2dnbGVTdGlja3lIZWFkZXIiLCJ0b2dnbGVDbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImJyZWFrcG9pbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2VhcmNoSW5wdXRGb2N1c2VkIiwibGl2ZVNlYXJjaCIsIm9wZW5Nb2JpbGVUYWtlb3ZlciIsInN0aWNreV9oZWFkZXIiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsIm9ic2VydmUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJuYXZUcmFuc2l0aW9uT3V0RXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0QXR0cmlidXRlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwicG9zdE1lc3NhZ2UiLCJjb250YWlucyIsImFkZCIsIm5hdlRyYW5zaXRpb25JbkV2ZW50Iiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xvc2VOYXZpZ2F0aW9uIiwib3Blbk5hdmlnYXRpb24iLCJzaG91bGRTaHJpbmsiLCJpc0ludGVyc2VjdGluZyIsIl9zaHJpbmsiLCJfZXhwYW5kIiwiZGlzY29ubmVjdCIsIkhlYWRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztB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QUNEOzs7NkJBRVE7QUFDUDs7QUFDQSxXQUFLNUMsSUFBTCxDQUFVOEIsU0FBVixDQUFvQkMsTUFBcEIsQ0FBMkIsS0FBS2xCLGFBQWhDO0FBRUEsV0FBS1YsVUFBTCxDQUFnQjhCLG1CQUFoQixDQUFvQyxPQUFwQyxFQUE2QyxLQUFLaEIsV0FBbEQ7QUFDQSxXQUFLVixXQUFMLENBQWlCMEIsbUJBQWpCLENBQXFDLE9BQXJDLEVBQThDLEtBQUtYLGtCQUFuRDtBQUNBbUIsWUFBTSxDQUFDUixtQkFBUCxDQUEyQixRQUEzQixFQUFxQyxLQUFLakIsbUJBQTFDOztBQUVBLFVBQUksS0FBS1UsUUFBVCxFQUFtQjtBQUNqQixhQUFLQSxRQUFMLENBQWN1QixVQUFkO0FBQ0Q7QUFDRjs7OztFQTdKNENDLCtDIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvY29tcG9uZW50cy9oZWFkZXIvVHJhZGl0aW9uYWxIZWFkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBicmVha3BvaW50IGZyb20gJ0BwaXhlbHVuaW9uL2JyZWFrcG9pbnQnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL0hlYWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYWRpdGlvbmFsSGVhZGVyIGV4dGVuZHMgSGVhZGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgc2V0dGluZ3MpIHtcbiAgICBzdXBlcihvcHRpb25zLCBzZXR0aW5ncyk7XG5cbiAgICB0aGlzLmJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgdGhpcy5tZW51VG9nZ2xlID0gdGhpcy5oZWFkZXIucXVlcnlTZWxlY3RvcignW2RhdGEtbWVudS10b2dnbGVdJyk7XG4gICAgdGhpcy5tZW51ID0gdGhpcy5zZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtbmF2aWdhdGlvbl0nKTtcbiAgICB0aGlzLnNlYXJjaElucHV0ID0gdGhpcy5oZWFkZXIucXVlcnlTZWxlY3RvcignW2RhdGEtbGl2ZS1zZWFyY2gtaW5wdXRdJyk7XG5cbiAgICB0aGlzLmxhc3RUb2dnbGUgPSBEYXRlLm5vdygpIC0gMTAwMDtcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgIHRoaXMubmF2T3BlbkNsYXNzID0gJ3NpdGUtaGVhZGVyLW5hdi0tb3Blbic7XG4gICAgdGhpcy5zY3JvbGxlZENsYXNzID0gJ3RyYWRpdGlvbmFsLWhlYWRlci0tc2Nyb2xsZWQnO1xuXG4gICAgLy8gU2V0dXAgTWVudSB0b2dnbGVzXG4gICAgdGhpcy5fdG9nZ2xlTWVudSA9IHRoaXMuX3RvZ2dsZU1lbnUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl90b2dnbGVTdGlja3lIZWFkZXIgPSB0aGlzLl90b2dnbGVTdGlja3lIZWFkZXIuYmluZCh0aGlzKTtcblxuICAgIHRoaXMudG9nZ2xlQ2xpY2sgPSBlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChicmVha3BvaW50Lm1pbignTCcpKSB0aGlzLl90b2dnbGVNZW51KCk7XG4gICAgfTtcblxuICAgIHRoaXMubWVudVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9nZ2xlQ2xpY2spO1xuXG4gICAgLy8gU2V0dXAgU2VhcmNoIFRvZ2dsZSBmb3IgbW9iaWxlXG5cbiAgICB0aGlzLnNlYXJjaElucHV0Rm9jdXNlZCA9IGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHRoaXMubGl2ZVNlYXJjaCAmJiAoYnJlYWtwb2ludC5tYXgoJ1MnKSkpIHtcbiAgICAgICAgdGhpcy5saXZlU2VhcmNoLm9wZW5Nb2JpbGVUYWtlb3ZlcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5zZWFyY2hJbnB1dEZvY3VzZWQpO1xuXG4gICAgLy8gU2V0dXAgc3RpY2t5IGhlYWRlciBjb2xsYXBzZVxuICAgIGlmICh0aGlzLnNldHRpbmdzLnN0aWNreV9oZWFkZXIpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB0aGlzLl90b2dnbGVTdGlja3lIZWFkZXIoZW50cmllcykpO1xuICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRlcnNlY3Rpb24tdGFyZ2V0JykpO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlTmF2aWdhdGlvbigpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5tZW51VG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXG4gICAgdGhpcy5uYXZUcmFuc2l0aW9uT3V0RXZlbnQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMubmF2T3BlbkNsYXNzKTtcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5tZW51LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm5hdlRyYW5zaXRpb25PdXRFdmVudCk7XG4gICAgfTtcblxuICAgIHRoaXMubWVudS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5uYXZUcmFuc2l0aW9uT3V0RXZlbnQpO1xuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICB0aGlzLm1lbnUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBtYXJnaW4tdG9wOiAtJHt0aGlzLm1lbnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fXB4O2ApO1xuXG4gICAgdGhpcy5wb3N0TWVzc2FnZSgnbmF2OmNsb3NlLWFsbCcpO1xuICB9XG5cbiAgb3Blbk5hdmlnYXRpb24oKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLmhlYWRlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5uYXZPcGVuQ2xhc3MpKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5tZW51VG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgdGhpcy5uYXZUcmFuc2l0aW9uSW5FdmVudCA9ICgpID0+IHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5tZW51LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm5hdlRyYW5zaXRpb25JbkV2ZW50KTtcbiAgICB9O1xuXG4gICAgdGhpcy5tZW51LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm5hdlRyYW5zaXRpb25JbkV2ZW50KTtcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7XG5cbiAgICAvLyBXZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBicm93c2VyIHRvIHNldCB0aGUgZGlzcGxheSB0byAnYmxvY2snIGJlZm9yZSB3ZSBzZXQgdGhlIG1hcmdpblxuICAgIC8vIFRoaXMgd2lsbCBoZWxwIHdpdGggZW5zdXJpbmcgdGhlIGRpZmZlcmVudCBhbmltYXRpb25zL3RyYW5zaXRpb25zIGhhcHBlbiBpbiBzZXF1ZW5jZVxuICAgIC8vIGFuZCBub3QgYXQgdGhlIHNhbWUgdGltZS5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5hZGQodGhpcy5uYXZPcGVuQ2xhc3MpO1xuXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5tZW51LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luLXRvcDogMDsnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX3RvZ2dsZU1lbnUoKSB7XG4gICAgaWYgKHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLm5hdk9wZW5DbGFzcykpIHtcbiAgICAgIHRoaXMuY2xvc2VOYXZpZ2F0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3Blbk5hdmlnYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RpY2t5IGhlYWRlciBvbmx5IHNob3dzIGFzIHN0aWNreSBhZnRlciBzY3JvbGxcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF90b2dnbGVTdGlja3lIZWFkZXIoZW50cmllcykge1xuICAgIGlmICh0aGlzLmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JvbGwtbG9jaycpIHx8ICFicmVha3BvaW50Lm1pbignTCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvdWxkU2hyaW5rID0gIWVudHJpZXNbMF0uaXNJbnRlcnNlY3Rpbmc7XG5cbiAgICAvLyBTdGlja3kgaGVhZGVyIGlzIHNjcm9sbGVkLCBpcyBhbmQgaXMgdmlzaWJsZSAtLSBub3RoaW5nIG1vcmUgdG8gZG8hXG4gICAgaWYgKHNob3VsZFNocmluayAmJiB0aGlzLmhlYWRlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5zY3JvbGxlZENsYXNzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdlIGFsc28gY2hlY2sgdG8gbWFrZSBzdXJlIHRoZSB0b2dnbGUgaGFzbnQgYWN0aXZhdGVkIHJlY2VudGx5IHRvIHN0b3AgamVya3kgdHJhbnNpdGlvbnNcbiAgICBpZiAodGhpcy5sYXN0VG9nZ2xlICsgNTAwID4gRGF0ZS5ub3coKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubGFzdFRvZ2dsZSA9IERhdGUubm93KCk7XG5cbiAgICBpZiAoc2hvdWxkU2hyaW5rKSB7XG4gICAgICB0aGlzLl9zaHJpbmsoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZXhwYW5kKCk7XG4gICAgfVxuICB9XG5cbiAgX3NocmluaygpIHtcbiAgICB0aGlzLmNsb3NlTmF2aWdhdGlvbigpO1xuICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5hZGQodGhpcy5zY3JvbGxlZENsYXNzKTtcbiAgfVxuXG4gIF9leHBhbmQoKSB7XG4gICAgdGhpcy5vcGVuTmF2aWdhdGlvbigpO1xuICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zY3JvbGxlZENsYXNzKTtcbiAgICB0aGlzLm1lbnVUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH1cblxuICBvblNlY3Rpb25CbG9ja1NlbGVjdCgpIHtcbiAgICB0aGlzLmhlYWRlci5jbGFzc0xpc3QuYWRkKHRoaXMubmF2T3BlbkNsYXNzKTtcbiAgICB0aGlzLm1lbnVUb2dnbGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgdGhpcy5tZW51LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luLXRvcDogMDsnKTtcbiAgICB0aGlzLm9wZW5OYXZpZ2F0aW9uKCk7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgc3VwZXIudW5sb2FkKCk7XG4gICAgdGhpcy5ib2R5LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zY3JvbGxlZENsYXNzKTtcblxuICAgIHRoaXMubWVudVRvZ2dsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9nZ2xlQ2xpY2spO1xuICAgIHRoaXMuc2VhcmNoSW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnNlYXJjaElucHV0Rm9jdXNlZCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX3RvZ2dsZVN0aWNreUhlYWRlcik7XG5cbiAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/header/TraditionalHeader.js\n");

/***/ }),

/***/ "./source/scripts/components/navigation/MegaNavScroller.js":
/*!*****************************************************************!*\
  !*** ./source/scripts/components/navigation/MegaNavScroller.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MegaNavScroller; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers_scrollLeft__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/scrollLeft */ \"./source/scripts/helpers/scrollLeft.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar MegaNavScroller = /*#__PURE__*/function () {\n  function MegaNavScroller($el) {\n    var block = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, MegaNavScroller);\n\n    this.$el = $el;\n    this.$menuList = this.$el.find('.navmenu-meganav-items');\n\n    this._bindEvents();\n\n    this._addScrollClasses();\n\n    if (block) {\n      Object(_helpers_scrollLeft__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(block.el));\n    }\n  }\n\n  _createClass(MegaNavScroller, [{\n    key: \"unload\",\n    value: function unload() {\n      this.$menuList.off('.meganav');\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this = this;\n\n      this.$menuList.on('scroll.meganav', function () {\n        return _this._addScrollClasses();\n      });\n    }\n  }, {\n    key: \"_addScrollClasses\",\n    value: function _addScrollClasses() {\n      var scrollLeftPosition = this.$menuList.scrollLeft();\n      var scrollWidth = this.$menuList[0].scrollWidth;\n      var width = this.$menuList.width();\n      this.$el.toggleClass('meganav--overflows-left', scrollLeftPosition > 0);\n      this.$el.toggleClass('meganav--overflows-right', scrollLeftPosition < scrollWidth - width);\n    }\n  }]);\n\n  return MegaNavScroller;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTWVnYU5hdlNjcm9sbGVyLmpzP2Q0YjAiXSwibmFtZXMiOlsiTWVnYU5hdlNjcm9sbGVyIiwiJGVsIiwiYmxvY2siLCIkbWVudUxpc3QiLCJmaW5kIiwiX2JpbmRFdmVudHMiLCJfYWRkU2Nyb2xsQ2xhc3NlcyIsInNjcm9sbExlZnQiLCIkIiwiZWwiLCJvZmYiLCJvbiIsInNjcm9sbExlZnRQb3NpdGlvbiIsInNjcm9sbFdpZHRoIiwid2lkdGgiLCJ0b2dnbGVDbGFzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztJQUVxQkEsZTtBQUNuQiwyQkFBWUMsR0FBWixFQUErQjtBQUFBLFFBQWRDLEtBQWMsdUVBQU4sSUFBTTs7QUFBQTs7QUFDN0IsU0FBS0QsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0UsU0FBTCxHQUFpQixLQUFLRixHQUFMLENBQVNHLElBQVQsQ0FBYyx3QkFBZCxDQUFqQjs7QUFFQSxTQUFLQyxXQUFMOztBQUNBLFNBQUtDLGlCQUFMOztBQUVBLFFBQUlKLEtBQUosRUFBVztBQUNUSyx5RUFBVSxDQUFDQyw2Q0FBQyxDQUFDTixLQUFLLENBQUNPLEVBQVAsQ0FBRixDQUFWO0FBQ0Q7QUFDRjs7Ozs2QkFFUTtBQUNQLFdBQUtOLFNBQUwsQ0FBZU8sR0FBZixDQUFtQixVQUFuQjtBQUNEOzs7a0NBRWE7QUFBQTs7QUFDWixXQUFLUCxTQUFMLENBQWVRLEVBQWYsQ0FBa0IsZ0JBQWxCLEVBQW9DO0FBQUEsZUFBTSxLQUFJLENBQUNMLGlCQUFMLEVBQU47QUFBQSxPQUFwQztBQUNEOzs7d0NBRW1CO0FBQ2xCLFVBQU1NLGtCQUFrQixHQUFHLEtBQUtULFNBQUwsQ0FBZUksVUFBZixFQUEzQjtBQUNBLFVBQU1NLFdBQVcsR0FBRyxLQUFLVixTQUFMLENBQWUsQ0FBZixFQUFrQlUsV0FBdEM7QUFDQSxVQUFNQyxLQUFLLEdBQUcsS0FBS1gsU0FBTCxDQUFlVyxLQUFmLEVBQWQ7QUFFQSxXQUFLYixHQUFMLENBQVNjLFdBQVQsQ0FBcUIseUJBQXJCLEVBQWdESCxrQkFBa0IsR0FBRyxDQUFyRTtBQUNBLFdBQUtYLEdBQUwsQ0FBU2MsV0FBVCxDQUFxQiwwQkFBckIsRUFBaURILGtCQUFrQixHQUFHQyxXQUFXLEdBQUdDLEtBQXBGO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTWVnYU5hdlNjcm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBzY3JvbGxMZWZ0IGZyb20gJy4uLy4uL2hlbHBlcnMvc2Nyb2xsTGVmdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lZ2FOYXZTY3JvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRlbCwgYmxvY2sgPSBudWxsKSB7XG4gICAgdGhpcy4kZWwgPSAkZWw7XG4gICAgdGhpcy4kbWVudUxpc3QgPSB0aGlzLiRlbC5maW5kKCcubmF2bWVudS1tZWdhbmF2LWl0ZW1zJyk7XG5cbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gICAgdGhpcy5fYWRkU2Nyb2xsQ2xhc3NlcygpO1xuXG4gICAgaWYgKGJsb2NrKSB7XG4gICAgICBzY3JvbGxMZWZ0KCQoYmxvY2suZWwpKTtcbiAgICB9XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy4kbWVudUxpc3Qub2ZmKCcubWVnYW5hdicpO1xuICB9XG5cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgdGhpcy4kbWVudUxpc3Qub24oJ3Njcm9sbC5tZWdhbmF2JywgKCkgPT4gdGhpcy5fYWRkU2Nyb2xsQ2xhc3NlcygpKTtcbiAgfVxuXG4gIF9hZGRTY3JvbGxDbGFzc2VzKCkge1xuICAgIGNvbnN0IHNjcm9sbExlZnRQb3NpdGlvbiA9IHRoaXMuJG1lbnVMaXN0LnNjcm9sbExlZnQoKTtcbiAgICBjb25zdCBzY3JvbGxXaWR0aCA9IHRoaXMuJG1lbnVMaXN0WzBdLnNjcm9sbFdpZHRoO1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy4kbWVudUxpc3Qud2lkdGgoKTtcblxuICAgIHRoaXMuJGVsLnRvZ2dsZUNsYXNzKCdtZWdhbmF2LS1vdmVyZmxvd3MtbGVmdCcsIHNjcm9sbExlZnRQb3NpdGlvbiA+IDApO1xuICAgIHRoaXMuJGVsLnRvZ2dsZUNsYXNzKCdtZWdhbmF2LS1vdmVyZmxvd3MtcmlnaHQnLCBzY3JvbGxMZWZ0UG9zaXRpb24gPCBzY3JvbGxXaWR0aCAtIHdpZHRoKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/navigation/MegaNavScroller.js\n");

/***/ }),

/***/ "./source/scripts/components/navigation/NavDesktopMenu.js":
/*!****************************************************************!*\
  !*** ./source/scripts/components/navigation/NavDesktopMenu.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NavDesktopMenu; });\n/* harmony import */ var _NavDesktopParent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavDesktopParent */ \"./source/scripts/components/navigation/NavDesktopParent.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar NavDesktopMenu = /*#__PURE__*/function () {\n  function NavDesktopMenu(_ref) {\n    var _this = this;\n\n    var children = _ref.children;\n\n    _classCallCheck(this, NavDesktopMenu);\n\n    this.parents = [];\n    this.children = children;\n\n    this.closeSiblings = function (current) {\n      _this.parents.forEach(function (parent) {\n        if (parent !== current) {\n          parent.close();\n        }\n      });\n    };\n\n    for (var i = 0; i < this.children.length; i++) {\n      if (this.children[i].dataset.navmenuParent !== undefined) {\n        this.parents.push(new _NavDesktopParent__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.children[i], {\n          closeSiblings: this.closeSiblings\n        }));\n      } else if (children[i].classList.contains('navmenu-item')) {\n        this.children[i].addEventListener('focusin', this.closeSiblings);\n      }\n    }\n  }\n\n  _createClass(NavDesktopMenu, [{\n    key: \"openMeganavBlock\",\n    value: function openMeganavBlock(meganav) {\n      this.parents.forEach(function (parent) {\n        parent.openMeganavBlock(meganav);\n      });\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.parents.forEach(function (parent) {\n        parent.unload();\n      });\n\n      for (var i = 0; i < this.children.length; i++) {\n        this.children[i].removeEventListener('focusin', this.closeSiblings);\n      }\n    }\n  }]);\n\n  return NavDesktopMenu;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2RGVza3RvcE1lbnUuanM/ZTY1OCJdLCJuYW1lcyI6WyJOYXZEZXNrdG9wTWVudSIsImNoaWxkcmVuIiwicGFyZW50cyIsImNsb3NlU2libGluZ3MiLCJjdXJyZW50IiwiZm9yRWFjaCIsInBhcmVudCIsImNsb3NlIiwiaSIsImxlbmd0aCIsImRhdGFzZXQiLCJuYXZtZW51UGFyZW50IiwidW5kZWZpbmVkIiwicHVzaCIsIk5hdkRlc2t0b3BQYXJlbnQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJtZWdhbmF2Iiwib3Blbk1lZ2FuYXZCbG9jayIsInVubG9hZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztJQUVxQkEsYztBQUNuQixnQ0FBMEI7QUFBQTs7QUFBQSxRQUFaQyxRQUFZLFFBQVpBLFFBQVk7O0FBQUE7O0FBQ3hCLFNBQUtDLE9BQUwsR0FBZSxFQUFmO0FBQ0EsU0FBS0QsUUFBTCxHQUFnQkEsUUFBaEI7O0FBRUEsU0FBS0UsYUFBTCxHQUFxQixVQUFBQyxPQUFPLEVBQUk7QUFDOUIsV0FBSSxDQUFDRixPQUFMLENBQWFHLE9BQWIsQ0FBcUIsVUFBQUMsTUFBTSxFQUFJO0FBQzdCLFlBQUlBLE1BQU0sS0FBS0YsT0FBZixFQUF3QjtBQUN0QkUsZ0JBQU0sQ0FBQ0MsS0FBUDtBQUNEO0FBQ0YsT0FKRDtBQUtELEtBTkQ7O0FBUUEsU0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUtQLFFBQUwsQ0FBY1EsTUFBbEMsRUFBMENELENBQUMsRUFBM0MsRUFBK0M7QUFDN0MsVUFBSSxLQUFLUCxRQUFMLENBQWNPLENBQWQsRUFBaUJFLE9BQWpCLENBQXlCQyxhQUF6QixLQUEyQ0MsU0FBL0MsRUFBMEQ7QUFDeEQsYUFBS1YsT0FBTCxDQUFhVyxJQUFiLENBQ0UsSUFBSUMseURBQUosQ0FDRSxLQUFLYixRQUFMLENBQWNPLENBQWQsQ0FERixFQUVFO0FBQ0VMLHVCQUFhLEVBQUUsS0FBS0E7QUFEdEIsU0FGRixDQURGO0FBUUQsT0FURCxNQVNPLElBQUlGLFFBQVEsQ0FBQ08sQ0FBRCxDQUFSLENBQVlPLFNBQVosQ0FBc0JDLFFBQXRCLENBQStCLGNBQS9CLENBQUosRUFBb0Q7QUFDekQsYUFBS2YsUUFBTCxDQUFjTyxDQUFkLEVBQWlCUyxnQkFBakIsQ0FBa0MsU0FBbEMsRUFBNkMsS0FBS2QsYUFBbEQ7QUFDRDtBQUNGO0FBQ0Y7Ozs7cUNBRWdCZSxPLEVBQVM7QUFDeEIsV0FBS2hCLE9BQUwsQ0FBYUcsT0FBYixDQUFxQixVQUFBQyxNQUFNLEVBQUk7QUFBRUEsY0FBTSxDQUFDYSxnQkFBUCxDQUF3QkQsT0FBeEI7QUFBbUMsT0FBcEU7QUFDRDs7OzZCQUVRO0FBQ1AsV0FBS2hCLE9BQUwsQ0FBYUcsT0FBYixDQUFxQixVQUFBQyxNQUFNLEVBQUk7QUFBRUEsY0FBTSxDQUFDYyxNQUFQO0FBQWtCLE9BQW5EOztBQUNBLFdBQUssSUFBSVosQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLUCxRQUFMLENBQWNRLE1BQWxDLEVBQTBDRCxDQUFDLEVBQTNDLEVBQStDO0FBQzdDLGFBQUtQLFFBQUwsQ0FBY08sQ0FBZCxFQUFpQmEsbUJBQWpCLENBQXFDLFNBQXJDLEVBQWdELEtBQUtsQixhQUFyRDtBQUNEO0FBQ0YiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2RGVza3RvcE1lbnUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmF2RGVza3RvcFBhcmVudCBmcm9tICcuL05hdkRlc2t0b3BQYXJlbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZEZXNrdG9wTWVudSB7XG4gIGNvbnN0cnVjdG9yKHsgY2hpbGRyZW4gfSkge1xuICAgIHRoaXMucGFyZW50cyA9IFtdO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblxuICAgIHRoaXMuY2xvc2VTaWJsaW5ncyA9IGN1cnJlbnQgPT4ge1xuICAgICAgdGhpcy5wYXJlbnRzLmZvckVhY2gocGFyZW50ID0+IHtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gY3VycmVudCkge1xuICAgICAgICAgIHBhcmVudC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5kYXRhc2V0Lm5hdm1lbnVQYXJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBhcmVudHMucHVzaChcbiAgICAgICAgICBuZXcgTmF2RGVza3RvcFBhcmVudChcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsb3NlU2libGluZ3M6IHRoaXMuY2xvc2VTaWJsaW5ncyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5baV0uY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZtZW51LWl0ZW0nKSkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLmNsb3NlU2libGluZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9wZW5NZWdhbmF2QmxvY2sobWVnYW5hdikge1xuICAgIHRoaXMucGFyZW50cy5mb3JFYWNoKHBhcmVudCA9PiB7IHBhcmVudC5vcGVuTWVnYW5hdkJsb2NrKG1lZ2FuYXYpOyB9KTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICB0aGlzLnBhcmVudHMuZm9yRWFjaChwYXJlbnQgPT4geyBwYXJlbnQudW5sb2FkKCk7IH0pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5jbG9zZVNpYmxpbmdzKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/components/navigation/NavDesktopMenu.js\n");

/***/ }),

/***/ "./source/scripts/components/navigation/NavDesktopParent.js":
/*!******************************************************************!*\
  !*** ./source/scripts/components/navigation/NavDesktopParent.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NavDesktopParent; });\n/* harmony import */ var _NavDesktopMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavDesktopMenu */ \"./source/scripts/components/navigation/NavDesktopMenu.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar NavDesktopParent = /*#__PURE__*/function () {\n  function NavDesktopParent(el, options) {\n    var _this = this;\n\n    _classCallCheck(this, NavDesktopParent);\n\n    this.listitem = el;\n    this.link = null;\n    this.submenu = null;\n    this.isOpen = false;\n    this.menu = null;\n    this.closeSiblings = options.closeSiblings;\n    var children = this.listitem.children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].classList.contains('navmenu-link')) {\n        this.link = children[i];\n      } else if (children[i].classList.contains('navmenu-submenu')) {\n        this.submenu = children[i];\n      }\n    }\n\n    this.open = function () {\n      _this._open();\n    };\n\n    this.close = function () {\n      _this._close();\n    };\n\n    this.closeEsc = function (e) {\n      if (e.key === 'Escape') {\n        _this.link.focus();\n\n        _this.close();\n      }\n    };\n\n    this.timer = null;\n\n    this.mouseover = function () {\n      _this.open();\n\n      clearTimeout(_this.timer);\n    };\n\n    this.mouseout = function () {\n      _this.timer = setTimeout(_this.close, 400);\n    };\n\n    this.click = function (e) {\n      e.stopPropagation(); // if already open, continue to link destination\n\n      if (!e.target.classList.contains('navmenu-link-parent') || _this.isOpen) {\n        return;\n      }\n\n      e.preventDefault();\n\n      _this.open();\n    };\n\n    this.focusin = function (e) {\n      e.stopPropagation();\n\n      if (e.target.classList.contains('navmenu-link-parent')) {\n        _this.closeSiblings(_this);\n      }\n    };\n\n    this.listitem.addEventListener('mouseover', this.mouseover);\n    this.listitem.addEventListener('mouseout', this.mouseout);\n    this.listitem.addEventListener('touchend', this.click);\n    this.listitem.addEventListener('click', this.click);\n    this.listitem.addEventListener('focusin', this.focusin);\n    document.body.addEventListener('click', this.close);\n    document.body.addEventListener('focusin', this.close);\n  }\n\n  _createClass(NavDesktopParent, [{\n    key: \"_open\",\n    value: function _open() {\n      var _this2 = this;\n\n      this.closeSiblings(this);\n      window.addEventListener('keydown', this.closeEsc);\n\n      if (!this.listitem.classList.contains('open')) {\n        this.listitem.classList.add('open');\n        this.link.setAttribute('aria-expanded', true);\n\n        this.submenuEndInAnimation = function () {\n          _this2.submenu.classList.remove('animating-in');\n\n          _this2.submenu.removeEventListener('animationend', _this2.submenuEndInAnimation);\n        };\n\n        this.submenu.addEventListener('animationend', this.submenuEndInAnimation);\n        this.submenu.classList.add('animating-in');\n      }\n\n      if (!this.menu) {\n        this.menu = new _NavDesktopMenu__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.submenu);\n      } // Determine if submenu needs to use alternate side for dropdown\n      // Only applicable for regular drop down menus, not meganav\n\n\n      if (!this.submenu.classList.contains('navmenu-meganav')) {\n        var bounds = this.submenu.getBoundingClientRect();\n\n        if (bounds.right > document.documentElement.clientWidth) {\n          this.listitem.classList.add('alternate-drop');\n        }\n      }\n\n      this.isOpen = true;\n    }\n  }, {\n    key: \"_close\",\n    value: function _close() {\n      var _this3 = this;\n\n      if (this.listitem.classList.contains('open') && !this.submenu.classList.contains('animating-out')) {\n        this.submenuEndOutAnimation = function () {\n          _this3.listitem.classList.remove('open');\n\n          _this3.listitem.classList.remove('alternate-drop');\n\n          _this3.link.setAttribute('aria-expanded', false);\n\n          _this3.submenu.classList.remove('animating-out');\n\n          _this3.submenu.removeEventListener('animationend', _this3.submenuEndOutAnimation);\n        };\n\n        this.submenu.addEventListener('animationend', this.submenuEndOutAnimation);\n        this.submenu.classList.add('animating-out');\n      }\n\n      if (this.menu) {\n        this.menu.unload();\n        this.menu = null;\n      }\n\n      window.removeEventListener('keydown', this.closeEsc);\n      this.isOpen = false;\n    }\n  }, {\n    key: \"openMeganavBlock\",\n    value: function openMeganavBlock(meganav) {\n      if (this.submenu === meganav) {\n        this.submenu.classList.add('meganav-editing-block');\n      }\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.close();\n      this.listitem.removeEventListener('mouseover', this.mouseover);\n      this.listitem.removeEventListener('mouseout', this.mouseout);\n      this.listitem.removeEventListener('touchend', this.click);\n      this.listitem.removeEventListener('click', this.click);\n      this.listitem.removeEventListener('focusin', this.focusin);\n      window.removeEventListener('keydown', this.closeEsc);\n      document.body.removeEventListener('click', this.bodyClose);\n      document.body.removeEventListener('focusin', this.focusInClose);\n    }\n  }]);\n\n  return NavDesktopParent;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2RGVza3RvcFBhcmVudC5qcz9iZjg3Il0sIm5hbWVzIjpbIk5hdkRlc2t0b3BQYXJlbnQiLCJlbCIsIm9wdGlvbnMiLCJsaXN0aXRlbSIsImxpbmsiLCJzdWJtZW51IiwiaXNPcGVuIiwibWVudSIsImNsb3NlU2libGluZ3MiLCJjaGlsZHJlbiIsImkiLCJsZW5ndGgiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIm9wZW4iLCJfb3BlbiIsImNsb3NlIiwiX2Nsb3NlIiwiY2xvc2VFc2MiLCJlIiwia2V5IiwiZm9jdXMiLCJ0aW1lciIsIm1vdXNlb3ZlciIsImNsZWFyVGltZW91dCIsIm1vdXNlb3V0Iiwic2V0VGltZW91dCIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwidGFyZ2V0IiwicHJldmVudERlZmF1bHQiLCJmb2N1c2luIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvY3VtZW50IiwiYm9keSIsIndpbmRvdyIsImFkZCIsInNldEF0dHJpYnV0ZSIsInN1Ym1lbnVFbmRJbkFuaW1hdGlvbiIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJOYXZEZXNrdG9wTWVudSIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzdWJtZW51RW5kT3V0QW5pbWF0aW9uIiwidW5sb2FkIiwibWVnYW5hdiIsImJvZHlDbG9zZSIsImZvY3VzSW5DbG9zZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0lBRXFCQSxnQjtBQUNuQiw0QkFBWUMsRUFBWixFQUFnQkMsT0FBaEIsRUFBeUI7QUFBQTs7QUFBQTs7QUFDdkIsU0FBS0MsUUFBTCxHQUFnQkYsRUFBaEI7QUFDQSxTQUFLRyxJQUFMLEdBQVksSUFBWjtBQUNBLFNBQUtDLE9BQUwsR0FBZSxJQUFmO0FBQ0EsU0FBS0MsTUFB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QTNDO0FBRUEsV0FBS1osTUFBTCxHQUFjLEtBQWQ7QUFDRDs7O3FDQUVnQjJDLE8sRUFBUztBQUN4QixVQUFJLEtBQUs1QyxPQUFMLEtBQWlCNEMsT0FBckIsRUFBOEI7QUFDNUIsYUFBSzVDLE9BQUwsQ0FBYU8sU0FBYixDQUF1QndCLEdBQXZCLENBQTJCLHVCQUEzQjtBQUNEO0FBQ0Y7Ozs2QkFFUTtBQUNQLFdBQUtwQixLQUFMO0FBQ0EsV0FBS2IsUUFBTCxDQUFjcUMsbUJBQWQsQ0FBa0MsV0FBbEMsRUFBK0MsS0FBS2pCLFNBQXBEO0FBQ0EsV0FBS3BCLFFBQUwsQ0FBY3FDLG1CQUFkLENBQWtDLFVBQWxDLEVBQThDLEtBQUtmLFFBQW5EO0FBQ0EsV0FBS3RCLFFBQUwsQ0FBY3FDLG1CQUFkLENBQWtDLFVBQWxDLEVBQThDLEtBQUtiLEtBQW5EO0FBQ0EsV0FBS3hCLFFBQUwsQ0FBY3FDLG1CQUFkLENBQWtDLE9BQWxDLEVBQTJDLEtBQUtiLEtBQWhEO0FBQ0EsV0FBS3hCLFFBQUwsQ0FBY3FDLG1CQUFkLENBQWtDLFNBQWxDLEVBQTZDLEtBQUtULE9BQWxEO0FBRUFJLFlBQU0sQ0FBQ0ssbUJBQVAsQ0FBMkIsU0FBM0IsRUFBc0MsS0FBS3RCLFFBQTNDO0FBQ0FlLGNBQVEsQ0FBQ0MsSUFBVCxDQUFjTSxtQkFBZCxDQUFrQyxPQUFsQyxFQUEyQyxLQUFLVSxTQUFoRDtBQUNBakIsY0FBUSxDQUFDQyxJQUFULENBQWNNLG1CQUFkLENBQWtDLFNBQWxDLEVBQTZDLEtBQUtXLFlBQWxEO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2RGVza3RvcFBhcmVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOYXZEZXNrdG9wTWVudSBmcm9tICcuL05hdkRlc2t0b3BNZW51JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2RGVza3RvcFBhcmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgdGhpcy5saXN0aXRlbSA9IGVsO1xuICAgIHRoaXMubGluayA9IG51bGw7XG4gICAgdGhpcy5zdWJtZW51ID0gbnVsbDtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMubWVudSA9IG51bGw7XG4gICAgdGhpcy5jbG9zZVNpYmxpbmdzID0gb3B0aW9ucy5jbG9zZVNpYmxpbmdzO1xuXG4gICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5saXN0aXRlbTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjaGlsZHJlbltpXS5jbGFzc0xpc3QuY29udGFpbnMoJ25hdm1lbnUtbGluaycpKSB7XG4gICAgICAgIHRoaXMubGluayA9IGNoaWxkcmVuW2ldO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZHJlbltpXS5jbGFzc0xpc3QuY29udGFpbnMoJ25hdm1lbnUtc3VibWVudScpKSB7XG4gICAgICAgIHRoaXMuc3VibWVudSA9IGNoaWxkcmVuW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3BlbiA9ICgpID0+IHtcbiAgICAgIHRoaXMuX29wZW4oKTtcbiAgICB9O1xuICAgIHRoaXMuY2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9jbG9zZSgpO1xuICAgIH07XG4gICAgdGhpcy5jbG9zZUVzYyA9IGUgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICB0aGlzLmxpbmsuZm9jdXMoKTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICB0aGlzLm1vdXNlb3ZlciA9ICgpID0+IHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgIH07XG4gICAgdGhpcy5tb3VzZW91dCA9ICgpID0+IHtcbiAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuY2xvc2UsIDQwMCk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xpY2sgPSBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAvLyBpZiBhbHJlYWR5IG9wZW4sIGNvbnRpbnVlIHRvIGxpbmsgZGVzdGluYXRpb25cbiAgICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZtZW51LWxpbmstcGFyZW50JykgfHwgdGhpcy5pc09wZW4pIHsgcmV0dXJuOyB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9O1xuICAgIHRoaXMuZm9jdXNpbiA9IGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdm1lbnUtbGluay1wYXJlbnQnKSkge1xuICAgICAgICB0aGlzLmNsb3NlU2libGluZ3ModGhpcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubGlzdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5tb3VzZW92ZXIpO1xuICAgIHRoaXMubGlzdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm1vdXNlb3V0KTtcbiAgICB0aGlzLmxpc3RpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5jbGljayk7XG4gICAgdGhpcy5saXN0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2spO1xuICAgIHRoaXMubGlzdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuZm9jdXNpbik7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5jbG9zZSk7XG4gIH1cblxuICBfb3BlbigpIHtcbiAgICB0aGlzLmNsb3NlU2libGluZ3ModGhpcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmNsb3NlRXNjKTtcblxuICAgIGlmICghdGhpcy5saXN0aXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ29wZW4nKSkge1xuICAgICAgdGhpcy5saXN0aXRlbS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgICB0aGlzLmxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG5cbiAgICAgIHRoaXMuc3VibWVudUVuZEluQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0aW5nLWluJyk7XG4gICAgICAgIHRoaXMuc3VibWVudS5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCB0aGlzLnN1Ym1lbnVFbmRJbkFuaW1hdGlvbik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnN1Ym1lbnUuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgdGhpcy5zdWJtZW51RW5kSW5BbmltYXRpb24pO1xuICAgICAgdGhpcy5zdWJtZW51LmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGluZy1pbicpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZW51KSB7XG4gICAgICB0aGlzLm1lbnUgPSBuZXcgTmF2RGVza3RvcE1lbnUodGhpcy5zdWJtZW51KTtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgaWYgc3VibWVudSBuZWVkcyB0byB1c2UgYWx0ZXJuYXRlIHNpZGUgZm9yIGRyb3Bkb3duXG4gICAgLy8gT25seSBhcHBsaWNhYmxlIGZvciByZWd1bGFyIGRyb3AgZG93biBtZW51cywgbm90IG1lZ2FuYXZcbiAgICBpZiAoIXRoaXMuc3VibWVudS5jbGFzc0xpc3QuY29udGFpbnMoJ25hdm1lbnUtbWVnYW5hdicpKSB7XG4gICAgICBjb25zdCBib3VuZHMgPSB0aGlzLnN1Ym1lbnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBpZiAoYm91bmRzLnJpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSB7XG4gICAgICAgIHRoaXMubGlzdGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWx0ZXJuYXRlLWRyb3AnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gIH1cblxuICBfY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMubGlzdGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJylcbiAgICAgICYmICF0aGlzLnN1Ym1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbmltYXRpbmctb3V0JykpIHtcbiAgICAgIHRoaXMuc3VibWVudUVuZE91dEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5saXN0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgICAgIHRoaXMubGlzdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWx0ZXJuYXRlLWRyb3AnKTtcbiAgICAgICAgdGhpcy5saW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zdWJtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGluZy1vdXQnKTtcbiAgICAgICAgdGhpcy5zdWJtZW51LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIHRoaXMuc3VibWVudUVuZE91dEFuaW1hdGlvbik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnN1Ym1lbnUuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgdGhpcy5zdWJtZW51RW5kT3V0QW5pbWF0aW9uKTtcbiAgICAgIHRoaXMuc3VibWVudS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpbmctb3V0Jyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWVudSkge1xuICAgICAgdGhpcy5tZW51LnVubG9hZCgpO1xuICAgICAgdGhpcy5tZW51ID0gbnVsbDtcbiAgICB9XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuY2xvc2VFc2MpO1xuXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgfVxuXG4gIG9wZW5NZWdhbmF2QmxvY2sobWVnYW5hdikge1xuICAgIGlmICh0aGlzLnN1Ym1lbnUgPT09IG1lZ2FuYXYpIHtcbiAgICAgIHRoaXMuc3VibWVudS5jbGFzc0xpc3QuYWRkKCdtZWdhbmF2LWVkaXRpbmctYmxvY2snKTtcbiAgICB9XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIHRoaXMubGlzdGl0ZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5tb3VzZW92ZXIpO1xuICAgIHRoaXMubGlzdGl0ZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm1vdXNlb3V0KTtcbiAgICB0aGlzLmxpc3RpdGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5jbGljayk7XG4gICAgdGhpcy5saXN0aXRlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2spO1xuICAgIHRoaXMubGlzdGl0ZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuZm9jdXNpbik7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuY2xvc2VFc2MpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJvZHlDbG9zZSk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5mb2N1c0luQ2xvc2UpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/navigation/NavDesktopParent.js\n");

/***/ }),

/***/ "./source/scripts/components/navigation/NavMobile.js":
/*!***********************************************************!*\
  !*** ./source/scripts/components/navigation/NavMobile.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NavMobile; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @shopify/theme-a11y */ \"./node_modules/@shopify/theme-a11y/theme-a11y.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _NavMobileSubMenus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NavMobileSubMenus */ \"./source/scripts/components/navigation/NavMobileSubMenus.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar NavMobile = /*#__PURE__*/function () {\n  function NavMobile(elements) {\n    var _this = this;\n\n    _classCallCheck(this, NavMobile);\n\n    this.$body = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document.body);\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n    this.$el = elements.$el;\n    this.$toggleOpen = elements.$toggleOpen;\n    this.isOpen = false;\n    this.subMenus = null;\n    this.$mobileNav = this.$el.find('[data-mobile-nav]');\n    this.$panel = this.$el.find('[data-mobile-nav-panel]');\n    this.$overlay = this.$el.find('[data-mobile-nav-overlay]');\n    this.$toggleClose = this.$el.find('[data-mobile-nav-close]'); // Revert navigation to original state on breakpoint change\n\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"onChange\"](this.layoutHandler);\n\n    this._closeEsc = function (e) {\n      if (e.key === 'Escape') {\n        _this._close();\n      }\n    };\n\n    this._bindEvents();\n  }\n\n  _createClass(NavMobile, [{\n    key: \"unload\",\n    value: function unload() {\n      this._close();\n\n      this.$window.off('resize.mobile-nav');\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"offChange\"](this.layoutHandler);\n    }\n  }, {\n    key: \"onBreakpointChange\",\n    value: function onBreakpointChange() {\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"min\"]('L') && this.isOpen) {\n        this._close();\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$toggleOpen.on('click.mobile-nav', function (event) {\n        event.preventDefault();\n        if (!_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"min\"]('L')) _this2._open();\n      });\n      this.$window.on('resize.mobile-nav', function () {\n        _this2.$el.find('[data-menu-toggle]').removeClass('active');\n\n        if (_this2.isOpen) {\n          _this2._setPanelHeight();\n        }\n      });\n    }\n  }, {\n    key: \"_setPanelHeight\",\n    value: function _setPanelHeight() {\n      this.$panel.height(window.innerHeight);\n    }\n  }, {\n    key: \"_open\",\n    value: function _open() {\n      var _this3 = this;\n\n      this.$body.addClass('scroll-lock');\n      this.isOpen = true; // Activate Submenu handler\n\n      this.subMenus = new _NavMobileSubMenus__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.$panel);\n\n      this._setPanelHeight(); // Animate in elements\n\n\n      this.$mobileNav.addClass('animating animating-in').one('trend', function () {\n        _this3.$mobileNav.removeClass('animating animating-in').addClass('visible').off('trend');\n      });\n      Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_1__[\"trapFocus\"])(this.$mobileNav[0]); // Event handlers\n\n      window.addEventListener('keydown', this._closeEsc);\n      this.events = [// Close menu when clicking on the overlay\n      this.$overlay.on('click.mobile-nav', function (event) {\n        return _this3._close(event);\n      }), this.$toggleClose.on('click.mobile-nav', function (event) {\n        return _this3._close(event);\n      }), // Disable scrolling on overlay and contactbar\n      this.$overlay.on('touchmove.mobile-nav', function (event) {\n        return event.preventDefault();\n      })];\n    }\n  }, {\n    key: \"_close\",\n    value: function _close() {\n      var _this4 = this;\n\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (event) event.preventDefault();\n      this.$mobileNav.addClass('animating animating-out').one('trend', function () {\n        _this4.$mobileNav.removeClass('animating animating-out').removeClass('visible').off('trend');\n      });\n      this.$body.removeClass('scroll-lock');\n      this.isOpen = false;\n      Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_1__[\"removeTrapFocus\"])(this.$mobileNav);\n      this.$toggleOpen.focus(); // Close any open drop down menus\n\n      if (this.subMenus) {\n        this.subMenus.closeSubMenus(this.$el);\n        this.subMenus.closeAllSubmenus(); // Unbind Mobile sub menus\n\n        this.subMenus.unload();\n      } // Unbind events\n\n\n      window.removeEventListener('keydown', this._closeEsc);\n\n      if (this.events) {\n        this.events.forEach(function ($el) {\n          return $el.off('.mobile-nav');\n        });\n        this.events = [];\n      }\n    }\n  }]);\n\n  return NavMobile;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2TW9iaWxlLmpzPzE0OWYiXSwibmFtZXMiOlsiTmF2TW9iaWxlIiwiZWxlbWVudHMiLCIkYm9keSIsIiQiLCJkb2N1bWVudCIsImJvZHkiLCIkd2luZG93Iiwid2luZG93IiwiJGVsIiwiJHRvZ2dsZU9wZW4iLCJpc09wZW4iLCJzdWJNZW51cyIsIiRtb2JpbGVOYXYiLCJmaW5kIiwiJHBhbmVsIiwiJG92ZXJsYXkiLCIkdG9nZ2xlQ2xvc2UiLCJsYXlvdXRIYW5kbGVyIiwib25CcmVha3BvaW50Q2hhbmdlIiwiYmluZCIsImJyZWFrcG9pbnQiLCJfY2xvc2VFc2MiLCJlIiwia2V5IiwiX2Nsb3NlIiwiX2JpbmRFdmVudHMiLCJvZmYiLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfb3BlbiIsInJlbW92ZUNsYXNzIiwiX3NldFBhbmVsSGVpZ2h0IiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJhZGRDbGFzcyIsIk5hdk1vYmlsZVN1Yk1lbnVzIiwib25lIiwidHJhcEZvY3VzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50cyIsInJlbW92ZVRyYXBGb2N1cyIsImZvY3VzIiwiY2xvc2VTdWJNZW51cyIsImNsb3NlQWxsU3VibWVudXMiLCJ1bmxvYWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBS0E7QUFDQTs7SUFFcUJBLFM7QUFDbkIscUJBQVlDLFFBQVosRUFBc0I7QUFBQTs7QUFBQTs7QUFDcEIsU0FBS0MsS0FBTCxHQUFhQyw2Q0FBQyxDQUFDQyxRQUFRLENBQUNDLElBQVYsQ0FBZDtBQUNBLFNBQUtDLE9BQUwsR0FBZUgsNkNBQUMsQ0FBQ0ksTUFBRCxDQUFoQjtBQUNBLFNBQUtDLEdBQUwsR0FBV1AsUUFBUSxDQUFDTyxHQUFwQjtBQUNBLFNBQUtDLFdBQUwsR0FBbUJSLFFBQVEsQ0FBQ1EsV0FBNUI7QUFDQSxTQUFLQyxNQUFMLEdBQWMsS0FBZDtBQUNBLFNBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFFQSxTQUFLQyxVQUFMLEdBQWtCLEtBQUtKLEdBQUwsQ0FBU0ssSUFBVCxDQUFjLG1CQUFkLENBQWxCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLEtBQUtOLEdBQUwsQ0FBU0ssSUFBVCxDQUFjLHlCQUFkLENBQWQ7QUFDQSxTQUFLRSxRQUFMLEdBQWdCLEtBQUtQLEdBQUwsQ0FBU0ssSUFBVCxDQUFjLDJCQUFkLENBQWhCO0FBQ0EsU0FBS0csWUFBTCxHQUFvQixLQUFLUixHQUFMLENBQVNLLElBQVQsQ0FBYyx5QkFBZCxDQUFwQixDQVhvQixDQWFwQjs7QUFDQSxTQUFLSSxhQUFMLEdBQXFCLEtBQUtDLGtCQUFMLENBQXdCQyxJQUF4QixDQUE2QixJQUE3QixDQUFyQjtBQUNBQyxtRUFBQSxDQUFvQixLQUFLSCxhQUF6Qjs7QUFFQSxTQUFLSSxTQUFMLEdBQWlCLFVBQUFDLENBQUMsRUFBSTtBQUNwQixVQUFJQSxDQUFDLENBQUNDLEdBQUYsS0FBVSxRQUFkLEVBQXdCO0FBQ3RCLGFBQUksQ0FBQ0MsTUFBTDtBQUNEO0FBQ0YsS0FKRDs7QUFNQSxTQUFLQyxXQUFMO0FBQ0Q7Ozs7NkJBRVE7QUFDUCxXQUFLRCxNQUFMOztBQUNBLFdBQUtsQixPQUFMLENBQWFvQixHQUFiLENBQWlCLG1CQUFqQjtBQUNBTixzRUFBQSxDQUFxQixLQUFLSCxhQUExQjtBQUNEOzs7eUNBRW9CO0FBQ25CLFVBQUlHLDBEQUFBLENBQWUsR0FBZixLQUF1QixLQUFLVixNQUFoQyxFQUF3QztBQUN0QyxhQUFLYyxNQUFMO0FBQ0Q7QUFDRjs7O2tDQUVhO0FBQUE7O0FBQ1osV0FBS2YsV0FBTCxDQUFpQmtCLEVBQWpCLENBQW9CLGtCQUFwQixFQUF3QyxVQUFBQyxLQUFLLEVBQUk7QUFDL0NBLGFBQUssQ0FBQ0MsY0FBTjtBQUVBLFlBQUksQ0FBQ1QsMERBQUEsQ0FBZSxHQUFmLENBQUwsRUFBMEIsTUFBSSxDQUFDVSxLQUFMO0FBQzNCLE9BSkQ7QUFNQSxXQUFLeEIsT0FBTCxDQUFhcUIsRUFBYixDQUFnQixtQkFBaEIsRUFBcUMsWUFBTTtBQUN6QyxjQUFJLENBQUNuQixHQUFMLENBQVNLLElBQVQsQ0FBYyxvQkFBZCxFQUFvQ2tCLFdBQXBDLENBQWdELFFBQWhEOztBQUVBLFlBQUksTUFBSSxDQUFDckIsTUFBVCxFQUFpQjtBQUNmLGdCQUFJLENBQUNzQixlQUFMO0FBQ0Q7QUFDRixPQU5EO0FBT0Q7OztzQ0FFaUI7QUFDaEIsV0FBS2xCLE1BQUwsQ0FBWW1CLE1BQVosQ0FBbUIxQixNQUFNLENBQUMyQixXQUExQjtBQUNEOzs7NEJBRU87QUFBQTs7QUFDTixXQUFLaEMsS0FBTCxDQUFXaUMsUUFBWCxDQUFvQixhQUFwQjtBQUNBLFdBQUt6QixNQUFMLEdBQWMsSUFBZCxDQUZNLENBSU47O0FBQ0EsV0FBS0MsUUFBTCxHQUFnQixJQUFJeUIsMERBQUosQ0FBc0IsS0FBS3RCLE1BQTNCLENBQWhCOztBQUNBLFdBQUtrQixlQUFMLEdBTk0sQ0FRTjs7O0FBQ0EsV0FBS3BCLFVBQUwsQ0FDR3VCLFFBREgsQ0FDWSx3QkFEWixFQUVHRSxHQUZILENBRU8sT0FGUCxFQUVnQixZQUFNO0FBQ2xCLGNBQUksQ0FBQ3pCLFVBQUwsQ0FDR21CLFdBREgsQ0FDZSx3QkFEZixFQUVHSSxRQUZILENBRVksU0FGWixFQUdHVCxHQUhILENBR08sT0FIUDtBQUlELE9BUEg7QUFTQVksMkVBQVMsQ0FBQyxLQUFLMUIsVUFBTCxDQUFnQixDQUFoQixDQUFELENBQVQsQ0FsQk0sQ0FvQk47O0FBQ0FMLFlBQU0sQ0FBQ2dDLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLEtBQUtsQixTQUF4QztBQUVBLFdBQUttQixNQUFMLEdBQWMsQ0FDWjtBQUNBLFdBQUt6QixRQUFMLENBQWNZLEVBQWQsQ0FBaUIsa0JBQWpCLEVBQXFDLFVBQUFDLEtBQUs7QUFBQSxlQUFJLE1BQUksQ0FBQ0osTUFBTCxDQUFZSSxLQUFaLENBQUo7QUFBQSxPQUExQyxDQUZZLEVBR1osS0FBS1osWUFBTCxDQUFrQlcsRUFBbEIsQ0FBcUIsa0JBQXJCLEVBQXlDLFVBQUFDLEtBQUs7QUFBQSxlQUFJLE1BQUksQ0FBQ0osTUFBTCxDQUFZSSxLQUFaLENBQUo7QUFBQSxPQUE5QyxDQUhZLEVBS1o7QUFDQSxXQUFLYixRQUFMLENBQWNZLEVBQWQsQ0FBaUIsc0JBQWpCLEVBQXlDLFVBQUFDLEtBQUs7QUFBQSxlQUFJQSxLQUFLLENBQUNDLGNBQU4sRUFBSjtBQUFBLE9BQTlDLENBTlksQ0FBZDtBQVFEOzs7NkJBRXFCO0FBQUE7O0FBQUEsVUFBZkQsS0FBZSx1RUFBUCxLQUFPO0FBQ3BCLFVBQUlBLEtBQUosRUFBV0EsS0FBSyxDQUFDQyxjQUFOO0FBRVgsV0FBS2pCLFVBQUwsQ0FDR3VCLFFBREgsQ0FDWSx5QkFEWixFQUVHRSxHQUZILENBRU8sT0FGUCxFQUVnQixZQUFNO0FBQ2xCLGNBQUksQ0FBQ3pCLFVBQUwsQ0FDR21CLFdBREgsQ0FDZSx5QkFEZixFQUVHQSxXQUZILENBRWUsU0FGZixFQUdHTCxHQUhILENBR08sT0FIUDtBQUlELE9BUEg7QUFTQSxXQUFLeEIsS0FBTCxDQUFXNkIsV0FBWCxDQUF1QixhQUF2QjtBQUNBLFdBQUtyQixNQUFMLEdBQWMsS0FBZDtBQUVBK0IsaUZBQWUsQ0FBQyxLQUFLN0IsVUFBTixDQUFmO0FBQ0EsV0FBS0gsV0FBTCxDQUFpQmlDLEtBQWpCLEdBaEJvQixDQWtCcEI7O0FBQ0EsVUFBSSxLQUFLL0IsUUFBVCxFQUFtQjtBQUNqQixhQUFLQSxRQUFMLENBQWNnQyxhQUFkLENBQTRCLEtBQUtuQyxHQUFqQztBQUNBLGFBQUtHLFFBQUwsQ0FBY2lDLGdCQUFkLEdBRmlCLENBSWpCOztBQUNBLGFBQUtqQyxRQUFMLENBQWNrQyxNQUFkO0FBQ0QsT0F6Qm1CLENBMkJwQjs7O0FBQ0F0QyxZQUFNLENBQUN1QyxtQkFBUCxDQUEyQixTQUEzQixFQUFzQyxLQUFLekIsU0FBM0M7O0FBRUEsVUFBSSxLQUFLbUIsTUFBVCxFQUFpQjtBQUNmLGFBQUtBLE1BQUwsQ0FBWU8sT0FBWixDQUFvQixVQUFBdkMsR0FBRztBQUFBLGlCQUFJQSxHQUFHLENBQUNrQixHQUFKLENBQVEsYUFBUixDQUFKO0FBQUEsU0FBdkI7QUFDQSxhQUFLYyxNQUFMLEdBQWMsRUFBZDtBQUNEO0FBQ0YiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2TW9iaWxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7XG4gIHRyYXBGb2N1cyxcbiAgcmVtb3ZlVHJhcEZvY3VzLFxufSBmcm9tICdAc2hvcGlmeS90aGVtZS1hMTF5JztcblxuaW1wb3J0ICogYXMgYnJlYWtwb2ludCBmcm9tICdAcGl4ZWx1bmlvbi9icmVha3BvaW50JztcbmltcG9ydCBOYXZNb2JpbGVTdWJNZW51cyBmcm9tICcuL05hdk1vYmlsZVN1Yk1lbnVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2TW9iaWxlIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudHMpIHtcbiAgICB0aGlzLiRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcbiAgICB0aGlzLiR3aW5kb3cgPSAkKHdpbmRvdyk7XG4gICAgdGhpcy4kZWwgPSBlbGVtZW50cy4kZWw7XG4gICAgdGhpcy4kdG9nZ2xlT3BlbiA9IGVsZW1lbnRzLiR0b2dnbGVPcGVuO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5zdWJNZW51cyA9IG51bGw7XG5cbiAgICB0aGlzLiRtb2JpbGVOYXYgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1tb2JpbGUtbmF2XScpO1xuICAgIHRoaXMuJHBhbmVsID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtbW9iaWxlLW5hdi1wYW5lbF0nKTtcbiAgICB0aGlzLiRvdmVybGF5ID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtbW9iaWxlLW5hdi1vdmVybGF5XScpO1xuICAgIHRoaXMuJHRvZ2dsZUNsb3NlID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtbW9iaWxlLW5hdi1jbG9zZV0nKTtcblxuICAgIC8vIFJldmVydCBuYXZpZ2F0aW9uIHRvIG9yaWdpbmFsIHN0YXRlIG9uIGJyZWFrcG9pbnQgY2hhbmdlXG4gICAgdGhpcy5sYXlvdXRIYW5kbGVyID0gdGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICBicmVha3BvaW50Lm9uQ2hhbmdlKHRoaXMubGF5b3V0SGFuZGxlcik7XG5cbiAgICB0aGlzLl9jbG9zZUVzYyA9IGUgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy5fY2xvc2UoKTtcbiAgICB0aGlzLiR3aW5kb3cub2ZmKCdyZXNpemUubW9iaWxlLW5hdicpO1xuICAgIGJyZWFrcG9pbnQub2ZmQ2hhbmdlKHRoaXMubGF5b3V0SGFuZGxlcik7XG4gIH1cblxuICBvbkJyZWFrcG9pbnRDaGFuZ2UoKSB7XG4gICAgaWYgKGJyZWFrcG9pbnQubWluKCdMJykgJiYgdGhpcy5pc09wZW4pIHtcbiAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgdGhpcy4kdG9nZ2xlT3Blbi5vbignY2xpY2subW9iaWxlLW5hdicsIGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmICghYnJlYWtwb2ludC5taW4oJ0wnKSkgdGhpcy5fb3BlbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kd2luZG93Lm9uKCdyZXNpemUubW9iaWxlLW5hdicsICgpID0+IHtcbiAgICAgIHRoaXMuJGVsLmZpbmQoJ1tkYXRhLW1lbnUtdG9nZ2xlXScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIHRoaXMuX3NldFBhbmVsSGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfc2V0UGFuZWxIZWlnaHQoKSB7XG4gICAgdGhpcy4kcGFuZWwuaGVpZ2h0KHdpbmRvdy5pbm5lckhlaWdodCk7XG4gIH1cblxuICBfb3BlbigpIHtcbiAgICB0aGlzLiRib2R5LmFkZENsYXNzKCdzY3JvbGwtbG9jaycpO1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcblxuICAgIC8vIEFjdGl2YXRlIFN1Ym1lbnUgaGFuZGxlclxuICAgIHRoaXMuc3ViTWVudXMgPSBuZXcgTmF2TW9iaWxlU3ViTWVudXModGhpcy4kcGFuZWwpO1xuICAgIHRoaXMuX3NldFBhbmVsSGVpZ2h0KCk7XG5cbiAgICAvLyBBbmltYXRlIGluIGVsZW1lbnRzXG4gICAgdGhpcy4kbW9iaWxlTmF2XG4gICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGluZyBhbmltYXRpbmctaW4nKVxuICAgICAgLm9uZSgndHJlbmQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuJG1vYmlsZU5hdlxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYW5pbWF0aW5nIGFuaW1hdGluZy1pbicpXG4gICAgICAgICAgLmFkZENsYXNzKCd2aXNpYmxlJylcbiAgICAgICAgICAub2ZmKCd0cmVuZCcpO1xuICAgICAgfSk7XG5cbiAgICB0cmFwRm9jdXModGhpcy4kbW9iaWxlTmF2WzBdKTtcblxuICAgIC8vIEV2ZW50IGhhbmRsZXJzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbG9zZUVzYyk7XG5cbiAgICB0aGlzLmV2ZW50cyA9IFtcbiAgICAgIC8vIENsb3NlIG1lbnUgd2hlbiBjbGlja2luZyBvbiB0aGUgb3ZlcmxheVxuICAgICAgdGhpcy4kb3ZlcmxheS5vbignY2xpY2subW9iaWxlLW5hdicsIGV2ZW50ID0+IHRoaXMuX2Nsb3NlKGV2ZW50KSksXG4gICAgICB0aGlzLiR0b2dnbGVDbG9zZS5vbignY2xpY2subW9iaWxlLW5hdicsIGV2ZW50ID0+IHRoaXMuX2Nsb3NlKGV2ZW50KSksXG5cbiAgICAgIC8vIERpc2FibGUgc2Nyb2xsaW5nIG9uIG92ZXJsYXkgYW5kIGNvbnRhY3RiYXJcbiAgICAgIHRoaXMuJG92ZXJsYXkub24oJ3RvdWNobW92ZS5tb2JpbGUtbmF2JywgZXZlbnQgPT4gZXZlbnQucHJldmVudERlZmF1bHQoKSksXG4gICAgXTtcbiAgfVxuXG4gIF9jbG9zZShldmVudCA9IGZhbHNlKSB7XG4gICAgaWYgKGV2ZW50KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdGhpcy4kbW9iaWxlTmF2XG4gICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGluZyBhbmltYXRpbmctb3V0JylcbiAgICAgIC5vbmUoJ3RyZW5kJywgKCkgPT4ge1xuICAgICAgICB0aGlzLiRtb2JpbGVOYXZcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FuaW1hdGluZyBhbmltYXRpbmctb3V0JylcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKVxuICAgICAgICAgIC5vZmYoJ3RyZW5kJyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1sb2NrJyk7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcblxuICAgIHJlbW92ZVRyYXBGb2N1cyh0aGlzLiRtb2JpbGVOYXYpO1xuICAgIHRoaXMuJHRvZ2dsZU9wZW4uZm9jdXMoKTtcblxuICAgIC8vIENsb3NlIGFueSBvcGVuIGRyb3AgZG93biBtZW51c1xuICAgIGlmICh0aGlzLnN1Yk1lbnVzKSB7XG4gICAgICB0aGlzLnN1Yk1lbnVzLmNsb3NlU3ViTWVudXModGhpcy4kZWwpO1xuICAgICAgdGhpcy5zdWJNZW51cy5jbG9zZUFsbFN1Ym1lbnVzKCk7XG5cbiAgICAgIC8vIFVuYmluZCBNb2JpbGUgc3ViIG1lbnVzXG4gICAgICB0aGlzLnN1Yk1lbnVzLnVubG9hZCgpO1xuICAgIH1cblxuICAgIC8vIFVuYmluZCBldmVudHNcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlRXNjKTtcblxuICAgIGlmICh0aGlzLmV2ZW50cykge1xuICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaCgkZWwgPT4gJGVsLm9mZignLm1vYmlsZS1uYXYnKSk7XG4gICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/navigation/NavMobile.js\n");

/***/ }),

/***/ "./source/scripts/components/navigation/NavMobileSubMenus.js":
/*!*******************************************************************!*\
  !*** ./source/scripts/components/navigation/NavMobileSubMenus.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NavMobileSubMenus; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Accordion */ \"./source/scripts/Accordion.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar NavMobileSubMenus = /*#__PURE__*/function () {\n  function NavMobileSubMenus($el) {\n    _classCallCheck(this, NavMobileSubMenus);\n\n    this.$el = $el;\n    this.Accordion = new _Accordion__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.$el, {\n      activeClass: 'visible',\n      content: '[data-accordion-content]'\n    }); // Sub menu selectors\n\n    this.activeMenuClass = 'navmenu-link-parent-active';\n    this.activeMenu = \".\".concat(this.activeMenuClass);\n    this.linkClass = 'navmenu-link-parent';\n    this.linkSelector = \".\".concat(this.linkClass);\n    this.navTrigger = '[data-navmenu-parent]';\n    this.subMenu = '[data-navmenu-submenu]';\n    this.buttonClass = 'navmenu-button';\n    this.buttonSelector = \".\".concat(this.buttonClass);\n\n    this._bindEvents();\n  }\n\n  _createClass(NavMobileSubMenus, [{\n    key: \"unload\",\n    value: function unload() {\n      this.$el.off('.mobile-nav');\n      delete this.Accordion;\n    }\n  }, {\n    key: \"closeSubMenus\",\n    value: function closeSubMenus($current) {\n      var _this = this;\n\n      $current.find(this.activeMenu).each(function (index, el) {\n        _this._closeSubmenu(jquery__WEBPACK_IMPORTED_MODULE_0___default()(el));\n      });\n    }\n  }, {\n    key: \"closeAllSubmenus\",\n    value: function closeAllSubmenus() {\n      if (this.Accordion) {\n        this.Accordion.closeOpen();\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      // Prevent focus state from applying on mouse click\n      this.$el.on('mousedown.mobile-nav', '.navmenu-link', function (event) {\n        event.preventDefault();\n      });\n      this.$el.on('click.mobile-nav', \"\".concat(this.navTrigger, \" > .navmenu-link-parent\"), this._linkClicked.bind(this));\n      this.$el.on('click.mobile-nav', \"\".concat(this.navTrigger, \" > .navmenu-button\"), function (event) {\n        event.preventDefault();\n\n        _this2._toggleSubmenu(event);\n      });\n    }\n  }, {\n    key: \"_linkClicked\",\n    value: function _linkClicked(event) {\n      var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget);\n\n      if (!$target.hasClass(this.activeMenuClass)) {\n        event.preventDefault();\n\n        this._openSubmenu($target);\n      }\n    }\n  }, {\n    key: \"_toggleSubmenu\",\n    value: function _toggleSubmenu(event) {\n      var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget);\n      var $link = $target.hasClass(this.linkClass) ? $target : $target.siblings(this.linkSelector).first();\n\n      if ($link.hasClass(this.activeMenuClass)) {\n        this._closeSubmenu($target);\n      } else {\n        this._openSubmenu($target);\n      }\n    }\n  }, {\n    key: \"_openSubmenu\",\n    value: function _openSubmenu($target) {\n      var $menu = $target.siblings(this.subMenu).first();\n      var $link = $target.hasClass(this.linkClass) ? $target : $target.siblings(this.linkSelector).first();\n      var $button = $target.hasClass(this.buttonClass) ? $target : $target.siblings(this.buttonSelector).first();\n      $menu.css('display', 'flex');\n      $link.addClass(this.activeMenuClass).attr('aria-expanded', true);\n      $button.attr('aria-expanded', true);\n      this.Accordion.toggle($menu);\n    }\n  }, {\n    key: \"_closeSubmenu\",\n    value: function _closeSubmenu($target) {\n      var $menu = $target.siblings(this.subMenu).first();\n      var $link = $target.hasClass(this.linkClass) ? $target : $target.siblings(this.linkSelector).first();\n      var $button = $target.hasClass(this.buttonClass) ? $target : $target.siblings(this.buttonSelector).first();\n      $menu.one('transitionend', function () {\n        return $menu.css('display', '');\n      });\n      $link.removeClass(this.activeMenuClass).attr('aria-expanded', false);\n      $button.attr('aria-expanded', false);\n      this.Accordion.toggle($menu);\n      this.closeSubMenus($menu);\n    }\n  }]);\n\n  return NavMobileSubMenus;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2TW9iaWxlU3ViTWVudXMuanM/YjdjMyJdLCJuYW1lcyI6WyJOYXZNb2JpbGVTdWJNZW51cyIsIiRlbCIsIkFjY29yZGlvbiIsImFjdGl2ZUNsYXNzIiwiY29udGVudCIsImFjdGl2ZU1lbnVDbGFzcyIsImFjdGl2ZU1lbnUiLCJsaW5rQ2xhc3MiLCJsaW5rU2VsZWN0b3IiLCJuYXZUcmlnZ2VyIiwic3ViTWVudSIsImJ1dHRvbkNsYXNzIiwiYnV0dG9uU2VsZWN0b3IiLCJfYmluZEV2ZW50cyIsIm9mZiIsIiRjdXJyZW50IiwiZmluZCIsImVhY2giLCJpbmRleCIsImVsIiwiX2Nsb3NlU3VibWVudSIsIiQiLCJjbG9zZU9wZW4iLCJvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfbGlua0NsaWNrZWQiLCJiaW5kIiwiX3RvZ2dsZVN1Ym1lbnUiLCIkdGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImhhc0NsYXNzIiwiX29wZW5TdWJtZW51IiwiJGxpbmsiLCJzaWJsaW5ncyIsImZpcnN0IiwiJG1lbnUiLCIkYnV0dG9uIiwiY3NzIiwiYWRkQ2xhc3MiLCJhdHRyIiwidG9nZ2xlIiwib25lIiwicmVtb3ZlQ2xhc3MiLCJjbG9zZVN1Yk1lbnVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7O0lBRXFCQSxpQjtBQUNuQiw2QkFBWUMsR0FBWixFQUFpQjtBQUFBOztBQUNmLFNBQUtBLEdBQUwsR0FBV0EsR0FBWDtBQUVBLFNBQUtDLFNBQUwsR0FBaUIsSUFBSUEsa0RBQUosQ0FBYyxLQUFLRCxHQUFuQixFQUF3QjtBQUN2Q0UsaUJBQVcsRUFBRSxTQUQwQjtBQUV2Q0MsYUFBTyxFQUFFO0FBRjhCLEtBQXhCLENBQWpCLENBSGUsQ0FRZjs7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLDRCQUF2QjtBQUNBLFNBQUtDLFVBQUwsY0FBc0IsS0FBS0QsZUFB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b25lbnRzL25hdmlnYXRpb24vTmF2TW9iaWxlU3ViTWVudXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQgQWNjb3JkaW9uIGZyb20gJy4uLy4uL0FjY29yZGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdk1vYmlsZVN1Yk1lbnVzIHtcbiAgY29uc3RydWN0b3IoJGVsKSB7XG4gICAgdGhpcy4kZWwgPSAkZWw7XG5cbiAgICB0aGlzLkFjY29yZGlvbiA9IG5ldyBBY2NvcmRpb24odGhpcy4kZWwsIHtcbiAgICAgIGFjdGl2ZUNsYXNzOiAndmlzaWJsZScsXG4gICAgICBjb250ZW50OiAnW2RhdGEtYWNjb3JkaW9uLWNvbnRlbnRdJyxcbiAgICB9KTtcblxuICAgIC8vIFN1YiBtZW51IHNlbGVjdG9yc1xuICAgIHRoaXMuYWN0aXZlTWVudUNsYXNzID0gJ25hdm1lbnUtbGluay1wYXJlbnQtYWN0aXZlJztcbiAgICB0aGlzLmFjdGl2ZU1lbnUgPSBgLiR7dGhpcy5hY3RpdmVNZW51Q2xhc3N9YDtcbiAgICB0aGlzLmxpbmtDbGFzcyA9ICduYXZtZW51LWxpbmstcGFyZW50JztcbiAgICB0aGlzLmxpbmtTZWxlY3RvciA9IGAuJHt0aGlzLmxpbmtDbGFzc31gO1xuICAgIHRoaXMubmF2VHJpZ2dlciA9ICdbZGF0YS1uYXZtZW51LXBhcmVudF0nO1xuICAgIHRoaXMuc3ViTWVudSA9ICdbZGF0YS1uYXZtZW51LXN1Ym1lbnVdJztcbiAgICB0aGlzLmJ1dHRvbkNsYXNzID0gJ25hdm1lbnUtYnV0dG9uJztcbiAgICB0aGlzLmJ1dHRvblNlbGVjdG9yID0gYC4ke3RoaXMuYnV0dG9uQ2xhc3N9YDtcblxuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICB0aGlzLiRlbC5vZmYoJy5tb2JpbGUtbmF2Jyk7XG5cbiAgICBkZWxldGUgdGhpcy5BY2NvcmRpb247XG4gIH1cblxuICBjbG9zZVN1Yk1lbnVzKCRjdXJyZW50KSB7XG4gICAgJGN1cnJlbnQuZmluZCh0aGlzLmFjdGl2ZU1lbnUpLmVhY2goKGluZGV4LCBlbCkgPT4ge1xuICAgICAgdGhpcy5fY2xvc2VTdWJtZW51KCQoZWwpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlQWxsU3VibWVudXMoKSB7XG4gICAgaWYgKHRoaXMuQWNjb3JkaW9uKSB7XG4gICAgICB0aGlzLkFjY29yZGlvbi5jbG9zZU9wZW4oKTtcbiAgICB9XG4gIH1cblxuICBfYmluZEV2ZW50cygpIHtcbiAgICAvLyBQcmV2ZW50IGZvY3VzIHN0YXRlIGZyb20gYXBwbHlpbmcgb24gbW91c2UgY2xpY2tcbiAgICB0aGlzLiRlbC5vbignbW91c2Vkb3duLm1vYmlsZS1uYXYnLCAnLm5hdm1lbnUtbGluaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGVsLm9uKCdjbGljay5tb2JpbGUtbmF2JywgYCR7dGhpcy5uYXZUcmlnZ2VyfSA+IC5uYXZtZW51LWxpbmstcGFyZW50YCwgdGhpcy5fbGlua0NsaWNrZWQuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLiRlbC5vbignY2xpY2subW9iaWxlLW5hdicsIGAke3RoaXMubmF2VHJpZ2dlcn0gPiAubmF2bWVudS1idXR0b25gLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl90b2dnbGVTdWJtZW51KGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9saW5rQ2xpY2tlZChldmVudCkge1xuICAgIGNvbnN0ICR0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKHRoaXMuYWN0aXZlTWVudUNsYXNzKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX29wZW5TdWJtZW51KCR0YXJnZXQpO1xuICAgIH1cbiAgfVxuXG4gIF90b2dnbGVTdWJtZW51KGV2ZW50KSB7XG4gICAgY29uc3QgJHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgJGxpbmsgPSAkdGFyZ2V0Lmhhc0NsYXNzKHRoaXMubGlua0NsYXNzKVxuICAgICAgPyAkdGFyZ2V0IDogJHRhcmdldC5zaWJsaW5ncyh0aGlzLmxpbmtTZWxlY3RvcikuZmlyc3QoKTtcblxuICAgIGlmICgkbGluay5oYXNDbGFzcyh0aGlzLmFjdGl2ZU1lbnVDbGFzcykpIHtcbiAgICAgIHRoaXMuX2Nsb3NlU3VibWVudSgkdGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb3BlblN1Ym1lbnUoJHRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgX29wZW5TdWJtZW51KCR0YXJnZXQpIHtcbiAgICBjb25zdCAkbWVudSA9ICR0YXJnZXQuc2libGluZ3ModGhpcy5zdWJNZW51KS5maXJzdCgpO1xuICAgIGNvbnN0ICRsaW5rID0gJHRhcmdldC5oYXNDbGFzcyh0aGlzLmxpbmtDbGFzcylcbiAgICAgID8gJHRhcmdldFxuICAgICAgOiAkdGFyZ2V0LnNpYmxpbmdzKHRoaXMubGlua1NlbGVjdG9yKS5maXJzdCgpO1xuICAgIGNvbnN0ICRidXR0b24gPSAkdGFyZ2V0Lmhhc0NsYXNzKHRoaXMuYnV0dG9uQ2xhc3MpXG4gICAgICA/ICR0YXJnZXRcbiAgICAgIDogJHRhcmdldC5zaWJsaW5ncyh0aGlzLmJ1dHRvblNlbGVjdG9yKS5maXJzdCgpO1xuXG4gICAgJG1lbnUuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKTtcblxuICAgICRsaW5rXG4gICAgICAuYWRkQ2xhc3ModGhpcy5hY3RpdmVNZW51Q2xhc3MpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuXG4gICAgJGJ1dHRvbi5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG5cbiAgICB0aGlzLkFjY29yZGlvbi50b2dnbGUoJG1lbnUpO1xuICB9XG5cbiAgX2Nsb3NlU3VibWVudSgkdGFyZ2V0KSB7XG4gICAgY29uc3QgJG1lbnUgPSAkdGFyZ2V0LnNpYmxpbmdzKHRoaXMuc3ViTWVudSkuZmlyc3QoKTtcbiAgICBjb25zdCAkbGluayA9ICR0YXJnZXQuaGFzQ2xhc3ModGhpcy5saW5rQ2xhc3MpXG4gICAgICA/ICR0YXJnZXRcbiAgICAgIDogJHRhcmdldC5zaWJsaW5ncyh0aGlzLmxpbmtTZWxlY3RvcikuZmlyc3QoKTtcbiAgICBjb25zdCAkYnV0dG9uID0gJHRhcmdldC5oYXNDbGFzcyh0aGlzLmJ1dHRvbkNsYXNzKVxuICAgICAgPyAkdGFyZ2V0XG4gICAgICA6ICR0YXJnZXQuc2libGluZ3ModGhpcy5idXR0b25TZWxlY3RvcikuZmlyc3QoKTtcblxuICAgICRtZW51Lm9uZSgndHJhbnNpdGlvbmVuZCcsICgpID0+ICRtZW51LmNzcygnZGlzcGxheScsICcnKSk7XG5cbiAgICAkbGlua1xuICAgICAgLnJlbW92ZUNsYXNzKHRoaXMuYWN0aXZlTWVudUNsYXNzKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG5cbiAgICAkYnV0dG9uLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG5cbiAgICB0aGlzLkFjY29yZGlvbi50b2dnbGUoJG1lbnUpO1xuICAgIHRoaXMuY2xvc2VTdWJNZW51cygkbWVudSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/components/navigation/NavMobileSubMenus.js\n");

/***/ }),

/***/ "./source/scripts/components/search/LiveSearch.js":
/*!********************************************************!*\
  !*** ./source/scripts/components/search/LiveSearch.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LiveSearch; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Search */ \"./source/scripts/Search.js\");\n/* harmony import */ var _SearchForm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SearchForm */ \"./source/scripts/components/search/SearchForm.js\");\n/* harmony import */ var _LiveSearchTemplates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LiveSearchTemplates */ \"./source/scripts/components/search/LiveSearchTemplates.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar MAX_RESULTS = 5;\n\nvar LiveSearch = /*#__PURE__*/function () {\n  function LiveSearch(els, settings) {\n    var _this = this;\n\n    _classCallCheck(this, LiveSearch);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(els.el);\n    this.$body = jquery__WEBPACK_IMPORTED_MODULE_0___default()('body');\n    this.$header = jquery__WEBPACK_IMPORTED_MODULE_0___default()(els.header);\n    this.$document = jquery__WEBPACK_IMPORTED_MODULE_0___default()(document);\n    this.settings = settings;\n    this.formOptions = {\n      liveSearch: true\n    };\n    this.contentTypes = this.settings.content_types;\n    this.enableImages = true;\n    this.flyDownActive = false;\n    this.takeOverActive = false;\n    this.showFlyDown = false;\n    this.searchOpenClass = 'site-header-search--open';\n    this.$form = this.$el.find('[data-live-search-form]');\n    this.$input = this.$form.find('[data-live-search-input]');\n    this.$button = this.$form.find('[data-live-search-submit]');\n    this.$takeOverCancel = this.$form.find('[data-live-search-takeover-cancel]');\n    this.$flyDown = this.$el.find('[data-live-search-flydown]');\n    this.$searchResults = this.$flyDown.find('[data-live-search-results]');\n    this.$searchPlaceholder = this.$flyDown.find('[data-live-search-placeholder]');\n    this.$quickLinks = this.$flyDown.find('[data-live-search-quick-links]');\n    this.staticSearch = new _SearchForm__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.$el, this.formOptions);\n    this.search = new _Search__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      view: 'header',\n      type: this.contentTypes\n    });\n    this._search = this._search.bind(this);\n    this._toggleTakeOver = this._toggleTakeOver.bind(this);\n    this._searchFocused = this._searchFocused.bind(this);\n    this._documentFocus = this._documentFocus.bind(this);\n    this._searchCancelled = this._searchCancelled.bind(this);\n    this._searchComplete = this._searchComplete.bind(this);\n    this._searchError = this._searchError.bind(this);\n    this.search.on('cancelled', this._searchCancelled);\n    this.search.on('complete', this._searchComplete);\n    this.search.on('error', this._searchError);\n\n    this._closeEsc = function (e) {\n      if (e.key === 'Escape') {\n        e.stopPropagation();\n\n        _this.$input.focus();\n\n        _this._closeFlyDown(true);\n      }\n    };\n\n    this.events = [this.$button.on('click.live-search', function (event) {\n      event.preventDefault();\n\n      _this.$form.submit();\n    }), this.$input.on('keyup.live-search', just_debounce__WEBPACK_IMPORTED_MODULE_1___default()(this._search, 250)), this.$input.on('focus.live-search', this._searchFocused), this.$takeOverCancel.on('click.live-search', this._toggleTakeOver)];\n  }\n\n  _createClass(LiveSearch, [{\n    key: \"unload\",\n    value: function unload() {\n      this.events.forEach(function ($el) {\n        return $el.off('.live-search');\n      });\n      this.search.off('cancelled', this._searchCancelled);\n      this.search.off('complete', this._searchComplete);\n      this.search.off('error', this._searchError);\n      this.staticSearch.unload();\n    }\n    /**\n     * If is searching, only show placeholder\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_flyDownSearching\",\n    value: function _flyDownSearching() {\n      this.$searchResults.removeClass('visible');\n      this.$quickLinks.removeClass('visible');\n      this.$searchPlaceholder.addClass('visible');\n    }\n    /**\n     * Search field has been focused, or has been cleared of contents\n     *   - If previous search contents, show\n     *   - If no previous search contents, show quicklinks if exists\n     *\n     * @param hasTerms\n     * @private\n     */\n\n  }, {\n    key: \"_flyDownInitial\",\n    value: function _flyDownInitial(hasTerms) {\n      this.showFlyDown = false;\n      var hasNoResults = this.$searchResults.find('[data-live-search-no-products]').length === 0;\n      var hasPreviousResults = this.$searchResults.children().length > 0;\n\n      if (hasTerms && hasNoResults && hasPreviousResults) {\n        this.$searchResults.addClass('visible');\n        this.$quickLinks.removeClass('visible');\n        this.showFlyDown = true;\n      } else if (this.$quickLinks.length) {\n        this.$searchResults.removeClass('visible');\n        this.$quickLinks.addClass('visible');\n        this.showFlyDown = true;\n      }\n    }\n  }, {\n    key: \"_search\",\n    value: function _search(event) {\n      // Ignore non character key strokes\n      var invalidKeyStrokes = ['Alt', 'ArrowRight', 'ArrowLeft', 'ArrowUp', 'ArrowDown', 'Capslock', 'Control', 'Escape', 'Meta', 'Shift', 'Tab', 'Enter'];\n\n      if (event.key && invalidKeyStrokes.indexOf(event.key) !== -1) {\n        return;\n      }\n\n      var terms = this.$input.val();\n      var hasTerms = terms.length > 0;\n\n      if (!hasTerms) {\n        if (!this.takeOverActive) {\n          this._flyDownInitial(true);\n        }\n\n        if (!this.showFlyDown) {\n          this._closeFlyDown(true);\n        }\n\n        return;\n      }\n\n      this._flyDownSearching(); // Clear previous results\n\n\n      this.$searchResults.html(''); // If terms has length, this will be true\n\n      this._toggleButton(hasTerms); // Show the flyout if it isn't open\n\n\n      if (!this.$flyDown.data('is-open')) {\n        this.showFlyDown = true;\n\n        this._openFlyDown();\n      } // Adds `*` after each word in search terms, doesn't add to last word\n\n\n      if (terms.indexOf(' ') > 0) {\n        terms = terms.split(' ').join('* ').trim();\n      } // Adds `*` at the end of the search terms\n\n\n      terms = \"\".concat(terms, \"*\");\n      this.search.execute(terms);\n    }\n  }, {\n    key: \"_searchError\",\n    value: function _searchError(response) {\n      console.warn('Search had error');\n      console.log(response.message, response.error, response.event);\n\n      this._toggleButton(false);\n    }\n    /**\n     * Search has been cancelled due to new search being performed\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_searchCancelled\",\n    value: function _searchCancelled() {// Searches are canceled on user interaction, UI should remain unchanged\n    }\n  }, {\n    key: \"_searchComplete\",\n    value: function _searchComplete(response) {\n      var _this2 = this;\n\n      var content = response.content,\n          products = response.products,\n          terms = response.terms,\n          sanitizedTerms = response.sanitizedTerms;\n      content = content.slice(0, MAX_RESULTS), products = products.slice(0, MAX_RESULTS);\n      var settings = {\n        products: {\n          results: {\n            products: products,\n            enableImages: this.enableImages\n          },\n          noResults: {\n            context: this.settings.context,\n            terms: sanitizedTerms\n          }\n        },\n        content: {\n          results: {\n            context: this.settings.context,\n            content: content\n          },\n          noResults: {\n            context: this.settings.context\n          }\n        },\n        footer: {\n          context: this.settings.context,\n          terms: terms,\n          type: this.searchType\n        }\n      };\n      var $productResults = products.length ? Object(_LiveSearchTemplates__WEBPACK_IMPORTED_MODULE_4__[\"ProductResults\"])(settings.products.results) : Object(_LiveSearchTemplates__WEBPACK_IMPORTED_MODULE_4__[\"ProductNoResults\"])(settings.products.noResults);\n      var $contentResults = content.length ? Object(_LiveSearchTemplates__WEBPACK_IMPORTED_MODULE_4__[\"ContentResults\"])(settings.content.results) : Object(_LiveSearchTemplates__WEBPACK_IMPORTED_MODULE_4__[\"ContentNoResults\"])(settings.content.noResults);\n      $productResults.find('.money').each(function (i, el) {\n        el.innerHTML = Shopify.formatMoney(el.innerHTML, _this2.settings.money_format);\n      }); // Hide placeholder\n      // TODO: Lock minimum height?\n\n      this.$searchPlaceholder.removeClass('visible'); // Show results\n\n      this.$searchResults.html($productResults).addClass('visible');\n\n      if (this.contentTypes !== 'product') {\n        this.$searchResults.append($contentResults);\n      }\n\n      this.$searchResults.append(Object(_LiveSearchTemplates__WEBPACK_IMPORTED_MODULE_4__[\"ResultsFooter\"])(settings.footer));\n\n      this._toggleButton(false);\n    }\n    /**\n     * Toggles search button while processing\n     *\n     * @param disable\n     * @private\n     */\n\n  }, {\n    key: \"_toggleButton\",\n    value: function _toggleButton(disable) {\n      if (disable) {\n        this.$button.addClass('search-icon--processing').attr('disabled');\n      } else {\n        this.$button.removeClass('search-icon--processing').removeAttr('disabled');\n      }\n    }\n  }, {\n    key: \"_searchFocused\",\n    value: function _searchFocused(e) {\n      e.stopPropagation();\n\n      if (this.flyDownActive) {\n        return;\n      }\n\n      var hasTerms = this.$input.val().length > 0; // Only listen for events outside of the search flydown when its open\n\n      this.closeEvents = [this.$document.on('focusin.live-search', this._documentFocus), this.$document.on('touchstart.live-search', this._documentFocus), this.$document.on('click.live-search', this._documentFocus)];\n      this.$el.addClass('live-search--focused');\n\n      this._flyDownInitial(hasTerms);\n\n      this._openFlyDown();\n    }\n  }, {\n    key: \"_openFlyDown\",\n    value: function _openFlyDown() {\n      if (!this.showFlyDown) {\n        return;\n      }\n\n      window.addEventListener('keydown', this._closeEsc);\n      this.$el.addClass('live-search--active');\n      this.$flyDown.data('is-open', true);\n      this.flyDownActive = true;\n    }\n    /**\n     * Close the FlyDown when no longer needed\n     *  - Keep focus styling if input is still being interacted with\n     *\n     * @param retainFocus\n     * @private\n     */\n\n  }, {\n    key: \"_closeFlyDown\",\n    value: function _closeFlyDown() {\n      var retainFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!this.flyDownActive) {\n        if (!retainFocus) {\n          this.$el.removeClass('live-search--focused');\n        }\n\n        return;\n      }\n\n      if (this.takeOverActive) {\n        this._toggleTakeOver(null, false);\n      }\n\n      this.$flyDown.data('is-open', false);\n      this.$el.removeClass('live-search--active');\n\n      if (!retainFocus) {\n        this.$el.removeClass('live-search--focused');\n      }\n\n      this.flyDownActive = false;\n\n      if (this.closeEvents && this.closeEvents.length) {\n        this.closeEvents.forEach(function ($el) {\n          $el.off('.live-search');\n        });\n      }\n\n      window.removeEventListener('keydown', this._closeEsc);\n      this.closeEvents = [];\n    }\n    /**\n     * Open or close the Take over for mobile\n     *\n     *\n     * @param event\n     * @param enable\n     * @private\n     */\n\n  }, {\n    key: \"_toggleTakeOver\",\n    value: function _toggleTakeOver() {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var enable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.takeOverActive = enable;\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      if (!enable) {\n        this._closeFlyDown(false);\n      }\n\n      if (this.$header.hasClass('search--section')) {\n        this.$body.toggleClass('search-takeover-active', enable);\n      }\n\n      this.$el.toggleClass('live-search--takeover', enable);\n      this.$body.toggleClass('scroll-lock', enable);\n    }\n  }, {\n    key: \"openMobileTakeover\",\n    value: function openMobileTakeover() {\n      this._toggleTakeOver(null, true);\n\n      window.addEventListener('keydown', this._closeEsc);\n      this.$input.focus();\n    }\n    /**\n     * When the focus element has changed, either by clicking, touching, or tabbing\n     * check to see if it is within the flydown\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_documentFocus\",\n    value: function _documentFocus(event) {\n      var $parent = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.target).parents('[data-live-search]');\n\n      if ($parent.length) {\n        return;\n      }\n\n      this._closeFlyDown();\n    }\n  }]);\n\n  return LiveSearch;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL3NlYXJjaC9MaXZlU2VhcmNoLmpzP2IwOTUiXSwibmFtZXMiOlsiTUFYX1JFU1VMVFMiLCJMaXZlU2VhcmNoIiwiZWxzIiwic2V0dGluZ3MiLCIkZWwiLCIkIiwiZWwiLCIkYm9keSIsIiRoZWFkZXIiLCJoZWFkZXIiLCIkZG9jdW1lbnQiLCJkb2N1bWVudCIsImZvcm1PcHRpb25zIiwibGl2ZVNlYXJjaCIsImNvbnRlbnRUeXBlcyIsImNvbnRlbnRfdHlwZXMiLCJlbmFibGVJbWFnZXMiLCJmbHlEb3duQWN0aXZlIiwidGFrZU92ZXJBY3RpdmUiLCJzaG93Rmx5RG93biIsInNlYXJjaE9wZW5DbGFzcyIsIiRmb3JtIiwiZmluZCIsIiRpbnB1dCIsIiRidXR0b24iLCIkdGFrZU92ZXJDYW5jZWwiLCIkZmx5RG93biIsIiRzZWFyY2hSZXN1bHRzIiwiJHNlYXJjaFBsYWNlaG9sZGVyIiwiJHF1aWNrTGlua3MiLCJzdGF0aWNTZWFyY2giLCJTZWFyY2hGb3JtIiwic2VhcmNoIiwiU2VhcmNoIiwidmlldyIsInR5cGUiLCJfc2VhcmNoIiwiYmluZCIsIl90b2dnbGVUYWtlT3ZlciIsIl9zZWFyY2hGb2N1c2VkIiwiX2RvY3VtZW50Rm9jdXMiLCJfc2VhcmNoQ2FuY2VsbGVkIiwiX3NlYXJjaENvbXBsZXRlIiwiX3NlYXJjaEVycm9yIiwib24iLCJfY2xvc2VFc2MiLCJlIiwia2V5Iiwic3RvcFByb3BhZ2F0aW9uIiwiZm9jdXMiLCJfY2xvc2VGbHlEb3duIiwiZXZlbnRzIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN1Ym1pdCIsImRlYm91bmNlIiwiZm9yRWFjaCIsIm9mZiIsInVubG9hZCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJoYXNUZXJtcyIsImhhc05vUmVzdWx0cyIsImxlbmd0aCIsImhhc1ByZXZpb3VzUmVzdWx0cyIsImNoaWxkcmVuIiwiaW52YWxpZEtleVN0cm9rZXMiLCJpbmRleE9mIiwidGVybXMiLCJ2YWwiLCJfZmx5RG93bkluaXRpYWwiLCJfZmx5RG93blNlYXJjaGluZyIsImh0bWwiLCJfdG9nZ2xlQnV0dG9uIiwiZGF0YSIsIl9vcGVuRmx5RG93biIsInNwbGl0Iiwiam9pbiIsInRyaW0iLCJleGVjdXRlIiwicmVzcG9uc2UiLCJjb25zb2xlIiwid2FybiIsImxvZyIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnRlbnQiLCJwcm9kdWN0cyIsInNhbml0aXplZFRlcm1zIiwic2xpY2UiLCJyZXN1bHRzIiwibm9SZXN1bHRzIiwiY29udGV4dCIsImZvb3RlciIsInNlYXJjaFR5cGUiLCIkcHJvZHVjdFJlc3VsdHMiLCJQcm9kdWN0UmVzdWx0cyIsIlByb2R1Y3ROb1Jlc3VsdHMiLCIkY29udGVudFJlc3VsdHMiLCJDb250ZW50UmVzdWx0cyIsIkNvbnRlbnROb1Jlc3VsdHMiLCJlYWNoIiwiaSIsImlubmVySFRNTCIsIlNob3BpZnkiLCJmb3JtYXRNb25leSIsIm1vbmV5X2Zvcm1hdCIsImFwcGVuZCIsIlJlc3VsdHNGb290ZXIiLCJkaXNhYmxlIiwiYXR0ciIsInJlbW92ZUF0dHIiLCJjbG9zZUV2ZW50cyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXRhaW5Gb2N1cyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlbmFibGUiLCJoYXNDbGFzcyIsInRvZ2dsZUNsYXNzIiwiJHBhcmVudCIsInRhcmdldCIsInBhcmVudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFRQSxJQUFNQSxXQUFXLEdBQUcsQ0FBcEI7O0lBRXFCQyxVO0FBQ25CLHNCQUFZQyxHQUFaLEVBQWlCQyxRQUFqQixFQUEyQjtBQUFBOztBQUFBOztBQUN6QixTQUFLQyxHQUFMLEdBQVdDLDZDQUFDLENBQUNILEdBQUcsQ0FBQ0ksRUFBTCxDQUFaO0FBQ0EsU0FBS0MsS0FBTCxHQUFhRiw2Q0FBQyxDQUFDLE1BQUQsQ0FBZDtB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TCxDQUFhOEcsUUFBYixDQUFzQixpQkFBdEIsQ0FBSixFQUE4QztBQUM1QyxhQUFLL0csS0FBTCxDQUFXZ0gsV0FBWCxDQUF1Qix3QkFBdkIsRUFBaURGLE1BQWpEO0FBQ0Q7O0FBRUQsV0FBS2pILEdBQUwsQ0FBU21ILFdBQVQsQ0FBcUIsdUJBQXJCLEVBQThDRixNQUE5QztBQUNBLFdBQUs5RyxLQUFMLENBQVdnSCxXQUFYLENBQXVCLGFBQXZCLEVBQXNDRixNQUF0QztBQUNEOzs7eUNBRW9CO0FBQ25CLFdBQUsvRSxlQUFMLENBQXFCLElBQXJCLEVBQTJCLElBQTNCOztBQUVBMkUsWUFBTSxDQUFDQyxnQkFBUCxDQUF3QixTQUF4QixFQUFtQyxLQUFLckUsU0FBeEM7QUFFQSxXQUFLdEIsTUFBTCxDQUFZMEIsS0FBWjtBQUNEO0FBRUQ7Ozs7Ozs7Ozs7bUNBT2VHLEssRUFBTztBQUNwQixVQUFNb0UsT0FBTyxHQUFHbkgsNkNBQUMsQ0FBQytDLEtBQUssQ0FBQ3FFLE1BQVAsQ0FBRCxDQUFnQkMsT0FBaEIsQ0FBd0Isb0JBQXhCLENBQWhCOztBQUVBLFVBQUlGLE9BQU8sQ0FBQ3pELE1BQVosRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxXQUFLYixhQUFMO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL3NlYXJjaC9MaXZlU2VhcmNoLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdqdXN0LWRlYm91bmNlJztcblxuaW1wb3J0IFNlYXJjaCBmcm9tICcuLi8uLi9TZWFyY2gnO1xuaW1wb3J0IFNlYXJjaEZvcm0gZnJvbSAnLi9TZWFyY2hGb3JtJztcblxuaW1wb3J0IHtcbiAgQ29udGVudFJlc3VsdHMsXG4gIENvbnRlbnROb1Jlc3VsdHMsXG4gIFByb2R1Y3RSZXN1bHRzLFxuICBQcm9kdWN0Tm9SZXN1bHRzLFxuICBSZXN1bHRzRm9vdGVyLFxufSBmcm9tICcuL0xpdmVTZWFyY2hUZW1wbGF0ZXMnO1xuXG5jb25zdCBNQVhfUkVTVUxUUyA9IDU7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpdmVTZWFyY2gge1xuICBjb25zdHJ1Y3RvcihlbHMsIHNldHRpbmdzKSB7XG4gICAgdGhpcy4kZWwgPSAkKGVscy5lbCk7XG4gICAgdGhpcy4kYm9keSA9ICQoJ2JvZHknKTtcbiAgICB0aGlzLiRoZWFkZXIgPSAkKGVscy5oZWFkZXIpO1xuICAgIHRoaXMuJGRvY3VtZW50ID0gJChkb2N1bWVudCk7XG5cbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5mb3JtT3B0aW9ucyA9IHsgbGl2ZVNlYXJjaDogdHJ1ZSB9O1xuICAgIHRoaXMuY29udGVudFR5cGVzID0gdGhpcy5zZXR0aW5ncy5jb250ZW50X3R5cGVzO1xuICAgIHRoaXMuZW5hYmxlSW1hZ2VzID0gdHJ1ZTtcbiAgICB0aGlzLmZseURvd25BY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnRha2VPdmVyQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5zaG93Rmx5RG93biA9IGZhbHNlO1xuXG4gICAgdGhpcy5zZWFyY2hPcGVuQ2xhc3MgPSAnc2l0ZS1oZWFkZXItc2VhcmNoLS1vcGVuJztcblxuICAgIHRoaXMuJGZvcm0gPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1saXZlLXNlYXJjaC1mb3JtXScpO1xuICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kZm9ybS5maW5kKCdbZGF0YS1saXZlLXNlYXJjaC1pbnB1dF0nKTtcbiAgICB0aGlzLiRidXR0b24gPSB0aGlzLiRmb3JtLmZpbmQoJ1tkYXRhLWxpdmUtc2VhcmNoLXN1Ym1pdF0nKTtcbiAgICB0aGlzLiR0YWtlT3ZlckNhbmNlbCA9IHRoaXMuJGZvcm0uZmluZCgnW2RhdGEtbGl2ZS1zZWFyY2gtdGFrZW92ZXItY2FuY2VsXScpO1xuXG4gICAgdGhpcy4kZmx5RG93biA9IHRoaXMuJGVsLmZpbmQoJ1tkYXRhLWxpdmUtc2VhcmNoLWZseWRvd25dJyk7XG4gICAgdGhpcy4kc2VhcmNoUmVzdWx0cyA9IHRoaXMuJGZseURvd24uZmluZCgnW2RhdGEtbGl2ZS1zZWFyY2gtcmVzdWx0c10nKTtcbiAgICB0aGlzLiRzZWFyY2hQbGFjZWhvbGRlciA9IHRoaXMuJGZseURvd24uZmluZCgnW2RhdGEtbGl2ZS1zZWFyY2gtcGxhY2Vob2xkZXJdJyk7XG4gICAgdGhpcy4kcXVpY2tMaW5rcyA9IHRoaXMuJGZseURvd24uZmluZCgnW2RhdGEtbGl2ZS1zZWFyY2gtcXVpY2stbGlua3NdJyk7XG5cbiAgICB0aGlzLnN0YXRpY1NlYXJjaCA9IG5ldyBTZWFyY2hGb3JtKHRoaXMuJGVsLCB0aGlzLmZvcm1PcHRpb25zKTtcblxuICAgIHRoaXMuc2VhcmNoID0gbmV3IFNlYXJjaCh7XG4gICAgICB2aWV3OiAnaGVhZGVyJyxcbiAgICAgIHR5cGU6IHRoaXMuY29udGVudFR5cGVzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fc2VhcmNoID0gdGhpcy5fc2VhcmNoLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fdG9nZ2xlVGFrZU92ZXIgPSB0aGlzLl90b2dnbGVUYWtlT3Zlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3NlYXJjaEZvY3VzZWQgPSB0aGlzLl9zZWFyY2hGb2N1c2VkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZG9jdW1lbnRGb2N1cyA9IHRoaXMuX2RvY3VtZW50Rm9jdXMuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX3NlYXJjaENhbmNlbGxlZCA9IHRoaXMuX3NlYXJjaENhbmNlbGxlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3NlYXJjaENvbXBsZXRlID0gdGhpcy5fc2VhcmNoQ29tcGxldGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9zZWFyY2hFcnJvciA9IHRoaXMuX3NlYXJjaEVycm9yLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnNlYXJjaC5vbignY2FuY2VsbGVkJywgdGhpcy5fc2VhcmNoQ2FuY2VsbGVkKTtcbiAgICB0aGlzLnNlYXJjaC5vbignY29tcGxldGUnLCB0aGlzLl9zZWFyY2hDb21wbGV0ZSk7XG4gICAgdGhpcy5zZWFyY2gub24oJ2Vycm9yJywgdGhpcy5fc2VhcmNoRXJyb3IpO1xuXG4gICAgdGhpcy5fY2xvc2VFc2MgPSBlID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy4kaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgdGhpcy5fY2xvc2VGbHlEb3duKHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmV2ZW50cyA9IFtcbiAgICAgIHRoaXMuJGJ1dHRvbi5vbignY2xpY2subGl2ZS1zZWFyY2gnLCBldmVudCA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuJGZvcm0uc3VibWl0KCk7XG4gICAgICB9KSxcbiAgICAgIHRoaXMuJGlucHV0Lm9uKCdrZXl1cC5saXZlLXNlYXJjaCcsIGRlYm91bmNlKHRoaXMuX3NlYXJjaCwgMjUwKSksXG4gICAgICB0aGlzLiRpbnB1dC5vbignZm9jdXMubGl2ZS1zZWFyY2gnLCB0aGlzLl9zZWFyY2hGb2N1c2VkKSxcbiAgICAgIHRoaXMuJHRha2VPdmVyQ2FuY2VsLm9uKCdjbGljay5saXZlLXNlYXJjaCcsIHRoaXMuX3RvZ2dsZVRha2VPdmVyKSxcbiAgICBdO1xuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuZXZlbnRzLmZvckVhY2goJGVsID0+ICRlbC5vZmYoJy5saXZlLXNlYXJjaCcpKTtcblxuICAgIHRoaXMuc2VhcmNoLm9mZignY2FuY2VsbGVkJywgdGhpcy5fc2VhcmNoQ2FuY2VsbGVkKTtcbiAgICB0aGlzLnNlYXJjaC5vZmYoJ2NvbXBsZXRlJywgdGhpcy5fc2VhcmNoQ29tcGxldGUpO1xuICAgIHRoaXMuc2VhcmNoLm9mZignZXJyb3InLCB0aGlzLl9zZWFyY2hFcnJvcik7XG5cbiAgICB0aGlzLnN0YXRpY1NlYXJjaC51bmxvYWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBpcyBzZWFyY2hpbmcsIG9ubHkgc2hvdyBwbGFjZWhvbGRlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZseURvd25TZWFyY2hpbmcoKSB7XG4gICAgdGhpcy4kc2VhcmNoUmVzdWx0cy5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgIHRoaXMuJHF1aWNrTGlua3MucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcblxuICAgIHRoaXMuJHNlYXJjaFBsYWNlaG9sZGVyLmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIGZpZWxkIGhhcyBiZWVuIGZvY3VzZWQsIG9yIGhhcyBiZWVuIGNsZWFyZWQgb2YgY29udGVudHNcbiAgICogICAtIElmIHByZXZpb3VzIHNlYXJjaCBjb250ZW50cywgc2hvd1xuICAgKiAgIC0gSWYgbm8gcHJldmlvdXMgc2VhcmNoIGNvbnRlbnRzLCBzaG93IHF1aWNrbGlua3MgaWYgZXhpc3RzXG4gICAqXG4gICAqIEBwYXJhbSBoYXNUZXJtc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZseURvd25Jbml0aWFsKGhhc1Rlcm1zKSB7XG4gICAgdGhpcy5zaG93Rmx5RG93biA9IGZhbHNlO1xuXG4gICAgY29uc3QgaGFzTm9SZXN1bHRzID0gdGhpcy4kc2VhcmNoUmVzdWx0cy5maW5kKCdbZGF0YS1saXZlLXNlYXJjaC1uby1wcm9kdWN0c10nKS5sZW5ndGggPT09IDA7XG4gICAgY29uc3QgaGFzUHJldmlvdXNSZXN1bHRzID0gdGhpcy4kc2VhcmNoUmVzdWx0cy5jaGlsZHJlbigpLmxlbmd0aCA+IDA7XG5cbiAgICBpZiAoaGFzVGVybXMgJiYgaGFzTm9SZXN1bHRzICYmIGhhc1ByZXZpb3VzUmVzdWx0cykge1xuICAgICAgdGhpcy4kc2VhcmNoUmVzdWx0cy5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgdGhpcy4kcXVpY2tMaW5rcy5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgICAgdGhpcy5zaG93Rmx5RG93biA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLiRxdWlja0xpbmtzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kc2VhcmNoUmVzdWx0cy5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgICAgdGhpcy4kcXVpY2tMaW5rcy5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgdGhpcy5zaG93Rmx5RG93biA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgX3NlYXJjaChldmVudCkge1xuICAgIC8vIElnbm9yZSBub24gY2hhcmFjdGVyIGtleSBzdHJva2VzXG4gICAgY29uc3QgaW52YWxpZEtleVN0cm9rZXMgPSBbXG4gICAgICAnQWx0JyxcbiAgICAgICdBcnJvd1JpZ2h0JyxcbiAgICAgICdBcnJvd0xlZnQnLFxuICAgICAgJ0Fycm93VXAnLFxuICAgICAgJ0Fycm93RG93bicsXG4gICAgICAnQ2Fwc2xvY2snLFxuICAgICAgJ0NvbnRyb2wnLFxuICAgICAgJ0VzY2FwZScsXG4gICAgICAnTWV0YScsXG4gICAgICAnU2hpZnQnLFxuICAgICAgJ1RhYicsXG4gICAgICAnRW50ZXInLFxuICAgIF07XG5cbiAgICBpZiAoZXZlbnQua2V5ICYmIGludmFsaWRLZXlTdHJva2VzLmluZGV4T2YoZXZlbnQua2V5KSAhPT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdGVybXMgPSB0aGlzLiRpbnB1dC52YWwoKTtcbiAgICBjb25zdCBoYXNUZXJtcyA9IHRlcm1zLmxlbmd0aCA+IDA7XG5cbiAgICBpZiAoIWhhc1Rlcm1zKSB7XG4gICAgICBpZiAoIXRoaXMudGFrZU92ZXJBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5fZmx5RG93bkluaXRpYWwodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5zaG93Rmx5RG93bikge1xuICAgICAgICB0aGlzLl9jbG9zZUZseURvd24odHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9mbHlEb3duU2VhcmNoaW5nKCk7XG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyByZXN1bHRzXG4gICAgdGhpcy4kc2VhcmNoUmVzdWx0cy5odG1sKCcnKTtcblxuICAgIC8vIElmIHRlcm1zIGhhcyBsZW5ndGgsIHRoaXMgd2lsbCBiZSB0cnVlXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKGhhc1Rlcm1zKTtcblxuICAgIC8vIFNob3cgdGhlIGZseW91dCBpZiBpdCBpc24ndCBvcGVuXG4gICAgaWYgKCF0aGlzLiRmbHlEb3duLmRhdGEoJ2lzLW9wZW4nKSkge1xuICAgICAgdGhpcy5zaG93Rmx5RG93biA9IHRydWU7XG4gICAgICB0aGlzLl9vcGVuRmx5RG93bigpO1xuICAgIH1cblxuICAgIC8vIEFkZHMgYCpgIGFmdGVyIGVhY2ggd29yZCBpbiBzZWFyY2ggdGVybXMsIGRvZXNuJ3QgYWRkIHRvIGxhc3Qgd29yZFxuICAgIGlmICh0ZXJtcy5pbmRleE9mKCcgJykgPiAwKSB7XG4gICAgICB0ZXJtcyA9IHRlcm1zLnNwbGl0KCcgJykuam9pbignKiAnKS50cmltKCk7XG4gICAgfVxuXG4gICAgLy8gQWRkcyBgKmAgYXQgdGhlIGVuZCBvZiB0aGUgc2VhcmNoIHRlcm1zXG4gICAgdGVybXMgPSBgJHt0ZXJtc30qYDtcblxuICAgIHRoaXMuc2VhcmNoLmV4ZWN1dGUodGVybXMpO1xuICB9XG5cbiAgX3NlYXJjaEVycm9yKHJlc3BvbnNlKSB7XG4gICAgY29uc29sZS53YXJuKCdTZWFyY2ggaGFkIGVycm9yJyk7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UubWVzc2FnZSwgcmVzcG9uc2UuZXJyb3IsIHJlc3BvbnNlLmV2ZW50KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b24oZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBoYXMgYmVlbiBjYW5jZWxsZWQgZHVlIHRvIG5ldyBzZWFyY2ggYmVpbmcgcGVyZm9ybWVkXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2VhcmNoQ2FuY2VsbGVkKCkge1xuICAgIC8vIFNlYXJjaGVzIGFyZSBjYW5jZWxlZCBvbiB1c2VyIGludGVyYWN0aW9uLCBVSSBzaG91bGQgcmVtYWluIHVuY2hhbmdlZFxuICB9XG5cbiAgX3NlYXJjaENvbXBsZXRlKHJlc3BvbnNlKSB7XG4gICAgbGV0IHsgY29udGVudCwgcHJvZHVjdHMsIHRlcm1zLCBzYW5pdGl6ZWRUZXJtcyB9ID0gcmVzcG9uc2U7XG5cbiAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgwLCBNQVhfUkVTVUxUUyksXG4gICAgcHJvZHVjdHMgPSBwcm9kdWN0cy5zbGljZSgwLCBNQVhfUkVTVUxUUyk7XG5cbiAgICBjb25zdCBzZXR0aW5ncyA9IHtcbiAgICAgIHByb2R1Y3RzOiB7XG4gICAgICAgIHJlc3VsdHM6IHtcbiAgICAgICAgICBwcm9kdWN0cyxcbiAgICAgICAgICBlbmFibGVJbWFnZXM6IHRoaXMuZW5hYmxlSW1hZ2VzLFxuICAgICAgICB9LFxuICAgICAgICBub1Jlc3VsdHM6IHtcbiAgICAgICAgICBjb250ZXh0OiB0aGlzLnNldHRpbmdzLmNvbnRleHQsXG4gICAgICAgICAgdGVybXM6IHNhbml0aXplZFRlcm1zLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgcmVzdWx0czoge1xuICAgICAgICAgIGNvbnRleHQ6IHRoaXMuc2V0dGluZ3MuY29udGV4dCxcbiAgICAgICAgICBjb250ZW50LFxuICAgICAgICB9LFxuICAgICAgICBub1Jlc3VsdHM6IHtcbiAgICAgICAgICBjb250ZXh0OiB0aGlzLnNldHRpbmdzLmNvbnRleHQsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZm9vdGVyOiB7XG4gICAgICAgIGNvbnRleHQ6IHRoaXMuc2V0dGluZ3MuY29udGV4dCxcbiAgICAgICAgdGVybXMsXG4gICAgICAgIHR5cGU6IHRoaXMuc2VhcmNoVHlwZSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0ICRwcm9kdWN0UmVzdWx0cyA9IHByb2R1Y3RzLmxlbmd0aFxuICAgICAgPyBQcm9kdWN0UmVzdWx0cyhzZXR0aW5ncy5wcm9kdWN0cy5yZXN1bHRzKVxuICAgICAgOiBQcm9kdWN0Tm9SZXN1bHRzKHNldHRpbmdzLnByb2R1Y3RzLm5vUmVzdWx0cyk7XG5cbiAgICBjb25zdCAkY29udGVudFJlc3VsdHMgPSBjb250ZW50Lmxlbmd0aFxuICAgICAgPyBDb250ZW50UmVzdWx0cyhzZXR0aW5ncy5jb250ZW50LnJlc3VsdHMpXG4gICAgICA6IENvbnRlbnROb1Jlc3VsdHMoc2V0dGluZ3MuY29udGVudC5ub1Jlc3VsdHMpO1xuXG4gICAgJHByb2R1Y3RSZXN1bHRzLmZpbmQoJy5tb25leScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICBlbC5pbm5lckhUTUwgPSBTaG9waWZ5LmZvcm1hdE1vbmV5KGVsLmlubmVySFRNTCwgdGhpcy5zZXR0aW5ncy5tb25leV9mb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSGlkZSBwbGFjZWhvbGRlclxuICAgIC8vIFRPRE86IExvY2sgbWluaW11bSBoZWlnaHQ/XG4gICAgdGhpcy4kc2VhcmNoUGxhY2Vob2xkZXIucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcblxuICAgIC8vIFNob3cgcmVzdWx0c1xuICAgIHRoaXMuJHNlYXJjaFJlc3VsdHNcbiAgICAgIC5odG1sKCRwcm9kdWN0UmVzdWx0cylcbiAgICAgIC5hZGRDbGFzcygndmlzaWJsZScpO1xuXG4gICAgaWYgKHRoaXMuY29udGVudFR5cGVzICE9PSAncHJvZHVjdCcpIHtcbiAgICAgIHRoaXMuJHNlYXJjaFJlc3VsdHNcbiAgICAgICAgLmFwcGVuZCgkY29udGVudFJlc3VsdHMpO1xuICAgIH1cblxuICAgIHRoaXMuJHNlYXJjaFJlc3VsdHNcbiAgICAgIC5hcHBlbmQoUmVzdWx0c0Zvb3RlcihzZXR0aW5ncy5mb290ZXIpKTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbihmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyBzZWFyY2ggYnV0dG9uIHdoaWxlIHByb2Nlc3NpbmdcbiAgICpcbiAgICogQHBhcmFtIGRpc2FibGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF90b2dnbGVCdXR0b24oZGlzYWJsZSkge1xuICAgIGlmIChkaXNhYmxlKSB7XG4gICAgICB0aGlzLiRidXR0b25cbiAgICAgICAgLmFkZENsYXNzKCdzZWFyY2gtaWNvbi0tcHJvY2Vzc2luZycpXG4gICAgICAgIC5hdHRyKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRidXR0b25cbiAgICAgICAgLnJlbW92ZUNsYXNzKCdzZWFyY2gtaWNvbi0tcHJvY2Vzc2luZycpXG4gICAgICAgIC5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIF9zZWFyY2hGb2N1c2VkKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKHRoaXMuZmx5RG93bkFjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc1Rlcm1zID0gdGhpcy4kaW5wdXQudmFsKCkubGVuZ3RoID4gMDtcblxuICAgIC8vIE9ubHkgbGlzdGVuIGZvciBldmVudHMgb3V0c2lkZSBvZiB0aGUgc2VhcmNoIGZseWRvd24gd2hlbiBpdHMgb3BlblxuICAgIHRoaXMuY2xvc2VFdmVudHMgPSBbXG4gICAgICB0aGlzLiRkb2N1bWVudC5vbignZm9jdXNpbi5saXZlLXNlYXJjaCcsIHRoaXMuX2RvY3VtZW50Rm9jdXMpLFxuICAgICAgdGhpcy4kZG9jdW1lbnQub24oJ3RvdWNoc3RhcnQubGl2ZS1zZWFyY2gnLCB0aGlzLl9kb2N1bWVudEZvY3VzKSxcbiAgICAgIHRoaXMuJGRvY3VtZW50Lm9uKCdjbGljay5saXZlLXNlYXJjaCcsIHRoaXMuX2RvY3VtZW50Rm9jdXMpLFxuICAgIF07XG5cbiAgICB0aGlzLiRlbC5hZGRDbGFzcygnbGl2ZS1zZWFyY2gtLWZvY3VzZWQnKTtcblxuICAgIHRoaXMuX2ZseURvd25Jbml0aWFsKGhhc1Rlcm1zKTtcblxuICAgIHRoaXMuX29wZW5GbHlEb3duKCk7XG4gIH1cblxuICBfb3BlbkZseURvd24oKSB7XG4gICAgaWYgKCF0aGlzLnNob3dGbHlEb3duKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbG9zZUVzYyk7XG5cbiAgICB0aGlzLiRlbC5hZGRDbGFzcygnbGl2ZS1zZWFyY2gtLWFjdGl2ZScpO1xuICAgIHRoaXMuJGZseURvd24uZGF0YSgnaXMtb3BlbicsIHRydWUpO1xuICAgIHRoaXMuZmx5RG93bkFjdGl2ZSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgdGhlIEZseURvd24gd2hlbiBubyBsb25nZXIgbmVlZGVkXG4gICAqICAtIEtlZXAgZm9jdXMgc3R5bGluZyBpZiBpbnB1dCBpcyBzdGlsbCBiZWluZyBpbnRlcmFjdGVkIHdpdGhcbiAgICpcbiAgICogQHBhcmFtIHJldGFpbkZvY3VzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2xvc2VGbHlEb3duKHJldGFpbkZvY3VzID0gZmFsc2UpIHtcbiAgICBpZiAoIXRoaXMuZmx5RG93bkFjdGl2ZSkge1xuICAgICAgaWYgKCFyZXRhaW5Gb2N1cykge1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnbGl2ZS1zZWFyY2gtLWZvY3VzZWQnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRha2VPdmVyQWN0aXZlKSB7XG4gICAgICB0aGlzLl90b2dnbGVUYWtlT3ZlcihudWxsLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdGhpcy4kZmx5RG93bi5kYXRhKCdpcy1vcGVuJywgZmFsc2UpO1xuICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdsaXZlLXNlYXJjaC0tYWN0aXZlJyk7XG5cbiAgICBpZiAoIXJldGFpbkZvY3VzKSB7XG4gICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnbGl2ZS1zZWFyY2gtLWZvY3VzZWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLmZseURvd25BY3RpdmUgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5jbG9zZUV2ZW50cyAmJiB0aGlzLmNsb3NlRXZlbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jbG9zZUV2ZW50cy5mb3JFYWNoKCRlbCA9PiB7XG4gICAgICAgICRlbC5vZmYoJy5saXZlLXNlYXJjaCcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbG9zZUVzYyk7XG5cbiAgICB0aGlzLmNsb3NlRXZlbnRzID0gW107XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBvciBjbG9zZSB0aGUgVGFrZSBvdmVyIGZvciBtb2JpbGVcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSBlbmFibGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF90b2dnbGVUYWtlT3ZlcihldmVudCA9IG51bGwsIGVuYWJsZSA9IGZhbHNlKSB7XG4gICAgdGhpcy50YWtlT3ZlckFjdGl2ZSA9IGVuYWJsZTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBpZiAoIWVuYWJsZSkge1xuICAgICAgdGhpcy5fY2xvc2VGbHlEb3duKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4kaGVhZGVyLmhhc0NsYXNzKCdzZWFyY2gtLXNlY3Rpb24nKSkge1xuICAgICAgdGhpcy4kYm9keS50b2dnbGVDbGFzcygnc2VhcmNoLXRha2VvdmVyLWFjdGl2ZScsIGVuYWJsZSk7XG4gICAgfVxuXG4gICAgdGhpcy4kZWwudG9nZ2xlQ2xhc3MoJ2xpdmUtc2VhcmNoLS10YWtlb3ZlcicsIGVuYWJsZSk7XG4gICAgdGhpcy4kYm9keS50b2dnbGVDbGFzcygnc2Nyb2xsLWxvY2snLCBlbmFibGUpO1xuICB9XG5cbiAgb3Blbk1vYmlsZVRha2VvdmVyKCkge1xuICAgIHRoaXMuX3RvZ2dsZVRha2VPdmVyKG51bGwsIHRydWUpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbG9zZUVzYyk7XG5cbiAgICB0aGlzLiRpbnB1dC5mb2N1cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGZvY3VzIGVsZW1lbnQgaGFzIGNoYW5nZWQsIGVpdGhlciBieSBjbGlja2luZywgdG91Y2hpbmcsIG9yIHRhYmJpbmdcbiAgICogY2hlY2sgdG8gc2VlIGlmIGl0IGlzIHdpdGhpbiB0aGUgZmx5ZG93blxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kb2N1bWVudEZvY3VzKGV2ZW50KSB7XG4gICAgY29uc3QgJHBhcmVudCA9ICQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCdbZGF0YS1saXZlLXNlYXJjaF0nKTtcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2Nsb3NlRmx5RG93bigpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/components/search/LiveSearch.js\n");

/***/ }),

/***/ "./source/scripts/components/search/LiveSearchTemplates.js":
/*!*****************************************************************!*\
  !*** ./source/scripts/components/search/LiveSearchTemplates.js ***!
  \*****************************************************************/
/*! exports provided: ContentResults, ContentNoResults, ProductResults, ProductNoResults, ResultsFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContentResults\", function() { return ContentResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContentNoResults\", function() { return ContentNoResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductResults\", function() { return ProductResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductNoResults\", function() { return ProductNoResults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResultsFooter\", function() { return ResultsFooter; });\n/**\n * Shows a list item component when result is an article, or a page\n *\n * @param contentItem\n * @returns {string}\n * @constructor\n */\nfunction ContentItem(contentItem) {\n  return \"\\n  <li class=\\\"search-flydown--content-item\\\">\\n    <a href=\\\"\".concat(contentItem.url, \"\\\">\").concat(contentItem.title, \"</a>\\n  </li>\\n  \");\n}\n/**\n * Shows a header for the article and page results\n *\n * @param context\n * @returns {string}\n * @constructor\n */\n\n\nfunction ContentResultsHeader(context) {\n  return \"\\n    <h5 class=\\\"search-flydown--content-title\\\">\\n      \".concat(context.content_results.title, \"\\n    </h5>\\n  \");\n}\n/**\n * Shows a list of results from articles, or pages\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\n\n\nfunction ContentResults(props) {\n  var content = props.content,\n      context = props.context;\n  var $title = ContentResultsHeader(context);\n  var contentItems = content.map(function (contentItem) {\n    return ContentItem(contentItem);\n  });\n  return $(\"\\n    <div class=\\\"search-flydown--content-items\\\">\\n      \".concat($title, \"\\n      <ul class=\\\"search-flydown--content-items-list\\\">\\n        \").concat(contentItems.join(''), \"\\n      </ul>\\n    </div>\\n  \"));\n}\n/**\n * Shows a message when there are no article or page results\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\n\n\nfunction ContentNoResults(props) {\n  var context = props.context;\n  var $title = ContentResultsHeader(context);\n  return $(\"\\n    <div class=\\\"search-flydown--content-items\\\">\\n      \".concat($title, \"\\n      <p class=\\\"search-flydown--content-items-none\\\">\\n        \").concat(context.content_results.no_results, \"\\n      </p>\\n    </div>\\n  \"));\n}\n/**\n * Shows the product's compare_at_price\n *\n * @param price\n * @returns {string}\n * @constructor\n */\n\n\nfunction ProductPriceCompareAt(price) {\n  return \"\\n  <span class=\\\"search-flydown--product-price--compare-at\\\">\\n    <span class=\\\"money\\\">\".concat(price.compare_at_price, \"</span>\\n  </span>\\n  \");\n}\n/**\n * Shows the product's price\n *\n * @param price\n * @returns {string}\n * @constructor\n */\n\n\nfunction ProductPriceMain(price) {\n  return \"\\n  <span class=\\\"search-flydown--product-price--main\\\">\\n    <span class=\\\"money\\\">\".concat(price.price, \"</span>\\n  </span>\\n  \");\n}\n/**\n * Shows the product's prices\n *\n * @param props\n * @returns {string}\n * @constructor\n */\n\n\nfunction ProductPrice(props) {\n  var price = props.price,\n      onSale = props.onSale,\n      consistentSaved = props.consistentSaved;\n  var $compareAt = onSale && consistentSaved ? ProductPriceCompareAt(price) : '';\n  var $price = ProductPriceMain(price);\n  return \"\\n    <span class=\\\"search-flydown--product-price \".concat(onSale ? 'search-flydown--product-price-has-sale' : '', \"\\\">\\n      \").concat($price, \"\\n      \").concat($compareAt, \"\\n    </span>\\n  \");\n}\n/**\n * Shows text indicating the number of product colours\n *\n * @param swatches\n * @returns {string}\n * @constructor\n */\n\n\nfunction ProductSwatches(swatches) {\n  if (swatches.length === 0) {\n    return '';\n  }\n\n  return \"<span class=\\\"search-flydown--swatches\\\">\".concat(swatches, \"</span>\");\n}\n/**\n * Shows a product's main content\n *\n * @param product\n * @returns {string}\n * @constructor\n */\n\n\nfunction ProductContent(product) {\n  var $price = ProductPrice({\n    price: product.price,\n    onSale: product.on_sale,\n    consistentSaved: product.consistent_saved\n  });\n  var $swatches = ProductSwatches(product.swatches);\n  return \"\\n    <div class=\\\"search-flydown--product-text\\\">\\n      <span class=\\\"search-flydown--product-title\\\">\\n        \".concat(product.title, \"\\n      </span>\\n      \").concat($price, \"\\n      \").concat($swatches, \"\\n    </div>\\n  \");\n}\n/**\n * Shows a product's image\n *\n * @param image\n * @returns {string}\n * @constructor\n */\n\n\nfunction ProductImage(image) {\n  return \"\\n    <div class=\\\"search-flydown--product-image\\\">\\n      \".concat(image, \"\\n    </div>\\n  \");\n}\n/**\n * Shows a product list item component when result is a product\n *\n * @param product\n * @param enableImages\n * @returns {string}\n * @constructor\n */\n\n\nfunction ProductItem(product, enableImages) {\n  var $image = enableImages ? ProductImage(product.image) : '';\n  var $content = ProductContent(product);\n  return \"\\n    <a class=\\\"search-flydown--product search-flydown--product\\\" href=\\\"\".concat(product.url, \"\\\">\\n      \").concat($image, \"\\n      \").concat($content, \"\\n    </a>\\n  \");\n}\n/**\n * Shows a list of product results\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\n\n\nfunction ProductResults(props) {\n  var products = props.products,\n      enableImages = props.enableImages;\n  var productItems = products.map(function (product) {\n    return ProductItem(product, enableImages);\n  });\n  return $(\"\\n    <div class=\\\"search-flydown--product-items\\\">\\n      \".concat(productItems.join(''), \"\\n    </div>\\n  \"));\n}\n/**\n * Show a message when no product results are found\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\n\n\nfunction ProductNoResults(props) {\n  var context = props.context,\n      terms = props.terms;\n  return $(\"\\n    <div class=\\\"search-flydown--product-items--none\\\" data-live-search-no-products>\\n      <h5>\\n        \".concat(context.no_results_products.title.replace('*terms*', terms), \"\\n      </h5>\\n      <p>\\n        \").concat(context.no_results_products.message, \"\\n      </p>\\n      <p>\\n        <a class=\\\"search-flydown--continue\\\" href=\\\"\").concat(window.Theme.routes.all_products_collection_url, \"\\\">\\n          \").concat(context.view_all_products, \"\\n        </a>\\n      </p>\\n    </div>\\n  \"));\n}\n/**\n * Show's the Results footer, directing customers to all products\n *\n * @param props\n * @returns {jQuery|HTMLElement}\n * @constructor\n */\n\n\nfunction ResultsFooter(props) {\n  var context = props.context,\n      terms = props.terms,\n      type = props.type;\n  return $(\"\\n    <div class=\\\"search-flydown--footer\\\">\\n      <a class=\\\"search-flydown--continue\\\" href=\\\"\".concat(window.Theme.routes.search_url, \"?q=\").concat(terms, \"&type=\").concat(type, \"\\\">\\n        \").concat(context.view_all_results, \"\\n      </a>\\n    </div>\\n  \"));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL3NlYXJjaC9MaXZlU2VhcmNoVGVtcGxhdGVzLmpzPzI3NzkiXSwibmFtZXMiOlsiQ29udGVudEl0ZW0iLCJjb250ZW50SXRlbSIsInVybCIsInRpdGxlIiwiQ29udGVudFJlc3VsdHNIZWFkZXIiLCJjb250ZXh0IiwiY29udGVudF9yZXN1bHRzIiwiQ29udGVudFJlc3VsdHMiLCJwcm9wcyIsImNvbnRlbnQiLCIkdGl0bGUiLCJjb250ZW50SXRlbXMiLCJtYXAiLCIkIiwiam9pbiIsIkNvbnRlbnROb1Jlc3VsdHMiLCJub19yZXN1bHRzIiwiUHJvZHVjdFByaWNlQ29tcGFyZUF0IiwicHJpY2UiLCJjb21wYXJlX2F0X3ByaWNlIiwiUHJvZHVjdFByaWNlTWFpbiIsIlByb2R1Y3RQcmljZSIsIm9uU2FsZSIsImNvbnNpc3RlbnRTYXZlZCIsIiRjb21wYXJlQXQiLCIkcHJpY2UiLCJQcm9kdWN0U3dhdGNoZXMiLCJzd2F0Y2hlcyIsImxlbmd0aCIsIlByb2R1Y3RDb250ZW50IiwicHJvZHVjdCIsIm9uX3NhbGUiLCJjb25zaXN0ZW50X3NhdmVkIiwiJHN3YXRjaGVzIiwiUHJvZHVjdEltYWdlIiwiaW1hZ2UiLCJQcm9kdWN0SXRlbSIsImVuYWJsZUltYWdlcyIsIiRpbWFnZSIsIiRjb250ZW50IiwiUHJvZHVjdFJlc3VsdHMiLCJwcm9kdWN0cyIsInByb2R1Y3RJdGVtcyIsIlByb2R1Y3ROb1Jlc3VsdHMiLCJ0ZXJtcyIsIm5vX3Jlc3VsdHNfcHJvZHVjdHMiLCJyZXBsYWNlIiwibWVzc2FnZSIsIndpbmRvdyIsIlRoZW1lIiwicm91dGVzIiwiYWxsX3Byb2R1Y3RzX2NvbGxlY3Rpb25fdXJsIiwidmlld19hbGxfcHJvZHVjdHMiLCJSZXN1bHRzRm9vdGVyIiwidHlwZSIsInNlYXJjaF91cmwiLCJ2aWV3X2FsbF9yZXN1bHRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtB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QyxLQUFQLENBQWFDLE1BQWIsQ0FBb0JDLDJCQVQ5RCw0QkFVRTlDLE9BQU8sQ0FBQytDLGlCQVZWLGdEQUFSO0FBZUQ7QUFFRDs7Ozs7Ozs7O0FBT0EsU0FBU0MsYUFBVCxDQUF1QjdDLEtBQXZCLEVBQThCO0FBQUEsTUFDcEJILE9BRG9CLEdBQ0tHLEtBREwsQ0FDcEJILE9BRG9CO0FBQUEsTUFDWHVDLEtBRFcsR0FDS3BDLEtBREwsQ0FDWG9DLEtBRFc7QUFBQSxNQUNKVSxJQURJLEdBQ0s5QyxLQURMLENBQ0o4QyxJQURJO0FBRzVCLFNBQU96QyxDQUFDLDRHQUV3Q21DLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhQyxNQUFiLENBQW9CSyxVQUY1RCxnQkFFNEVYLEtBRjVFLG1CQUUwRlUsSUFGMUYsMEJBR0FqRCxPQUFPLENBQUNtRCxnQkFIUixrQ0FBUjtBQU9EIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvY29tcG9uZW50cy9zZWFyY2gvTGl2ZVNlYXJjaFRlbXBsYXRlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2hvd3MgYSBsaXN0IGl0ZW0gY29tcG9uZW50IHdoZW4gcmVzdWx0IGlzIGFuIGFydGljbGUsIG9yIGEgcGFnZVxuICpcbiAqIEBwYXJhbSBjb250ZW50SXRlbVxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBDb250ZW50SXRlbShjb250ZW50SXRlbSkge1xuICByZXR1cm4gYFxuICA8bGkgY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tY29udGVudC1pdGVtXCI+XG4gICAgPGEgaHJlZj1cIiR7Y29udGVudEl0ZW0udXJsfVwiPiR7Y29udGVudEl0ZW0udGl0bGV9PC9hPlxuICA8L2xpPlxuICBgO1xufVxuXG4vKipcbiAqIFNob3dzIGEgaGVhZGVyIGZvciB0aGUgYXJ0aWNsZSBhbmQgcGFnZSByZXN1bHRzXG4gKlxuICogQHBhcmFtIGNvbnRleHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQ29udGVudFJlc3VsdHNIZWFkZXIoY29udGV4dCkge1xuICByZXR1cm4gYFxuICAgIDxoNSBjbGFzcz1cInNlYXJjaC1mbHlkb3duLS1jb250ZW50LXRpdGxlXCI+XG4gICAgICAke2NvbnRleHQuY29udGVudF9yZXN1bHRzLnRpdGxlfVxuICAgIDwvaDU+XG4gIGA7XG59XG5cbi8qKlxuICogU2hvd3MgYSBsaXN0IG9mIHJlc3VsdHMgZnJvbSBhcnRpY2xlcywgb3IgcGFnZXNcbiAqXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEByZXR1cm5zIHtqUXVlcnl8SFRNTEVsZW1lbnR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQ29udGVudFJlc3VsdHMocHJvcHMpIHtcbiAgY29uc3QgeyBjb250ZW50LCBjb250ZXh0IH0gPSBwcm9wcztcbiAgY29uc3QgJHRpdGxlID0gQ29udGVudFJlc3VsdHNIZWFkZXIoY29udGV4dCk7XG4gIGNvbnN0IGNvbnRlbnRJdGVtcyA9IGNvbnRlbnQubWFwKGNvbnRlbnRJdGVtID0+IENvbnRlbnRJdGVtKGNvbnRlbnRJdGVtKSk7XG5cbiAgcmV0dXJuICQoYFxuICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tY29udGVudC1pdGVtc1wiPlxuICAgICAgJHskdGl0bGV9XG4gICAgICA8dWwgY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tY29udGVudC1pdGVtcy1saXN0XCI+XG4gICAgICAgICR7Y29udGVudEl0ZW1zLmpvaW4oJycpfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgYCk7XG59XG5cbi8qKlxuICogU2hvd3MgYSBtZXNzYWdlIHdoZW4gdGhlcmUgYXJlIG5vIGFydGljbGUgb3IgcGFnZSByZXN1bHRzXG4gKlxuICogQHBhcmFtIHByb3BzXG4gKiBAcmV0dXJucyB7alF1ZXJ5fEhUTUxFbGVtZW50fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIENvbnRlbnROb1Jlc3VsdHMocHJvcHMpIHtcbiAgY29uc3QgeyBjb250ZXh0IH0gPSBwcm9wcztcbiAgY29uc3QgJHRpdGxlID0gQ29udGVudFJlc3VsdHNIZWFkZXIoY29udGV4dCk7XG5cbiAgcmV0dXJuICQoYFxuICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tY29udGVudC1pdGVtc1wiPlxuICAgICAgJHskdGl0bGV9XG4gICAgICA8cCBjbGFzcz1cInNlYXJjaC1mbHlkb3duLS1jb250ZW50LWl0ZW1zLW5vbmVcIj5cbiAgICAgICAgJHtjb250ZXh0LmNvbnRlbnRfcmVzdWx0cy5ub19yZXN1bHRzfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICBgKTtcbn1cblxuLyoqXG4gKiBTaG93cyB0aGUgcHJvZHVjdCdzIGNvbXBhcmVfYXRfcHJpY2VcbiAqXG4gKiBAcGFyYW0gcHJpY2VcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUHJvZHVjdFByaWNlQ29tcGFyZUF0KHByaWNlKSB7XG4gIHJldHVybiBgXG4gIDxzcGFuIGNsYXNzPVwic2VhcmNoLWZseWRvd24tLXByb2R1Y3QtcHJpY2UtLWNvbXBhcmUtYXRcIj5cbiAgICA8c3BhbiBjbGFzcz1cIm1vbmV5XCI+JHtwcmljZS5jb21wYXJlX2F0X3ByaWNlfTwvc3Bhbj5cbiAgPC9zcGFuPlxuICBgO1xufVxuXG4vKipcbiAqIFNob3dzIHRoZSBwcm9kdWN0J3MgcHJpY2VcbiAqXG4gKiBAcGFyYW0gcHJpY2VcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUHJvZHVjdFByaWNlTWFpbihwcmljZSkge1xuICByZXR1cm4gYFxuICA8c3BhbiBjbGFzcz1cInNlYXJjaC1mbHlkb3duLS1wcm9kdWN0LXByaWNlLS1tYWluXCI+XG4gICAgPHNwYW4gY2xhc3M9XCJtb25leVwiPiR7cHJpY2UucHJpY2V9PC9zcGFuPlxuICA8L3NwYW4+XG4gIGA7XG59XG5cbi8qKlxuICogU2hvd3MgdGhlIHByb2R1Y3QncyBwcmljZXNcbiAqXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUHJvZHVjdFByaWNlKHByb3BzKSB7XG4gIGNvbnN0IHsgcHJpY2UsIG9uU2FsZSwgY29uc2lzdGVudFNhdmVkIH0gPSBwcm9wcztcbiAgY29uc3QgJGNvbXBhcmVBdCA9IG9uU2FsZSAmJiBjb25zaXN0ZW50U2F2ZWQgPyBQcm9kdWN0UHJpY2VDb21wYXJlQXQocHJpY2UpIDogJyc7XG4gIGNvbnN0ICRwcmljZSA9IFByb2R1Y3RQcmljZU1haW4ocHJpY2UpO1xuXG4gIHJldHVybiBgXG4gICAgPHNwYW4gY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tcHJvZHVjdC1wcmljZSAke29uU2FsZSA/ICdzZWFyY2gtZmx5ZG93bi0tcHJvZHVjdC1wcmljZS1oYXMtc2FsZScgOiAnJ31cIj5cbiAgICAgICR7JHByaWNlfVxuICAgICAgJHskY29tcGFyZUF0fVxuICAgIDwvc3Bhbj5cbiAgYDtcbn1cblxuLyoqXG4gKiBTaG93cyB0ZXh0IGluZGljYXRpbmcgdGhlIG51bWJlciBvZiBwcm9kdWN0IGNvbG91cnNcbiAqXG4gKiBAcGFyYW0gc3dhdGNoZXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUHJvZHVjdFN3YXRjaGVzKHN3YXRjaGVzKSB7XG4gIGlmIChzd2F0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZXR1cm4gYDxzcGFuIGNsYXNzPVwic2VhcmNoLWZseWRvd24tLXN3YXRjaGVzXCI+JHtzd2F0Y2hlc308L3NwYW4+YDtcbn1cblxuLyoqXG4gKiBTaG93cyBhIHByb2R1Y3QncyBtYWluIGNvbnRlbnRcbiAqXG4gKiBAcGFyYW0gcHJvZHVjdFxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQcm9kdWN0Q29udGVudChwcm9kdWN0KSB7XG4gIGNvbnN0ICRwcmljZSA9IFByb2R1Y3RQcmljZSh7XG4gICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsXG4gICAgb25TYWxlOiBwcm9kdWN0Lm9uX3NhbGUsXG4gICAgY29uc2lzdGVudFNhdmVkOiBwcm9kdWN0LmNvbnNpc3RlbnRfc2F2ZWQsXG4gIH0pO1xuICBjb25zdCAkc3dhdGNoZXMgPSBQcm9kdWN0U3dhdGNoZXMocHJvZHVjdC5zd2F0Y2hlcyk7XG5cbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwic2VhcmNoLWZseWRvd24tLXByb2R1Y3QtdGV4dFwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tcHJvZHVjdC10aXRsZVwiPlxuICAgICAgICAke3Byb2R1Y3QudGl0bGV9XG4gICAgICA8L3NwYW4+XG4gICAgICAkeyRwcmljZX1cbiAgICAgICR7JHN3YXRjaGVzfVxuICAgIDwvZGl2PlxuICBgO1xufVxuXG4vKipcbiAqIFNob3dzIGEgcHJvZHVjdCdzIGltYWdlXG4gKlxuICogQHBhcmFtIGltYWdlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFByb2R1Y3RJbWFnZShpbWFnZSkge1xuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tcHJvZHVjdC1pbWFnZVwiPlxuICAgICAgJHtpbWFnZX1cbiAgICA8L2Rpdj5cbiAgYDtcbn1cblxuLyoqXG4gKiBTaG93cyBhIHByb2R1Y3QgbGlzdCBpdGVtIGNvbXBvbmVudCB3aGVuIHJlc3VsdCBpcyBhIHByb2R1Y3RcbiAqXG4gKiBAcGFyYW0gcHJvZHVjdFxuICogQHBhcmFtIGVuYWJsZUltYWdlc1xuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQcm9kdWN0SXRlbShwcm9kdWN0LCBlbmFibGVJbWFnZXMpIHtcbiAgY29uc3QgJGltYWdlID0gZW5hYmxlSW1hZ2VzID8gUHJvZHVjdEltYWdlKHByb2R1Y3QuaW1hZ2UpIDogJyc7XG4gIGNvbnN0ICRjb250ZW50ID0gUHJvZHVjdENvbnRlbnQocHJvZHVjdCk7XG5cbiAgcmV0dXJuIGBcbiAgICA8YSBjbGFzcz1cInNlYXJjaC1mbHlkb3duLS1wcm9kdWN0IHNlYXJjaC1mbHlkb3duLS1wcm9kdWN0XCIgaHJlZj1cIiR7cHJvZHVjdC51cmx9XCI+XG4gICAgICAkeyRpbWFnZX1cbiAgICAgICR7JGNvbnRlbnR9XG4gICAgPC9hPlxuICBgO1xufVxuXG4vKipcbiAqIFNob3dzIGEgbGlzdCBvZiBwcm9kdWN0IHJlc3VsdHNcbiAqXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEByZXR1cm5zIHtqUXVlcnl8SFRNTEVsZW1lbnR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUHJvZHVjdFJlc3VsdHMocHJvcHMpIHtcbiAgY29uc3QgeyBwcm9kdWN0cywgZW5hYmxlSW1hZ2VzIH0gPSBwcm9wcztcbiAgY29uc3QgcHJvZHVjdEl0ZW1zID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4gUHJvZHVjdEl0ZW0ocHJvZHVjdCwgZW5hYmxlSW1hZ2VzKSk7XG5cbiAgcmV0dXJuICQoYFxuICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tcHJvZHVjdC1pdGVtc1wiPlxuICAgICAgJHtwcm9kdWN0SXRlbXMuam9pbignJyl9XG4gICAgPC9kaXY+XG4gIGApO1xufVxuXG4vKipcbiAqIFNob3cgYSBtZXNzYWdlIHdoZW4gbm8gcHJvZHVjdCByZXN1bHRzIGFyZSBmb3VuZFxuICpcbiAqIEBwYXJhbSBwcm9wc1xuICogQHJldHVybnMge2pRdWVyeXxIVE1MRWxlbWVudH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQcm9kdWN0Tm9SZXN1bHRzKHByb3BzKSB7XG4gIGNvbnN0IHsgY29udGV4dCwgdGVybXMgfSA9IHByb3BzO1xuXG4gIHJldHVybiAkKGBcbiAgICA8ZGl2IGNsYXNzPVwic2VhcmNoLWZseWRvd24tLXByb2R1Y3QtaXRlbXMtLW5vbmVcIiBkYXRhLWxpdmUtc2VhcmNoLW5vLXByb2R1Y3RzPlxuICAgICAgPGg1PlxuICAgICAgICAke2NvbnRleHQubm9fcmVzdWx0c19wcm9kdWN0cy50aXRsZS5yZXBsYWNlKCcqdGVybXMqJywgdGVybXMpfVxuICAgICAgPC9oNT5cbiAgICAgIDxwPlxuICAgICAgICAke2NvbnRleHQubm9fcmVzdWx0c19wcm9kdWN0cy5tZXNzYWdlfVxuICAgICAgPC9wPlxuICAgICAgPHA+XG4gICAgICAgIDxhIGNsYXNzPVwic2VhcmNoLWZseWRvd24tLWNvbnRpbnVlXCIgaHJlZj1cIiR7d2luZG93LlRoZW1lLnJvdXRlcy5hbGxfcHJvZHVjdHNfY29sbGVjdGlvbl91cmx9XCI+XG4gICAgICAgICAgJHtjb250ZXh0LnZpZXdfYWxsX3Byb2R1Y3RzfVxuICAgICAgICA8L2E+XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIGApO1xufVxuXG4vKipcbiAqIFNob3cncyB0aGUgUmVzdWx0cyBmb290ZXIsIGRpcmVjdGluZyBjdXN0b21lcnMgdG8gYWxsIHByb2R1Y3RzXG4gKlxuICogQHBhcmFtIHByb3BzXG4gKiBAcmV0dXJucyB7alF1ZXJ5fEhUTUxFbGVtZW50fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFJlc3VsdHNGb290ZXIocHJvcHMpIHtcbiAgY29uc3QgeyBjb250ZXh0LCB0ZXJtcywgdHlwZSB9ID0gcHJvcHM7XG5cbiAgcmV0dXJuICQoYFxuICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtZmx5ZG93bi0tZm9vdGVyXCI+XG4gICAgICA8YSBjbGFzcz1cInNlYXJjaC1mbHlkb3duLS1jb250aW51ZVwiIGhyZWY9XCIke3dpbmRvdy5UaGVtZS5yb3V0ZXMuc2VhcmNoX3VybH0/cT0ke3Rlcm1zfSZ0eXBlPSR7dHlwZX1cIj5cbiAgICAgICAgJHtjb250ZXh0LnZpZXdfYWxsX3Jlc3VsdHN9XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIGApO1xufVxuXG5leHBvcnQge1xuICBDb250ZW50UmVzdWx0cyxcbiAgQ29udGVudE5vUmVzdWx0cyxcbiAgUHJvZHVjdFJlc3VsdHMsXG4gIFByb2R1Y3ROb1Jlc3VsdHMsXG4gIFJlc3VsdHNGb290ZXIsXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/search/LiveSearchTemplates.js\n");

/***/ }),

/***/ "./source/scripts/components/search/SearchForm.js":
/*!********************************************************!*\
  !*** ./source/scripts/components/search/SearchForm.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SearchForm; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar SearchForm = /*#__PURE__*/function () {\n  function SearchForm(container) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, SearchForm);\n\n    this.$body = jquery__WEBPACK_IMPORTED_MODULE_0___default()('body');\n    this.$container = jquery__WEBPACK_IMPORTED_MODULE_0___default()(container);\n    this.$form = this.$container.find('[data-live-search-form]');\n    this.isLiveSearch = options.liveSearch ? options.liveSearch : false;\n    this.submitHandler = this.submitHandler.bind(this);\n    this.events = [this.$form.on('submit.search-form', this.submitHandler)];\n  }\n\n  _createClass(SearchForm, [{\n    key: \"unload\",\n    value: function unload() {\n      this.events.forEach(function ($el) {\n        return $el.off('.search-form');\n      });\n    }\n  }, {\n    key: \"submitHandler\",\n    value: function submitHandler(event) {\n      event.preventDefault();\n      var $form = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget).clone();\n      var $terms = $form.find('[name=q]');\n      $form.css({\n        position: 'absolute',\n        left: -1000,\n        bottom: -1000,\n        visibility: 'hidden'\n      });\n      var terms = $terms.val();\n\n      if (this.isLiveSearch && !terms) {\n        return;\n      } // Adds `*` after each word in search terms, doesn't add to last word\n\n\n      if (terms.indexOf(' ') > 0) {\n        terms = terms.split(' ').join('* ').trim();\n      } // Adds `*` at the end of the search terms\n\n\n      terms = \"\".concat(terms, \"*\"); // Update value\n\n      $terms.val(terms); // Forms must be in the browser context in order to submit\n\n      this.$body.append($form);\n      $form.submit();\n    }\n  }]);\n\n  return SearchForm;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL3NlYXJjaC9TZWFyY2hGb3JtLmpzPzM5MGQiXSwibmFtZXMiOlsiU2VhcmNoRm9ybSIsImNvbnRhaW5lciIsIm9wdGlvbnMiLCIkYm9keSIsIiQiLCIkY29udGFpbmVyIiwiJGZvcm0iLCJmaW5kIiwiaXNMaXZlU2VhcmNoIiwibGl2ZVNlYXJjaCIsInN1Ym1pdEhhbmRsZXIiLCJiaW5kIiwiZXZlbnRzIiwib24iLCJmb3JFYWNoIiwiJGVsIiwib2ZmIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRUYXJnZXQiLCJjbG9uZSIsIiR0ZXJtcyIsImNzcyIsInBvc2l0aW9uIiwibGVmdCIsImJvdHRvbSIsInZpc2liaWxpdHkiLCJ0ZXJtcyIsInZhbCIsImluZGV4T2YiLCJzcGxpdCIsImpvaW4iLCJ0cmltIiwiYXBwZW5kIiwic3VibWl0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7O0lBRXFCQSxVO0FBQ25CLHNCQUFZQyxTQUFaLEVBQXFDO0FBQUEsUUFBZEMsT0FBYyx1RUFBSixFQUFJOztBQUFBOztBQUNuQyxTQUFLQyxLQUFMLEdBQWFDLDZDQUFDLENBQUMsTUFBRCxDQUFkO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQkQsNkNBQUMsQ0FBQ0gsU0FBRCxDQUFuQjtBQUNBLFNBQUtLLEtBQUwsR0FBYSxLQUFLRCxVQUFMLENBQWdCRSxJQUFoQixDQUFxQix5QkFBckIsQ0FBYjtBQUNBLFNBQUtDLFlBQUwsR0FBb0JOLE9BQU8sQ0FBQ08sVUFBUixHQUFxQlAsT0FBTyxDQUFDTyxVQUE3QixHQUEwQyxLQUE5RDtBQUVBLFNBQUtDLGFBQUwsR0FBcUIsS0FBS0EsYUFBTCxDQUFtQkMsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBckI7QUFFQSxTQUFLQyxNQUFMLEdBQWMsQ0FDWixLQUFLTixLQUFMLENBQVdPLEVBQVgsQ0FBYyxvQkFBZCxFQUFvQyxLQUFLSCxhQUF6QyxDQURZLENBQWQ7QUFHRDs7Ozs2QkFFUTtBQUNQLFdBQUtFLE1BQUwsQ0FBWUUsT0FBWixDQUFvQixVQUFBQyxHQUFHO0FBQUEsZUFBSUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixDQUFKO0FBQUEsT0FBdkI7QUFDRDs7O2tDQUVhQyxLLEVBQU87QUFDbkJBLFdBQUssQ0FBQ0MsY0FBTjtBQUVBLFVBQU1aLEtBQUssR0FBR0YsNkNBQUMsQ0FBQ2EsS0FBSyxDQUFDRSxhQUFQLENBQUQsQ0FBdUJDLEtBQXZCLEVBQWQ7QUFDQSxVQUFNQyxNQUFNLEdBQUdmLEtBQUssQ0FBQ0MsSUFBTixDQUFXLFVBQVgsQ0FBZjtBQUVBRCxXQUFLLENBQUNnQixHQUFOLENBQVU7QUFDUkMsZ0JBQVEsRUFBRSxVQURGO0FBRVJDLFlBQUksRUFBRSxDQUFDLElBRkM7QUFHUkMsY0FBTSxFQUFFLENBQUMsSUFIRDtBQUlSQyxrQkFBVSxFQUFFO0FBSkosT0FBVjtBQU9BLFVBQUlDLEtBQUssR0FBR04sTUFBTSxDQUFDTyxHQUFQLEVBQVo7O0FBRUEsVUFBSSxLQUFLcEIsWUFBTCxJQUFxQixDQUFDbUIsS0FBMUIsRUFBaUM7QUFDL0I7QUFDRCxPQWpCa0IsQ0FtQm5COzs7QUFDQSxVQUFJQSxLQUFLLENBQUNFLE9BQU4sQ0FBYyxHQUFkLElBQXFCLENBQXpCLEVBQTRCO0FBQzFCRixhQUFLLEdBQUdBLEtBQUssQ0FBQ0csS0FBTixDQUFZLEdBQVosRUFBaUJDLElBQWpCLENBQXNCLElBQXRCLEVBQTRCQyxJQUE1QixFQUFSO0FBQ0QsT0F0QmtCLENBd0JuQjs7O0FBQ0FMLFdBQUssYUFBTUEsS0FBTixNQUFMLENBekJtQixDQTJCbkI7O0FBQ0FOLFlBQU0sQ0FBQ08sR0FBUCxDQUFXRCxLQUFYLEVBNUJtQixDQThCbkI7O0FBQ0EsV0FBS3hCLEtBQUwsQ0FBVzhCLE1BQVgsQ0FBa0IzQixLQUFsQjtBQUNBQSxXQUFLLENBQUM0QixNQUFOO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9jb21wb25lbnRzL3NlYXJjaC9TZWFyY2hGb3JtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoRm9ybSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy4kYm9keSA9ICQoJ2JvZHknKTtcbiAgICB0aGlzLiRjb250YWluZXIgPSAkKGNvbnRhaW5lcik7XG4gICAgdGhpcy4kZm9ybSA9IHRoaXMuJGNvbnRhaW5lci5maW5kKCdbZGF0YS1saXZlLXNlYXJjaC1mb3JtXScpO1xuICAgIHRoaXMuaXNMaXZlU2VhcmNoID0gb3B0aW9ucy5saXZlU2VhcmNoID8gb3B0aW9ucy5saXZlU2VhcmNoIDogZmFsc2U7XG5cbiAgICB0aGlzLnN1Ym1pdEhhbmRsZXIgPSB0aGlzLnN1Ym1pdEhhbmRsZXIuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZXZlbnRzID0gW1xuICAgICAgdGhpcy4kZm9ybS5vbignc3VibWl0LnNlYXJjaC1mb3JtJywgdGhpcy5zdWJtaXRIYW5kbGVyKSxcbiAgICBdO1xuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuZXZlbnRzLmZvckVhY2goJGVsID0+ICRlbC5vZmYoJy5zZWFyY2gtZm9ybScpKTtcbiAgfVxuXG4gIHN1Ym1pdEhhbmRsZXIoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgJGZvcm0gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNsb25lKCk7XG4gICAgY29uc3QgJHRlcm1zID0gJGZvcm0uZmluZCgnW25hbWU9cV0nKTtcblxuICAgICRmb3JtLmNzcyh7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGxlZnQ6IC0xMDAwLFxuICAgICAgYm90dG9tOiAtMTAwMCxcbiAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgIH0pO1xuXG4gICAgbGV0IHRlcm1zID0gJHRlcm1zLnZhbCgpO1xuXG4gICAgaWYgKHRoaXMuaXNMaXZlU2VhcmNoICYmICF0ZXJtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFkZHMgYCpgIGFmdGVyIGVhY2ggd29yZCBpbiBzZWFyY2ggdGVybXMsIGRvZXNuJ3QgYWRkIHRvIGxhc3Qgd29yZFxuICAgIGlmICh0ZXJtcy5pbmRleE9mKCcgJykgPiAwKSB7XG4gICAgICB0ZXJtcyA9IHRlcm1zLnNwbGl0KCcgJykuam9pbignKiAnKS50cmltKCk7XG4gICAgfVxuXG4gICAgLy8gQWRkcyBgKmAgYXQgdGhlIGVuZCBvZiB0aGUgc2VhcmNoIHRlcm1zXG4gICAgdGVybXMgPSBgJHt0ZXJtc30qYDtcblxuICAgIC8vIFVwZGF0ZSB2YWx1ZVxuICAgICR0ZXJtcy52YWwodGVybXMpO1xuXG4gICAgLy8gRm9ybXMgbXVzdCBiZSBpbiB0aGUgYnJvd3NlciBjb250ZXh0IGluIG9yZGVyIHRvIHN1Ym1pdFxuICAgIHRoaXMuJGJvZHkuYXBwZW5kKCRmb3JtKTtcbiAgICAkZm9ybS5zdWJtaXQoKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/components/search/SearchForm.js\n");

/***/ }),

/***/ "./source/scripts/globals/jquery.js":
/*!******************************************!*\
  !*** ./source/scripts/globals/jquery.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n// jQuery plugins expect to find a global `jQuery` object, so we\n// need to attach it to the window.\n//\n// This is in its own file because we have to attach it before any\n// other imports happen, but with ES6 modules, all `import`s have\n// to be at the top.\n\nwindow.jQuery = jquery__WEBPACK_IMPORTED_MODULE_0___default.a;\nwindow.$ = jquery__WEBPACK_IMPORTED_MODULE_0___default.a;\n/* harmony default export */ __webpack_exports__[\"default\"] = (jquery__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9nbG9iYWxzL2pxdWVyeS5qcz9hMWZmIl0sIm5hbWVzIjpbIndpbmRvdyIsImpRdWVyeSIsIiQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQkMsNkNBQWhCO0FBQ0FGLE1BQU0sQ0FBQ0UsQ0FBUCxHQUFXQSw2Q0FBWDtBQUVlQSw0R0FBZiIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2dsb2JhbHMvanF1ZXJ5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8galF1ZXJ5IHBsdWdpbnMgZXhwZWN0IHRvIGZpbmQgYSBnbG9iYWwgYGpRdWVyeWAgb2JqZWN0LCBzbyB3ZVxuLy8gbmVlZCB0byBhdHRhY2ggaXQgdG8gdGhlIHdpbmRvdy5cbi8vXG4vLyBUaGlzIGlzIGluIGl0cyBvd24gZmlsZSBiZWNhdXNlIHdlIGhhdmUgdG8gYXR0YWNoIGl0IGJlZm9yZSBhbnlcbi8vIG90aGVyIGltcG9ydHMgaGFwcGVuLCBidXQgd2l0aCBFUzYgbW9kdWxlcywgYWxsIGBpbXBvcnRgcyBoYXZlXG4vLyB0byBiZSBhdCB0aGUgdG9wLlxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5Jztcblxud2luZG93LmpRdWVyeSA9ICQ7XG53aW5kb3cuJCA9ICQ7XG5cbmV4cG9ydCBkZWZhdWx0ICQ7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/globals/jquery.js\n");

/***/ }),

/***/ "./source/scripts/helpers/ContainSwatchTooltips.js":
/*!*********************************************************!*\
  !*** ./source/scripts/helpers/ContainSwatchTooltips.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ContainSwatchTooltips; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction setTooltipOffset(target) {\n  var margin = 10;\n  var _window = window,\n      innerWidth = _window.innerWidth;\n\n  var _target$getBoundingCl = target.getBoundingClientRect(),\n      x = _target$getBoundingCl.x,\n      width = _target$getBoundingCl.width;\n\n  var tooltipWidth = parseFloat(window.getComputedStyle(target, ':after').width);\n  var required = tooltipWidth * 0.5;\n  var available = 0;\n  var offset = 0;\n\n  if (x < innerWidth * 0.5) {\n    // Closer to left side of screen\n    available = x + width * 0.5 - margin;\n    offset = required - available;\n  } else {\n    available = innerWidth - x - width * 0.5 - margin;\n    offset = available - required;\n  }\n\n  target.style.setProperty('--swatch-tooltip-offset', \"\".concat(required >= available ? offset : 0, \"px\"));\n}\n\nfunction handleMouseover(_ref) {\n  var target = _ref.target;\n  // We need to check for dataset, because IE11 doesn't support\n  // the dataset property for certain elements like svgs\n  if (target.dataset && !target.dataset.swatchTooltip) return;\n  window.requestAnimationFrame(function () {\n    return setTooltipOffset(target);\n  });\n}\n\nvar ContainSwatchTooltips = /*#__PURE__*/function () {\n  function ContainSwatchTooltips() {\n    _classCallCheck(this, ContainSwatchTooltips);\n\n    window.addEventListener('mouseover', handleMouseover);\n  }\n\n  _createClass(ContainSwatchTooltips, [{\n    key: \"unload\",\n    value: function unload() {\n      window.removeEventListener('mouseover', handleMouseover);\n    }\n  }]);\n\n  return ContainSwatchTooltips;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL0NvbnRhaW5Td2F0Y2hUb29sdGlwcy5qcz9mMjIyIl0sIm5hbWVzIjpbInNldFRvb2x0aXBPZmZzZXQiLCJ0YXJnZXQiLCJtYXJnaW4iLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsIndpZHRoIiwidG9vbHRpcFdpZHRoIiwicGFyc2VGbG9hdCIsImdldENvbXB1dGVkU3R5bGUiLCJyZXF1aXJlZCIsImF2YWlsYWJsZSIsIm9mZnNldCIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJoYW5kbGVNb3VzZW92ZXIiLCJkYXRhc2V0Iiwic3dhdGNoVG9vbHRpcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkNvbnRhaW5Td2F0Y2hUb29sdGlwcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLFNBQVNBLGdCQUFULENBQTBCQyxNQUExQixFQUFrQztBQUNoQyxNQUFNQyxNQUFNLEdBQUcsRUFBZjtBQURnQyxnQkFFVEMsTUFGUztBQUFBLE1BRXhCQyxVQUZ3QixXQUV4QkEsVUFGd0I7O0FBQUEsOEJBR1hILE1BQU0sQ0FBQ0kscUJBQVAsRUFIVztBQUFBLE1BR3hCQyxDQUh3Qix5QkFHeEJBLENBSHdCO0FBQUEsTUFHckJDLEtBSHFCLHlCQUdyQkEsS0FIcUI7O0FBSWhDLE1BQU1DLFlBQVksR0FBR0MsVUFBVSxDQUFDTixNQUFNLENBQUNPLGdCQUFQLENBQXdCVCxNQUF4QixFQUFnQyxRQUFoQyxFQUEwQ00sS0FBM0MsQ0FBL0I7QUFFQSxNQUFNSSxRQUFRLEdBQUdILFlBQVksR0FBRyxHQUFoQztBQUNBLE1BQUlJLFNBQVMsR0FBRyxDQUFoQjtBQUNBLE1BQUlDLE1BQU0sR0FBRyxDQUFiOztBQUVBLE1BQUlQLENBQUMsR0FBR0YsVUFBVSxHQUFHLEdBQXJCLEVBQTBCO0FBQ3hCO0FBQ0FRLGFBQVMsR0FBR04sQ0FBQyxHQUFHQyxLQUFLLEdBQUcsR0FBWixHQUFrQkwsTUFBOUI7QUFDQVcsVUFBTSxHQUFHRixRQUFRLEdBQUdDLFNBQXBCO0FBQ0QsR0FKRCxNQUlPO0FBQ0xBLGFBQVMsR0FBR1IsVUFBVSxHQUFHRSxDQUFiLEdBQWlCQyxLQUFLLEdBQUcsR0FBekIsR0FBK0JMLE1BQTNDO0FBQ0FXLFVBQU0sR0FBR0QsU0FBUyxHQUFHRCxRQUFyQjtBQUNEOztBQUVEVixRQUFNLENBQUNhLEtBQVAsQ0FBYUMsV0FBYixDQUF5Qix5QkFBekIsWUFBdURKLFFBQVEsSUFBSUMsU0FBWixHQUF3QkMsTUFBeEIsR0FBaUMsQ0FBeEY7QUFDRDs7QUFFRCxTQUFTRyxlQUFULE9BQXFDO0FBQUEsTUFBVmYsTUFBVSxRQUFWQSxNQUFVO0FBQ25DO0FBQ0E7QUFDQSxNQUFJQSxNQUFNLENBQUNnQixPQUFQLElBQWtCLENBQUNoQixNQUFNLENBQUNnQixPQUFQLENBQWVDLGFBQXRDLEVBQXFEO0FBRXJEZixRQUFNLENBQUNnQixxQkFBUCxDQUE2QjtBQUFBLFdBQU1uQixnQkFBZ0IsQ0FBQ0MsTUFBRCxDQUF0QjtBQUFBLEdBQTdCO0FBQ0Q7O0lBRW9CbUIscUI7QUFDbkIsbUNBQWM7QUFBQTs7QUFDWmpCLFVBQU0sQ0FBQ2tCLGdCQUFQLENBQXdCLFdBQXhCLEVBQXFDTCxlQUFyQztBQUNEOzs7OzZCQUVRO0FBQ1BiLFlBQU0sQ0FBQ21CLG1CQUFQLENBQTJCLFdBQTNCLEVBQXdDTixlQUF4QztBQUNEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvaGVscGVycy9Db250YWluU3dhdGNoVG9vbHRpcHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBzZXRUb29sdGlwT2Zmc2V0KHRhcmdldCkge1xuICBjb25zdCBtYXJnaW4gPSAxMDtcbiAgY29uc3QgeyBpbm5lcldpZHRoIH0gPSB3aW5kb3c7XG4gIGNvbnN0IHsgeCwgd2lkdGggfSA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgdG9vbHRpcFdpZHRoID0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQsICc6YWZ0ZXInKS53aWR0aCk7XG5cbiAgY29uc3QgcmVxdWlyZWQgPSB0b29sdGlwV2lkdGggKiAwLjU7XG4gIGxldCBhdmFpbGFibGUgPSAwO1xuICBsZXQgb2Zmc2V0ID0gMDtcblxuICBpZiAoeCA8IGlubmVyV2lkdGggKiAwLjUpIHtcbiAgICAvLyBDbG9zZXIgdG8gbGVmdCBzaWRlIG9mIHNjcmVlblxuICAgIGF2YWlsYWJsZSA9IHggKyB3aWR0aCAqIDAuNSAtIG1hcmdpbjtcbiAgICBvZmZzZXQgPSByZXF1aXJlZCAtIGF2YWlsYWJsZTtcbiAgfSBlbHNlIHtcbiAgICBhdmFpbGFibGUgPSBpbm5lcldpZHRoIC0geCAtIHdpZHRoICogMC41IC0gbWFyZ2luO1xuICAgIG9mZnNldCA9IGF2YWlsYWJsZSAtIHJlcXVpcmVkO1xuICB9XG5cbiAgdGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KCctLXN3YXRjaC10b29sdGlwLW9mZnNldCcsIGAke3JlcXVpcmVkID49IGF2YWlsYWJsZSA/IG9mZnNldCA6IDB9cHhgKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTW91c2VvdmVyKHsgdGFyZ2V0IH0pIHtcbiAgLy8gV2UgbmVlZCB0byBjaGVjayBmb3IgZGF0YXNldCwgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydFxuICAvLyB0aGUgZGF0YXNldCBwcm9wZXJ0eSBmb3IgY2VydGFpbiBlbGVtZW50cyBsaWtlIHN2Z3NcbiAgaWYgKHRhcmdldC5kYXRhc2V0ICYmICF0YXJnZXQuZGF0YXNldC5zd2F0Y2hUb29sdGlwKSByZXR1cm47XG5cbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzZXRUb29sdGlwT2Zmc2V0KHRhcmdldCkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250YWluU3dhdGNoVG9vbHRpcHMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgaGFuZGxlTW91c2VvdmVyKTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgaGFuZGxlTW91c2VvdmVyKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/helpers/ContainSwatchTooltips.js\n");

/***/ }),

/***/ "./source/scripts/helpers/FlickityTouchFix.js":
/*!****************************************************!*\
  !*** ./source/scripts/helpers/FlickityTouchFix.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// This is a helper class to fix a touch issue that came up in flickity\n// on iOS devices as of version 13. It should smooth out some of the scroll\n// and swipe issues that flickity is having on that version of iOS.\nvar flickityTouchFix = function flickityTouchFix() {\n  var touchingSlider = false;\n  var touchStartCoordsX = 0;\n\n  var onTouchStart = function onTouchStart(e) {\n    if (e.target.closest && e.target.closest('.flickity-slider')) {\n      touchingSlider = true;\n      touchStartCoordsX = e.touches[0].pageX;\n    } else {\n      touchingSlider = false;\n    }\n  };\n\n  var onTouchMove = function onTouchMove(e) {\n    if (!(touchingSlider && e.cancelable)) {\n      return;\n    }\n\n    if (Math.abs(e.touches[0].pageX - touchStartCoordsX) > 10) {\n      e.preventDefault();\n    }\n  };\n\n  document.body.addEventListener('touchstart', onTouchStart);\n  document.body.addEventListener('touchmove', onTouchMove, {\n    passive: false\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (flickityTouchFix);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL0ZsaWNraXR5VG91Y2hGaXguanM/OWY1OSJdLCJuYW1lcyI6WyJmbGlja2l0eVRvdWNoRml4IiwidG91Y2hpbmdTbGlkZXIiLCJ0b3VjaFN0YXJ0Q29vcmRzWCIsIm9uVG91Y2hTdGFydCIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwidG91Y2hlcyIsInBhZ2VYIiwib25Ub3VjaE1vdmUiLCJjYW5jZWxhYmxlIiwiTWF0aCIsImFicyIsInByZXZlbnREZWZhdWx0IiwiZG9jdW1lbnQiLCJib2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0EsSUFBTUEsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQixHQUFNO0FBQzdCLE1BQUlDLGNBQWMsR0FBRyxLQUFyQjtBQUNBLE1BQUlDLGlCQUFpQixHQUFHLENBQXhCOztBQUVBLE1BQU1DLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUFDLENBQUMsRUFBSTtBQUN4QixRQUFJQSxDQUFDLENBQUNDLE1BQUYsQ0FBU0MsT0FBVCxJQUFvQkYsQ0FBQyxDQUFDQyxNQUFGLENBQVNDLE9BQVQsQ0FBaUIsa0JBQWpCLENBQXhCLEVBQThEO0FBQzVETCxvQkFBYyxHQUFHLElBQWpCO0FBQ0FDLHVCQUFpQixHQUFHRSxDQUFDLENBQUNHLE9BQUYsQ0FBVSxDQUFWLEVBQWFDLEtBQWpDO0FBQ0QsS0FIRCxNQUdPO0FBQ0xQLG9CQUFjLEdBQUcsS0FBakI7QUFDRDtBQUNGLEdBUEQ7O0FBU0EsTUFBTVEsV0FBVyxHQUFHLFNBQWRBLFdBQWMsQ0FBQUwsQ0FBQyxFQUFJO0FBQ3ZCLFFBQUksRUFBRUgsY0FBYyxJQUFJRyxDQUFDLENBQUNNLFVBQXRCLENBQUosRUFBdUM7QUFDckM7QUFDRDs7QUFFRCxRQUFJQyxJQUFJLENBQUNDLEdBQUwsQ0FBU1IsQ0FBQyxDQUFDRyxPQUFGLENBQVUsQ0FBVixFQUFhQyxLQUFiLEdBQXFCTixpQkFBOUIsSUFBbUQsRUFBdkQsRUFBMkQ7QUFDekRFLE9BQUMsQ0FBQ1MsY0FBRjtBQUNEO0FBQ0YsR0FSRDs7QUFVQUMsVUFBUSxDQUFDQyxJQUFULENBQWNDLGdCQUFkLENBQStCLFlBQS9CLEVBQTZDYixZQUE3QztBQUNBVyxVQUFRLENBQUNDLElBQVQsQ0FBY0MsZ0JBQWQsQ0FBK0IsV0FBL0IsRUFBNENQLFdBQTVDLEVBQXlEO0FBQUVRLFdBQU8sRUFBRTtBQUFYLEdBQXpEO0FBQ0QsQ0F6QkQ7O0FBMkJlakIsK0VBQWYiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL0ZsaWNraXR5VG91Y2hGaXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGlzIGEgaGVscGVyIGNsYXNzIHRvIGZpeCBhIHRvdWNoIGlzc3VlIHRoYXQgY2FtZSB1cCBpbiBmbGlja2l0eVxuLy8gb24gaU9TIGRldmljZXMgYXMgb2YgdmVyc2lvbiAxMy4gSXQgc2hvdWxkIHNtb290aCBvdXQgc29tZSBvZiB0aGUgc2Nyb2xsXG4vLyBhbmQgc3dpcGUgaXNzdWVzIHRoYXQgZmxpY2tpdHkgaXMgaGF2aW5nIG9uIHRoYXQgdmVyc2lvbiBvZiBpT1MuXG5jb25zdCBmbGlja2l0eVRvdWNoRml4ID0gKCkgPT4ge1xuICBsZXQgdG91Y2hpbmdTbGlkZXIgPSBmYWxzZTtcbiAgbGV0IHRvdWNoU3RhcnRDb29yZHNYID0gMDtcblxuICBjb25zdCBvblRvdWNoU3RhcnQgPSBlID0+IHtcbiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCAmJiBlLnRhcmdldC5jbG9zZXN0KCcuZmxpY2tpdHktc2xpZGVyJykpIHtcbiAgICAgIHRvdWNoaW5nU2xpZGVyID0gdHJ1ZTtcbiAgICAgIHRvdWNoU3RhcnRDb29yZHNYID0gZS50b3VjaGVzWzBdLnBhZ2VYO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3VjaGluZ1NsaWRlciA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBvblRvdWNoTW92ZSA9IGUgPT4ge1xuICAgIGlmICghKHRvdWNoaW5nU2xpZGVyICYmIGUuY2FuY2VsYWJsZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoTWF0aC5hYnMoZS50b3VjaGVzWzBdLnBhZ2VYIC0gdG91Y2hTdGFydENvb3Jkc1gpID4gMTApIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0KTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZsaWNraXR5VG91Y2hGaXg7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/helpers/FlickityTouchFix.js\n");

/***/ }),

/***/ "./source/scripts/helpers/Images.js":
/*!******************************************!*\
  !*** ./source/scripts/helpers/Images.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Images; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Images = /*#__PURE__*/function () {\n  function Images() {\n    _classCallCheck(this, Images);\n  }\n\n  _createClass(Images, [{\n    key: \"preload\",\n\n    /**\n     * Preloads an image in memory and uses the browsers cache to store it until needed.\n     *\n     * @param {Array} images - A list of image urls\n     * @param {String} size - A shopify image size attribute\n     */\n    value: function preload(images, size) {\n      if (typeof images === 'string') {\n        images = [images];\n      }\n\n      for (var i = 0; i < images.length; i++) {\n        this.loadImage(this.getSizedImageUrl(images[i], size));\n      }\n    }\n    /**\n     * Loads and caches an image in the browsers cache.\n     *\n     * @param {string} path - An image url\n     */\n\n  }, {\n    key: \"loadImage\",\n    value: function loadImage(path) {\n      return new Image().src = path;\n    }\n    /**\n     * Adds a Shopify size attribute to a URL\n     *\n     * @param src\n     * @param size\n     * @returns {*}\n     */\n\n  }, {\n    key: \"getSizedImageUrl\",\n    value: function getSizedImageUrl() {\n      var src = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var size = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (!size) {\n        return null;\n      }\n\n      if (size === 'master') {\n        return this.removeProtocol(src);\n      }\n\n      var match = src.match(/\\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\\?v=\\d+)?$/i);\n\n      if (match) {\n        var prefix = src.split(match[0]);\n        var suffix = match[0];\n        return this.removeProtocol(\"\".concat(prefix[0], \"_\").concat(size).concat(suffix));\n      } else {\n        console.warn(\"No \".concat(size, \" found for '\").concat(src));\n        return null;\n      }\n    }\n  }, {\n    key: \"removeProtocol\",\n    value: function removeProtocol(path) {\n      return path.replace(/http(s)?:/, '');\n    }\n  }]);\n\n  return Images;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL0ltYWdlcy5qcz83MjYyIl0sIm5hbWVzIjpbIkltYWdlcyIsImltYWdlcyIsInNpemUiLCJpIiwibGVuZ3RoIiwibG9hZEltYWdlIiwiZ2V0U2l6ZWRJbWFnZVVybCIsInBhdGgiLCJJbWFnZSIsInNyYyIsInJlbW92ZVByb3RvY29sIiwibWF0Y2giLCJwcmVmaXgiLCJzcGxpdCIsInN1ZmZpeCIsImNvbnNvbGUiLCJ3YXJuIiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7SUFBcUJBLE07Ozs7Ozs7O0FBQ25COzs7Ozs7NEJBTVFDLE0sRUFBUUMsSSxFQUFNO0FBQ3BCLFVBQUksT0FBT0QsTUFBUCxLQUFrQixRQUF0QixFQUFnQztBQUM5QkEsY0FBTSxHQUFHLENBQUNBLE1BQUQsQ0FBVDtBQUNEOztBQUVELFdBQUssSUFBSUUsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0YsTUFBTSxDQUFDRyxNQUEzQixFQUFtQ0QsQ0FBQyxFQUFwQyxFQUF3QztBQUN0QyxhQUFLRSxTQUFMLENBQWUsS0FBS0MsZ0JBQUwsQ0FBc0JMLE1BQU0sQ0FBQ0UsQ0FBRCxDQUE1QixFQUFpQ0QsSUFBakMsQ0FBZjtBQUNEO0FBQ0Y7QUFFRDs7Ozs7Ozs7OEJBS1VLLEksRUFBTTtBQUNkLGFBQU8sSUFBSUMsS0FBSixHQUFZQyxHQUFaLEdBQWtCRixJQUF6QjtBQUNEO0FBRUQ7Ozs7Ozs7Ozs7dUNBT21DO0FBQUEsVUFBbEJFLEdBQWtCLHVFQUFaLElBQVk7QUFBQSxVQUFOUCxJQUFNOztBQUNqQyxVQUFJLENBQUNBLElBQUwsRUFBVztBQUNULGVBQU8sSUFBUDtBQUNEOztBQUVELFVBQUlBLElBQUksS0FBSyxRQUFiLEVBQXVCO0FBQ3JCLGVBQU8sS0FBS1EsY0FBTCxDQUFvQkQsR0FBcEIsQ0FBUDtBQUNEOztBQUVELFVBQU1FLEtBQUssR0FBR0YsR0FBRyxDQUFDRSxLQUFKLENBQVUsc0RBQVYsQ0FBZDs7QUFFQSxVQUFJQSxLQUFKLEVBQVc7QUFDVCxZQUFNQyxNQUFNLEdBQUdILEdBQUcsQ0FBQ0ksS0FBSixDQUFVRixLQUFLLENBQUMsQ0FBRCxDQUFmLENBQWY7QUFDQSxZQUFNRyxNQUFNLEdBQUdILEtBQUssQ0FBQyxDQUFELENBQXBCO0FBRUEsZUFBTyxLQUFLRCxjQUFMLFdBQXVCRSxNQUFNLENBQUMsQ0FBRCxDQUE3QixjQUFvQ1YsSUFBcEMsU0FBMkNZLE1BQTNDLEVBQVA7QUFDRCxPQUxELE1BS087QUFDTEMsZUFBTyxDQUFDQyxJQUFSLGNBQW1CZCxJQUFuQix5QkFBc0NPLEdBQXRDO0FBQ0EsZUFBTyxJQUFQO0FBQ0Q7QUFDRjs7O21DQUVjRixJLEVBQU07QUFDbkIsYUFBT0EsSUFBSSxDQUFDVSxPQUFMLENBQWEsV0FBYixFQUEwQixFQUExQixDQUFQO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL0ltYWdlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlcyB7XG4gIC8qKlxuICAgKiBQcmVsb2FkcyBhbiBpbWFnZSBpbiBtZW1vcnkgYW5kIHVzZXMgdGhlIGJyb3dzZXJzIGNhY2hlIHRvIHN0b3JlIGl0IHVudGlsIG5lZWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gaW1hZ2VzIC0gQSBsaXN0IG9mIGltYWdlIHVybHNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNpemUgLSBBIHNob3BpZnkgaW1hZ2Ugc2l6ZSBhdHRyaWJ1dGVcbiAgICovXG4gIHByZWxvYWQoaW1hZ2VzLCBzaXplKSB7XG4gICAgaWYgKHR5cGVvZiBpbWFnZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpbWFnZXMgPSBbaW1hZ2VzXTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5nZXRTaXplZEltYWdlVXJsKGltYWdlc1tpXSwgc2l6ZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbmQgY2FjaGVzIGFuIGltYWdlIGluIHRoZSBicm93c2VycyBjYWNoZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBBbiBpbWFnZSB1cmxcbiAgICovXG4gIGxvYWRJbWFnZShwYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBJbWFnZSgpLnNyYyA9IHBhdGg7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIFNob3BpZnkgc2l6ZSBhdHRyaWJ1dGUgdG8gYSBVUkxcbiAgICpcbiAgICogQHBhcmFtIHNyY1xuICAgKiBAcGFyYW0gc2l6ZVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGdldFNpemVkSW1hZ2VVcmwoc3JjID0gbnVsbCwgc2l6ZSkge1xuICAgIGlmICghc2l6ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHNpemUgPT09ICdtYXN0ZXInKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdmVQcm90b2NvbChzcmMpO1xuICAgIH1cblxuICAgIGNvbnN0IG1hdGNoID0gc3JjLm1hdGNoKC9cXC4oanBnfGpwZWd8Z2lmfHBuZ3xibXB8Yml0bWFwfHRpZmZ8dGlmKShcXD92PVxcZCspPyQvaSk7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IHByZWZpeCA9IHNyYy5zcGxpdChtYXRjaFswXSk7XG4gICAgICBjb25zdCBzdWZmaXggPSBtYXRjaFswXTtcblxuICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlUHJvdG9jb2woYCR7cHJlZml4WzBdfV8ke3NpemV9JHtzdWZmaXh9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihgTm8gJHtzaXplfSBmb3VuZCBmb3IgJyR7c3JjfWApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlUHJvdG9jb2wocGF0aCkge1xuICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL2h0dHAocyk/Oi8sICcnKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/helpers/Images.js\n");

/***/ }),

/***/ "./source/scripts/helpers/LazyLoader.js":
/*!**********************************************!*\
  !*** ./source/scripts/helpers/LazyLoader.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LazyLoader; });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Allows a callback to be run once, when a target intersects the viewport.\n * @constructor\n * @param {HTMLElement} target Element to track\n * @param {Function} callback Function to execute when target enters viewport (only executed once)\n * @param {Object} [options] options with which to construct the IntersectionObserver\n * @param {string} [options.rootMargin='30%'] A string which specifies a set of offsets to add to the root's bounding_box when calculating intersections.\n * @param {number} [options.threshold=0] Ratio of intersection required to trigger callback\n */\nvar LazyLoader = /*#__PURE__*/function () {\n  function LazyLoader(target, callback, options) {\n    _classCallCheck(this, LazyLoader);\n\n    var defaultOptions = {\n      rootMargin: '30%',\n      threshold: 0\n    };\n    this.callback = callback;\n    this._runCallback = this._runCallback.bind(this); // This is to solve an issue with ItersectionObserver where the events were not firing for\n    // items that were already in the viewport on Chrome 71. It could have also been an issue that\n    // was combined with Flickity. Calling the callback for items already in the viewport seemed\n    // to fix the issue.\n\n    if (this._isInViewport(target)) {\n      this.callback();\n    } else {\n      this.observer = new IntersectionObserver(this._runCallback, _objectSpread(_objectSpread({}, defaultOptions), options));\n      this.observer.observe(target);\n    }\n  }\n\n  _createClass(LazyLoader, [{\n    key: \"_isInViewport\",\n    value: function _isInViewport(target) {\n      var bounding = target.getBoundingClientRect();\n      return bounding.top >= 0 && bounding.left >= 0 && bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) && bounding.right <= (window.innerWidth || document.documentElement.clientWidth);\n    }\n    /**\n     * Runs the callback if first entry becomes intersecting, then unloads the LazyLoader\n     * @_runCallback\n     * @param {IntersectionObserverEntry[]} entries Entry to check - all but the\n     * first element will be ignored.\n     */\n\n  }, {\n    key: \"_runCallback\",\n    value: function _runCallback(entries) {\n      // do nothing unless target moved into state of intersection\n      if (entries[0].isIntersecting === true) {\n        this.unload();\n        this.callback();\n      }\n    }\n    /**\n     * Disconnects IntersectionObserver if active\n     * @unload\n     */\n\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      if (this.observer) {\n        this.observer.disconnect();\n      }\n    }\n  }]);\n\n  return LazyLoader;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL0xhenlMb2FkZXIuanM/MDA0ZSJdLCJuYW1lcyI6WyJMYXp5TG9hZGVyIiwidGFyZ2V0IiwiY2FsbGJhY2siLCJvcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwiX3J1bkNhbGxiYWNrIiwiYmluZCIsIl9pc0luVmlld3BvcnQiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImJvdW5kaW5nIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJyaWdodCIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsImVudHJpZXMiLCJpc0ludGVyc2VjdGluZyIsInVubG9hZCIsImRpc2Nvbm5lY3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7OztJQVNxQkEsVTtBQUNuQixzQkFBWUMsTUFBWixFQUFvQkMsUUFBcEIsRUFBOEJDLE9BQTlCLEVBQXVDO0FBQUE7O0FBQ3JDLFFBQU1DLGNBQWMsR0FBRztBQUNyQkMsZ0JBQVUsRUFBRSxLQURTO0FBRXJCQyxlQUFTLEVBQUU7QUFGVSxLQUF2QjtBQUtBLFNBQUtKLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0ssWUFBTCxHQUFvQixLQUFLQSxZQUFMLENBQWtCQyxJQUFsQixDQUF1QixJQUF2QixDQUFwQixDQVBxQyxDQVNyQztBQUNBO0FBQ0E7QUFDQTs7QUFDQSxRQUFJLEtBQUtDLGFBQUwsQ0FBbUJSLE1BQW5CLENBQUosRUFBZ0M7QUFDOUIsV0FBS0MsUUFBTDtBQUNELEtBRkQsTUFFTztBQUNMLFdBQUtRLFFBQUwsR0FBZ0IsSUFBSUMsb0JBQUosQ0FBeUIsS0FBS0osWUFBOUIsa0NBQWlESCxjQUFqRCxHQUFvRUQsT0FBcEUsRUFBaEI7QUFDQSxXQUFLTyxRQUFMLENBQWNFLE9BQWQsQ0FBc0JYLE1BQXRCO0FBQ0Q7QUFDRjs7OztrQ0FFYUEsTSxFQUFRO0FBQ3BCLFVBQU1ZLFFBQVEsR0FBR1osTUFBTSxDQUFDYSxxQkFBUCxFQUFqQjtBQUNBLGFBQU9ELFFBQVEsQ0FBQ0UsR0FBVCxJQUFnQixDQUFoQixJQUNGRixRQUFRLENBQUNHLElBQVQsSUFBaUIsQ0FEZixJQUVGSCxRQUFRLENBQUNJLE1BQVQsS0FBb0JDLE1BQU0sQ0FBQ0MsV0FBUCxJQUFzQkMsUUFBUSxDQUFDQyxlQUFULENBQXlCQyxZQUFuRSxDQUZFLElBR0ZULFFBQVEsQ0FBQ1UsS0FBVCxLQUFtQkwsTUFBTSxDQUFDTSxVQUFQLElBQXFCSixRQUFRLENBQUNDLGVBQVQsQ0FBeUJJLFdBQWpFLENBSEw7QUFJRDtBQUVEOzs7Ozs7Ozs7aUNBTWFDLE8sRUFBUztBQUNwQjtBQUNBLFVBQUlBLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBV0MsY0FBWCxLQUE4QixJQUFsQyxFQUF3QztBQUN0QyxhQUFLQyxNQUFMO0FBQ0EsYUFBSzFCLFFBQUw7QUFDRDtBQUNGO0FBRUQ7Ozs7Ozs7NkJBSVM7QUFDUCxVQUFJLEtBQUtRLFFBQVQsRUFBbUI7QUFDakIsYUFBS0EsUUFBTCxDQUFjbUIsVUFBZDtBQUNEO0FBQ0YiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL0xhenlMb2FkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFsbG93cyBhIGNhbGxiYWNrIHRvIGJlIHJ1biBvbmNlLCB3aGVuIGEgdGFyZ2V0IGludGVyc2VjdHMgdGhlIHZpZXdwb3J0LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgRWxlbWVudCB0byB0cmFja1xuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIHRhcmdldCBlbnRlcnMgdmlld3BvcnQgKG9ubHkgZXhlY3V0ZWQgb25jZSlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gb3B0aW9ucyB3aXRoIHdoaWNoIHRvIGNvbnN0cnVjdCB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5yb290TWFyZ2luPSczMCUnXSBBIHN0cmluZyB3aGljaCBzcGVjaWZpZXMgYSBzZXQgb2Ygb2Zmc2V0cyB0byBhZGQgdG8gdGhlIHJvb3QncyBib3VuZGluZ19ib3ggd2hlbiBjYWxjdWxhdGluZyBpbnRlcnNlY3Rpb25zLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRocmVzaG9sZD0wXSBSYXRpbyBvZiBpbnRlcnNlY3Rpb24gcmVxdWlyZWQgdG8gdHJpZ2dlciBjYWxsYmFja1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXp5TG9hZGVyIHtcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgcm9vdE1hcmdpbjogJzMwJScsXG4gICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgfTtcblxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLl9ydW5DYWxsYmFjayA9IHRoaXMuX3J1bkNhbGxiYWNrLmJpbmQodGhpcyk7XG5cbiAgICAvLyBUaGlzIGlzIHRvIHNvbHZlIGFuIGlzc3VlIHdpdGggSXRlcnNlY3Rpb25PYnNlcnZlciB3aGVyZSB0aGUgZXZlbnRzIHdlcmUgbm90IGZpcmluZyBmb3JcbiAgICAvLyBpdGVtcyB0aGF0IHdlcmUgYWxyZWFkeSBpbiB0aGUgdmlld3BvcnQgb24gQ2hyb21lIDcxLiBJdCBjb3VsZCBoYXZlIGFsc28gYmVlbiBhbiBpc3N1ZSB0aGF0XG4gICAgLy8gd2FzIGNvbWJpbmVkIHdpdGggRmxpY2tpdHkuIENhbGxpbmcgdGhlIGNhbGxiYWNrIGZvciBpdGVtcyBhbHJlYWR5IGluIHRoZSB2aWV3cG9ydCBzZWVtZWRcbiAgICAvLyB0byBmaXggdGhlIGlzc3VlLlxuICAgIGlmICh0aGlzLl9pc0luVmlld3BvcnQodGFyZ2V0KSkge1xuICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMuX3J1bkNhbGxiYWNrLCB7IC4uLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH0pO1xuICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgX2lzSW5WaWV3cG9ydCh0YXJnZXQpIHtcbiAgICBjb25zdCBib3VuZGluZyA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gYm91bmRpbmcudG9wID49IDBcbiAgICAgICYmIGJvdW5kaW5nLmxlZnQgPj0gMFxuICAgICAgJiYgYm91bmRpbmcuYm90dG9tIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodClcbiAgICAgICYmIGJvdW5kaW5nLnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgdGhlIGNhbGxiYWNrIGlmIGZpcnN0IGVudHJ5IGJlY29tZXMgaW50ZXJzZWN0aW5nLCB0aGVuIHVubG9hZHMgdGhlIExhenlMb2FkZXJcbiAgICogQF9ydW5DYWxsYmFja1xuICAgKiBAcGFyYW0ge0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnlbXX0gZW50cmllcyBFbnRyeSB0byBjaGVjayAtIGFsbCBidXQgdGhlXG4gICAqIGZpcnN0IGVsZW1lbnQgd2lsbCBiZSBpZ25vcmVkLlxuICAgKi9cbiAgX3J1bkNhbGxiYWNrKGVudHJpZXMpIHtcbiAgICAvLyBkbyBub3RoaW5nIHVubGVzcyB0YXJnZXQgbW92ZWQgaW50byBzdGF0ZSBvZiBpbnRlcnNlY3Rpb25cbiAgICBpZiAoZW50cmllc1swXS5pc0ludGVyc2VjdGluZyA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy51bmxvYWQoKTtcbiAgICAgIHRoaXMuY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgaWYgYWN0aXZlXG4gICAqIEB1bmxvYWRcbiAgICovXG4gIHVubG9hZCgpIHtcbiAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/helpers/LazyLoader.js\n");

/***/ }),

/***/ "./source/scripts/helpers/ProductReviews.js":
/*!**************************************************!*\
  !*** ./source/scripts/helpers/ProductReviews.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return initShopifyProductReviews; });\n/*\n * Initialize Shopify Product Reviews\n *\n * */\nfunction initShopifyProductReviews() {\n  if (!window.SPR) {\n    return;\n  }\n\n  window.SPR.registerCallbacks();\n  window.SPR.initRatingHandler();\n  window.SPR.initDomEls();\n  window.SPR.loadProducts();\n  window.SPR.loadBadges();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL1Byb2R1Y3RSZXZpZXdzLmpzPzViNzAiXSwibmFtZXMiOlsiaW5pdFNob3BpZnlQcm9kdWN0UmV2aWV3cyIsIndpbmRvdyIsIlNQUiIsInJlZ2lzdGVyQ2FsbGJhY2tzIiwiaW5pdFJhdGluZ0hhbmRsZXIiLCJpbml0RG9tRWxzIiwibG9hZFByb2R1Y3RzIiwibG9hZEJhZGdlcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7O0FBS2UsU0FBU0EseUJBQVQsR0FBcUM7QUFDbEQsTUFBSSxDQUFDQyxNQUFNLENBQUNDLEdBQVosRUFBaUI7QUFDZjtBQUNEOztBQUVERCxRQUFNLENBQUNDLEdBQVAsQ0FBV0MsaUJBQVg7QUFDQUYsUUFBTSxDQUFDQyxHQUFQLENBQVdFLGlCQUFYO0FBQ0FILFFBQU0sQ0FBQ0MsR0FBUCxDQUFXRyxVQUFYO0FBQ0FKLFFBQU0sQ0FBQ0MsR0FBUCxDQUFXSSxZQUFYO0FBQ0FMLFFBQU0sQ0FBQ0MsR0FBUCxDQUFXSyxVQUFYO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL1Byb2R1Y3RSZXZpZXdzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEluaXRpYWxpemUgU2hvcGlmeSBQcm9kdWN0IFJldmlld3NcbiAqXG4gKiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzKCkge1xuICBpZiAoIXdpbmRvdy5TUFIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cuU1BSLnJlZ2lzdGVyQ2FsbGJhY2tzKCk7XG4gIHdpbmRvdy5TUFIuaW5pdFJhdGluZ0hhbmRsZXIoKTtcbiAgd2luZG93LlNQUi5pbml0RG9tRWxzKCk7XG4gIHdpbmRvdy5TUFIubG9hZFByb2R1Y3RzKCk7XG4gIHdpbmRvdy5TUFIubG9hZEJhZGdlcygpO1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/helpers/ProductReviews.js\n");

/***/ }),

/***/ "./source/scripts/helpers/Quantity.js":
/*!********************************************!*\
  !*** ./source/scripts/helpers/Quantity.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Quantity; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Quantity = /*#__PURE__*/function () {\n  function Quantity(el) {\n    _classCallCheck(this, Quantity);\n\n    this.$el = $(el);\n    this.$inputParent = this.$el.find('.form-field--qty-input');\n    this.$input = this.$el.find('[data-quantity-input]');\n    this.$selectParent = this.$el.find('.form-field--qty-select');\n    this.$select = this.$el.find('[data-quantity-select]');\n    this._watchSelect = this._watchSelect.bind(this);\n    this._watchInput = this._watchInput.bind(this);\n    this.$select.on('change.quantity', this._watchSelect);\n    this.$input.on('change.quantity', this._watchInput);\n  }\n\n  _createClass(Quantity, [{\n    key: \"unload\",\n    value: function unload() {\n      this.$el.off('.quantity');\n    }\n  }, {\n    key: \"_validateValue\",\n    value: function _validateValue(event) {\n      var baseValue = parseInt(event.currentTarget.value, 10);\n      return isNaN(baseValue) ? 1 : baseValue;\n    }\n  }, {\n    key: \"_watchSelect\",\n    value: function _watchSelect(event) {\n      var value = this._validateValue(event); // Update input to match select\n\n\n      this.$input.val(value).trigger('change'); // Switch to quantity input when 10 or more\n\n      if (value >= 10) {\n        this.$inputParent.removeClass('hidden').addClass('visible');\n        this.$input.focus().removeAttr('tabindex').select();\n        this.$selectParent.removeClass('visible').addClass('hidden');\n        this.$select.attr('tabindex', '-1');\n      }\n    }\n  }, {\n    key: \"_watchInput\",\n    value: function _watchInput(event) {\n      this.$input.val(this._validateValue(event));\n    }\n  }]);\n\n  return Quantity;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL1F1YW50aXR5LmpzP2VhMzgiXSwibmFtZXMiOlsiUXVhbnRpdHkiLCJlbCIsIiRlbCIsIiQiLCIkaW5wdXRQYXJlbnQiLCJmaW5kIiwiJGlucHV0IiwiJHNlbGVjdFBhcmVudCIsIiRzZWxlY3QiLCJfd2F0Y2hTZWxlY3QiLCJiaW5kIiwiX3dhdGNoSW5wdXQiLCJvbiIsIm9mZiIsImV2ZW50IiwiYmFzZVZhbHVlIiwicGFyc2VJbnQiLCJjdXJyZW50VGFyZ2V0IiwidmFsdWUiLCJpc05hTiIsIl92YWxpZGF0ZVZhbHVlIiwidmFsIiwidHJpZ2dlciIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJmb2N1cyIsInJlbW92ZUF0dHIiLCJzZWxlY3QiLCJhdHRyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztJQUFxQkEsUTtBQUNuQixvQkFBWUMsRUFBWixFQUFnQjtBQUFBOztBQUNkLFNBQUtDLEdBQUwsR0FBV0MsQ0FBQyxDQUFDRixFQUFELENBQVo7QUFDQSxTQUFLRyxZQUFMLEdBQW9CLEtBQUtGLEdBQUwsQ0FBU0csSUFBVCxDQUFjLHdCQUFkLENBQXBCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLEtBQUtKLEdBQUwsQ0FBU0csSUFBVCxDQUFjLHVCQUFkLENBQWQ7QUFDQSxTQUFLRSxhQUFMLEdBQXFCLEtBQUtMLEdBQUwsQ0FBU0csSUFBVCxDQUFjLHlCQUFkLENBQXJCO0FBQ0EsU0FBS0csT0FBTCxHQUFlLEtBQUtOLEdBQUwsQ0FBU0csSUFBVCxDQUFjLHdCQUFkLENBQWY7QUFFQSxTQUFLSSxZQUFMLEdBQW9CLEtBQUtBLFlBQUwsQ0FBa0JDLElBQWxCLENBQXVCLElBQXZCLENBQXBCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQixLQUFLQSxXQUFMLENBQWlCRCxJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUVBLFNBQUtGLE9BQUwsQ0FBYUksRUFBYixDQUFnQixpQkFBaEIsRUFBbUMsS0FBS0gsWUFBeEM7QUFDQSxTQUFLSCxNQUFMLENBQVlNLEVBQVosQ0FBZSxpQkFBZixFQUFrQyxLQUFLRCxXQUF2QztBQUNEOzs7OzZCQUVRO0FBQ1AsV0FBS1QsR0FBTCxDQUFTVyxHQUFULENBQWEsV0FBYjtBQUNEOzs7bUNBRWNDLEssRUFBTztBQUNwQixVQUFNQyxTQUFTLEdBQUdDLFFBQVEsQ0FBQ0YsS0FBSyxDQUFDRyxhQUFOLENBQW9CQyxLQUFyQixFQUE0QixFQUE1QixDQUExQjtBQUVBLGFBQU9DLEtBQUssQ0FBQ0osU0FBRCxDQUFMLEdBQW1CLENBQW5CLEdBQXVCQSxTQUE5QjtBQUNEOzs7aUNBRVlELEssRUFBTztBQUNsQixVQUFNSSxLQUFLLEdBQUcsS0FBS0UsY0FBTCxDQUFvQk4sS0FBcEIsQ0FBZCxDQURrQixDQUdsQjs7O0FBQ0EsV0FBS1IsTUFBTCxDQUFZZSxHQUFaLENBQWdCSCxLQUFoQixFQUF1QkksT0FBdkIsQ0FBK0IsUUFBL0IsRUFKa0IsQ0FNbEI7O0FBQ0EsVUFBSUosS0FBSyxJQUFJLEVBQWIsRUFBaUI7QUFDZixhQUFLZCxZQUFMLENBQ0dtQixXQURILENBQ2UsUUFEZixFQUVHQyxRQUZILENBRVksU0FGWjtBQUlBLGFBQUtsQixNQUFMLENBQ0dtQixLQURILEdBRUdDLFVBRkgsQ0FFYyxVQUZkLEVBR0dDLE1BSEg7QUFLQSxhQUFLcEIsYUFBTCxDQUNHZ0IsV0FESCxDQUNlLFNBRGYsRUFFR0MsUUFGSCxDQUVZLFFBRlo7QUFJQSxhQUFLaEIsT0FBTCxDQUFhb0IsSUFBYixDQUFrQixVQUFsQixFQUE4QixJQUE5QjtBQUNEO0FBQ0Y7OztnQ0FFV2QsSyxFQUFPO0FBQ2pCLFdBQUtSLE1BQUwsQ0FBWWUsR0FBWixDQUFnQixLQUFLRCxjQUFMLENBQW9CTixLQUFwQixDQUFoQjtBQUNEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvaGVscGVycy9RdWFudGl0eS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1YW50aXR5IHtcbiAgY29uc3RydWN0b3IoZWwpIHtcbiAgICB0aGlzLiRlbCA9ICQoZWwpO1xuICAgIHRoaXMuJGlucHV0UGFyZW50ID0gdGhpcy4kZWwuZmluZCgnLmZvcm0tZmllbGQtLXF0eS1pbnB1dCcpO1xuICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtcXVhbnRpdHktaW5wdXRdJyk7XG4gICAgdGhpcy4kc2VsZWN0UGFyZW50ID0gdGhpcy4kZWwuZmluZCgnLmZvcm0tZmllbGQtLXF0eS1zZWxlY3QnKTtcbiAgICB0aGlzLiRzZWxlY3QgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1xdWFudGl0eS1zZWxlY3RdJyk7XG5cbiAgICB0aGlzLl93YXRjaFNlbGVjdCA9IHRoaXMuX3dhdGNoU2VsZWN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fd2F0Y2hJbnB1dCA9IHRoaXMuX3dhdGNoSW5wdXQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuJHNlbGVjdC5vbignY2hhbmdlLnF1YW50aXR5JywgdGhpcy5fd2F0Y2hTZWxlY3QpO1xuICAgIHRoaXMuJGlucHV0Lm9uKCdjaGFuZ2UucXVhbnRpdHknLCB0aGlzLl93YXRjaElucHV0KTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICB0aGlzLiRlbC5vZmYoJy5xdWFudGl0eScpO1xuICB9XG5cbiAgX3ZhbGlkYXRlVmFsdWUoZXZlbnQpIHtcbiAgICBjb25zdCBiYXNlVmFsdWUgPSBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlLCAxMCk7XG5cbiAgICByZXR1cm4gaXNOYU4oYmFzZVZhbHVlKSA/IDEgOiBiYXNlVmFsdWU7XG4gIH1cblxuICBfd2F0Y2hTZWxlY3QoZXZlbnQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3ZhbGlkYXRlVmFsdWUoZXZlbnQpO1xuXG4gICAgLy8gVXBkYXRlIGlucHV0IHRvIG1hdGNoIHNlbGVjdFxuICAgIHRoaXMuJGlucHV0LnZhbCh2YWx1ZSkudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAvLyBTd2l0Y2ggdG8gcXVhbnRpdHkgaW5wdXQgd2hlbiAxMCBvciBtb3JlXG4gICAgaWYgKHZhbHVlID49IDEwKSB7XG4gICAgICB0aGlzLiRpbnB1dFBhcmVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpXG4gICAgICAgIC5hZGRDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICB0aGlzLiRpbnB1dFxuICAgICAgICAuZm9jdXMoKVxuICAgICAgICAucmVtb3ZlQXR0cigndGFiaW5kZXgnKVxuICAgICAgICAuc2VsZWN0KCk7XG5cbiAgICAgIHRoaXMuJHNlbGVjdFBhcmVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICB0aGlzLiRzZWxlY3QuYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB9XG4gIH1cblxuICBfd2F0Y2hJbnB1dChldmVudCkge1xuICAgIHRoaXMuJGlucHV0LnZhbCh0aGlzLl92YWxpZGF0ZVZhbHVlKGV2ZW50KSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/helpers/Quantity.js\n");

/***/ }),

/***/ "./source/scripts/helpers/mapUtils.js":
/*!********************************************!*\
  !*** ./source/scripts/helpers/mapUtils.js ***!
  \********************************************/
/*! exports provided: createMap, displayErrorInThemeEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createMap\", function() { return createMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayErrorInThemeEditor\", function() { return displayErrorInThemeEditor; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n/*\n * Function to convert any given latitude and longitude format to decimal degrees\n */\n\nfunction getDecimalDegrees() {\n  var firstComponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var secondComponent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var thirdComponent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var fourthComponent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var directions = {\n    N: 1,\n    E: 1,\n    S: -1,\n    W: -1\n  };\n  var decimalDegrees = 0.0;\n  var components = [firstComponent, secondComponent, thirdComponent, fourthComponent];\n\n  for (var i = 0; i < components.length; i++) {\n    var component = components[i];\n\n    if (component) {\n      if (Number.isNaN(parseFloat(component))) {\n        decimalDegrees *= directions[component];\n      } else {\n        decimalDegrees += parseFloat(component) / Math.pow(60, i);\n      }\n    }\n  }\n\n  return decimalDegrees;\n}\n/*\n * By providing the ability to use a place name, or latitude and longitude coordinates\n * we give merchants, and our demo stores the option to bypass the Geocoding API.\n * The Geocoding API (https://developers.google.com/maps/documentation/geocoding/usage-and-billing) allows us\n * to take a place name and convert it to latitude and longitude expressed in decimal degrees.\n */\n\n\nfunction getLatitudeLongitude(address) {\n  var deferred = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred(); // Degrees, Minutes and Seconds: DDD° MM' SS.S\"\n\n  var latLongDegreesMinutesSeconds = /^([0-9]{1,3})(?:°[ ]?| )([0-9]{1,2})(?:'[ ]?| )([0-9]{1,2}(?:\\.[0-9]+)?)(?:\"[ ]?| )?(N|E|S|W) ?([0-9]{1,3})(?:°[ ]?| )([0-9]{1,2})(?:'[ ]?| )([0-9]{1,2}(?:\\.[0-9]+)?)(?:\"[ ]?| )?(N|E|S|W)$/g; // Degrees and Decimal Minutes: DDD° MM.MMM'\n\n  var latLongDegreesMinutes = /^([0-9]{1,3})(?:°[ ]?| )([0-9]{1,2}(?:\\.[0-9]+)?)(?:'[ ]?| )?(N|E|S|W) ?([0-9]{1,3})(?:°[ ]?| )([0-9]{1,2}(?:\\.[0-9]+)?)(?:'[ ]?| )?(N|E|S|W)$/g; // Decimal Degrees: DDD.DDDDD°\n\n  var latLongDegrees = /^([-|+]?[0-9]{1,3}(?:\\.[0-9]+)?)(?:°[ ]?| )?(N|E|S|W)?,? ?([-|+]?[0-9]{1,3}(?:\\.[0-9]+)?)(?:°[ ]?| )?(N|E|S|W)?$/g;\n  var latLongFormats = [latLongDegreesMinutesSeconds, latLongDegreesMinutes, latLongDegrees];\n  var latLongMatches = latLongFormats.map(function (latLongFormat) {\n    return address.match(latLongFormat);\n  });\n  /*\n   * Select the first latitude and longitude format that is matched.\n   * Ordering:\n   *   1. Degrees, minutes, and seconds,\n   *   2. Degrees, and decimal minutes,\n   *   3. Decimal degrees.\n   */\n\n  var latLongMatch = latLongMatches.reduce(function (accumulator, value, index) {\n    if (!accumulator && value) {\n      var latLongResult = latLongFormats[index].exec(address);\n      var lat = latLongResult.slice(1, latLongResult.length / 2 + 1);\n      var lng = latLongResult.slice(latLongResult.length / 2 + 1, latLongResult.length);\n      return {\n        lat: lat,\n        lng: lng\n      };\n    }\n\n    return accumulator;\n  }, null); // If we've got a match on latitude and longitude, use that and avoid geocoding\n\n  if (latLongMatch) {\n    var latDecimalDegrees = getDecimalDegrees.apply(void 0, _toConsumableArray(latLongMatch.lat));\n    var longDecimalDegrees = getDecimalDegrees.apply(void 0, _toConsumableArray(latLongMatch.lng));\n    deferred.resolve({\n      lat: latDecimalDegrees,\n      lng: longDecimalDegrees\n    });\n  } else {\n    // Otherwise, geocode the assumed address\n    var geocoder = new google.maps.Geocoder();\n    geocoder.geocode({\n      address: address\n    }, function (results, status) {\n      if (status !== google.maps.GeocoderStatus.OK) {\n        deferred.reject(status);\n      }\n\n      deferred.resolve(results[0].geometry.location);\n    });\n  }\n\n  return deferred;\n}\n\nfunction getMapStyles(colors) {\n  if (!colors) {\n    return [];\n  }\n\n  return [{\n    elementType: 'geometry',\n    stylers: [{\n      color: colors.e\n    }]\n  }, {\n    elementType: 'labels.icon',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    elementType: 'labels.text.fill',\n    stylers: [{\n      color: colors.a\n    }]\n  }, {\n    elementType: 'labels.text.stroke',\n    stylers: [{\n      color: colors.e\n    }]\n  }, {\n    featureType: 'administrative',\n    elementType: 'geometry',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'administrative.country',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'administrative.land_parcel',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'administrative.neighborhood',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'administrative.locality',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'poi',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'road',\n    elementType: 'geometry.fill',\n    stylers: [{\n      color: colors.d\n    }]\n  }, {\n    featureType: 'road',\n    elementType: 'labels.icon',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'road.arterial',\n    elementType: 'geometry',\n    stylers: [{\n      color: colors.c\n    }]\n  }, {\n    featureType: 'road.highway',\n    elementType: 'geometry',\n    stylers: [{\n      color: colors.b\n    }]\n  }, {\n    featureType: 'road.highway.controlled_access',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'road.local',\n    elementType: 'labels.text.fill',\n    stylers: [{\n      color: colors.b\n    }]\n  }, {\n    featureType: 'road.local',\n    elementType: 'labels.text.stroke',\n    stylers: [{\n      color: colors.e\n    }]\n  }, {\n    featureType: 'transit',\n    stylers: [{\n      visibility: 'off'\n    }]\n  }, {\n    featureType: 'water',\n    elementType: 'geometry',\n    stylers: [{\n      color: colors.f\n    }]\n  }];\n}\n\nfunction createMap(options) {\n  var deferred = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();\n  var container = options.container,\n      address = options.address,\n      zoom = options.zoom,\n      colors = options.colors;\n  getLatitudeLongitude(address).done(function (latLong) {\n    var map = new google.maps.Map(container, {\n      center: latLong,\n      clickableIcons: false,\n      disableDefaultUI: true,\n      disableDoubleClickZoom: true,\n      gestureHandling: 'none',\n      keyboardShortcuts: false,\n      maxZoom: zoom,\n      minZoom: zoom,\n      scrollWheel: false,\n      styles: getMapStyles(colors),\n      zoom: zoom,\n      zoomControl: false\n    });\n    new google.maps.Marker({\n      clickable: false,\n      map: map,\n      position: map.getCenter()\n    });\n    map.panBy(0, 0);\n    deferred.resolve(map);\n  }).fail(function (status) {\n    var usageLimits = 'https://developers.google.com/maps/faq#usagelimits';\n    var errorMessage;\n\n    switch (status) {\n      case 'ZERO_RESULTS':\n        errorMessage = \"<p>Unable to find the address:</p> \".concat(address);\n        break;\n\n      case 'OVER_QUERY_LIMIT':\n        errorMessage = \"\\n            <p>Unable to load Google Maps, you have reached your usage limit.</p>\\n            <p>\\n              Please visit\\n              <a href=\\\"\".concat(usageLimits, \"\\\" target=\\\"_blank\\\">\").concat(usageLimits, \"</a>\\n              for more details.\\n            </p>\\n          \");\n        break;\n\n      default:\n        errorMessage = 'Unable to load Google Maps.';\n        break;\n    }\n\n    deferred.reject(errorMessage);\n  });\n  return deferred;\n}\n\nfunction displayErrorInThemeEditor(container, errorMessage) {\n  var isThemeEditor = window.Shopify && window.Shopify.designMode;\n\n  if (!isThemeEditor) {\n    return;\n  }\n\n  container.innerHTML = \"<div class=\\\"map-error-message\\\">\".concat(errorMessage, \"</div>\");\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL21hcFV0aWxzLmpzPzc2YTciXSwibmFtZXMiOlsiZ2V0RGVjaW1hbERlZ3JlZXMiLCJmaXJzdENvbXBvbmVudCIsInNlY29uZENvbXBvbmVudCIsInRoaXJkQ29tcG9uZW50IiwiZm91cnRoQ29tcG9uZW50IiwiZGlyZWN0aW9ucyIsIk4iLCJFIiwiUyIsIlciLCJkZWNpbWFsRGVncmVlcyIsImNvbXBvbmVudHMiLCJpIiwibGVuZ3RoIiwiY29tcG9uZW50IiwiTnVtYmVyIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiZ2V0TGF0aXR1ZGVMb25naXR1ZGUiLCJhZGRyZXNzIiwiZGVmZXJyZWQiLCIkIiwiRGVmZXJyZWQiLCJsYXRMb25nRGVncmVlc01pbnV0ZXNTZWNvbmRzIiwibGF0TG9uZ0RlZ3JlZXNNaW51dGVzIiwibGF0TG9uZ0RlZ3JlZXMiLCJsYXRMb25nRm9ybWF0cyIsImxhdExvbmdNYXRjaGVzIiwibWFwIiwibGF0TG9uZ0Zvcm1hdCIsIm1hdGNoIiwibGF0TG9uZ01hdGNoIiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJ2YWx1ZSIsImluZGV4IiwibGF0TG9uZ1Jlc3VsdCIsImV4ZWMiLCJsYXQiLCJzbGljZSIsImxuZyIsImxhdERlY2ltYWxEZWdyZWVzIiwibG9uZ0RlY2ltYWxEZWdyZWVzIiwicmVzb2x2ZSIsImdlb2NvZGVyIiwiZ29vZ2xlIiwibWFwcyIsIkdlb2NvZGVyIiwiZ2VvY29kZSIsInJlc3VsdHMiLCJzdGF0dXMiLCJHZW9jb2RlclN0YXR1cyIsIk9LIiwicmVqZWN0IiwiZ2VvbWV0cnkiLCJsb2NhdGlvbiIsImdldE1hcFN0eWxlcyIsImNvbG9ycyIsImVsZW1lbnRUeXBlIiwic3R5bGVycyIsImNvbG9yIiwiZSIsInZpc2liaWxpdHkiLCJhIiwiZmVhdHVyZVR5cGUiLCJkIiwiYyIsImIiLCJmIiwiY3JlYXRlTWFwIiwib3B0aW9ucyIsImNvbnRhaW5lciIsInpvb20iLCJkb25lIiwibGF0TG9uZyIsIk1hcCIsImNlbnRlciIsImNsaWNrYWJsZUljb25zIiwiZGlzYWJsZURlZmF1bHRVSSIsImRpc2FibGVEb3VibGVDbGlja1pvb20iLCJnZXN0dXJlSGFuZGxpbmciLCJrZXlib2FyZFNob3J0Y3V0cyIsIm1heFpvb20iLCJtaW5ab29tIiwic2Nyb2xsV2hlZWwiLCJzdHlsZXMiLCJ6b29tQ29udHJvbCIsIk1hcmtlciIsImNsaWNrYWJsZSIsInBvc2l0aW9uIiwiZ2V0Q2VudGVyIiwicGFuQnkiLCJmYWlsIiwidXNhZ2VMaW1pdHMiLCJlcnJvck1lc3NhZ2UiLCJkaXNwbGF5RXJyb3JJblRoZW1lRWRpdG9yIiwiaXNUaGVtZUVkaXRvciIsIndpbmRvdyIsIlNob3BpZnkiLCJkZXNpZ25Nb2RlIiwiaW5uZXJIVE1MIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7Ozs7QUFHQSxTQUFTQSxpQkFBVCxHQUtFO0FBQUEsTUFKQUMsY0FJQSx1RUFKaUIsQ0FJakI7QUFBQSxNQUhBQyxlQUdBLHVFQUhrQixDQUdsQjtBQUFBLE1BRkFDLGNBRUEsdUVBRmlCLENBRWpCO0FBQUEsTUFEQUMsZUFDQSx1RUFEa0IsQ0FDbEI7QUFDQSxNQUFNQyxVQUFVLEdBQUc7QUFDakJDLEtBQUMsRUFBRSxDQURjO0FBRWpCQyxLQUFDLEVBQUUsQ0FGYztBQUdqQkMsS0FBQyxFQUFFLENBQUMsQ0FIYTtBQUlqQkMsS0FBQyxFQUFFLENBQUM7QUFKYSxHQUFuQjtBQU1BLE1BQUlDLGNBQWMsR0FBRyxHQUFyQjtBQUNBLE1BQU1DLFVBQVUsR0FBRyxDQUFDVixjQUFELEVBQWlCQyxlQUFqQixFQUFrQ0MsY0FBbEMsRUFBa0RDLGVBQWxELENBQW5COztBQUVBLE9BQUssSUFBSVEsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0QsVUFBVSxDQUFDRSxNQUEvQixFQUF1Q0QsQ0FBQyxFQUF4QyxFQUE0QztBQUMxQyxRQUFNRSxTQUFTLEdBQUdILFVBQVUsQ0FBQ0MsQ0FBRCxDQUE1Qjs7QUFFQSxRQUFJRSxTQUFKLEVBQWU7QUFDYixVQUFJQyxNQUFNLENBQUNDLEtBQVAsQ0FBYUMsVUFBVSxDQUFDSCxTQUFELENBQXZCLENBQUosRUFBeUM7QUFDdkNKLHNCQUFjLElBQUlMLFVBQVUsQ0FBQ1MsU0FBRCxDQUE1QjtBQUNELE9BRkQsTUFFTztBQUNMSixzQkFBYyxJQUFJTyxVQUFVLENBQUNILFNBQUQsQ0FBVixZQUF5QixFQUF6QixFQUErQkYsQ0FBL0IsQ0FBbEI7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsU0FBT0YsY0FBUDtBQUNEO0FBRUQ7Ozs7Ozs7O0FBTUEsU0FBU1Esb0JBQVQsQ0FBOEJDLE9BQTlCLEVBQXVDO0FBQ3JDLE1BQU1DLFFBQVEsR0FBR0MsNkNBQUMsQ0FBQ0MsUUFBRixFQUFqQixDQURxQyxDQUVyQzs7QUFDQSxNQUFNQyw0QkFBNEIsR0FBRywrTEFBckMsQ0FIcUMsQ0FJckM7O0FBQ0EsTUFBTUMscUJBQXFCLEdBQUcsaUpBQTlCLENBTHFDLENBTXJDOztBQUNBLE1BQU1DLGNBQWMsR0FBRyxtSEFBdkI7QUFDQSxNQUFNQyxjQUFjLEdBQUcsQ0FBQ0gsNEJBQUQsRUFBK0JDLHFCQUEvQixFQUFzREMsY0FBdEQsQ0FBdkI7QUFDQSxNQUFNRSxjQUFjLEdBQUdELGNBQWMsQ0FBQ0UsR0FBZixDQUFtQixVQUFBQyxhQUFhO0FBQUEsV0FBSVYsT0FBTyxDQUFDVyxLQUFSLENBQWNELGFBQWQsQ0FBSjtBQUFBLEdBQWhDLENBQXZCO0FBRUE7Ozs7Ozs7O0FBT0EsTUFBTUUsWUFBWSxHQUFHSixjQUFjLENBQUNLLE1BQWYsQ0FBc0IsVUFBQ0MsV0FBRCxFQUFjQyxLQUFkLEVBQXFCQyxLQUFyQixFQUErQjtBQUN4RSxRQUFJLENBQUNGLFdBQUQsSUFBZ0JDLEtBQXBCLEVBQTJCO0FBQ3pCLFVBQU1FLGFBQWEsR0FBR1YsY0FBYyxDQUFDUyxLQUFELENBQWQsQ0FBc0JFLElBQXRCLENBQTJCbEIsT0FBM0IsQ0FBdEI7QUFDQSxVQUFNbUIsR0FBRyxHQUFHRixhQUFhLENBQUNHLEtBQWQsQ0FBb0IsQ0FBcEIsRUFBdUJILGFBQWEsQ0FBQ3ZCLE1BQWQsR0FBdUIsQ0FBdkIsR0FBMkIsQ0FBbEQsQ0FBWjtBQUNBLFVBQU0yQixHQUFHLEdBQUdKLGFBQWEsQ0FBQ0csS0FBZCxDQUFvQkgsYUFBYSxDQUFDdkIsTUFBZCxHQUF1QixDQUF2QixHQUEyQixDQUEvQyxFQUFrRHVCLGFBQWEsQ0FBQ3ZCLE1BQWhFLENBQVo7QUFFQSxhQUFPO0FBQ0x5QixXQUFHLEVBQUhBLEdBREs7QUFFTEUsV0FBRyxFQUFIQTtBQUZLLE9BQVA7QUFJRDs7QUFFRCxXQUFPUCxXQUFQO0FBQ0QsR0Fib0IsRUFhbEIsSUFia0IsQ0FBckIsQ0FsQnFDLENBaUNyQzs7QUFDQSxNQUFJRixZQUFKLEVBQWtCO0FBQ2hCLFFBQU1VLGlCQUFpQixHQUFHekMsaUJBQWlCLE1BQWpCLDRCQUFxQitCLFlBQVksQ0FBQ08sR0FBbEMsRUFBMUI7QUFDQSxRQUFNSSxrQkFBa0IsR0FBRzFDLGlCQUFpQixNQUFqQiw0QkFBcUIrQixZQUFZLENBQUNTLEdBQWxDLEVBQTNCO0FBRUFwQixZQUFRLENBQUN1QixPQUFULENBQWlCO0FBQ2ZMLFNBQUcsRUFBRUcsaUJBRFU7QUFFZkQsU0FBRyxFQUFFRTtBQUZVLEtBQWpCO0FBSUQsR0FSRCxNQVFPO0FBQ0w7QUFDQSxRQUFNRSxRQUFRLEdBQUcsSUFBSUMsTUFBTSxDQUFDQyxJQUFQLENBQVlDLFFBQWhCLEVBQWpCO0FBRUFILFlBQVEsQ0FBQ0ksT0FBVCxDQUFpQjtBQUFFN0IsYUFBTyxFQUFQQTtBQUFGLEtBQWpCLEVBQThCLFVBQUM4QixPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDakQsVUFBSUEsTUFBTSxLQUFLTCxNQUFNLENBQUNDLElBQVAsQ0FBWUssY0FBWixDQUEyQkMsRUFBMUMsRUFBOEM7QUFDNUNoQyxnQkFBUSxDQUFDaUMsTUFBVCxDQUFnQkgsTUFBaEI7QUFDRDs7QUFFRDlCLGNBQVEsQ0FBQ3VCLE9BQVQsQ0FBaUJNLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBV0ssUUFBWCxDQUFvQkMsUUFBckM7QUFDRCxLQU5EO0FBT0Q7O0FBRUQsU0FBT25DLFFBQVA7QUFDRDs7QUFFRCxTQUFTb0MsWUFBVCxDQUFzQkMsTUFBdEIsRUFBOEI7QUFDNUIsTUFBSSxDQUFDQSxNQUFMLEVBQWE7QUFDWCxXQUFPLEVBQVA7QUFDRDs7QUFFRCxTQUFPLENBQ0w7QUFBRUMsZUFBVyxFQUFFLFVBQWY7QUFBMkJDLFdBQU8sRUFBRSxDQUFDO0FBQUVDLFdBQUssRUFBRUgsTUFBTSxDQUFDSTtBQUFoQixLQUFEO0FBQXBDLEdBREssRUFFTDtBQUFFSCxlQUFXLEVBQUUsYUFBZjtBQUE4QkMsV0FBTyxFQUFFLENBQUM7QUFBRUcsZ0JBQVUsRUFBRTtBQUFkLEtBQUQ7QUFBdkMsR0FGSyxFQUdMO0FBQUVKLGVBQVcsRUFBRSxrQkFBZjtBQUFtQ0MsV0FBTyxFQUFFLENBQUM7QUFBRUMsV0FBSyxFQUFFSCxNQUFNLENBQUNNO0FBQWhCLEtBQUQ7QUFBNUMsR0FISyxFQUlMO0FBQUVMLGVBQVcsRUFBRSxvQkFBZjtBQUFxQ0MsV0FBTyxFQUFFLENBQUM7QUFBRUMsV0FBSyxFQUFFSCxNQUFNLENBQUNJO0FBQWhCLEtBQUQ7QUFBOUMsR0FKSyxFQUtMO0FBQUVHLGVBQVcsRUFBRSxnQkFBZjtBQUFpQ04sZUFBVyxFQUFFLFVBQTlDO0FBQTBEQyxXQUFPLEVBQUUsQ0FBQztBQUFFRyxnQkFBVSxFQUFFO0FBQWQsS0FBRDtBQUFuRSxHQUxLLEVBTUw7QUFBRUUsZUFBVyxFQUFFLHdCQUFmO0FBQXlDTCxXQUFPLEVBQUUsQ0FBQztBQUFFRyxnQkFBVSxFQUFFO0FBQWQsS0FBRDtBQUFsRCxHQU5LLEVBT0w7QUFBRUUsZUFBVyxFQUFFLDRCQUFmO0FBQTZDTCxXQUFPLEVBQUUsQ0FBQztBQUFFRyxnQkFBVSxFQUFFO0FBQWQsS0FBRDtBQUF0RCxHQVBLLEVBUUw7QUFBRUUsZUFBVyxFQUFFLDZCQUFmO0FBQThDTCxXQUFPLEVBQUUsQ0FBQztBQUFFRyxnQkFBVSxFQUFFO0FBQWQsS0FBRDtBQUF2RCxHQVJLLEVBU0w7QUFBRUUsZUFBVyxFQUFFLHlCQUFmO0FBQTBDTCxXQUFPLEVBQUUsQ0FBQztBQUFFRyxnQkFBVSxFQUFFO0FBQWQsS0FBRDtBQUFuRCxHQVRLLEVBVUw7QUFBRUUsZUFBVyxFQUFFLEtBQWY7QUFBc0JMLFdBQU8sRUFBRSxDQUFDO0FBQUVHLGdCQUFVLEVBQUU7QUFBZCxLQUFEO0FBQS9CLEdBVkssRUFXTDtBQUFFRSxlQUFXLEVBQUUsTUFBZjtBQUF1Qk4sZUFBVyxFQUFFLGVBQXBDO0FBQXFEQyxXQUFPLEVBQUUsQ0FBQztBQUFFQyxXQUFLLEVBQUVILE1BQU0sQ0FBQ1E7QUFBaEIsS0FBRDtBQUE5RCxHQVhLLEVBWUw7QUFBRUQsZUFBVyxFQUFFLE1BQWY7QUFBdUJOLGVBQVcsRUFBRSxhQUFwQztBQUFtREMsV0FBTyxFQUFFLENBQUM7QUFBRUcsZ0JBQVUsRUFBRTtBQUFkLEtBQUQ7QUFBNUQsR0FaSyxFQWFMO0FBQUVFLGVBQVcsRUFBRSxlQUFmO0FBQWdDTixlQUFXLEVBQUUsVUFBN0M7QUFBeURDLFdBQU8sRUFBRSxDQUFDO0FBQUVDLFdBQUssRUFBRUgsTUFBTSxDQUFDUztBQUFoQixLQUFEO0FBQWxFLEdBYkssRUFjTDtBQUFFRixlQUFXLEVBQUUsY0FBZjtBQUErQk4sZUFBVyxFQUFFLFVBQTVDO0FBQXdEQyxXQUFPLEVBQUUsQ0FBQztBQUFFQyxXQUFLLEVBQUVILE1BQU0sQ0FBQ1U7QUFBaEIsS0FBRDtBQUFqRSxHQWRLLEVBZUw7QUFBRUgsZUFBVyxFQUFFLGdDQUFmO0FBQWlETCxXQUFPLEVBQUUsQ0FBQztBQUFFRyxnQkFBVSxFQUFFO0FBQWQsS0FBRDtBQUExRCxHQWZLLEVBZ0JMO0FBQUVFLGVBQVcsRUFBRSxZQUFmO0FBQTZCTixlQUFXLEVBQUUsa0JBQTFDO0FBQThEQyxXQUFPLEVBQUUsQ0FBQztBQUFFQyxXQUFLLEVBQUVILE1BQU0sQ0FBQ1U7QUFBaEIsS0FBRDtBQUF2RSxHQWhCSyxFQWlCTDtBQUFFSCxlQUFXLEVBQUUsWUFBZjtBQUE2Qk4sZUFBVyxFQUFFLG9CQUExQztBQUFnRUMsV0FBTyxFQUFFLENBQUM7QUFBRUMsV0FBSyxFQUFFSCxNQUFNLENBQUNJO0FBQWhCLEtBQUQ7QUFBekUsR0FqQkssRUFrQkw7QUFBRUcsZUFBVyxFQUFFLFNBQWY7QUFBMEJMLFdBQU8sRUFBRSxDQUFDO0FBQUVHLGdCQUFVLEVBQUU7QUFBZCxLQUFEO0FBQW5DLEdBbEJLLEVBbUJMO0FBQUVFLGVBQVcsRUFBRSxPQUFmO0FBQXdCTixlQUFXLEVBQUUsVUFBckM7QUFBaURDLFdBQU8sRUFBRSxDQUFDO0FBQUVDLFdBQUssRUFBRUgsTUFBTSxDQUFDVztBQUFoQixLQUFEO0FBQTFELEdBbkJLLENBQVA7QUFxQkQ7O0FBRUQsU0FBU0MsU0FBVCxDQUFtQkMsT0FBbkIsRUFBNEI7QUFDMUIsTUFBTWxELFFBQVEsR0FBR0MsNkNBQUMsQ0FBQ0MsUUFBRixFQUFqQjtBQUQwQixNQUd4QmlELFNBSHdCLEdBT3RCRCxPQVBzQixDQUd4QkMsU0FId0I7QUFBQSxNQUl4QnBELE9BSndCLEdBT3RCbUQsT0FQc0IsQ0FJeEJuRCxPQUp3QjtBQUFBLE1BS3hCcUQsSUFMd0IsR0FPdEJGLE9BUHNCLENBS3hCRSxJQUx3QjtBQUFBLE1BTXhCZixNQU53QixHQU90QmEsT0FQc0IsQ0FNeEJiLE1BTndCO0FBUzFCdkMsc0JBQW9CLENBQUNDLE9BQUQsQ0FBcEIsQ0FDR3NELElBREgsQ0FDUSxVQUFDQyxPQUFELEVBQWE7QUFDakIsUUFBTTlDLEdBQUcsR0FBRyxJQUFJaUIsTUFBTSxDQUFDQyxJQUFQLENBQVk2QixHQUFoQixDQUFvQkosU0FBcEIsRUFBK0I7QUFDekNLLFlBQU0sRUFBRUYsT0FEaUM7QUFFekNHLG9CQUFjLEVBQUUsS0FGeUI7QUFHekNDLHNCQUFnQixFQUFFLElBSHVCO0FBSXpDQyw0QkFBc0IsRUFBRSxJQUppQjtBQUt6Q0MscUJBQWUsRUFBRSxNQUx3QjtBQU16Q0MsdUJBQWlCLEVBQUUsS0FOc0I7QUFPekNDLGFBQU8sRUFBRVYsSUFQZ0M7QUFRekNXLGFBQU8sRUFBRVgsSUFSZ0M7QUFTekNZLGlCQUFXLEVBQUUsS0FUNEI7QUFVekNDLFlBQU0sRUFBRTdCLFlBQVksQ0FBQ0MsTUFBRCxDQVZxQjtBQVd6Q2UsVUFBSSxFQUFKQSxJQVh5QztBQVl6Q2MsaUJBQVcsRUFBRTtBQVo0QixLQUEvQixDQUFaO0FBZUEsUUFBSXpDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZeUMsTUFBaEIsQ0FBdUI7QUFDckJDLGVBQVMsRUFBRSxLQURVO0FBRXJCNUQsU0FBRyxFQUFIQSxHQUZxQjtBQUdyQjZELGNBQVEsRUFBRTdELEdBQUcsQ0FBQzhELFNBQUo7QUFIVyxLQUF2QjtBQU1BOUQsT0FBRyxDQUFDK0QsS0FBSixDQUFVLENBQVYsRUFBYSxDQUFiO0FBQ0F2RSxZQUFRLENBQUN1QixPQUFULENBQWlCZixHQUFqQjtBQUNELEdBekJILEVBMEJHZ0UsSUExQkgsQ0EwQlEsVUFBQzFDLE1BQUQsRUFBWTtBQUNoQixRQUFNMkMsV0FBVyxHQUFHLG9EQUFwQjtBQUNBLFFBQUlDLFlBQUo7O0FBRUEsWUFBUTVDLE1BQVI7QUFDRSxXQUFLLGNBQUw7QUFDRTRDLG9CQUFZLGdEQUF5QzNFLE9BQXpDLENBQVo7QUFDQTs7QUFDRixXQUFLLGtCQUFMO0FBQ0UyRSxvQkFBWSx1S0FJR0QsV0FKSCxrQ0FJbUNBLFdBSm5DLHdFQUFaO0FBUUE7O0FBQ0Y7QUFDRUMsb0JBQVksR0FBRyw2QkFBZjtBQUNBO0FBaEJKOztBQW1CQTFFLFlBQVEsQ0FBQ2lDLE1BQVQsQ0FBZ0J5QyxZQUFoQjtBQUNELEdBbERIO0FBb0RBLFNBQU8xRSxRQUFQO0FBQ0Q7O0FBRUQsU0FBUzJFLHlCQUFULENBQW1DeEIsU0FBbkMsRUFBOEN1QixZQUE5QyxFQUE0RDtBQUMxRCxNQUFNRSxhQUFhLEdBQUdDLE1BQU0sQ0FBQ0MsT0FBUCxJQUFrQkQsTUFBTSxDQUFDQyxPQUFQLENBQWVDLFVBQXZEOztBQUVBLE1BQUksQ0FBQ0gsYUFBTCxFQUFvQjtBQUNsQjtBQUNEOztBQUVEekIsV0FBUyxDQUFDNkIsU0FBViw4Q0FBd0ROLFlBQXhEO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL21hcFV0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuLypcbiAqIEZ1bmN0aW9uIHRvIGNvbnZlcnQgYW55IGdpdmVuIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgZm9ybWF0IHRvIGRlY2ltYWwgZGVncmVlc1xuICovXG5mdW5jdGlvbiBnZXREZWNpbWFsRGVncmVlcyhcbiAgZmlyc3RDb21wb25lbnQgPSAwLFxuICBzZWNvbmRDb21wb25lbnQgPSAwLFxuICB0aGlyZENvbXBvbmVudCA9IDAsXG4gIGZvdXJ0aENvbXBvbmVudCA9IDAsXG4pIHtcbiAgY29uc3QgZGlyZWN0aW9ucyA9IHtcbiAgICBOOiAxLFxuICAgIEU6IDEsXG4gICAgUzogLTEsXG4gICAgVzogLTEsXG4gIH07XG4gIGxldCBkZWNpbWFsRGVncmVlcyA9IDAuMDtcbiAgY29uc3QgY29tcG9uZW50cyA9IFtmaXJzdENvbXBvbmVudCwgc2Vjb25kQ29tcG9uZW50LCB0aGlyZENvbXBvbmVudCwgZm91cnRoQ29tcG9uZW50XTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBjb21wb25lbnRzW2ldO1xuXG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgaWYgKE51bWJlci5pc05hTihwYXJzZUZsb2F0KGNvbXBvbmVudCkpKSB7XG4gICAgICAgIGRlY2ltYWxEZWdyZWVzICo9IGRpcmVjdGlvbnNbY29tcG9uZW50XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlY2ltYWxEZWdyZWVzICs9IHBhcnNlRmxvYXQoY29tcG9uZW50KSAvICg2MCAqKiBpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVjaW1hbERlZ3JlZXM7XG59XG5cbi8qXG4gKiBCeSBwcm92aWRpbmcgdGhlIGFiaWxpdHkgdG8gdXNlIGEgcGxhY2UgbmFtZSwgb3IgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBjb29yZGluYXRlc1xuICogd2UgZ2l2ZSBtZXJjaGFudHMsIGFuZCBvdXIgZGVtbyBzdG9yZXMgdGhlIG9wdGlvbiB0byBieXBhc3MgdGhlIEdlb2NvZGluZyBBUEkuXG4gKiBUaGUgR2VvY29kaW5nIEFQSSAoaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2dlb2NvZGluZy91c2FnZS1hbmQtYmlsbGluZykgYWxsb3dzIHVzXG4gKiB0byB0YWtlIGEgcGxhY2UgbmFtZSBhbmQgY29udmVydCBpdCB0byBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIGV4cHJlc3NlZCBpbiBkZWNpbWFsIGRlZ3JlZXMuXG4gKi9cbmZ1bmN0aW9uIGdldExhdGl0dWRlTG9uZ2l0dWRlKGFkZHJlc3MpIHtcbiAgY29uc3QgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gIC8vIERlZ3JlZXMsIE1pbnV0ZXMgYW5kIFNlY29uZHM6IERERMKwIE1NJyBTUy5TXCJcbiAgY29uc3QgbGF0TG9uZ0RlZ3JlZXNNaW51dGVzU2Vjb25kcyA9IC9eKFswLTldezEsM30pKD86wrBbIF0/fCApKFswLTldezEsMn0pKD86J1sgXT98ICkoWzAtOV17MSwyfSg/OlxcLlswLTldKyk/KSg/OlwiWyBdP3wgKT8oTnxFfFN8VykgPyhbMC05XXsxLDN9KSg/OsKwWyBdP3wgKShbMC05XXsxLDJ9KSg/OidbIF0/fCApKFswLTldezEsMn0oPzpcXC5bMC05XSspPykoPzpcIlsgXT98ICk/KE58RXxTfFcpJC9nO1xuICAvLyBEZWdyZWVzIGFuZCBEZWNpbWFsIE1pbnV0ZXM6IERERMKwIE1NLk1NTSdcbiAgY29uc3QgbGF0TG9uZ0RlZ3JlZXNNaW51dGVzID0gL14oWzAtOV17MSwzfSkoPzrCsFsgXT98ICkoWzAtOV17MSwyfSg/OlxcLlswLTldKyk/KSg/OidbIF0/fCApPyhOfEV8U3xXKSA/KFswLTldezEsM30pKD86wrBbIF0/fCApKFswLTldezEsMn0oPzpcXC5bMC05XSspPykoPzonWyBdP3wgKT8oTnxFfFN8VykkL2c7XG4gIC8vIERlY2ltYWwgRGVncmVlczogRERELkREREREwrBcbiAgY29uc3QgbGF0TG9uZ0RlZ3JlZXMgPSAvXihbLXwrXT9bMC05XXsxLDN9KD86XFwuWzAtOV0rKT8pKD86wrBbIF0/fCApPyhOfEV8U3xXKT8sPyA/KFstfCtdP1swLTldezEsM30oPzpcXC5bMC05XSspPykoPzrCsFsgXT98ICk/KE58RXxTfFcpPyQvZztcbiAgY29uc3QgbGF0TG9uZ0Zvcm1hdHMgPSBbbGF0TG9uZ0RlZ3JlZXNNaW51dGVzU2Vjb25kcywgbGF0TG9uZ0RlZ3JlZXNNaW51dGVzLCBsYXRMb25nRGVncmVlc107XG4gIGNvbnN0IGxhdExvbmdNYXRjaGVzID0gbGF0TG9uZ0Zvcm1hdHMubWFwKGxhdExvbmdGb3JtYXQgPT4gYWRkcmVzcy5tYXRjaChsYXRMb25nRm9ybWF0KSk7XG5cbiAgLypcbiAgICogU2VsZWN0IHRoZSBmaXJzdCBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIGZvcm1hdCB0aGF0IGlzIG1hdGNoZWQuXG4gICAqIE9yZGVyaW5nOlxuICAgKiAgIDEuIERlZ3JlZXMsIG1pbnV0ZXMsIGFuZCBzZWNvbmRzLFxuICAgKiAgIDIuIERlZ3JlZXMsIGFuZCBkZWNpbWFsIG1pbnV0ZXMsXG4gICAqICAgMy4gRGVjaW1hbCBkZWdyZWVzLlxuICAgKi9cbiAgY29uc3QgbGF0TG9uZ01hdGNoID0gbGF0TG9uZ01hdGNoZXMucmVkdWNlKChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFhY2N1bXVsYXRvciAmJiB2YWx1ZSkge1xuICAgICAgY29uc3QgbGF0TG9uZ1Jlc3VsdCA9IGxhdExvbmdGb3JtYXRzW2luZGV4XS5leGVjKGFkZHJlc3MpO1xuICAgICAgY29uc3QgbGF0ID0gbGF0TG9uZ1Jlc3VsdC5zbGljZSgxLCBsYXRMb25nUmVzdWx0Lmxlbmd0aCAvIDIgKyAxKTtcbiAgICAgIGNvbnN0IGxuZyA9IGxhdExvbmdSZXN1bHQuc2xpY2UobGF0TG9uZ1Jlc3VsdC5sZW5ndGggLyAyICsgMSwgbGF0TG9uZ1Jlc3VsdC5sZW5ndGgpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXQsXG4gICAgICAgIGxuZyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9LCBudWxsKTtcblxuICAvLyBJZiB3ZSd2ZSBnb3QgYSBtYXRjaCBvbiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlLCB1c2UgdGhhdCBhbmQgYXZvaWQgZ2VvY29kaW5nXG4gIGlmIChsYXRMb25nTWF0Y2gpIHtcbiAgICBjb25zdCBsYXREZWNpbWFsRGVncmVlcyA9IGdldERlY2ltYWxEZWdyZWVzKC4uLmxhdExvbmdNYXRjaC5sYXQpO1xuICAgIGNvbnN0IGxvbmdEZWNpbWFsRGVncmVlcyA9IGdldERlY2ltYWxEZWdyZWVzKC4uLmxhdExvbmdNYXRjaC5sbmcpO1xuXG4gICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICBsYXQ6IGxhdERlY2ltYWxEZWdyZWVzLFxuICAgICAgbG5nOiBsb25nRGVjaW1hbERlZ3JlZXMsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gT3RoZXJ3aXNlLCBnZW9jb2RlIHRoZSBhc3N1bWVkIGFkZHJlc3NcbiAgICBjb25zdCBnZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpO1xuXG4gICAgZ2VvY29kZXIuZ2VvY29kZSh7IGFkZHJlc3MgfSwgKHJlc3VsdHMsIHN0YXR1cykgPT4ge1xuICAgICAgaWYgKHN0YXR1cyAhPT0gZ29vZ2xlLm1hcHMuR2VvY29kZXJTdGF0dXMuT0spIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHN0YXR1cyk7XG4gICAgICB9XG5cbiAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZGVmZXJyZWQ7XG59XG5cbmZ1bmN0aW9uIGdldE1hcFN0eWxlcyhjb2xvcnMpIHtcbiAgaWYgKCFjb2xvcnMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gW1xuICAgIHsgZWxlbWVudFR5cGU6ICdnZW9tZXRyeScsIHN0eWxlcnM6IFt7IGNvbG9yOiBjb2xvcnMuZSB9XSB9LFxuICAgIHsgZWxlbWVudFR5cGU6ICdsYWJlbHMuaWNvbicsIHN0eWxlcnM6IFt7IHZpc2liaWxpdHk6ICdvZmYnIH1dIH0sXG4gICAgeyBlbGVtZW50VHlwZTogJ2xhYmVscy50ZXh0LmZpbGwnLCBzdHlsZXJzOiBbeyBjb2xvcjogY29sb3JzLmEgfV0gfSxcbiAgICB7IGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuc3Ryb2tlJywgc3R5bGVyczogW3sgY29sb3I6IGNvbG9ycy5lIH1dIH0sXG4gICAgeyBmZWF0dXJlVHlwZTogJ2FkbWluaXN0cmF0aXZlJywgZWxlbWVudFR5cGU6ICdnZW9tZXRyeScsIHN0eWxlcnM6IFt7IHZpc2liaWxpdHk6ICdvZmYnIH1dIH0sXG4gICAgeyBmZWF0dXJlVHlwZTogJ2FkbWluaXN0cmF0aXZlLmNvdW50cnknLCBzdHlsZXJzOiBbeyB2aXNpYmlsaXR5OiAnb2ZmJyB9XSB9LFxuICAgIHsgZmVhdHVyZVR5cGU6ICdhZG1pbmlzdHJhdGl2ZS5sYW5kX3BhcmNlbCcsIHN0eWxlcnM6IFt7IHZpc2liaWxpdHk6ICdvZmYnIH1dIH0sXG4gICAgeyBmZWF0dXJlVHlwZTogJ2FkbWluaXN0cmF0aXZlLm5laWdoYm9yaG9vZCcsIHN0eWxlcnM6IFt7IHZpc2liaWxpdHk6ICdvZmYnIH1dIH0sXG4gICAgeyBmZWF0dXJlVHlwZTogJ2FkbWluaXN0cmF0aXZlLmxvY2FsaXR5Jywgc3R5bGVyczogW3sgdmlzaWJpbGl0eTogJ29mZicgfV0gfSxcbiAgICB7IGZlYXR1cmVUeXBlOiAncG9pJywgc3R5bGVyczogW3sgdmlzaWJpbGl0eTogJ29mZicgfV0gfSxcbiAgICB7IGZlYXR1cmVUeXBlOiAncm9hZCcsIGVsZW1lbnRUeXBlOiAnZ2VvbWV0cnkuZmlsbCcsIHN0eWxlcnM6IFt7IGNvbG9yOiBjb2xvcnMuZCB9XSB9LFxuICAgIHsgZmVhdHVyZVR5cGU6ICdyb2FkJywgZWxlbWVudFR5cGU6ICdsYWJlbHMuaWNvbicsIHN0eWxlcnM6IFt7IHZpc2liaWxpdHk6ICdvZmYnIH1dIH0sXG4gICAgeyBmZWF0dXJlVHlwZTogJ3JvYWQuYXJ0ZXJpYWwnLCBlbGVtZW50VHlwZTogJ2dlb21ldHJ5Jywgc3R5bGVyczogW3sgY29sb3I6IGNvbG9ycy5jIH1dIH0sXG4gICAgeyBmZWF0dXJlVHlwZTogJ3JvYWQuaGlnaHdheScsIGVsZW1lbnRUeXBlOiAnZ2VvbWV0cnknLCBzdHlsZXJzOiBbeyBjb2xvcjogY29sb3JzLmIgfV0gfSxcbiAgICB7IGZlYXR1cmVUeXBlOiAncm9hZC5oaWdod2F5LmNvbnRyb2xsZWRfYWNjZXNzJywgc3R5bGVyczogW3sgdmlzaWJpbGl0eTogJ29mZicgfV0gfSxcbiAgICB7IGZlYXR1cmVUeXBlOiAncm9hZC5sb2NhbCcsIGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuZmlsbCcsIHN0eWxlcnM6IFt7IGNvbG9yOiBjb2xvcnMuYiB9XSB9LFxuICAgIHsgZmVhdHVyZVR5cGU6ICdyb2FkLmxvY2FsJywgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5zdHJva2UnLCBzdHlsZXJzOiBbeyBjb2xvcjogY29sb3JzLmUgfV0gfSxcbiAgICB7IGZlYXR1cmVUeXBlOiAndHJhbnNpdCcsIHN0eWxlcnM6IFt7IHZpc2liaWxpdHk6ICdvZmYnIH1dIH0sXG4gICAgeyBmZWF0dXJlVHlwZTogJ3dhdGVyJywgZWxlbWVudFR5cGU6ICdnZW9tZXRyeScsIHN0eWxlcnM6IFt7IGNvbG9yOiBjb2xvcnMuZiB9XSB9LFxuICBdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXAob3B0aW9ucykge1xuICBjb25zdCBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgY29uc3Qge1xuICAgIGNvbnRhaW5lcixcbiAgICBhZGRyZXNzLFxuICAgIHpvb20sXG4gICAgY29sb3JzLFxuICB9ID0gb3B0aW9ucztcblxuICBnZXRMYXRpdHVkZUxvbmdpdHVkZShhZGRyZXNzKVxuICAgIC5kb25lKChsYXRMb25nKSA9PiB7XG4gICAgICBjb25zdCBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGNvbnRhaW5lciwge1xuICAgICAgICBjZW50ZXI6IGxhdExvbmcsXG4gICAgICAgIGNsaWNrYWJsZUljb25zOiBmYWxzZSxcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZSxcbiAgICAgICAgZGlzYWJsZURvdWJsZUNsaWNrWm9vbTogdHJ1ZSxcbiAgICAgICAgZ2VzdHVyZUhhbmRsaW5nOiAnbm9uZScsXG4gICAgICAgIGtleWJvYXJkU2hvcnRjdXRzOiBmYWxzZSxcbiAgICAgICAgbWF4Wm9vbTogem9vbSxcbiAgICAgICAgbWluWm9vbTogem9vbSxcbiAgICAgICAgc2Nyb2xsV2hlZWw6IGZhbHNlLFxuICAgICAgICBzdHlsZXM6IGdldE1hcFN0eWxlcyhjb2xvcnMpLFxuICAgICAgICB6b29tLFxuICAgICAgICB6b29tQ29udHJvbDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgIGNsaWNrYWJsZTogZmFsc2UsXG4gICAgICAgIG1hcCxcbiAgICAgICAgcG9zaXRpb246IG1hcC5nZXRDZW50ZXIoKSxcbiAgICAgIH0pO1xuXG4gICAgICBtYXAucGFuQnkoMCwgMCk7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKG1hcCk7XG4gICAgfSlcbiAgICAuZmFpbCgoc3RhdHVzKSA9PiB7XG4gICAgICBjb25zdCB1c2FnZUxpbWl0cyA9ICdodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2ZhcSN1c2FnZWxpbWl0cyc7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlO1xuXG4gICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICBjYXNlICdaRVJPX1JFU1VMVFMnOlxuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGA8cD5VbmFibGUgdG8gZmluZCB0aGUgYWRkcmVzczo8L3A+ICR7YWRkcmVzc31gO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdPVkVSX1FVRVJZX0xJTUlUJzpcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBgXG4gICAgICAgICAgICA8cD5VbmFibGUgdG8gbG9hZCBHb29nbGUgTWFwcywgeW91IGhhdmUgcmVhY2hlZCB5b3VyIHVzYWdlIGxpbWl0LjwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICBQbGVhc2UgdmlzaXRcbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7dXNhZ2VMaW1pdHN9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+JHt1c2FnZUxpbWl0c308L2E+XG4gICAgICAgICAgICAgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgYDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnVW5hYmxlIHRvIGxvYWQgR29vZ2xlIE1hcHMuJztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yTWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgcmV0dXJuIGRlZmVycmVkO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5RXJyb3JJblRoZW1lRWRpdG9yKGNvbnRhaW5lciwgZXJyb3JNZXNzYWdlKSB7XG4gIGNvbnN0IGlzVGhlbWVFZGl0b3IgPSB3aW5kb3cuU2hvcGlmeSAmJiB3aW5kb3cuU2hvcGlmeS5kZXNpZ25Nb2RlO1xuXG4gIGlmICghaXNUaGVtZUVkaXRvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cIm1hcC1lcnJvci1tZXNzYWdlXCI+JHtlcnJvck1lc3NhZ2V9PC9kaXY+YDtcbn1cblxuZXhwb3J0IHtcbiAgY3JlYXRlTWFwLFxuICBkaXNwbGF5RXJyb3JJblRoZW1lRWRpdG9yLFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/helpers/mapUtils.js\n");

/***/ }),

/***/ "./source/scripts/helpers/scrollLeft.js":
/*!**********************************************!*\
  !*** ./source/scripts/helpers/scrollLeft.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return scrollLeft; });\nfunction scrollLeft($el) {\n  var el = $el.get(0);\n  var container = el.parentElement;\n  var $container = $el.parent();\n\n  if (!container) {\n    return;\n  }\n\n  var containerBounds = container.getBoundingClientRect();\n  var containerCenter = containerBounds.left + containerBounds.width / 2;\n  var elBounds = el.getBoundingClientRect();\n  var elCenter = elBounds.left + elBounds.width / 2;\n  var scrollAmount = container.scrollLeft - (containerCenter - elCenter);\n  $container.animate({\n    scrollLeft: scrollAmount\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9oZWxwZXJzL3Njcm9sbExlZnQuanM/NWRiYSJdLCJuYW1lcyI6WyJzY3JvbGxMZWZ0IiwiJGVsIiwiZWwiLCJnZXQiLCJjb250YWluZXIiLCJwYXJlbnRFbGVtZW50IiwiJGNvbnRhaW5lciIsInBhcmVudCIsImNvbnRhaW5lckJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNvbnRhaW5lckNlbnRlciIsImxlZnQiLCJ3aWR0aCIsImVsQm91bmRzIiwiZWxDZW50ZXIiLCJzY3JvbGxBbW91bnQiLCJhbmltYXRlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQWUsU0FBU0EsVUFBVCxDQUFvQkMsR0FBcEIsRUFBeUI7QUFDdEMsTUFBTUMsRUFBRSxHQUFHRCxHQUFHLENBQUNFLEdBQUosQ0FBUSxDQUFSLENBQVg7QUFDQSxNQUFNQyxTQUFTLEdBQUdGLEVBQUUsQ0FBQ0csYUFBckI7QUFDQSxNQUFNQyxVQUFVLEdBQUdMLEdBQUcsQ0FBQ00sTUFBSixFQUFuQjs7QUFFQSxNQUFJLENBQUNILFNBQUwsRUFBZ0I7QUFDZDtBQUNEOztBQUVELE1BQU1JLGVBQWUsR0FBR0osU0FBUyxDQUFDSyxxQkFBVixFQUF4QjtBQUNBLE1BQU1DLGVBQWUsR0FBR0YsZUFBZSxDQUFDRyxJQUFoQixHQUF3QkgsZUFBZSxDQUFDSSxLQUFoQixHQUF3QixDQUF4RTtBQUNBLE1BQU1DLFFBQVEsR0FBR1gsRUFBRSxDQUFDTyxxQkFBSCxFQUFqQjtBQUNBLE1BQU1LLFFBQVEsR0FBR0QsUUFBUSxDQUFDRixJQUFULEdBQWlCRSxRQUFRLENBQUNELEtBQVQsR0FBaUIsQ0FBbkQ7QUFDQSxNQUFNRyxZQUFZLEdBQUdYLFNBQVMsQ0FBQ0osVUFBVixJQUF3QlUsZUFBZSxHQUFHSSxRQUExQyxDQUFyQjtBQUVBUixZQUFVLENBQUNVLE9BQVgsQ0FBbUI7QUFDakJoQixjQUFVLEVBQUVlO0FBREssR0FBbkI7QUFHRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL2hlbHBlcnMvc2Nyb2xsTGVmdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNjcm9sbExlZnQoJGVsKSB7XG4gIGNvbnN0IGVsID0gJGVsLmdldCgwKTtcbiAgY29uc3QgY29udGFpbmVyID0gZWwucGFyZW50RWxlbWVudDtcbiAgY29uc3QgJGNvbnRhaW5lciA9ICRlbC5wYXJlbnQoKTtcblxuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbnRhaW5lckJvdW5kcyA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgY29udGFpbmVyQ2VudGVyID0gY29udGFpbmVyQm91bmRzLmxlZnQgKyAoY29udGFpbmVyQm91bmRzLndpZHRoIC8gMik7XG4gIGNvbnN0IGVsQm91bmRzID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGVsQ2VudGVyID0gZWxCb3VuZHMubGVmdCArIChlbEJvdW5kcy53aWR0aCAvIDIpO1xuICBjb25zdCBzY3JvbGxBbW91bnQgPSBjb250YWluZXIuc2Nyb2xsTGVmdCAtIChjb250YWluZXJDZW50ZXIgLSBlbENlbnRlcik7XG5cbiAgJGNvbnRhaW5lci5hbmltYXRlKHtcbiAgICBzY3JvbGxMZWZ0OiBzY3JvbGxBbW91bnQsXG4gIH0pO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/helpers/scrollLeft.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicBlogPosts.js":
/*!*****************************************************!*\
  !*** ./source/scripts/sections/DynamicBlogPosts.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicBlogPosts; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar DynamicBlogPosts = /*#__PURE__*/function () {\n  function DynamicBlogPosts(section) {\n    _classCallCheck(this, DynamicBlogPosts);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n    this.flickity = null;\n    this.$blogPosts = this.$el.find('[data-blog-posts]'); // Activate flickity on mobile\n\n    this._mobileSlider = this._mobileSlider.bind(this);\n    _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__[\"onChange\"](this._mobileSlider);\n\n    this._mobileSlider();\n  }\n  /**\n   * Unbind events when section is re-drawn\n   */\n\n\n  _createClass(DynamicBlogPosts, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__[\"offChange\"](this._mobileSlider);\n\n      this._destroyFlickity();\n    }\n  }, {\n    key: \"_initFlickity\",\n    value: function _initFlickity() {\n      this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_2___default.a(this.$blogPosts[0], {\n        cellSelector: '.article--excerpt-wrapper',\n        contain: true,\n        freeScroll: true,\n        percentPosition: false,\n        prevNextButtons: false,\n        pageDots: false,\n        setGallerySize: false\n      });\n\n      this._bindSlider();\n\n      this.flickity.resize();\n    }\n  }, {\n    key: \"_destroyFlickity\",\n    value: function _destroyFlickity() {\n      if (!this.flickity) {\n        return;\n      }\n\n      this.$window.off('.blog-posts');\n      this.$blogPosts.off('.blog-posts');\n      this.flickity.destroy();\n      this.flickity = null;\n    }\n  }, {\n    key: \"_mobileSlider\",\n    value: function _mobileSlider() {\n      // If is Large layout, attempt to destroy flickity\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__[\"min\"]('L')) {\n        this._destroyFlickity();\n\n        return;\n      } // Is XS/S/M, and flickity is init'd -- do nothing\n\n\n      if (this.flickity) {\n        this.flickity.resize();\n        return;\n      } // Is XS/S/M, and flickity is not init'd\n\n\n      this._initFlickity();\n    }\n  }, {\n    key: \"_bindSlider\",\n    value: function _bindSlider() {\n      var _this = this;\n\n      var $slider = this.$blogPosts.find('.flickity-slider');\n      this.$window.on('resize.blog-posts', just_debounce__WEBPACK_IMPORTED_MODULE_1___default()(function () {\n        _this.$blogPosts.trigger('heightUpdate.blog-posts');\n      }));\n      this.flickity.on('cellSelect', function () {\n        _this.$blogPosts.trigger('heightUpdate.blog-posts');\n      });\n      this.$blogPosts.on('heightUpdate.blog-posts', function () {\n        if (!_this.flickity) {\n          return;\n        }\n\n        $slider.height(Math.ceil(_this.flickity.maxCellHeight));\n      }); // Sets the Slider to the height of the first slide\n\n      this.$blogPosts.trigger('heightUpdate.blog-posts');\n    }\n  }]);\n\n  return DynamicBlogPosts;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljQmxvZ1Bvc3RzLmpzPzI0OTgiXSwibmFtZXMiOlsiRHluYW1pY0Jsb2dQb3N0cyIsInNlY3Rpb24iLCIkZWwiLCIkIiwiZWwiLCIkd2luZG93Iiwid2luZG93IiwiZmxpY2tpdHkiLCIkYmxvZ1Bvc3RzIiwiZmluZCIsIl9tb2JpbGVTbGlkZXIiLCJiaW5kIiwiYnJlYWtwb2ludCIsIl9kZXN0cm95RmxpY2tpdHkiLCJGbGlja2l0eSIsImNlbGxTZWxlY3RvciIsImNvbnRhaW4iLCJmcmVlU2Nyb2xsIiwicGVyY2VudFBvc2l0aW9uIiwicHJldk5leHRCdXR0b25zIiwicGFnZURvdHMiLCJzZXRHYWxsZXJ5U2l6ZSIsIl9iaW5kU2xpZGVyIiwicmVzaXplIiwib2ZmIiwiZGVzdHJveSIsIl9pbml0RmxpY2tpdHkiLCIkc2xpZGVyIiwib24iLCJkZWJvdW5jZSIsInRyaWdnZXIiLCJoZWlnaHQiLCJNYXRoIiwiY2VpbCIsIm1heENlbGxIZWlnaHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7SUFHcUJBLGdCO0FBQ25CLDRCQUFZQyxPQUFaLEVBQXFCO0FBQUE7O0FBQ25CLFNBQUtDLEdBQUwsR0FBV0MsNkNBQUMsQ0FBQ0YsT0FBTyxDQUFDRyxFQUFULENBQVo7QUFDQSxTQUFLQyxPQUFMLEdBQWVGLDZDQUFDLENBQUNHLE1BQUQsQ0FBaEI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBRUEsU0FBS0MsVUFBTCxHQUFrQixLQUFLTixHQUFMLENBQVNPLElBQVQsQ0FBYyxtQkFBZCxDQUFsQixDQUxtQixDQU9uQjs7QUFDQSxTQUFLQyxhQUFMLEdBQXFCLEtBQUtBLGFBQUwsQ0FBbUJDLElBQW5CLENBQXdCLElBQXhCLENBQXJCO0FBQ0FDLG1FQUFBLENBQW9CLEtBQUtGLGFBQXpCOztBQUNBLFNBQUtBLGFBQUw7QUFDRDtBQUVEOzs7Ozs7O3NDQUdrQjtBQUNoQkUsc0VBQUEsQ0FBcUIsS0FBS0YsYUFBMUI7O0FBQ0EsV0FBS0csZ0JBQUw7QUFDRDs7O29DQUVlO0FBQ2QsV0FBS04sUUFBTCxHQUFnQixJQUFJTywrQ0FBSixDQUFhLEtBQUtOLFVBQUwsQ0FBZ0IsQ0FBaEIsQ0FBYixFQUFpQztBQUMvQ08sb0JBQVksRUFBRSwyQkFEaUM7QUFFL0NDLGVBQU8sRUFBRSxJQUZzQztBQUcvQ0Msa0JBQVUsRUFBRSxJQUhtQztBQUkvQ0MsdUJBQWUsRUFBRSxLQUo4QjtBQUsvQ0MsdUJBQWUsRUFBRSxLQUw4QjtBQU0vQ0MsZ0JBQVEsRUFBRSxLQU5xQztBQU8vQ0Msc0JBQWMsRUFBRTtBQVArQixPQUFqQyxDQUFoQjs7QUFVQSxXQUFLQyxXQUFMOztBQUNBLFdBQUtmLFFBQUwsQ0FBY2dCLE1BQWQ7QUFDRDs7O3VDQUVrQjtBQUNqQixVQUFJLENBQUMsS0FBS2hCLFFBQVYsRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxXQUFLRixPQUFMLENBQWFtQixHQUFiLENBQWlCLGFBQWpCO0FBQ0EsV0FBS2hCLFVBQUwsQ0FBZ0JnQixHQUFoQixDQUFvQixhQUFwQjtBQUNBLFdBQUtqQixRQUFMLENBQWNrQixPQUFkO0FBQ0EsV0FBS2xCLFFBQUwsR0FBZ0IsSUFBaEI7QUFDRDs7O29DQUVlO0FBQ2Q7QUFDQSxVQUFJSywwREFBQSxDQUFlLEdBQWYsQ0FBSixFQUF5QjtBQUN2QixhQUFLQyxnQkFBTDs7QUFDQTtBQUNELE9BTGEsQ0FPZDs7O0FBQ0EsVUFBSSxLQUFLTixRQUFULEVBQW1CO0FBQ2pCLGFBQUtBLFFBQUwsQ0FBY2dCLE1BQWQ7QUFDQTtBQUNELE9BWGEsQ0FhZDs7O0FBQ0EsV0FBS0csYUFBTDtBQUNEOzs7a0NBRWE7QUFBQTs7QUFDWixVQUFNQyxPQUFPLEdBQUcsS0FBS25CLFVBQUwsQ0FBZ0JDLElBQWhCLENBQXFCLGtCQUFyQixDQUFoQjtBQUVBLFdBQUtKLE9BQUwsQ0FBYXVCLEVBQWIsQ0FBZ0IsbUJBQWhCLEVBQXFDQyxvREFBUSxDQUFDLFlBQU07QUFDbEQsYUFBSSxDQUFDckIsVUFBTCxDQUFnQnNCLE9BQWhCLENBQXdCLHlCQUF4QjtBQUNELE9BRjRDLENBQTdDO0FBSUEsV0FBS3ZCLFFBQUwsQ0FBY3FCLEVBQWQsQ0FBaUIsWUFBakIsRUFBK0IsWUFBTTtBQUNuQyxhQUFJLENBQUNwQixVQUFMLENBQWdCc0IsT0FBaEIsQ0FBd0IseUJBQXhCO0FBQ0QsT0FGRDtBQUlBLFdBQUt0QixVQUFMLENBQWdCb0IsRUFBaEIsQ0FBbUIseUJBQW5CLEVBQThDLFlBQU07QUFDbEQsWUFBSSxDQUFDLEtBQUksQ0FBQ3JCLFFBQVYsRUFBb0I7QUFDbEI7QUFDRDs7QUFFRG9CLGVBQU8sQ0FBQ0ksTUFBUixDQUFlQyxJQUFJLENBQUNDLElBQUwsQ0FBVSxLQUFJLENBQUMxQixRQUFMLENBQWMyQixhQUF4QixDQUFmO0FBQ0QsT0FORCxFQVhZLENBbUJaOztBQUNBLFdBQUsxQixVQUFMLENBQWdCc0IsT0FBaEIsQ0FBd0IseUJBQXhCO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljQmxvZ1Bvc3RzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdqdXN0LWRlYm91bmNlJztcbmltcG9ydCBGbGlja2l0eSBmcm9tICdmbGlja2l0eSc7XG5pbXBvcnQgKiBhcyBicmVha3BvaW50IGZyb20gJ0BwaXhlbHVuaW9uL2JyZWFrcG9pbnQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNCbG9nUG9zdHMge1xuICBjb25zdHJ1Y3RvcihzZWN0aW9uKSB7XG4gICAgdGhpcy4kZWwgPSAkKHNlY3Rpb24uZWwpO1xuICAgIHRoaXMuJHdpbmRvdyA9ICQod2luZG93KTtcbiAgICB0aGlzLmZsaWNraXR5ID0gbnVsbDtcblxuICAgIHRoaXMuJGJsb2dQb3N0cyA9IHRoaXMuJGVsLmZpbmQoJ1tkYXRhLWJsb2ctcG9zdHNdJyk7XG5cbiAgICAvLyBBY3RpdmF0ZSBmbGlja2l0eSBvbiBtb2JpbGVcbiAgICB0aGlzLl9tb2JpbGVTbGlkZXIgPSB0aGlzLl9tb2JpbGVTbGlkZXIuYmluZCh0aGlzKTtcbiAgICBicmVha3BvaW50Lm9uQ2hhbmdlKHRoaXMuX21vYmlsZVNsaWRlcik7XG4gICAgdGhpcy5fbW9iaWxlU2xpZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogVW5iaW5kIGV2ZW50cyB3aGVuIHNlY3Rpb24gaXMgcmUtZHJhd25cbiAgICovXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICBicmVha3BvaW50Lm9mZkNoYW5nZSh0aGlzLl9tb2JpbGVTbGlkZXIpO1xuICAgIHRoaXMuX2Rlc3Ryb3lGbGlja2l0eSgpO1xuICB9XG5cbiAgX2luaXRGbGlja2l0eSgpIHtcbiAgICB0aGlzLmZsaWNraXR5ID0gbmV3IEZsaWNraXR5KHRoaXMuJGJsb2dQb3N0c1swXSwge1xuICAgICAgY2VsbFNlbGVjdG9yOiAnLmFydGljbGUtLWV4Y2VycHQtd3JhcHBlcicsXG4gICAgICBjb250YWluOiB0cnVlLFxuICAgICAgZnJlZVNjcm9sbDogdHJ1ZSxcbiAgICAgIHBlcmNlbnRQb3NpdGlvbjogZmFsc2UsXG4gICAgICBwcmV2TmV4dEJ1dHRvbnM6IGZhbHNlLFxuICAgICAgcGFnZURvdHM6IGZhbHNlLFxuICAgICAgc2V0R2FsbGVyeVNpemU6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fYmluZFNsaWRlcigpO1xuICAgIHRoaXMuZmxpY2tpdHkucmVzaXplKCk7XG4gIH1cblxuICBfZGVzdHJveUZsaWNraXR5KCkge1xuICAgIGlmICghdGhpcy5mbGlja2l0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vZmYoJy5ibG9nLXBvc3RzJyk7XG4gICAgdGhpcy4kYmxvZ1Bvc3RzLm9mZignLmJsb2ctcG9zdHMnKTtcbiAgICB0aGlzLmZsaWNraXR5LmRlc3Ryb3koKTtcbiAgICB0aGlzLmZsaWNraXR5ID0gbnVsbDtcbiAgfVxuXG4gIF9tb2JpbGVTbGlkZXIoKSB7XG4gICAgLy8gSWYgaXMgTGFyZ2UgbGF5b3V0LCBhdHRlbXB0IHRvIGRlc3Ryb3kgZmxpY2tpdHlcbiAgICBpZiAoYnJlYWtwb2ludC5taW4oJ0wnKSkge1xuICAgICAgdGhpcy5fZGVzdHJveUZsaWNraXR5KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSXMgWFMvUy9NLCBhbmQgZmxpY2tpdHkgaXMgaW5pdCdkIC0tIGRvIG5vdGhpbmdcbiAgICBpZiAodGhpcy5mbGlja2l0eSkge1xuICAgICAgdGhpcy5mbGlja2l0eS5yZXNpemUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJcyBYUy9TL00sIGFuZCBmbGlja2l0eSBpcyBub3QgaW5pdCdkXG4gICAgdGhpcy5faW5pdEZsaWNraXR5KCk7XG4gIH1cblxuICBfYmluZFNsaWRlcigpIHtcbiAgICBjb25zdCAkc2xpZGVyID0gdGhpcy4kYmxvZ1Bvc3RzLmZpbmQoJy5mbGlja2l0eS1zbGlkZXInKTtcblxuICAgIHRoaXMuJHdpbmRvdy5vbigncmVzaXplLmJsb2ctcG9zdHMnLCBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICB0aGlzLiRibG9nUG9zdHMudHJpZ2dlcignaGVpZ2h0VXBkYXRlLmJsb2ctcG9zdHMnKTtcbiAgICB9KSk7XG5cbiAgICB0aGlzLmZsaWNraXR5Lm9uKCdjZWxsU2VsZWN0JywgKCkgPT4ge1xuICAgICAgdGhpcy4kYmxvZ1Bvc3RzLnRyaWdnZXIoJ2hlaWdodFVwZGF0ZS5ibG9nLXBvc3RzJyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRibG9nUG9zdHMub24oJ2hlaWdodFVwZGF0ZS5ibG9nLXBvc3RzJywgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmZsaWNraXR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJHNsaWRlci5oZWlnaHQoTWF0aC5jZWlsKHRoaXMuZmxpY2tpdHkubWF4Q2VsbEhlaWdodCkpO1xuICAgIH0pO1xuXG4gICAgLy8gU2V0cyB0aGUgU2xpZGVyIHRvIHRoZSBoZWlnaHQgb2YgdGhlIGZpcnN0IHNsaWRlXG4gICAgdGhpcy4kYmxvZ1Bvc3RzLnRyaWdnZXIoJ2hlaWdodFVwZGF0ZS5ibG9nLXBvc3RzJyk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicBlogPosts.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicCollectionList.js":
/*!**********************************************************!*\
  !*** ./source/scripts/sections/DynamicCollectionList.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicCollectionList; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DynamicCollectionList = /*#__PURE__*/function () {\n  function DynamicCollectionList(section) {\n    _classCallCheck(this, DynamicCollectionList);\n\n    this.el = section.el;\n    this.collections = this.el.querySelectorAll('.dynamic-collection-list--item');\n    this.showMoreButton = this.el.querySelector('.dynamic-collection-list--show-more-button');\n    this._showAllCollections = this._showAllCollections.bind(this);\n    this.showMoreButton.addEventListener('click', this._showAllCollections);\n  }\n\n  _createClass(DynamicCollectionList, [{\n    key: \"_applyClasses\",\n    value: function _applyClasses() {\n      var collections = this.collections;\n      collections.forEach(function (collection) {\n        collection.classList.add('active', 'active-mobile');\n      });\n    }\n  }, {\n    key: \"_showAllCollections\",\n    value: function _showAllCollections() {\n      this._applyClasses();\n\n      this.showMoreButton.classList.remove('active', 'active-mobile');\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.showMoreButton.removeEventListener('click', this._showAllCollections);\n    }\n  }]);\n\n  return DynamicCollectionList;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljQ29sbGVjdGlvbkxpc3QuanM/YTc1ZiJdLCJuYW1lcyI6WyJEeW5hbWljQ29sbGVjdGlvbkxpc3QiLCJzZWN0aW9uIiwiZWwiLCJjb2xsZWN0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzaG93TW9yZUJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJfc2hvd0FsbENvbGxlY3Rpb25zIiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiY29sbGVjdGlvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9hcHBseUNsYXNzZXMiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztJQUFxQkEscUI7QUFDbkIsaUNBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsU0FBS0MsRUFBTCxHQUFVRCxPQUFPLENBQUNDLEVBQWxCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQixLQUFLRCxFQUFMLENBQVFFLGdCQUFSLENBQXlCLGdDQUF6QixDQUFuQjtBQUNBLFNBQUtDLGNBQUwsR0FBc0IsS0FBS0gsRUFBTCxDQUFRSSxhQUFSLENBQXNCLDRDQUF0QixDQUF0QjtBQUVBLFNBQUtDLG1CQUFMLEdBQTJCLEtBQUtBLG1CQUFMLENBQXlCQyxJQUF6QixDQUE4QixJQUE5QixDQUEzQjtBQUNBLFNBQUtILGNBQUwsQ0FBb0JJLGdCQUFwQixDQUFxQyxPQUFyQyxFQUE4QyxLQUFLRixtQkFBbkQ7QUFDRDs7OztvQ0FFZTtBQUNkLFVBQU1KLFdBQVcsR0FBRyxLQUFLQSxXQUF6QjtBQUVBQSxpQkFBVyxDQUFDTyxPQUFaLENBQW9CLFVBQUNDLFVBQUQsRUFBZ0I7QUFDbENBLGtCQUFVLENBQUNDLFNBQVgsQ0FBcUJDLEdBQXJCLENBQXlCLFFBQXpCLEVBQW1DLGVBQW5DO0FBQ0QsT0FGRDtBQUdEOzs7MENBRXFCO0FBQ3BCLFdBQUtDLGFBQUw7O0FBQ0EsV0FBS1QsY0FBTCxDQUFvQk8sU0FBcEIsQ0FBOEJHLE1BQTlCLENBQXFDLFFBQXJDLEVBQStDLGVBQS9DO0FBQ0Q7OztzQ0FFaUI7QUFDaEIsV0FBS1YsY0FBTCxDQUFvQlcsbUJBQXBCLENBQXdDLE9BQXhDLEVBQWlELEtBQUtULG1CQUF0RDtBQUNEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvc2VjdGlvbnMvRHluYW1pY0NvbGxlY3Rpb25MaXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY0NvbGxlY3Rpb25MaXN0IHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuZWwgPSBzZWN0aW9uLmVsO1xuICAgIHRoaXMuY29sbGVjdGlvbnMgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5keW5hbWljLWNvbGxlY3Rpb24tbGlzdC0taXRlbScpO1xuICAgIHRoaXMuc2hvd01vcmVCdXR0b24gPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5keW5hbWljLWNvbGxlY3Rpb24tbGlzdC0tc2hvdy1tb3JlLWJ1dHRvbicpO1xuXG4gICAgdGhpcy5fc2hvd0FsbENvbGxlY3Rpb25zID0gdGhpcy5fc2hvd0FsbENvbGxlY3Rpb25zLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zaG93TW9yZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX3Nob3dBbGxDb2xsZWN0aW9ucyk7ICBcbiAgfVxuXG4gIF9hcHBseUNsYXNzZXMoKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbnMgPSB0aGlzLmNvbGxlY3Rpb25zO1xuXG4gICAgY29sbGVjdGlvbnMuZm9yRWFjaCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgY29sbGVjdGlvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnLCAnYWN0aXZlLW1vYmlsZScpO1xuICAgIH0pO1xuICB9XG5cbiAgX3Nob3dBbGxDb2xsZWN0aW9ucygpIHtcbiAgICB0aGlzLl9hcHBseUNsYXNzZXMoKTtcbiAgICB0aGlzLnNob3dNb3JlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScsICdhY3RpdmUtbW9iaWxlJyk7XG4gIH1cblxuICBvblNlY3Rpb25VbmxvYWQoKSB7XG4gICAgdGhpcy5zaG93TW9yZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX3Nob3dBbGxDb2xsZWN0aW9ucyk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicCollectionList.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicFeaturedCollection.js":
/*!**************************************************************!*\
  !*** ./source/scripts/sections/DynamicFeaturedCollection.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicFeaturedCollection; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/ProductReviews */ \"./source/scripts/helpers/ProductReviews.js\");\n/* harmony import */ var _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ProductGridItem */ \"./source/scripts/components/ProductGridItem.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar DynamicFeaturedCollection = /*#__PURE__*/function () {\n  function DynamicFeaturedCollection(section) {\n    var _this = this;\n\n    _classCallCheck(this, DynamicFeaturedCollection);\n\n    this.section = section;\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.flickity = null;\n    this.contentEl = section.el.querySelector('[data-content]');\n    this.initialLayout = this.contentEl.dataset.layout;\n    this._initFlickity = this._initFlickity.bind(this);\n    this._destroyFlickity = this._destroyFlickity.bind(this); // Product items\n\n    this.productItems = [];\n    var $productItems = this.$el.find('[data-product-item]');\n    $productItems.each(function (i, productItem) {\n      var productData = JSON.parse(productItem.querySelector('[data-product-data]').innerHTML);\n\n      _this.productItems.push(new _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n        $el: jquery__WEBPACK_IMPORTED_MODULE_0___default()(productItem),\n        id: _this.section.id,\n        product: productData,\n        lazy: true\n      }));\n    });\n    var hasBanner = section.el.querySelector('[data-collection-banner]');\n    var minProductCount = 5;\n\n    if (hasBanner) {\n      minProductCount = 4;\n    }\n\n    if (this.productItems.length > minProductCount && this.initialLayout === 'slideshow') {\n      this._initFlickity();\n    } else {\n      this.onBreakpointChange = function () {\n        var useSlideshow = _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"max\"]('L');\n\n        if (useSlideshow) {\n          _this.contentEl.dataset.layout = 'slideshow';\n          window.requestAnimationFrame(function () {\n            return _this._initFlickity();\n          });\n        } else {\n          _this.contentEl.dataset.layout = 'grid';\n\n          _this._destroyFlickity();\n        }\n      };\n\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"onChange\"](this.onBreakpointChange);\n\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"max\"]('L')) {\n        window.requestAnimationFrame(function () {\n          return _this._initFlickity();\n        });\n      }\n    }\n\n    if (this.$el.find('.spr-badge').length) {\n      Object(_helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n    }\n  }\n\n  _createClass(DynamicFeaturedCollection, [{\n    key: \"_initFlickity\",\n    value: function _initFlickity() {\n      var _this2 = this;\n\n      if (this.flickity) return; // Already initialized\n\n      this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_1___default.a(this.contentEl, {\n        autoPlay: 0,\n        accessibility: true,\n        cellAlign: 'left',\n        cellSelector: '.productgrid--item',\n        groupCells: true,\n        pageDots: false,\n        contain: true,\n        arrowShape: 'M65.29 11.99L27.28 50L65.3 87.99L70.25 83.06L37.19 50L70.26 16.94L65.29 11.99Z'\n      });\n      var resize = flickity__WEBPACK_IMPORTED_MODULE_1___default.a.prototype.resize;\n      var viewport = this.contentEl.querySelector('.flickity-viewport');\n      var slider = this.contentEl.querySelector('.flickity-slider');\n      /*\n       * We must wrap Flickity's slider element to allow the usage of\n       * clip, and clip-path to obscure the overflow product items.\n       * To use clip, and clip-path, the clipped element must be absolutely\n       * positioned. In this case, the only native Flickity element\n       * that is absolutely positioned is the slider; but, it moves with the first\n       * slide rather than remaining in the viewport removing it as a candidate.\n       * Therefore, it is necessary to include a wrapper element that we can\n       * absolutely position that remains within the viewport.\n       * The only thing we need to watch out for is that the elements\n       * are moved in a non-destructive manner.\n       */\n\n      var sliderWrapper = document.createElement('div');\n      sliderWrapper.classList.add('flickity-slider--wrapper');\n      viewport.appendChild(sliderWrapper);\n      sliderWrapper.appendChild(slider);\n\n      this.flickity.resize = function r() {\n        viewport.style.height = '';\n        resize.call(this);\n      };\n\n      this.$el.on('rimg:load', function () {\n        return _this2.flickity.resize();\n      });\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this._destroyFlickity();\n\n      this.productItems.forEach(function (productItem) {\n        productItem.unload();\n      });\n    }\n  }, {\n    key: \"_destroyFlickity\",\n    value: function _destroyFlickity() {\n      if (!this.flickity) return; // Already uninitialized\n\n      this.contentEl.dataset.layout = this.initialLayout;\n      var viewport = this.contentEl.querySelector('.flickity-viewport');\n      var slider = this.contentEl.querySelector('.flickity-slider');\n      /*\n       * Remember to move the Flickity native elements back\n       * into the correct DOM layout, before removing the added\n       * wrapper.\n       */\n\n      var sliderWrapper = this.contentEl.querySelector('.flickity-slider--wrapper');\n      viewport.appendChild(slider);\n      viewport.removeChild(sliderWrapper);\n      this.flickity.destroy();\n      this.flickity = null;\n    }\n  }]);\n\n  return DynamicFeaturedCollection;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljRmVhdHVyZWRDb2xsZWN0aW9uLmpzP2U1MmIiXSwibmFtZXMiOlsiRHluYW1pY0ZlYXR1cmVkQ29sbGVjdGlvbiIsInNlY3Rpb24iLCIkZWwiLCIkIiwiZWwiLCJmbGlja2l0eSIsImNvbnRlbnRFbCIsInF1ZXJ5U2VsZWN0b3IiLCJpbml0aWFsTGF5b3V0IiwiZGF0YXNldCIsImxheW91dCIsIl9pbml0RmxpY2tpdHkiLCJiaW5kIiwiX2Rlc3Ryb3lGbGlja2l0eSIsInByb2R1Y3RJdGVtcyIsIiRwcm9kdWN0SXRlbXMiLCJmaW5kIiwiZWFjaCIsImkiLCJwcm9kdWN0SXRlbSIsInByb2R1Y3REYXRhIiwiSlNPTiIsInBhcnNlIiwiaW5uZXJIVE1MIiwicHVzaCIsIlByb2R1Y3RHcmlkSXRlbSIsImlkIiwicHJvZHVjdCIsImxhenkiLCJoYXNCYW5uZXIiLCJtaW5Qcm9kdWN0Q291bnQiLCJsZW5ndGgiLCJvbkJyZWFrcG9pbnRDaGFuZ2UiLCJ1c2VTbGlkZXNob3ciLCJicmVha3BvaW50Iiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaW5pdFNob3BpZnlQcm9kdWN0UmV2aWV3cyIsIkZsaWNraXR5IiwiYXV0b1BsYXkiLCJhY2Nlc3NpYmlsaXR5IiwiY2VsbEFsaWduIiwiY2VsbFNlbGVjdG9yIiwiZ3JvdXBDZWxscyIsInBhZ2VEb3RzIiwiY29udGFpbiIsImFycm93U2hhcGUiLCJyZXNpemUiLCJwcm90b3R5cGUiLCJ2aWV3cG9ydCIsInNsaWRlciIsInNsaWRlcldyYXBwZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsInIiLCJzdHlsZSIsImhlaWdodCIsImNhbGwiLCJvbiIsImZvckVhY2giLCJ1bmxvYWQiLCJyZW1vdmVDaGlsZCIsImRlc3Ryb3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7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QixXQUFLbEMsZ0JBQUw7O0FBQ0EsV0FBS0MsWUFBTCxDQUFrQmdELE9BQWxCLENBQTBCLFVBQUEzQyxXQUFXLEVBQUk7QUFDdkNBLG1CQUFXLENBQUM0QyxNQUFaO0FBQ0QsT0FGRDtBQUdEOzs7dUNBRWtCO0FBQ2pCLFVBQUksQ0FBQyxLQUFLMUQsUUFBVixFQUFvQixPQURILENBQ1c7O0FBRTVCLFdBQUtDLFNBQUwsQ0FBZUcsT0FBZixDQUF1QkMsTUFBdkIsR0FBZ0MsS0FBS0YsYUFBckM7QUFDQSxVQUFNeUMsUUFBUSxHQUFHLEtBQUszQyxTQUFMLENBQWVDLGFBQWYsQ0FBNkIsb0JBQTdCLENBQWpCO0FBQ0EsVUFBTTJDLE1BQU0sR0FBRyxLQUFLNUMsU0FBTCxDQUFlQyxhQUFmLENBQTZCLGtCQUE3QixDQUFmO0FBRUE7Ozs7OztBQUtBLFVBQU00QyxhQUFhLEdBQUcsS0FBSzdDLFNBQUwsQ0FBZUMsYUFBZixDQUE2QiwyQkFBN0IsQ0FBdEI7QUFDQTBDLGNBQVEsQ0FBQ08sV0FBVCxDQUFxQk4sTUFBckI7QUFDQUQsY0FBUSxDQUFDZSxXQUFULENBQXFCYixhQUFyQjtBQUVBLFdBQUs5QyxRQUFMLENBQWM0RCxPQUFkO0FBQ0EsV0FBSzVELFFBQUwsR0FBZ0IsSUFBaEI7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL0R5bmFtaWNGZWF0dXJlZENvbGxlY3Rpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IEZsaWNraXR5IGZyb20gJ2ZsaWNraXR5JztcbmltcG9ydCAqIGFzIGJyZWFrcG9pbnQgZnJvbSAnQHBpeGVsdW5pb24vYnJlYWtwb2ludCc7XG5pbXBvcnQgaW5pdFNob3BpZnlQcm9kdWN0UmV2aWV3cyBmcm9tICcuLi9oZWxwZXJzL1Byb2R1Y3RSZXZpZXdzJztcbmltcG9ydCBQcm9kdWN0R3JpZEl0ZW0gZnJvbSAnLi4vY29tcG9uZW50cy9Qcm9kdWN0R3JpZEl0ZW0nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEeW5hbWljRmVhdHVyZWRDb2xsZWN0aW9uIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuc2VjdGlvbiA9IHNlY3Rpb247XG4gICAgdGhpcy4kZWwgPSAkKHNlY3Rpb24uZWwpO1xuICAgIHRoaXMuZmxpY2tpdHkgPSBudWxsO1xuICAgIHRoaXMuY29udGVudEVsID0gc2VjdGlvbi5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250ZW50XScpO1xuICAgIHRoaXMuaW5pdGlhbExheW91dCA9IHRoaXMuY29udGVudEVsLmRhdGFzZXQubGF5b3V0O1xuXG4gICAgdGhpcy5faW5pdEZsaWNraXR5ID0gdGhpcy5faW5pdEZsaWNraXR5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZGVzdHJveUZsaWNraXR5ID0gdGhpcy5fZGVzdHJveUZsaWNraXR5LmJpbmQodGhpcyk7XG5cbiAgICAvLyBQcm9kdWN0IGl0ZW1zXG4gICAgdGhpcy5wcm9kdWN0SXRlbXMgPSBbXTtcbiAgICBjb25zdCAkcHJvZHVjdEl0ZW1zID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtcHJvZHVjdC1pdGVtXScpO1xuXG4gICAgJHByb2R1Y3RJdGVtcy5lYWNoKChpLCBwcm9kdWN0SXRlbSkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdERhdGEgPSBKU09OLnBhcnNlKHByb2R1Y3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3QtZGF0YV0nKS5pbm5lckhUTUwpO1xuXG4gICAgICB0aGlzLnByb2R1Y3RJdGVtcy5wdXNoKFxuICAgICAgICBuZXcgUHJvZHVjdEdyaWRJdGVtKHtcbiAgICAgICAgICAkZWw6ICQocHJvZHVjdEl0ZW0pLFxuICAgICAgICAgIGlkOiB0aGlzLnNlY3Rpb24uaWQsXG4gICAgICAgICAgcHJvZHVjdDogcHJvZHVjdERhdGEsXG4gICAgICAgICAgbGF6eTogdHJ1ZSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaGFzQmFubmVyID0gc2VjdGlvbi5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2xsZWN0aW9uLWJhbm5lcl0nKTtcbiAgICBsZXQgbWluUHJvZHVjdENvdW50ID0gNTtcblxuICAgIGlmIChoYXNCYW5uZXIpIHtcbiAgICAgIG1pblByb2R1Y3RDb3VudCA9IDQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvZHVjdEl0ZW1zLmxlbmd0aCA+IG1pblByb2R1Y3RDb3VudCAmJiB0aGlzLmluaXRpYWxMYXlvdXQgPT09ICdzbGlkZXNob3cnKSB7XG4gICAgICB0aGlzLl9pbml0RmxpY2tpdHkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZVNsaWRlc2hvdyA9IGJyZWFrcG9pbnQubWF4KCdMJyk7XG5cbiAgICAgICAgaWYgKHVzZVNsaWRlc2hvdykge1xuICAgICAgICAgIHRoaXMuY29udGVudEVsLmRhdGFzZXQubGF5b3V0ID0gJ3NsaWRlc2hvdyc7XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLl9pbml0RmxpY2tpdHkoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb250ZW50RWwuZGF0YXNldC5sYXlvdXQgPSAnZ3JpZCc7XG4gICAgICAgICAgdGhpcy5fZGVzdHJveUZsaWNraXR5KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGJyZWFrcG9pbnQub25DaGFuZ2UodGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2UpO1xuXG4gICAgICBpZiAoYnJlYWtwb2ludC5tYXgoJ0wnKSkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuX2luaXRGbGlja2l0eSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy4kZWwuZmluZCgnLnNwci1iYWRnZScpLmxlbmd0aCkge1xuICAgICAgaW5pdFNob3BpZnlQcm9kdWN0UmV2aWV3cygpO1xuICAgIH1cbiAgfVxuXG4gIF9pbml0RmxpY2tpdHkoKSB7XG4gICAgaWYgKHRoaXMuZmxpY2tpdHkpIHJldHVybjsgLy8gQWxyZWFkeSBpbml0aWFsaXplZFxuXG4gICAgdGhpcy5mbGlja2l0eSA9IG5ldyBGbGlja2l0eShcbiAgICAgIHRoaXMuY29udGVudEVsLFxuICAgICAge1xuICAgICAgICBhdXRvUGxheTogMCxcbiAgICAgICAgYWNjZXNzaWJpbGl0eTogdHJ1ZSxcbiAgICAgICAgY2VsbEFsaWduOiAnbGVmdCcsXG4gICAgICAgIGNlbGxTZWxlY3RvcjogJy5wcm9kdWN0Z3JpZC0taXRlbScsXG4gICAgICAgIGdyb3VwQ2VsbHM6IHRydWUsXG4gICAgICAgIHBhZ2VEb3RzOiBmYWxzZSxcbiAgICAgICAgY29udGFpbjogdHJ1ZSxcbiAgICAgICAgYXJyb3dTaGFwZTogJ002NS4yOSAxMS45OUwyNy4yOCA1MEw2NS4zIDg3Ljk5TDcwLjI1IDgzLjA2TDM3LjE5IDUwTDcwLjI2IDE2Ljk0TDY1LjI5IDExLjk5WicsXG4gICAgICB9LFxuICAgICk7XG5cbiAgICBjb25zdCB7IHJlc2l6ZSB9ID0gRmxpY2tpdHkucHJvdG90eXBlO1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignLmZsaWNraXR5LXZpZXdwb3J0Jyk7XG4gICAgY29uc3Qgc2xpZGVyID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignLmZsaWNraXR5LXNsaWRlcicpO1xuXG4gICAgLypcbiAgICAgKiBXZSBtdXN0IHdyYXAgRmxpY2tpdHkncyBzbGlkZXIgZWxlbWVudCB0byBhbGxvdyB0aGUgdXNhZ2Ugb2ZcbiAgICAgKiBjbGlwLCBhbmQgY2xpcC1wYXRoIHRvIG9ic2N1cmUgdGhlIG92ZXJmbG93IHByb2R1Y3QgaXRlbXMuXG4gICAgICogVG8gdXNlIGNsaXAsIGFuZCBjbGlwLXBhdGgsIHRoZSBjbGlwcGVkIGVsZW1lbnQgbXVzdCBiZSBhYnNvbHV0ZWx5XG4gICAgICogcG9zaXRpb25lZC4gSW4gdGhpcyBjYXNlLCB0aGUgb25seSBuYXRpdmUgRmxpY2tpdHkgZWxlbWVudFxuICAgICAqIHRoYXQgaXMgYWJzb2x1dGVseSBwb3NpdGlvbmVkIGlzIHRoZSBzbGlkZXI7IGJ1dCwgaXQgbW92ZXMgd2l0aCB0aGUgZmlyc3RcbiAgICAgKiBzbGlkZSByYXRoZXIgdGhhbiByZW1haW5pbmcgaW4gdGhlIHZpZXdwb3J0IHJlbW92aW5nIGl0IGFzIGEgY2FuZGlkYXRlLlxuICAgICAqIFRoZXJlZm9yZSwgaXQgaXMgbmVjZXNzYXJ5IHRvIGluY2x1ZGUgYSB3cmFwcGVyIGVsZW1lbnQgdGhhdCB3ZSBjYW5cbiAgICAgKiBhYnNvbHV0ZWx5IHBvc2l0aW9uIHRoYXQgcmVtYWlucyB3aXRoaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqIFRoZSBvbmx5IHRoaW5nIHdlIG5lZWQgdG8gd2F0Y2ggb3V0IGZvciBpcyB0aGF0IHRoZSBlbGVtZW50c1xuICAgICAqIGFyZSBtb3ZlZCBpbiBhIG5vbi1kZXN0cnVjdGl2ZSBtYW5uZXIuXG4gICAgICovXG4gICAgY29uc3Qgc2xpZGVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNsaWRlcldyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZmxpY2tpdHktc2xpZGVyLS13cmFwcGVyJyk7XG4gICAgdmlld3BvcnQuYXBwZW5kQ2hpbGQoc2xpZGVyV3JhcHBlcik7XG4gICAgc2xpZGVyV3JhcHBlci5hcHBlbmRDaGlsZChzbGlkZXIpO1xuXG4gICAgdGhpcy5mbGlja2l0eS5yZXNpemUgPSBmdW5jdGlvbiByKCkge1xuICAgICAgdmlld3BvcnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICByZXNpemUuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZWwub24oJ3JpbWc6bG9hZCcsICgpID0+IHRoaXMuZmxpY2tpdHkucmVzaXplKCkpO1xuICB9XG5cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIHRoaXMuX2Rlc3Ryb3lGbGlja2l0eSgpO1xuICAgIHRoaXMucHJvZHVjdEl0ZW1zLmZvckVhY2gocHJvZHVjdEl0ZW0gPT4ge1xuICAgICAgcHJvZHVjdEl0ZW0udW5sb2FkKCk7XG4gICAgfSk7XG4gIH1cblxuICBfZGVzdHJveUZsaWNraXR5KCkge1xuICAgIGlmICghdGhpcy5mbGlja2l0eSkgcmV0dXJuOyAvLyBBbHJlYWR5IHVuaW5pdGlhbGl6ZWRcblxuICAgIHRoaXMuY29udGVudEVsLmRhdGFzZXQubGF5b3V0ID0gdGhpcy5pbml0aWFsTGF5b3V0O1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignLmZsaWNraXR5LXZpZXdwb3J0Jyk7XG4gICAgY29uc3Qgc2xpZGVyID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignLmZsaWNraXR5LXNsaWRlcicpO1xuXG4gICAgLypcbiAgICAgKiBSZW1lbWJlciB0byBtb3ZlIHRoZSBGbGlja2l0eSBuYXRpdmUgZWxlbWVudHMgYmFja1xuICAgICAqIGludG8gdGhlIGNvcnJlY3QgRE9NIGxheW91dCwgYmVmb3JlIHJlbW92aW5nIHRoZSBhZGRlZFxuICAgICAqIHdyYXBwZXIuXG4gICAgICovXG4gICAgY29uc3Qgc2xpZGVyV3JhcHBlciA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJy5mbGlja2l0eS1zbGlkZXItLXdyYXBwZXInKTtcbiAgICB2aWV3cG9ydC5hcHBlbmRDaGlsZChzbGlkZXIpO1xuICAgIHZpZXdwb3J0LnJlbW92ZUNoaWxkKHNsaWRlcldyYXBwZXIpO1xuXG4gICAgdGhpcy5mbGlja2l0eS5kZXN0cm95KCk7XG4gICAgdGhpcy5mbGlja2l0eSA9IG51bGw7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicFeaturedCollection.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicHighlightsBanners.js":
/*!*************************************************************!*\
  !*** ./source/scripts/sections/DynamicHighlightsBanners.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicHighlightsBanners; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar DynamicHighlightsBanners = /*#__PURE__*/function () {\n  function DynamicHighlightsBanners(section) {\n    _classCallCheck(this, DynamicHighlightsBanners);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n    this.$carousel = this.$el.find('.highlights-banners');\n    this.slides = '.highlights-banners-block';\n    this.flickity = null;\n    this.flickityOptions = null;\n\n    if (this.$carousel.find(this.slides).length > 1) {\n      this._initSlider();\n    }\n  }\n\n  _createClass(DynamicHighlightsBanners, [{\n    key: \"_initSlider\",\n    value: function _initSlider() {\n      this.flickityOptions = {\n        autoPlay: 0,\n        accessibility: true,\n        cellAlign: 'center',\n        cellSelector: this.slides,\n        pageDots: false,\n        prevNextButtons: false,\n        contain: true\n      };\n\n      this._bindFlickity();\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this._destroyFlickity();\n\n      this.$window.off('.twitter');\n    }\n  }, {\n    key: \"_bindFlickity\",\n    value: function _bindFlickity() {\n      var _this = this;\n\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__[\"min\"]('L') === false && this.flickity === null) {\n        this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_2___default.a(this.$carousel[0], this.flickityOptions);\n      }\n\n      this.$window.on('resize', just_debounce__WEBPACK_IMPORTED_MODULE_1___default()(function () {\n        if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__[\"min\"]('L') === false && _this.flickity === null) {\n          _this._bindFlickity();\n        } else if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_3__[\"min\"]('L') && _this.flickity) {\n          _this._destroyFlickity();\n        }\n      }));\n    }\n  }, {\n    key: \"_destroyFlickity\",\n    value: function _destroyFlickity() {\n      if (!this.flickity) {\n        return;\n      }\n\n      this.flickity.destroy();\n      this.flickity = null;\n    }\n  }]);\n\n  return DynamicHighlightsBanners;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljSGlnaGxpZ2h0c0Jhbm5lcnMuanM/ZmJiNyJdLCJuYW1lcyI6WyJEeW5hbWljSGlnaGxpZ2h0c0Jhbm5lcnMiLCJzZWN0aW9uIiwiJGVsIiwiJCIsImVsIiwiJHdpbmRvdyIsIndpbmRvdyIsIiRjYXJvdXNlbCIsImZpbmQiLCJzbGlkZXMiLCJmbGlja2l0eSIsImZsaWNraXR5T3B0aW9ucyIsImxlbmd0aCIsIl9pbml0U2xpZGVyIiwiYXV0b1BsYXkiLCJhY2Nlc3NpYmlsaXR5IiwiY2VsbEFsaWduIiwiY2VsbFNlbGVjdG9yIiwicGFnZURvdHMiLCJwcmV2TmV4dEJ1dHRvbnMiLCJjb250YWluIiwiX2JpbmRGbGlja2l0eSIsIl9kZXN0cm95RmxpY2tpdHkiLCJvZmYiLCJicmVha3BvaW50IiwiRmxpY2tpdHkiLCJvbiIsImRlYm91bmNlIiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztJQUVxQkEsd0I7QUFDbkIsb0NBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsU0FBS0MsR0FBTCxHQUFXQyw2Q0FBQyxDQUFDRixPQUFPLENBQUNHLEVBQVQsQ0FBWjtBQUNBLFNBQUtDLE9BQUwsR0FBZUYsNkNBQUMsQ0FBQ0csTUFBRCxDQUFoQjtBQUVBLFNBQUtDLFNBQUwsR0FBaUIsS0FBS0wsR0FBTCxDQUFTTSxJQUFULENBQWMscUJBQWQsQ0FBakI7QUFDQSxTQUFLQyxNQUFMLEdBQWMsMkJBQWQ7QUFFQSxTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsU0FBS0MsZUFBTCxHQUF1QixJQUF2Qjs7QUFFQSxRQUFJLEtBQUtKLFNBQUwsQ0FBZUMsSUFBZixDQUFvQixLQUFLQyxNQUF6QixFQUFpQ0csTUFBakMsR0FBMEMsQ0FBOUMsRUFBaUQ7QUFDL0MsV0FBS0MsV0FBTDtBQUNEO0FBQ0Y7Ozs7a0NBRWE7QUFDWixXQUFLRixlQUFMLEdBQXVCO0FBQ3JCRyxnQkFBUSxFQUFFLENBRFc7QUFFckJDLHFCQUFhLEVBQUUsSUFGTTtBQUdyQkMsaUJBQVMsRUFBRSxRQUhVO0FBSXJCQyxvQkFBWSxFQUFFLEtBQUtSLE1BSkU7QUFLckJTLGdCQUFRLEVBQUUsS0FMVztBQU1yQkMsdUJBQWUsRUFBRSxLQU5JO0FBT3JCQyxlQUFPLEVBQUU7QUFQWSxPQUF2Qjs7QUFVQSxXQUFLQyxhQUFMO0FBQ0Q7OztzQ0FFaUI7QUFDaEIsV0FBS0MsZ0JBQUw7O0FBQ0EsV0FBS2pCLE9BQUwsQ0FBYWtCLEdBQWIsQ0FBaUIsVUFBakI7QUFDRDs7O29DQUVlO0FBQUE7O0FBQ2QsVUFBSUMsMERBQUEsQ0FBZSxHQUFmLE1BQXdCLEtBQXhCLElBQWlDLEtBQUtkLFFBQUwsS0FBa0IsSUFBdkQsRUFBNkQ7QUFDM0QsYUFBS0EsUUFBTCxHQUFnQixJQUFJZSwrQ0FBSixDQUFhLEtBQUtsQixTQUFMLENBQWUsQ0FBZixDQUFiLEVBQWdDLEtBQUtJLGVBQXJDLENBQWhCO0FBQ0Q7O0FBRUQsV0FBS04sT0FBTCxDQUFhcUIsRUFBYixDQUFnQixRQUFoQixFQUEwQkMsb0RBQVEsQ0FBQyxZQUFNO0FBQ3ZDLFlBQUlILDBEQUFBLENBQWUsR0FBZixNQUF3QixLQUF4QixJQUFpQyxLQUFJLENBQUNkLFFBQUwsS0FBa0IsSUFBdkQsRUFBNkQ7QUFDM0QsZUFBSSxDQUFDVyxhQUFMO0FBQ0QsU0FGRCxNQUVPLElBQUlHLDBEQUFBLENBQWUsR0FBZixLQUF1QixLQUFJLENBQUNkLFFBQWhDLEVBQTBDO0FBQy9DLGVBQUksQ0FBQ1ksZ0JBQUw7QUFDRDtBQUNGLE9BTmlDLENBQWxDO0FBT0Q7Ozt1Q0FFa0I7QUFDakIsVUFBSSxDQUFDLEtBQUtaLFFBQVYsRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxXQUFLQSxRQUFMLENBQWNrQixPQUFkO0FBQ0EsV0FBS2xCLFFBQUwsR0FBZ0IsSUFBaEI7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL0R5bmFtaWNIaWdobGlnaHRzQmFubmVycy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnanVzdC1kZWJvdW5jZSc7XG5pbXBvcnQgRmxpY2tpdHkgZnJvbSAnZmxpY2tpdHknO1xuaW1wb3J0ICogYXMgYnJlYWtwb2ludCBmcm9tICdAcGl4ZWx1bmlvbi9icmVha3BvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY0hpZ2hsaWdodHNCYW5uZXJzIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuJGVsID0gJChzZWN0aW9uLmVsKTtcbiAgICB0aGlzLiR3aW5kb3cgPSAkKHdpbmRvdyk7XG5cbiAgICB0aGlzLiRjYXJvdXNlbCA9IHRoaXMuJGVsLmZpbmQoJy5oaWdobGlnaHRzLWJhbm5lcnMnKTtcbiAgICB0aGlzLnNsaWRlcyA9ICcuaGlnaGxpZ2h0cy1iYW5uZXJzLWJsb2NrJztcblxuICAgIHRoaXMuZmxpY2tpdHkgPSBudWxsO1xuICAgIHRoaXMuZmxpY2tpdHlPcHRpb25zID0gbnVsbDtcblxuICAgIGlmICh0aGlzLiRjYXJvdXNlbC5maW5kKHRoaXMuc2xpZGVzKS5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLl9pbml0U2xpZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgX2luaXRTbGlkZXIoKSB7XG4gICAgdGhpcy5mbGlja2l0eU9wdGlvbnMgPSB7XG4gICAgICBhdXRvUGxheTogMCxcbiAgICAgIGFjY2Vzc2liaWxpdHk6IHRydWUsXG4gICAgICBjZWxsQWxpZ246ICdjZW50ZXInLFxuICAgICAgY2VsbFNlbGVjdG9yOiB0aGlzLnNsaWRlcyxcbiAgICAgIHBhZ2VEb3RzOiBmYWxzZSxcbiAgICAgIHByZXZOZXh0QnV0dG9uczogZmFsc2UsXG4gICAgICBjb250YWluOiB0cnVlLFxuICAgIH07XG5cbiAgICB0aGlzLl9iaW5kRmxpY2tpdHkoKTtcbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLl9kZXN0cm95RmxpY2tpdHkoKTtcbiAgICB0aGlzLiR3aW5kb3cub2ZmKCcudHdpdHRlcicpO1xuICB9XG5cbiAgX2JpbmRGbGlja2l0eSgpIHtcbiAgICBpZiAoYnJlYWtwb2ludC5taW4oJ0wnKSA9PT0gZmFsc2UgJiYgdGhpcy5mbGlja2l0eSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5mbGlja2l0eSA9IG5ldyBGbGlja2l0eSh0aGlzLiRjYXJvdXNlbFswXSwgdGhpcy5mbGlja2l0eU9wdGlvbnMpO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vbigncmVzaXplJywgZGVib3VuY2UoKCkgPT4ge1xuICAgICAgaWYgKGJyZWFrcG9pbnQubWluKCdMJykgPT09IGZhbHNlICYmIHRoaXMuZmxpY2tpdHkgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fYmluZEZsaWNraXR5KCk7XG4gICAgICB9IGVsc2UgaWYgKGJyZWFrcG9pbnQubWluKCdMJykgJiYgdGhpcy5mbGlja2l0eSkge1xuICAgICAgICB0aGlzLl9kZXN0cm95RmxpY2tpdHkoKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cblxuICBfZGVzdHJveUZsaWNraXR5KCkge1xuICAgIGlmICghdGhpcy5mbGlja2l0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZmxpY2tpdHkuZGVzdHJveSgpO1xuICAgIHRoaXMuZmxpY2tpdHkgPSBudWxsO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicHighlightsBanners.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicMap.js":
/*!***********************************************!*\
  !*** ./source/scripts/sections/DynamicMap.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicMap; });\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers_mapUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/mapUtils */ \"./source/scripts/helpers/mapUtils.js\");\n/* harmony import */ var _helpers_LazyLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/LazyLoader */ \"./source/scripts/helpers/LazyLoader.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar DynamicMap = /*#__PURE__*/function () {\n  function DynamicMap(section) {\n    var _this = this;\n\n    _classCallCheck(this, DynamicMap);\n\n    var initMap = function initMap() {\n      _this.map = null;\n      var el = section.el.querySelector('[data-map]');\n      var container = el.querySelector('[data-map-container]');\n      var settings = section.data;\n      var address = settings.address,\n          colors = settings.colors;\n      var apiKey = settings.api_key; // Scale so range is 12 ~ 17, rather than 1 to 6\n\n      var zoom = Number.isNaN(settings.zoom) ? 13 : 11 + parseInt(settings.zoom, 10);\n\n      if (apiKey) {\n        if (window.googleMaps === undefined) {\n          scriptjs__WEBPACK_IMPORTED_MODULE_0___default()(\"https://maps.googleapis.com/maps/api/js?key=\".concat(apiKey), function () {\n            window.googleMaps = true;\n            Object(_helpers_mapUtils__WEBPACK_IMPORTED_MODULE_1__[\"createMap\"])({\n              container: container,\n              address: address,\n              zoom: zoom,\n              colors: colors\n            }).done(function (map) {\n              _this.map = map;\n            }).fail(function (error) {\n              return Object(_helpers_mapUtils__WEBPACK_IMPORTED_MODULE_1__[\"displayErrorInThemeEditor\"])(container, error);\n            });\n          });\n        } else {\n          Object(_helpers_mapUtils__WEBPACK_IMPORTED_MODULE_1__[\"createMap\"])({\n            container: container,\n            address: address,\n            zoom: zoom,\n            colors: colors\n          }).done(function (map) {\n            _this.map = map;\n          }).fail(function (error) {\n            return Object(_helpers_mapUtils__WEBPACK_IMPORTED_MODULE_1__[\"displayErrorInThemeEditor\"])(container, error);\n          });\n        }\n      }\n    };\n\n    this.lazyLoader = new _helpers_LazyLoader__WEBPACK_IMPORTED_MODULE_2__[\"default\"](section.el, initMap);\n  }\n\n  _createClass(DynamicMap, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.map = null;\n      this.lazyLoader.unload();\n    }\n  }]);\n\n  return DynamicMap;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljTWFwLmpzPzRjNTUiXSwibmFtZXMiOlsiRHluYW1pY01hcCIsInNlY3Rpb24iLCJpbml0TWFwIiwibWFwIiwiZWwiLCJxdWVyeVNlbGVjdG9yIiwiY29udGFpbmVyIiwic2V0dGluZ3MiLCJkYXRhIiwiYWRkcmVzcyIsImNvbG9ycyIsImFwaUtleSIsImFwaV9rZXkiLCJ6b29tIiwiTnVtYmVyIiwiaXNOYU4iLCJwYXJzZUludCIsIndpbmRvdyIsImdvb2dsZU1hcHMiLCJ1bmRlZmluZWQiLCIkc2NyaXB0IiwiY3JlYXRlTWFwIiwiZG9uZSIsImZhaWwiLCJlcnJvciIsImRpc3BsYXlFcnJvckluVGhlbWVFZGl0b3IiLCJsYXp5TG9hZGVyIiwiTGF6eUxvYWRlciIsInVubG9hZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztJQUVxQkEsVTtBQUNuQixzQkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUFBOztBQUNuQixRQUFNQyxPQUFPLEdBQUcsU0FBVkEsT0FBVSxHQUFNO0FBQ3BCLFdBQUksQ0FBQ0MsR0FBTCxHQUFXLElBQVg7QUFFQSxVQUFNQyxFQUFFLEdBQUdILE9BQU8sQ0FBQ0csRUFBUixDQUFXQyxhQUFYLENBQXlCLFlBQXpCLENBQVg7QUFDQSxVQUFNQyxTQUFTLEdBQUdGLEVBQUUsQ0FBQ0MsYUFBSCxDQUFpQixzQkFBakIsQ0FBbEI7QUFDQSxVQUFNRSxRQUFRLEdBQUdOLE9BQU8sQ0FBQ08sSUFBekI7QUFMb0IsVUFNWkMsT0FOWSxHQU1RRixRQU5SLENBTVpFLE9BTlk7QUFBQSxVQU1IQyxNQU5HLEdBTVFILFFBTlIsQ0FNSEcsTUFORztBQU9wQixVQUFNQyxNQUFNLEdBQUdKLFFBQVEsQ0FBQ0ssT0FBeEIsQ0FQb0IsQ0FRcEI7O0FBQ0EsVUFBTUMsSUFBSSxHQUFHQyxNQUFNLENBQUNDLEtBQVAsQ0FBYVIsUUFBUSxDQUFDTSxJQUF0QixJQUE4QixFQUE5QixHQUFtQyxLQUFLRyxRQUFRLENBQUNULFFBQVEsQ0FBQ00sSUFBVixFQUFnQixFQUFoQixDQUE3RDs7QUFFQSxVQUFJRixNQUFKLEVBQVk7QUFDVixZQUFJTSxNQUFNLENBQUNDLFVBQVAsS0FBc0JDLFNBQTFCLEVBQXFDO0FBQ25DQyx5REFBTyx1REFBZ0RULE1BQWhELEdBQTBELFlBQU07QUFDckVNLGtCQUFNLENBQUNDLFVBQVAsR0FBb0IsSUFBcEI7QUFDQUcsK0VBQVMsQ0FBQztBQUNSZix1QkFBUyxFQUFUQSxTQURRO0FBRVJHLHFCQUFPLEVBQVBBLE9BRlE7QUFHUkksa0JBQUksRUFBSkEsSUFIUTtBQUlSSCxvQkFBTSxFQUFOQTtBQUpRLGFBQUQsQ0FBVCxDQUtHWSxJQUxILENBS1EsVUFBQ25CLEdBQUQsRUFBUztBQUNmLG1CQUFJLENBQUNBLEdBQUwsR0FBV0EsR0FBWDtBQUNELGFBUEQsRUFPR29CLElBUEgsQ0FPUSxVQUFBQyxLQUFLO0FBQUEscUJBQUlDLG1GQUF5QixDQUFDbkIsU0FBRCxFQUFZa0IsS0FBWixDQUE3QjtBQUFBLGFBUGI7QUFRRCxXQVZNLENBQVA7QUFXRCxTQVpELE1BWU87QUFDTEgsNkVBQVMsQ0FBQztBQUNSZixxQkFBUyxFQUFUQSxTQURRO0FBRVJHLG1CQUFPLEVBQVBBLE9BRlE7QUFHUkksZ0JBQUksRUFBSkEsSUFIUTtBQUlSSCxrQkFBTSxFQUFOQTtBQUpRLFdBQUQsQ0FBVCxDQUtHWSxJQUxILENBS1EsVUFBQ25CLEdBQUQsRUFBUztBQUNmLGlCQUFJLENBQUNBLEdBQUwsR0FBV0EsR0FBWDtBQUNELFdBUEQsRUFPR29CLElBUEgsQ0FPUSxVQUFBQyxLQUFLO0FBQUEsbUJBQUlDLG1GQUF5QixDQUFDbkIsU0FBRCxFQUFZa0IsS0FBWixDQUE3QjtBQUFBLFdBUGI7QUFRRDtBQUNGO0FBQ0YsS0FuQ0Q7O0FBcUNBLFNBQUtFLFVBQUwsR0FBa0IsSUFBSUMsMkRBQUosQ0FBZTFCLE9BQU8sQ0FBQ0csRUFBdkIsRUFBMkJGLE9BQTNCLENBQWxCO0FBQ0Q7Ozs7c0NBRWlCO0FBQ2hCLFdBQUtDLEdBQUwsR0FBVyxJQUFYO0FBQ0EsV0FBS3VCLFVBQUwsQ0FBZ0JFLE1BQWhCO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljTWFwLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICRzY3JpcHQgZnJvbSAnc2NyaXB0anMnO1xuaW1wb3J0IHsgY3JlYXRlTWFwLCBkaXNwbGF5RXJyb3JJblRoZW1lRWRpdG9yIH0gZnJvbSAnLi4vaGVscGVycy9tYXBVdGlscyc7XG5pbXBvcnQgTGF6eUxvYWRlciBmcm9tICcuLi9oZWxwZXJzL0xhenlMb2FkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEeW5hbWljTWFwIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIGNvbnN0IGluaXRNYXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLm1hcCA9IG51bGw7XG5cbiAgICAgIGNvbnN0IGVsID0gc2VjdGlvbi5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tYXBdJyk7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tYXAtY29udGFpbmVyXScpO1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBzZWN0aW9uLmRhdGE7XG4gICAgICBjb25zdCB7IGFkZHJlc3MsIGNvbG9ycyB9ID0gc2V0dGluZ3M7XG4gICAgICBjb25zdCBhcGlLZXkgPSBzZXR0aW5ncy5hcGlfa2V5O1xuICAgICAgLy8gU2NhbGUgc28gcmFuZ2UgaXMgMTIgfiAxNywgcmF0aGVyIHRoYW4gMSB0byA2XG4gICAgICBjb25zdCB6b29tID0gTnVtYmVyLmlzTmFOKHNldHRpbmdzLnpvb20pID8gMTMgOiAxMSArIHBhcnNlSW50KHNldHRpbmdzLnpvb20sIDEwKTtcblxuICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICBpZiAod2luZG93Lmdvb2dsZU1hcHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICRzY3JpcHQoYGh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9JHthcGlLZXl9YCwgKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93Lmdvb2dsZU1hcHMgPSB0cnVlO1xuICAgICAgICAgICAgY3JlYXRlTWFwKHtcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICB6b29tLFxuICAgICAgICAgICAgICBjb2xvcnMsXG4gICAgICAgICAgICB9KS5kb25lKChtYXApID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgICAgICB9KS5mYWlsKGVycm9yID0+IGRpc3BsYXlFcnJvckluVGhlbWVFZGl0b3IoY29udGFpbmVyLCBlcnJvcikpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNyZWF0ZU1hcCh7XG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIGNvbG9ycyxcbiAgICAgICAgICB9KS5kb25lKChtYXApID0+IHtcbiAgICAgICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICAgIH0pLmZhaWwoZXJyb3IgPT4gZGlzcGxheUVycm9ySW5UaGVtZUVkaXRvcihjb250YWluZXIsIGVycm9yKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5sYXp5TG9hZGVyID0gbmV3IExhenlMb2FkZXIoc2VjdGlvbi5lbCwgaW5pdE1hcCk7XG4gIH1cblxuICBvblNlY3Rpb25VbmxvYWQoKSB7XG4gICAgdGhpcy5tYXAgPSBudWxsO1xuICAgIHRoaXMubGF6eUxvYWRlci51bmxvYWQoKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicMap.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicMenuList.js":
/*!****************************************************!*\
  !*** ./source/scripts/sections/DynamicMenuList.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicMenuList; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Accordion */ \"./source/scripts/Accordion.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar DynamicMenuList = /*#__PURE__*/function () {\n  function DynamicMenuList(section) {\n    _classCallCheck(this, DynamicMenuList);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.context = section.data.context;\n    this.Accordion = new _Accordion__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.$el); // Handle Accordion interaction when window size changes\n\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"onChange\"](this.layoutHandler);\n\n    this._bindEvents();\n  }\n\n  _createClass(DynamicMenuList, [{\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this = this;\n\n      this.$el.on('click.menu-list', '[data-accordion-trigger]', function (event) {\n        event.preventDefault();\n\n        _this._toggleAccordion(jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget).parent());\n      });\n      this.$el.on('click.menu-list', '[data-menulist-toggle]', function (event) {\n        event.preventDefault();\n\n        _this._toggleList(event.currentTarget);\n      });\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.$el.off('.menu-list');\n      delete this.Accordion;\n    }\n  }, {\n    key: \"onSectionBlockSelect\",\n    value: function onSectionBlockSelect(block) {\n      this._toggleAccordion(jquery__WEBPACK_IMPORTED_MODULE_0___default()(block.el), true);\n    }\n  }, {\n    key: \"onSectionBlockDeselect\",\n    value: function onSectionBlockDeselect(block) {\n      this._toggleAccordion(jquery__WEBPACK_IMPORTED_MODULE_0___default()(block.el), false);\n    }\n  }, {\n    key: \"_toggleAccordion\",\n    value: function _toggleAccordion($block) {\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"min\"]('L')) return;\n      this.Accordion.toggle($block);\n    }\n  }, {\n    key: \"_toggleList\",\n    value: function _toggleList(el) {\n      var $trigger = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el);\n      var $items = $trigger.parent().siblings('[data-hidden-default]');\n      var siblingsVisible = $trigger.data('menulist-toggle');\n      $items.toggleClass('menulist--menu-item-hidden', siblingsVisible);\n      $trigger.data('menulist-toggle', !siblingsVisible).text(!siblingsVisible ? this.context.see_less : this.context.see_more);\n    }\n  }, {\n    key: \"onBreakpointChange\",\n    value: function onBreakpointChange(breakpoints) {\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"min\"]('L')) {\n        this.Accordion.openAll();\n      } else if (breakpoints.previous === 'L' && !_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"min\"]('L')) {\n        this.Accordion.closeOpen();\n      }\n    }\n  }]);\n\n  return DynamicMenuList;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljTWVudUxpc3QuanM/ZWYxMyJdLCJuYW1lcyI6WyJEeW5hbWljTWVudUxpc3QiLCJzZWN0aW9uIiwiJGVsIiwiJCIsImVsIiwiY29udGV4dCIsImRhdGEiLCJBY2NvcmRpb24iLCJsYXlvdXRIYW5kbGVyIiwib25CcmVha3BvaW50Q2hhbmdlIiwiYmluZCIsImJyZWFrcG9pbnQiLCJfYmluZEV2ZW50cyIsIm9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl90b2dnbGVBY2NvcmRpb24iLCJjdXJyZW50VGFyZ2V0IiwicGFyZW50IiwiX3RvZ2dsZUxpc3QiLCJvZmYiLCJibG9jayIsIiRibG9jayIsInRvZ2dsZSIsIiR0cmlnZ2VyIiwiJGl0ZW1zIiwic2libGluZ3MiLCJzaWJsaW5nc1Zpc2libGUiLCJ0b2dnbGVDbGFzcyIsInRleHQiLCJzZWVfbGVzcyIsInNlZV9tb3JlIiwiYnJlYWtwb2ludHMiLCJvcGVuQWxsIiwicHJldmlvdXMiLCJjbG9zZU9wZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7O0lBRXFCQSxlO0FBQ25CLDJCQUFZQyxPQUFaLEVBQXFCO0FBQUE7O0FBQ25CLFNBQUtDLEdBQUwsR0FBV0MsNkNBQUMsQ0FBQ0YsT0FBTyxDQUFDRyxFQUFULENBQVo7QUFDQSxTQUFLQyxPQUFMLEdBQWVKLE9BQU8sQ0FBQ0ssSUFBUixDQUFhRCxPQUE1QjtBQUNBLFNBQUtFLFNBQUwsR0FBaUIsSUFBSUEsa0RBQUosQ0FBYyxLQUFLTCxHQUFuQixDQUFqQixDQUhtQixDQUtuQjs7QUFDQSxTQUFLTSxhQUFMLEdBQXFCLEtBQUtDLGtCQUFMLENBQXdCQyxJQUF4QixDQUE2QixJQUE3QixDQUFyQjtBQUNBQyxtRUFBQSxDQUFvQixLQUFLSCxhQUF6Qjs7QUFFQSxTQUFLSSxXQUFMO0FBQ0Q7Ozs7a0NBRWE7QUFBQTs7QUFDWixXQUFLVixHQUFMLENBQVNXLEVBQVQsQ0FBWSxpQkFBWixFQUErQiwwQkFBL0IsRUFBMkQsVUFBQUMsS0FBSyxFQUFJO0FBQ2xFQSxhQUFLLENBQUNDLGNBQU47O0FBQ0EsYUFBSSxDQUFDQyxnQkFBTCxDQUFzQmIsNkNBQUMsQ0FBQ1csS0FBSyxDQUFDRyxhQUFQLENBQUQsQ0FBdUJDLE1BQXZCLEVBQXRCO0FBQ0QsT0FIRDtBQUtBLFdBQUtoQixHQUFMLENBQVNXLEVBQVQsQ0FBWSxpQkFBWixFQUErQix3QkFBL0IsRUFBeUQsVUFBQUMsS0FBSyxFQUFJO0FBQ2hFQSxhQUFLLENBQUNDLGNBQU47O0FBQ0EsYUFBSSxDQUFDSSxXQUFMLENBQWlCTCxLQUFLLENBQUNHLGFBQXZCO0FBQ0QsT0FIRDtBQUlEOzs7c0NBRWlCO0FBQ2hCLFdBQUtmLEdBQUwsQ0FBU2tCLEdBQVQsQ0FBYSxZQUFiO0FBRUEsYUFBTyxLQUFLYixTQUFaO0FBQ0Q7Ozt5Q0FFb0JjLEssRUFBTztBQUMxQixXQUFLTCxnQkFBTCxDQUFzQmIsNkNBQUMsQ0FBQ2tCLEtBQUssQ0FBQ2pCLEVBQVAsQ0FBdkIsRUFBbUMsSUFBbkM7QUFDRDs7OzJDQUVzQmlCLEssRUFBTztBQUM1QixXQUFLTCxnQkFBTCxDQUFzQmIsNkNBQUMsQ0FBQ2tCLEtBQUssQ0FBQ2pCLEVBQVAsQ0FBdkIsRUFBbUMsS0FBbkM7QUFDRDs7O3FDQUVnQmtCLE0sRUFBUTtBQUN2QixVQUFJWCwwREFBQSxDQUFlLEdBQWYsQ0FBSixFQUF5QjtBQUV6QixXQUFLSixTQUFMLENBQWVnQixNQUFmLENBQXNCRCxNQUF0QjtBQUNEOzs7Z0NBRVdsQixFLEVBQUk7QUFDZCxVQUFNb0IsUUFBUSxHQUFHckIsNkNBQUMsQ0FBQ0MsRUFBRCxDQUFsQjtBQUNBLFVBQU1xQixNQUFNLEdBQUdELFFBQVEsQ0FBQ04sTUFBVCxHQUFrQlEsUUFBbEIsQ0FBMkIsdUJBQTNCLENBQWY7QUFDQSxVQUFNQyxlQUFlLEdBQUdILFFBQVEsQ0FBQ2xCLElBQVQsQ0FBYyxpQkFBZCxDQUF4QjtBQUVBbUIsWUFBTSxDQUFDRyxXQUFQLENBQW1CLDRCQUFuQixFQUFpREQsZUFBakQ7QUFDQUgsY0FBUSxDQUNMbEIsSUFESCxDQUNRLGlCQURSLEVBQzJCLENBQUNxQixlQUQ1QixFQUVHRSxJQUZILENBRVEsQ0FBQ0YsZUFBRCxHQUFtQixLQUFLdEIsT0FBTCxDQUFheUIsUUFBaEMsR0FBMkMsS0FBS3pCLE9BQUwsQ0FBYTBCLFFBRmhFO0FBR0Q7Ozt1Q0FFa0JDLFcsRUFBYTtBQUM5QixVQUFJckIsMERBQUEsQ0FBZSxHQUFmLENBQUosRUFBeUI7QUFDdkIsYUFBS0osU0FBTCxDQUFlMEIsT0FBZjtBQUNELE9BRkQsTUFFTyxJQUFJRCxXQUFXLENBQUNFLFFBQVosS0FBeUIsR0FBekIsSUFBZ0MsQ0FBQ3ZCLDBEQUFBLENBQWUsR0FBZixDQUFyQyxFQUEwRDtBQUMvRCxhQUFLSixTQUFMLENBQWU0QixTQUFmO0FBQ0Q7QUFDRiIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL0R5bmFtaWNNZW51TGlzdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgKiBhcyBicmVha3BvaW50IGZyb20gJ0BwaXhlbHVuaW9uL2JyZWFrcG9pbnQnO1xuXG5pbXBvcnQgQWNjb3JkaW9uIGZyb20gJy4uL0FjY29yZGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNNZW51TGlzdCB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLiRlbCA9ICQoc2VjdGlvbi5lbCk7XG4gICAgdGhpcy5jb250ZXh0ID0gc2VjdGlvbi5kYXRhLmNvbnRleHQ7XG4gICAgdGhpcy5BY2NvcmRpb24gPSBuZXcgQWNjb3JkaW9uKHRoaXMuJGVsKTtcblxuICAgIC8vIEhhbmRsZSBBY2NvcmRpb24gaW50ZXJhY3Rpb24gd2hlbiB3aW5kb3cgc2l6ZSBjaGFuZ2VzXG4gICAgdGhpcy5sYXlvdXRIYW5kbGVyID0gdGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICBicmVha3BvaW50Lm9uQ2hhbmdlKHRoaXMubGF5b3V0SGFuZGxlcik7XG5cbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gIH1cblxuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLiRlbC5vbignY2xpY2subWVudS1saXN0JywgJ1tkYXRhLWFjY29yZGlvbi10cmlnZ2VyXScsIGV2ZW50ID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl90b2dnbGVBY2NvcmRpb24oJChldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRlbC5vbignY2xpY2subWVudS1saXN0JywgJ1tkYXRhLW1lbnVsaXN0LXRvZ2dsZV0nLCBldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fdG9nZ2xlTGlzdChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLiRlbC5vZmYoJy5tZW51LWxpc3QnKTtcblxuICAgIGRlbGV0ZSB0aGlzLkFjY29yZGlvbjtcbiAgfVxuXG4gIG9uU2VjdGlvbkJsb2NrU2VsZWN0KGJsb2NrKSB7XG4gICAgdGhpcy5fdG9nZ2xlQWNjb3JkaW9uKCQoYmxvY2suZWwpLCB0cnVlKTtcbiAgfVxuXG4gIG9uU2VjdGlvbkJsb2NrRGVzZWxlY3QoYmxvY2spIHtcbiAgICB0aGlzLl90b2dnbGVBY2NvcmRpb24oJChibG9jay5lbCksIGZhbHNlKTtcbiAgfVxuXG4gIF90b2dnbGVBY2NvcmRpb24oJGJsb2NrKSB7XG4gICAgaWYgKGJyZWFrcG9pbnQubWluKCdMJykpIHJldHVybjtcblxuICAgIHRoaXMuQWNjb3JkaW9uLnRvZ2dsZSgkYmxvY2spO1xuICB9XG5cbiAgX3RvZ2dsZUxpc3QoZWwpIHtcbiAgICBjb25zdCAkdHJpZ2dlciA9ICQoZWwpO1xuICAgIGNvbnN0ICRpdGVtcyA9ICR0cmlnZ2VyLnBhcmVudCgpLnNpYmxpbmdzKCdbZGF0YS1oaWRkZW4tZGVmYXVsdF0nKTtcbiAgICBjb25zdCBzaWJsaW5nc1Zpc2libGUgPSAkdHJpZ2dlci5kYXRhKCdtZW51bGlzdC10b2dnbGUnKTtcblxuICAgICRpdGVtcy50b2dnbGVDbGFzcygnbWVudWxpc3QtLW1lbnUtaXRlbS1oaWRkZW4nLCBzaWJsaW5nc1Zpc2libGUpO1xuICAgICR0cmlnZ2VyXG4gICAgICAuZGF0YSgnbWVudWxpc3QtdG9nZ2xlJywgIXNpYmxpbmdzVmlzaWJsZSlcbiAgICAgIC50ZXh0KCFzaWJsaW5nc1Zpc2libGUgPyB0aGlzLmNvbnRleHQuc2VlX2xlc3MgOiB0aGlzLmNvbnRleHQuc2VlX21vcmUpO1xuICB9XG5cbiAgb25CcmVha3BvaW50Q2hhbmdlKGJyZWFrcG9pbnRzKSB7XG4gICAgaWYgKGJyZWFrcG9pbnQubWluKCdMJykpIHtcbiAgICAgIHRoaXMuQWNjb3JkaW9uLm9wZW5BbGwoKTtcbiAgICB9IGVsc2UgaWYgKGJyZWFrcG9pbnRzLnByZXZpb3VzID09PSAnTCcgJiYgIWJyZWFrcG9pbnQubWluKCdMJykpIHtcbiAgICAgIHRoaXMuQWNjb3JkaW9uLmNsb3NlT3BlbigpO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicMenuList.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicNewsletter.js":
/*!******************************************************!*\
  !*** ./source/scripts/sections/DynamicNewsletter.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicNewsletter; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar DynamicNewsletter = /*#__PURE__*/function () {\n  function DynamicNewsletter(section) {\n    _classCallCheck(this, DynamicNewsletter);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.forms = new _Forms__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.$el);\n  }\n\n  _createClass(DynamicNewsletter, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.forms.unload();\n    }\n  }]);\n\n  return DynamicNewsletter;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljTmV3c2xldHRlci5qcz8wZTViIl0sIm5hbWVzIjpbIkR5bmFtaWNOZXdzbGV0dGVyIiwic2VjdGlvbiIsIiRlbCIsIiQiLCJlbCIsImZvcm1zIiwiRm9ybXMiLCJ1bmxvYWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTs7SUFFcUJBLGlCO0FBQ25CLDZCQUFZQyxPQUFaLEVBQXFCO0FBQUE7O0FBQ25CLFNBQUtDLEdBQUwsR0FBV0MsNkNBQUMsQ0FBQ0YsT0FBTyxDQUFDRyxFQUFULENBQVo7QUFFQSxTQUFLQyxLQUFMLEdBQWEsSUFBSUMsOENBQUosQ0FBVSxLQUFLSixHQUFmLENBQWI7QUFDRDs7OztzQ0FFaUI7QUFDaEIsV0FBS0csS0FBTCxDQUFXRSxNQUFYO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljTmV3c2xldHRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmltcG9ydCBGb3JtcyBmcm9tICcuLi9Gb3Jtcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNOZXdzbGV0dGVyIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuJGVsID0gJChzZWN0aW9uLmVsKTtcblxuICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcy4kZWwpO1xuICB9XG5cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIHRoaXMuZm9ybXMudW5sb2FkKCk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicNewsletter.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicPromoBlocks.js":
/*!*******************************************************!*\
  !*** ./source/scripts/sections/DynamicPromoBlocks.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicPromoBlocks; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar DynamicPromoBlocks = /*#__PURE__*/function () {\n  function DynamicPromoBlocks(section) {\n    var _this = this;\n\n    _classCallCheck(this, DynamicPromoBlocks);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.contentSelector = section.data.content_selector;\n    this.blockSelector = section.data.block_selector;\n    this.content = \"[\".concat(this.contentSelector, \"]\");\n    this.expandedClass = \"\".concat(this.blockSelector, \"--expanded\");\n    this.compressBlocks = section.data.compress_blocks; // Adjusts the height of the block so it can contain the wrapper within it\n\n    this.adjustHeight = function (block) {\n      var $block = jquery__WEBPACK_IMPORTED_MODULE_0___default()(block);\n      var $wrapper = $block.find(\".\".concat(_this.blockSelector, \"--content-wrapper\"));\n      var padding = window.getComputedStyle($block[0], null).getPropertyValue('padding-top').replace('px', '');\n\n      if ($block.innerHeight() - padding * 2 < $wrapper.innerHeight()) {\n        $block.css({\n          height: \"\".concat($wrapper.innerHeight() + padding * 2, \"px\")\n        });\n        $wrapper.css({\n          transform: 'none',\n          top: 'auto'\n        });\n      }\n    }; // Removes height settings on the block because they only need to be there for small screens\n\n\n    this.resetHeight = function (block) {\n      var $block = jquery__WEBPACK_IMPORTED_MODULE_0___default()(block);\n      var $wrapper = $block.find(\".\".concat(_this.blockSelector, \"--content-wrapper\"));\n      $block.css({\n        height: ''\n      });\n      $wrapper.css({\n        transform: '',\n        top: ''\n      });\n    }; // Revert navigation to original state on breakpoint change\n\n\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"onChange\"](this.layoutHandler);\n    this._blockInteraction = this._blockInteraction.bind(this);\n    this.$el.on(\"click.\".concat(this.blockSelector), this.content, this._blockInteraction);\n\n    if (!this.compressBlocks && _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"max\"]('XS')) {\n      this.$el.find(this.content).each(function (index, block) {\n        _this.adjustHeight(block);\n      });\n    }\n  }\n  /**\n   * Remove block's toggled state and attributes when leaving mobile\n   */\n\n\n  _createClass(DynamicPromoBlocks, [{\n    key: \"onBreakpointChange\",\n    value: function onBreakpointChange() {\n      var _this2 = this;\n\n      if (!_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"max\"]('XS')) {\n        this.$el.find(\".\".concat(this.expandedClass)).each(function (i, content) {\n          _this2._collapse(content);\n        });\n        this.$el.find(this.content).each(function (index, block) {\n          _this2.resetHeight(block);\n        });\n      } else if (!this.compressBlocks) {\n        this.$el.find(this.content).each(function (index, block) {\n          _this2.adjustHeight(block);\n        });\n      }\n    }\n    /**\n     * Unbind events when section is re-drawn\n     */\n\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.$el.off(\".\".concat(this.blockSelector));\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"offChange\"](this.layoutHandler);\n    }\n    /**\n     * Callback to open block on mobile from the TE\n     *\n     * @param block\n     */\n\n  }, {\n    key: \"onSectionBlockSelect\",\n    value: function onSectionBlockSelect(block) {\n      if (!_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"max\"]('XS')) return;\n\n      this._expand(block.el.querySelector(this.content));\n    }\n    /**\n     * Callback to close block on mobile from the TE\n     *\n     * @param block\n     */\n\n  }, {\n    key: \"onSectionBlockDeselect\",\n    value: function onSectionBlockDeselect(block) {\n      if (!_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"max\"]('XS')) return;\n\n      this._collapse(block.el.querySelector(this.content));\n    }\n    /**\n     * Expand a block on first click, then allow it to behave as normal\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_blockInteraction\",\n    value: function _blockInteraction(event) {\n      var content = event.currentTarget;\n      var clicked = content.getAttribute('data-clicked'); // On second click, or on desktop, don't interfere with block\n\n      if (clicked || !_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"max\"]('XS') || !this.compressBlocks) {\n        return;\n      }\n\n      event.preventDefault();\n      content.setAttribute('data-clicked', 'clicked');\n\n      this._expand(content);\n    }\n    /**\n     * Expand promo block\n     *\n     * @param content\n     * @private\n     */\n\n  }, {\n    key: \"_expand\",\n    value: function _expand(content) {\n      var _this3 = this;\n\n      if (!this.compressBlocks) {\n        return;\n      }\n\n      var $content = jquery__WEBPACK_IMPORTED_MODULE_0___default()(content);\n      $content.addClass('animating animating-in').one('trend', function () {\n        $content.removeClass('animating animating-in').addClass(_this3.expandedClass).off('trend');\n\n        _this3.adjustHeight($content);\n      });\n    }\n    /**\n     * Collapse a block\n     *\n     * @param content\n     * @private\n     */\n\n  }, {\n    key: \"_collapse\",\n    value: function _collapse(content) {\n      var _this4 = this;\n\n      if (!this.compressBlocks) {\n        return;\n      }\n\n      var $content = jquery__WEBPACK_IMPORTED_MODULE_0___default()(content);\n      $content.addClass('animating animating-out').one('trend', function () {\n        $content.removeClass(\"animating animating-out \".concat(_this4.expandedClass)).off('trend');\n        content.removeAttribute('data-clicked');\n\n        _this4.resetHeight($content);\n      });\n    }\n  }]);\n\n  return DynamicPromoBlocks;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljUHJvbW9CbG9ja3MuanM/MjhlNyJdLCJuYW1lcyI6WyJEeW5hbWljUHJvbW9CbG9ja3MiLCJzZWN0aW9uIiwiJGVsIiwiJCIsImVsIiwiY29udGVudFNlbGVjdG9yIiwiZGF0YSIsImNvbnRlbnRfc2VsZWN0b3IiLCJibG9ja1NlbGVjdG9yIiwiYmxvY2tfc2VsZWN0b3IiLCJjb250ZW50IiwiZXhwYW5kZWRDbGFzcyIsImNvbXByZXNzQmxvY2tzIiwiY29tcHJlc3NfYmxvY2tzIiwiYWRqdXN0SGVpZ2h0IiwiYmxvY2siLCIkYmxvY2siLCIkd3JhcHBlciIsImZpbmQiLCJwYWRkaW5nIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJyZXBsYWNlIiwiaW5uZXJIZWlnaHQiLCJjc3MiLCJoZWlnaHQiLCJ0cmFuc2Zvcm0iLCJ0b3AiLCJyZXNldEhlaWdodCIsImxheW91dEhhbmRsZXIiLCJvbkJyZWFrcG9pbnRDaGFuZ2UiLCJiaW5kIiwiYnJlYWtwb2ludCIsIl9ibG9ja0ludGVyYWN0aW9uIiwib24iLCJlYWNoIiwiaW5kZXgiLCJpIiwiX2NvbGxhcHNlIiwib2ZmIiwiX2V4cGFuZCIsInF1ZXJ5U2VsZWN0b3IiLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJjbGlja2VkIiwiZ2V0QXR0cmlidXRlIiwicHJldmVudERlZmF1bHQiLCJzZXRBdHRyaWJ1dGUiLCIkY29udGVudCIsImFkZENsYXNzIiwib25lIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7O0lBR3FCQSxrQjtBQUNuQiw4QkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUFBOztBQUNuQixTQUFLQyxHQUFMLEdBQVdDLDZDQUFDLENBQUNGLE9BQU8sQ0FBQ0csRUFBVCxDQUFaO0FBQ0EsU0FBS0MsZUFB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b21vQmxvY2tzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCAqIGFzIGJyZWFrcG9pbnQgZnJvbSAnQHBpeGVsdW5pb24vYnJlYWtwb2ludCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY1Byb21vQmxvY2tzIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuJGVsID0gJChzZWN0aW9uLmVsKTtcbiAgICB0aGlzLmNvbnRlbnRTZWxlY3RvciA9IHNlY3Rpb24uZGF0YS5jb250ZW50X3NlbGVjdG9yO1xuICAgIHRoaXMuYmxvY2tTZWxlY3RvciA9IHNlY3Rpb24uZGF0YS5ibG9ja19zZWxlY3RvcjtcbiAgICB0aGlzLmNvbnRlbnQgPSBgWyR7dGhpcy5jb250ZW50U2VsZWN0b3J9XWA7XG4gICAgdGhpcy5leHBhbmRlZENsYXNzID0gYCR7dGhpcy5ibG9ja1NlbGVjdG9yfS0tZXhwYW5kZWRgO1xuICAgIHRoaXMuY29tcHJlc3NCbG9ja3MgPSBzZWN0aW9uLmRhdGEuY29tcHJlc3NfYmxvY2tzO1xuICAgIC8vIEFkanVzdHMgdGhlIGhlaWdodCBvZiB0aGUgYmxvY2sgc28gaXQgY2FuIGNvbnRhaW4gdGhlIHdyYXBwZXIgd2l0aGluIGl0XG4gICAgdGhpcy5hZGp1c3RIZWlnaHQgPSAoYmxvY2spID0+IHtcbiAgICAgIGNvbnN0ICRibG9jayA9ICQoYmxvY2spO1xuICAgICAgY29uc3QgJHdyYXBwZXIgPSAkYmxvY2suZmluZChgLiR7dGhpcy5ibG9ja1NlbGVjdG9yfS0tY29udGVudC13cmFwcGVyYCk7XG5cbiAgICAgIGNvbnN0IHBhZGRpbmcgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSgkYmxvY2tbMF0sIG51bGwpLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctdG9wJykucmVwbGFjZSgncHgnLCAnJyk7XG5cbiAgICAgIGlmICgkYmxvY2suaW5uZXJIZWlnaHQoKSAtIChwYWRkaW5nICogMikgPCAkd3JhcHBlci5pbm5lckhlaWdodCgpKSB7XG4gICAgICAgICRibG9jay5jc3MoeyBoZWlnaHQ6IGAkeyR3cmFwcGVyLmlubmVySGVpZ2h0KCkgKyAocGFkZGluZyAqIDIpfXB4YCB9KTtcbiAgICAgICAgJHdyYXBwZXIuY3NzKHsgdHJhbnNmb3JtOiAnbm9uZScsIHRvcDogJ2F1dG8nIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBSZW1vdmVzIGhlaWdodCBzZXR0aW5ncyBvbiB0aGUgYmxvY2sgYmVjYXVzZSB0aGV5IG9ubHkgbmVlZCB0byBiZSB0aGVyZSBmb3Igc21hbGwgc2NyZWVuc1xuICAgIHRoaXMucmVzZXRIZWlnaHQgPSAoYmxvY2spID0+IHtcbiAgICAgIGNvbnN0ICRibG9jayA9ICQoYmxvY2spO1xuICAgICAgY29uc3QgJHdyYXBwZXIgPSAkYmxvY2suZmluZChgLiR7dGhpcy5ibG9ja1NlbGVjdG9yfS0tY29udGVudC13cmFwcGVyYCk7XG4gICAgICAkYmxvY2suY3NzKHsgaGVpZ2h0OiAnJyB9KTtcbiAgICAgICR3cmFwcGVyLmNzcyh7IHRyYW5zZm9ybTogJycsIHRvcDogJycgfSk7XG4gICAgfTtcblxuICAgIC8vIFJldmVydCBuYXZpZ2F0aW9uIHRvIG9yaWdpbmFsIHN0YXRlIG9uIGJyZWFrcG9pbnQgY2hhbmdlXG4gICAgdGhpcy5sYXlvdXRIYW5kbGVyID0gdGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICBicmVha3BvaW50Lm9uQ2hhbmdlKHRoaXMubGF5b3V0SGFuZGxlcik7XG5cbiAgICB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID0gdGhpcy5fYmxvY2tJbnRlcmFjdGlvbi5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy4kZWwub24oYGNsaWNrLiR7dGhpcy5ibG9ja1NlbGVjdG9yfWAsIHRoaXMuY29udGVudCwgdGhpcy5fYmxvY2tJbnRlcmFjdGlvbik7XG5cbiAgICBpZiAoIXRoaXMuY29tcHJlc3NCbG9ja3MgJiYgYnJlYWtwb2ludC5tYXgoJ1hTJykpIHtcbiAgICAgIHRoaXMuJGVsLmZpbmQodGhpcy5jb250ZW50KS5lYWNoKChpbmRleCwgYmxvY2spID0+IHtcbiAgICAgICAgdGhpcy5hZGp1c3RIZWlnaHQoYmxvY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBibG9jaydzIHRvZ2dsZWQgc3RhdGUgYW5kIGF0dHJpYnV0ZXMgd2hlbiBsZWF2aW5nIG1vYmlsZVxuICAgKi9cbiAgb25CcmVha3BvaW50Q2hhbmdlKCkge1xuICAgIGlmICghYnJlYWtwb2ludC5tYXgoJ1hTJykpIHtcbiAgICAgIHRoaXMuJGVsLmZpbmQoYC4ke3RoaXMuZXhwYW5kZWRDbGFzc31gKS5lYWNoKChpLCBjb250ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlKGNvbnRlbnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLiRlbC5maW5kKHRoaXMuY29udGVudCkuZWFjaCgoaW5kZXgsIGJsb2NrKSA9PiB7XG4gICAgICAgIHRoaXMucmVzZXRIZWlnaHQoYmxvY2spO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5jb21wcmVzc0Jsb2Nrcykge1xuICAgICAgdGhpcy4kZWwuZmluZCh0aGlzLmNvbnRlbnQpLmVhY2goKGluZGV4LCBibG9jaykgPT4ge1xuICAgICAgICB0aGlzLmFkanVzdEhlaWdodChibG9jayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5iaW5kIGV2ZW50cyB3aGVuIHNlY3Rpb24gaXMgcmUtZHJhd25cbiAgICovXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLiRlbC5vZmYoYC4ke3RoaXMuYmxvY2tTZWxlY3Rvcn1gKTtcbiAgICBicmVha3BvaW50Lm9mZkNoYW5nZSh0aGlzLmxheW91dEhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIG9wZW4gYmxvY2sgb24gbW9iaWxlIGZyb20gdGhlIFRFXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja1xuICAgKi9cbiAgb25TZWN0aW9uQmxvY2tTZWxlY3QoYmxvY2spIHtcbiAgICBpZiAoIWJyZWFrcG9pbnQubWF4KCdYUycpKSByZXR1cm47XG5cbiAgICB0aGlzLl9leHBhbmQoYmxvY2suZWwucXVlcnlTZWxlY3Rvcih0aGlzLmNvbnRlbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0byBjbG9zZSBibG9jayBvbiBtb2JpbGUgZnJvbSB0aGUgVEVcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrXG4gICAqL1xuICBvblNlY3Rpb25CbG9ja0Rlc2VsZWN0KGJsb2NrKSB7XG4gICAgaWYgKCFicmVha3BvaW50Lm1heCgnWFMnKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5fY29sbGFwc2UoYmxvY2suZWwucXVlcnlTZWxlY3Rvcih0aGlzLmNvbnRlbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBhbmQgYSBibG9jayBvbiBmaXJzdCBjbGljaywgdGhlbiBhbGxvdyBpdCB0byBiZWhhdmUgYXMgbm9ybWFsXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Jsb2NrSW50ZXJhY3Rpb24oZXZlbnQpIHtcbiAgICBjb25zdCBjb250ZW50ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICBjb25zdCBjbGlja2VkID0gY29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2xpY2tlZCcpO1xuXG4gICAgLy8gT24gc2Vjb25kIGNsaWNrLCBvciBvbiBkZXNrdG9wLCBkb24ndCBpbnRlcmZlcmUgd2l0aCBibG9ja1xuICAgIGlmIChjbGlja2VkIHx8ICFicmVha3BvaW50Lm1heCgnWFMnKSB8fCAhdGhpcy5jb21wcmVzc0Jsb2Nrcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2xpY2tlZCcsICdjbGlja2VkJyk7XG5cbiAgICB0aGlzLl9leHBhbmQoY29udGVudCk7XG4gIH1cblxuICAvKipcbiAgICogRXhwYW5kIHByb21vIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXhwYW5kKGNvbnRlbnQpIHtcbiAgICBpZiAoIXRoaXMuY29tcHJlc3NCbG9ja3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCAkY29udGVudCA9ICQoY29udGVudCk7XG5cbiAgICAkY29udGVudFxuICAgICAgLmFkZENsYXNzKCdhbmltYXRpbmcgYW5pbWF0aW5nLWluJylcbiAgICAgIC5vbmUoJ3RyZW5kJywgKCkgPT4ge1xuICAgICAgICAkY29udGVudFxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYW5pbWF0aW5nIGFuaW1hdGluZy1pbicpXG4gICAgICAgICAgLmFkZENsYXNzKHRoaXMuZXhwYW5kZWRDbGFzcylcbiAgICAgICAgICAub2ZmKCd0cmVuZCcpO1xuXG4gICAgICAgIHRoaXMuYWRqdXN0SGVpZ2h0KCRjb250ZW50KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbGxhcHNlIGEgYmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGNvbnRlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jb2xsYXBzZShjb250ZW50KSB7XG4gICAgaWYgKCF0aGlzLmNvbXByZXNzQmxvY2tzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgJGNvbnRlbnQgPSAkKGNvbnRlbnQpO1xuXG4gICAgJGNvbnRlbnRcbiAgICAgIC5hZGRDbGFzcygnYW5pbWF0aW5nIGFuaW1hdGluZy1vdXQnKVxuICAgICAgLm9uZSgndHJlbmQnLCAoKSA9PiB7XG4gICAgICAgICRjb250ZW50XG4gICAgICAgICAgLnJlbW92ZUNsYXNzKGBhbmltYXRpbmcgYW5pbWF0aW5nLW91dCAke3RoaXMuZXhwYW5kZWRDbGFzc31gKVxuICAgICAgICAgIC5vZmYoJ3RyZW5kJyk7XG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWNsaWNrZWQnKTtcbiAgICAgICAgdGhpcy5yZXNldEhlaWdodCgkY29udGVudCk7XG4gICAgICB9KTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicPromoBlocks.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicRichText.js":
/*!****************************************************!*\
  !*** ./source/scripts/sections/DynamicRichText.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicTwitterFeed; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_RichText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/RichText */ \"./source/scripts/components/RichText.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar DynamicTwitterFeed = /*#__PURE__*/function () {\n  function DynamicTwitterFeed(section) {\n    var _this = this;\n\n    _classCallCheck(this, DynamicTwitterFeed);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.rte = [];\n    this.$el.find('[data-rte]').each(function (i, el) {\n      _this.rte.push(new _components_RichText__WEBPACK_IMPORTED_MODULE_1__[\"default\"](jquery__WEBPACK_IMPORTED_MODULE_0___default()(el)));\n    });\n  }\n  /**\n   * Unbind events when section is re-drawn\n   */\n\n\n  _createClass(DynamicTwitterFeed, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.rte.forEach(function (richTextArea) {\n        richTextArea.unload();\n      });\n    }\n  }]);\n\n  return DynamicTwitterFeed;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljUmljaFRleHQuanM/NjZlZSJdLCJuYW1lcyI6WyJEeW5hbWljVHdpdHRlckZlZWQiLCJzZWN0aW9uIiwiJGVsIiwiJCIsImVsIiwicnRlIiwiZmluZCIsImVhY2giLCJpIiwicHVzaCIsIlJpY2hUZXh0IiwiZm9yRWFjaCIsInJpY2hUZXh0QXJlYSIsInVubG9hZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztJQUVxQkEsa0I7QUFDbkIsOEJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFBQTs7QUFDbkIsU0FBS0MsR0FBTCxHQUFXQyw2Q0FBQyxDQUFDRixPQUFPLENBQUNHLEVBQVQsQ0FBWjtBQUVBLFNBQUtDLEdBQUwsR0FBVyxFQUFYO0FBQ0EsU0FBS0gsR0FBTCxDQUFTSSxJQUFULENBQWMsWUFBZCxFQUE0QkMsSUFBNUIsQ0FBaUMsVUFBQ0MsQ0FBRCxFQUFJSixFQUFKLEVBQVc7QUFDMUMsV0FBSSxDQUFDQyxHQUFMLENBQVNJLElBQVQsQ0FBYyxJQUFJQyw0REFBSixDQUFhUCw2Q0FBQyxDQUFDQyxFQUFELENBQWQsQ0FBZDtBQUNELEtBRkQ7QUFHRDtBQUVEOzs7Ozs7O3NDQUdrQjtBQUNoQixXQUFLQyxHQUFMLENBQVNNLE9BQVQsQ0FBaUIsVUFBQ0MsWUFBRCxFQUFrQjtBQUNqQ0Esb0JBQVksQ0FBQ0MsTUFBYjtBQUNELE9BRkQ7QUFHRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL0R5bmFtaWNSaWNoVGV4dC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgUmljaFRleHQgZnJvbSAnLi4vY29tcG9uZW50cy9SaWNoVGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNUd2l0dGVyRmVlZCB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLiRlbCA9ICQoc2VjdGlvbi5lbCk7XG5cbiAgICB0aGlzLnJ0ZSA9IFtdO1xuICAgIHRoaXMuJGVsLmZpbmQoJ1tkYXRhLXJ0ZV0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgdGhpcy5ydGUucHVzaChuZXcgUmljaFRleHQoJChlbCkpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmJpbmQgZXZlbnRzIHdoZW4gc2VjdGlvbiBpcyByZS1kcmF3blxuICAgKi9cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIHRoaXMucnRlLmZvckVhY2goKHJpY2hUZXh0QXJlYSkgPT4ge1xuICAgICAgcmljaFRleHRBcmVhLnVubG9hZCgpO1xuICAgIH0pO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicRichText.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicSearch.js":
/*!**************************************************!*\
  !*** ./source/scripts/sections/DynamicSearch.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicSearch; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\n/* harmony import */ var _components_search_LiveSearch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/search/LiveSearch */ \"./source/scripts/components/search/LiveSearch.js\");\n/* harmony import */ var _components_search_SearchForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/search/SearchForm */ \"./source/scripts/components/search/SearchForm.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar DynamicSearch = /*#__PURE__*/function () {\n  function DynamicSearch(section) {\n    var _this = this;\n\n    _classCallCheck(this, DynamicSearch);\n\n    this.el = section.el;\n    this.settings = section.data.settings;\n    this.search = null;\n    this.$scripts = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-scripts]');\n    this.searchArea = this.el.querySelector('[data-live-search]');\n    this.searchInput = this.el.querySelector('[data-live-search-input]');\n    this.forms = new _Forms__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.el);\n\n    if (this.settings.live_search.enable) {\n      scriptjs__WEBPACK_IMPORTED_MODULE_1___default()(this.$scripts.data('shopify-api-url'), function () {\n        _this.search = new _components_search_LiveSearch__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n          el: _this.searchArea,\n          header: _this.el\n        }, _this.settings.live_search);\n      });\n    } else {\n      this.search = new _components_search_SearchForm__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.searchField);\n    }\n\n    this.searchFocused = function () {\n      if (_this.settings.live_search.enable && _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"max\"]('S')) {\n        _this.search.openMobileTakeover();\n      }\n    };\n\n    this.searchInput.addEventListener('focus', this.searchFocused);\n  }\n\n  _createClass(DynamicSearch, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.search.unload();\n      this.forms.unload();\n      this.searchInput.removeEventListener('focus', this.searchFocused);\n    }\n  }]);\n\n  return DynamicSearch;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljU2VhcmNoLmpzPzJhMGEiXSwibmFtZXMiOlsiRHluYW1pY1NlYXJjaCIsInNlY3Rpb24iLCJlbCIsInNldHRpbmdzIiwiZGF0YSIsInNlYXJjaCIsIiRzY3JpcHRzIiwiJCIsInNlYXJjaEFyZWEiLCJxdWVyeVNlbGVjdG9yIiwic2VhcmNoSW5wdXQiLCJmb3JtcyIsIkZvcm1zIiwibGl2ZV9zZWFyY2giLCJlbmFibGUiLCIkc2NyaXB0IiwiTGl2ZVNlYXJjaCIsImhlYWRlciIsIlNlYXJjaEZvcm0iLCJzZWFyY2hGaWVsZCIsInNlYXJjaEZvY3VzZWQiLCJicmVha3BvaW50Iiwib3Blbk1vYmlsZVRha2VvdmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVubG9hZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztJQUVxQkEsYTtBQUNuQix5QkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUFBOztBQUNuQixTQUFLQyxFQUFMLEdBQVVELE9BQU8sQ0FBQ0MsRUFBbEI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCRixPQUFPLENBQUNHLElBQVIsQ0FBYUQsUUFBN0I7QUFDQSxTQUFLRSxNQUFMLEdBQWMsSUFBZDtBQUVBLFNBQUtDLFFBQUwsR0FBZ0JDLDZDQUFDLENBQUMsZ0JBQUQsQ0FBakI7QUFFQSxTQUFLQyxVQUFMLEdBQWtCLEtBQUtOLEVBQUwsQ0FBUU8sYUFBUixDQUFzQixvQkFBdEIsQ0FBbEI7QUFDQSxTQUFLQyxXQUFMLEdBQW1CLEtBQUtSLEVBQUwsQ0FBUU8sYUFBUixDQUFzQiwwQkFBdEIsQ0FBbkI7QUFFQSxTQUFLRSxLQUFMLEdBQWEsSUFBSUMsOENBQUosQ0FBVSxLQUFLVixFQUFmLENBQWI7O0FBRUEsUUFBSSxLQUFLQyxRQUFMLENBQWNVLFdBQWQsQ0FBMEJDLE1BQTlCLEVBQXNDO0FBQ3BDQyxxREFBTyxDQUFDLEtBQUtULFFBQUwsQ0FBY0YsSUFBZCxDQUFtQixpQkFBbkIsQ0FBRCxFQUF3QyxZQUFNO0FBQ25ELGFBQUksQ0FBQ0MsTUFBTCxHQUFjLElBQUlXLHFFQUFKLENBQWU7QUFDM0JkLFlBQUUsRUFBRSxLQUFJLENBQUNNLFVBRGtCO0FBRTNCUyxnQkFBTSxFQUFFLEtBQUksQ0FBQ2Y7QUFGYyxTQUFmLEVBR1gsS0FBSSxDQUFDQyxRQUFMLENBQWNVLFdBSEgsQ0FBZDtBQUlELE9BTE0sQ0FBUDtBQU1ELEtBUEQsTUFPTztBQUNMLFdBQUtSLE1BQUwsR0FBYyxJQUFJYSxxRUFBSixDQUFlLEtBQUtDLFdBQXBCLENBQWQ7QUFDRDs7QUFFRCxTQUFLQyxhQUFMLEdBQXFCLFlBQU07QUFDekIsVUFBSSxLQUFJLENBQUNqQixRQUFMLENBQWNVLFdBQWQsQ0FBMEJDLE1BQTFCLElBQW9DTywwREFBQSxDQUFlLEdBQWYsQ0FBeEMsRUFBNkQ7QUFDM0QsYUFBSSxDQUFDaEIsTUFBTCxDQUFZaUIsa0JBQVo7QUFDRDtBQUNGLEtBSkQ7O0FBTUEsU0FBS1osV0FBTCxDQUFpQmEsZ0JBQWpCLENBQWtDLE9BQWxDLEVBQTJDLEtBQUtILGFBQWhEO0FBQ0Q7Ozs7c0NBRWlCO0FBQ2hCLFdBQUtmLE1BQUwsQ0FBWW1CLE1BQVo7QUFDQSxXQUFLYixLQUFMLENBQVdhLE1BQVg7QUFDQSxXQUFLZCxXQUFMLENBQWlCZSxtQkFBakIsQ0FBcUMsT0FBckMsRUFBOEMsS0FBS0wsYUFBbkQ7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL0R5bmFtaWNTZWFyY2guanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0ICRzY3JpcHQgZnJvbSAnc2NyaXB0anMnO1xuaW1wb3J0ICogYXMgYnJlYWtwb2ludCBmcm9tICdAcGl4ZWx1bmlvbi9icmVha3BvaW50JztcblxuaW1wb3J0IEZvcm1zIGZyb20gJy4uL0Zvcm1zJztcbmltcG9ydCBMaXZlU2VhcmNoIGZyb20gJy4uL2NvbXBvbmVudHMvc2VhcmNoL0xpdmVTZWFyY2gnO1xuaW1wb3J0IFNlYXJjaEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9zZWFyY2gvU2VhcmNoRm9ybSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNTZWFyY2gge1xuICBjb25zdHJ1Y3RvcihzZWN0aW9uKSB7XG4gICAgdGhpcy5lbCA9IHNlY3Rpb24uZWw7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNlY3Rpb24uZGF0YS5zZXR0aW5ncztcbiAgICB0aGlzLnNlYXJjaCA9IG51bGw7XG5cbiAgICB0aGlzLiRzY3JpcHRzID0gJCgnW2RhdGEtc2NyaXB0c10nKTtcblxuICAgIHRoaXMuc2VhcmNoQXJlYSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtbGl2ZS1zZWFyY2hdJyk7XG4gICAgdGhpcy5zZWFyY2hJbnB1dCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtbGl2ZS1zZWFyY2gtaW5wdXRdJyk7XG5cbiAgICB0aGlzLmZvcm1zID0gbmV3IEZvcm1zKHRoaXMuZWwpO1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MubGl2ZV9zZWFyY2guZW5hYmxlKSB7XG4gICAgICAkc2NyaXB0KHRoaXMuJHNjcmlwdHMuZGF0YSgnc2hvcGlmeS1hcGktdXJsJyksICgpID0+IHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBuZXcgTGl2ZVNlYXJjaCh7XG4gICAgICAgICAgZWw6IHRoaXMuc2VhcmNoQXJlYSxcbiAgICAgICAgICBoZWFkZXI6IHRoaXMuZWwsXG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MubGl2ZV9zZWFyY2gpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VhcmNoID0gbmV3IFNlYXJjaEZvcm0odGhpcy5zZWFyY2hGaWVsZCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZWFyY2hGb2N1c2VkID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubGl2ZV9zZWFyY2guZW5hYmxlICYmIGJyZWFrcG9pbnQubWF4KCdTJykpIHtcbiAgICAgICAgdGhpcy5zZWFyY2gub3Blbk1vYmlsZVRha2VvdmVyKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnNlYXJjaEZvY3VzZWQpO1xuICB9XG5cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIHRoaXMuc2VhcmNoLnVubG9hZCgpO1xuICAgIHRoaXMuZm9ybXMudW5sb2FkKCk7XG4gICAgdGhpcy5zZWFyY2hJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuc2VhcmNoRm9jdXNlZCk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicSearch.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicTestimonials.js":
/*!********************************************************!*\
  !*** ./source/scripts/sections/DynamicTestimonials.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicTestimonials; });\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar DynamicTestimonials = /*#__PURE__*/function () {\n  function DynamicTestimonials(section) {\n    _classCallCheck(this, DynamicTestimonials);\n\n    this.section = section;\n    this.testimonialsEl = section.el.querySelector('[data-testimonials]');\n\n    if (this.testimonialsEl.dataset.testimonials === '1') {\n      // No work needs to be done if there is one testimonial\n      return;\n    }\n\n    this._onBreakpointChange = this._onBreakpointChange.bind(this);\n    _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"onChange\"](this._onBreakpointChange);\n\n    if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"max\"]('S')) {\n      this._initializeMobile();\n    }\n  }\n\n  _createClass(DynamicTestimonials, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      if (this.testimonialsEl.dataset.testimonials === '1') {\n        // No work needs to be done if there is one testimonial\n        return;\n      }\n\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"offChange\"](this._onBreakpointChange);\n    }\n  }, {\n    key: \"_onBreakpointChange\",\n    value: function _onBreakpointChange(data) {\n      var current = data.current;\n\n      if (current === 'XS' || current === 'S') {\n        this._initializeMobile();\n      } else {\n        this._destroyMobile();\n      }\n    }\n  }, {\n    key: \"_initializeMobile\",\n    value: function _initializeMobile() {\n      if (this.flickity) {\n        return;\n      }\n\n      this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_0___default.a(this.testimonialsEl, {\n        prevNextButtons: false\n      });\n    }\n  }, {\n    key: \"_destroyMobile\",\n    value: function _destroyMobile() {\n      if (!this.flickity) {\n        return;\n      }\n\n      this.flickity.destroy();\n      this.flickity = null;\n    }\n  }]);\n\n  return DynamicTestimonials;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljVGVzdGltb25pYWxzLmpzPzAyMGQiXSwibmFtZXMiOlsiRHluYW1pY1Rlc3RpbW9uaWFscyIsInNlY3Rpb24iLCJ0ZXN0aW1vbmlhbHNFbCIsImVsIiwicXVlcnlTZWxlY3RvciIsImRhdGFzZXQiLCJ0ZXN0aW1vbmlhbHMiLCJfb25CcmVha3BvaW50Q2hhbmdlIiwiYmluZCIsImJyZWFrcG9pbnQiLCJfaW5pdGlhbGl6ZU1vYmlsZSIsImRhdGEiLCJjdXJyZW50IiwiX2Rlc3Ryb3lNb2JpbGUiLCJmbGlja2l0eSIsIkZsaWNraXR5IiwicHJldk5leHRCdXR0b25zIiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTs7SUFFcUJBLG1CO0FBQ25CLCtCQUFZQyxPQUFaLEVBQXFCO0FBQUE7O0FBQ25CLFNBQUtBLE9BQUwsR0FBZUEsT0FBZjtBQUNBLFNBQUtDLGNBQUwsR0FBc0JELE9BQU8sQ0FBQ0UsRUFBUixDQUFXQyxhQUFYLENBQXlCLHFCQUF6QixDQUF0Qjs7QUFFQSxRQUFJLEtBQUtGLGNBQUwsQ0FBb0JHLE9BQXBCLENBQTRCQyxZQUE1QixLQUE2QyxHQUFqRCxFQUFzRDtBQUNwRDtBQUNBO0FBQ0Q7O0FBRUQsU0FBS0MsbUJBQUwsR0FBMkIsS0FBS0EsbUJBQUwsQ0FBeUJDLElBQXpCLENBQThCLElBQTlCLENBQTNCO0FBRUFDLG1FQUFBLENBQW9CLEtBQUtGLG1CQUF6Qjs7QUFFQSxRQUFJRSwwREFBQSxDQUFlLEdBQWYsQ0FBSixFQUF5QjtBQUN2QixXQUFLQyxpQkFBTDtBQUNEO0FBQ0Y7Ozs7c0NBRWlCO0FBQ2hCLFVBQUksS0FBS1IsY0FBTCxDQUFvQkcsT0FBcEIsQ0FBNEJDLFlBQTVCLEtBQTZDLEdBQWpELEVBQXNEO0FBQ3BEO0FBQ0E7QUFDRDs7QUFFREcsc0VBQUEsQ0FBcUIsS0FBS0YsbUJBQTFCO0FBQ0Q7Ozt3Q0FFbUJJLEksRUFBTTtBQUFBLFVBQ2hCQyxPQURnQixHQUNKRCxJQURJLENBQ2hCQyxPQURnQjs7QUFHeEIsVUFBSUEsT0FBTyxLQUFLLElBQVosSUFBb0JBLE9BQU8sS0FBSyxHQUFwQyxFQUF5QztBQUN2QyxhQUFLRixpQkFBTDtBQUNELE9BRkQsTUFFTztBQUNMLGFBQUtHLGNBQUw7QUFDRDtBQUNGOzs7d0NBRW1CO0FBQ2xCLFVBQUksS0FBS0MsUUFBVCxFQUFtQjtBQUNqQjtBQUNEOztBQUVELFdBQUtBLFFBQUwsR0FBZ0IsSUFBSUMsK0NBQUosQ0FDZCxLQUFLYixjQURTLEVBRWQ7QUFDRWMsdUJBQWUsRUFBRTtBQURuQixPQUZjLENBQWhCO0FBTUQ7OztxQ0FFZ0I7QUFDZixVQUFJLENBQUMsS0FBS0YsUUFBVixFQUFvQjtBQUNsQjtBQUNEOztBQUVELFdBQUtBLFFBQUwsQ0FBY0csT0FBZDtBQUNBLFdBQUtILFFBQUwsR0FBZ0IsSUFBaEI7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL0R5bmFtaWNUZXN0aW1vbmlhbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRmxpY2tpdHkgZnJvbSAnZmxpY2tpdHknO1xuaW1wb3J0ICogYXMgYnJlYWtwb2ludCBmcm9tICdAcGl4ZWx1bmlvbi9icmVha3BvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY1Rlc3RpbW9uaWFscyB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLnNlY3Rpb24gPSBzZWN0aW9uO1xuICAgIHRoaXMudGVzdGltb25pYWxzRWwgPSBzZWN0aW9uLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlc3RpbW9uaWFsc10nKTtcblxuICAgIGlmICh0aGlzLnRlc3RpbW9uaWFsc0VsLmRhdGFzZXQudGVzdGltb25pYWxzID09PSAnMScpIHtcbiAgICAgIC8vIE5vIHdvcmsgbmVlZHMgdG8gYmUgZG9uZSBpZiB0aGVyZSBpcyBvbmUgdGVzdGltb25pYWxcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9vbkJyZWFrcG9pbnRDaGFuZ2UgPSB0aGlzLl9vbkJyZWFrcG9pbnRDaGFuZ2UuYmluZCh0aGlzKTtcblxuICAgIGJyZWFrcG9pbnQub25DaGFuZ2UodGhpcy5fb25CcmVha3BvaW50Q2hhbmdlKTtcblxuICAgIGlmIChicmVha3BvaW50Lm1heCgnUycpKSB7XG4gICAgICB0aGlzLl9pbml0aWFsaXplTW9iaWxlKCk7XG4gICAgfVxuICB9XG5cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIGlmICh0aGlzLnRlc3RpbW9uaWFsc0VsLmRhdGFzZXQudGVzdGltb25pYWxzID09PSAnMScpIHtcbiAgICAgIC8vIE5vIHdvcmsgbmVlZHMgdG8gYmUgZG9uZSBpZiB0aGVyZSBpcyBvbmUgdGVzdGltb25pYWxcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBicmVha3BvaW50Lm9mZkNoYW5nZSh0aGlzLl9vbkJyZWFrcG9pbnRDaGFuZ2UpO1xuICB9XG5cbiAgX29uQnJlYWtwb2ludENoYW5nZShkYXRhKSB7XG4gICAgY29uc3QgeyBjdXJyZW50IH0gPSBkYXRhO1xuXG4gICAgaWYgKGN1cnJlbnQgPT09ICdYUycgfHwgY3VycmVudCA9PT0gJ1MnKSB7XG4gICAgICB0aGlzLl9pbml0aWFsaXplTW9iaWxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lNb2JpbGUoKTtcbiAgICB9XG4gIH1cblxuICBfaW5pdGlhbGl6ZU1vYmlsZSgpIHtcbiAgICBpZiAodGhpcy5mbGlja2l0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZmxpY2tpdHkgPSBuZXcgRmxpY2tpdHkoXG4gICAgICB0aGlzLnRlc3RpbW9uaWFsc0VsLFxuICAgICAge1xuICAgICAgICBwcmV2TmV4dEJ1dHRvbnM6IGZhbHNlLFxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgX2Rlc3Ryb3lNb2JpbGUoKSB7XG4gICAgaWYgKCF0aGlzLmZsaWNraXR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5mbGlja2l0eS5kZXN0cm95KCk7XG4gICAgdGhpcy5mbGlja2l0eSA9IG51bGw7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicTestimonials.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicTwitterFeed.js":
/*!*******************************************************!*\
  !*** ./source/scripts/sections/DynamicTwitterFeed.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicTwitterFeed; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var twitter_fetcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! twitter-fetcher */ \"./node_modules/twitter-fetcher/js/twitterFetcher_min.js\");\n/* harmony import */ var twitter_fetcher__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(twitter_fetcher__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _helpers_LazyLoader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/LazyLoader */ \"./source/scripts/helpers/LazyLoader.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar DynamicTwitterFeed = /*#__PURE__*/function () {\n  function DynamicTwitterFeed(section) {\n    _classCallCheck(this, DynamicTwitterFeed);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.settings = section.data;\n    this._load = this._load.bind(this);\n    this.lazyLoader = new _helpers_LazyLoader__WEBPACK_IMPORTED_MODULE_5__[\"default\"](section.el, this._load);\n  }\n\n  _createClass(DynamicTwitterFeed, [{\n    key: \"_load\",\n    value: function _load() {\n      var _this = this;\n\n      this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n      this.flickity = null;\n      this.$content = this.$el.find('[data-twitter-content]');\n      this.$wrapper = this.$el.find('[data-twitter-wrapper]');\n      this.$tweets = this.$el.find('[data-tweet-content]');\n      this.$template = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.settings.template);\n      var onboarding = this.settings.onboarding;\n      var username = this.settings.username;\n      var retweets = this.settings.retweets;\n      var images = this.settings.images;\n      var locale = this.settings.locale || 'en'; // Activate flickity on mobile\n\n      this._mobileSlider = this._mobileSlider.bind(this);\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_4__[\"onChange\"](this._mobileSlider);\n\n      this._mobileSlider();\n\n      if (onboarding || !username) {\n        return;\n      }\n\n      twitter_fetcher__WEBPACK_IMPORTED_MODULE_1___default.a.fetch({\n        'profile': {\n          'screenName': username\n        },\n        'maxTweets': 3,\n        'enableLinks': true,\n        'showUser': true,\n        'showTime': true,\n        'dataOnly': false,\n        'useEmoji': true,\n        'showImages': images,\n        'showRetweet': retweets,\n        'lang': locale,\n        'customCallback': function customCallback(tweets) {\n          return _this._renderTweets(tweets);\n        },\n        'showInteraction': false\n      });\n    }\n    /**\n     * Unbind events when section is re-drawn\n     */\n\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.$window.off('.twitter');\n      this.$content.off('.twitter');\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_4__[\"offChange\"](this._mobileSlider);\n\n      this._destroyFlickity();\n\n      this.lazyLoader.unload();\n    }\n  }, {\n    key: \"_initFlickity\",\n    value: function _initFlickity() {\n      this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_3___default.a(this.$content[0], {\n        cellSelector: '[data-tweet-content]',\n        contain: true,\n        freeScroll: true,\n        percentPosition: false,\n        prevNextButtons: false,\n        pageDots: false,\n        setGallerySize: false\n      });\n\n      this._bindSlider();\n\n      this.flickity.resize();\n    }\n  }, {\n    key: \"_destroyFlickity\",\n    value: function _destroyFlickity() {\n      if (!this.flickity) {\n        return;\n      }\n\n      this.flickity.destroy();\n      this.flickity = null;\n    }\n  }, {\n    key: \"_mobileSlider\",\n    value: function _mobileSlider() {\n      // If is Large layout, attempt to destroy flickity\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_4__[\"min\"]('L')) {\n        this._destroyFlickity();\n\n        return;\n      } // Is XS/S/M, and flickity is init'd -- resize\n\n\n      if (this.flickity) {\n        this.flickity.resize();\n        return;\n      } // Is XS/S/M, and flickity is not init'd\n\n\n      this._initFlickity();\n    }\n  }, {\n    key: \"_bindSlider\",\n    value: function _bindSlider() {\n      var _this2 = this;\n\n      var $slider = this.$content.find('.flickity-slider');\n      this.$window.on('resize.twitter', just_debounce__WEBPACK_IMPORTED_MODULE_2___default()(function () {\n        _this2.$content.trigger('heightUpdate.twitter');\n      }));\n      this.flickity.on('cellSelect', function () {\n        _this2.$content.trigger('heightUpdate.twitter');\n      });\n      this.$content.on('heightUpdate.twitter', function () {\n        if (!_this2.flickity) {\n          return;\n        }\n\n        $slider.height(Math.ceil(_this2.flickity.maxCellHeight));\n      }); // Sets the Slider to the height of the first slide\n\n      this.$content.trigger('heightUpdate.twitter');\n    }\n    /**\n     * Retrieve information about user who tweeted\n     *\n     * @param el\n     * @returns {{$avatar: *, link: *, name, screenName}}\n     * @private\n     */\n\n  }, {\n    key: \"_extractAuthor\",\n    value: function _extractAuthor(el) {\n      var $el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el);\n      var link = $el.find('a').attr('href');\n      var name = $el.find('[data-scribe=\"element:name\"]').text();\n      var screenName = $el.find('[data-scribe=\"element:screen_name\"]').text();\n      var $avatar = $el.find('img');\n      return {\n        $avatar: $avatar,\n        link: link,\n        name: name,\n        screenName: screenName\n      };\n    }\n    /**\n     * Retrieve link to tweet, and when it was tweeted\n     *\n     * @param el\n     * @returns {{link: *, postedAt: *}}\n     * @private\n     */\n\n  }, {\n    key: \"_extractMeta\",\n    value: function _extractMeta(el) {\n      var $el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el);\n      var link = $el.find('a').attr('href');\n      var postedAt = $el.text();\n      return {\n        link: link,\n        postedAt: postedAt\n      };\n    }\n  }, {\n    key: \"_extractWrapperClass\",\n    value: function _extractWrapperClass() {\n      var wrapperClass = this.$wrapper.attr('class').match(/tweet--count-\\d+$/);\n\n      if (wrapperClass) {\n        return wrapperClass[0];\n      } else {\n        return '';\n      }\n    }\n  }, {\n    key: \"_renderTweets\",\n    value: function _renderTweets(tweets) {\n      var _this3 = this;\n\n      var tweetsLength = tweets.length;\n      if (!tweets || !tweetsLength) return;\n      var tweetsArray = [];\n      var wrapperClass = \"tweet--count-\".concat(tweetsLength);\n      tweets.forEach(function (tweet) {\n        var $tweet = jquery__WEBPACK_IMPORTED_MODULE_0___default()(tweet);\n\n        var $template = _this3.$template.clone();\n\n        var authorInfo = _this3._extractAuthor($tweet[0]);\n\n        var meta = _this3._extractMeta($tweet[2]);\n\n        var content = $tweet[1]; // Render header\n\n        $template.find('.tweet--header').attr('href', authorInfo.link);\n        $template.find('.tweet--header-image').html(authorInfo.$avatar);\n        $template.find('.tweet--header-name').text(authorInfo.name);\n        $template.find('.tweet--header-screenname').text(authorInfo.screenName); // Render content\n\n        $template.find('.tweet--content').append($tweet[3] ? $tweet[3] : null).append(content); // Render footer\n\n        $template.find('.tweet--footer').attr('href', meta.link).find('.tweet--footer--posted').text(meta.postedAt);\n        tweetsArray.push($template);\n      });\n      this.$wrapper.css('min-height', this.$wrapper.height());\n      this.$tweets.fadeOut().promise().then(function () {\n        _this3._destroyFlickity();\n\n        _this3.$tweets.remove();\n\n        _this3.$content.append(tweetsArray);\n\n        _this3.$wrapper.removeClass(_this3._extractWrapperClass()).addClass(wrapperClass).css('min-height', '');\n\n        _this3.$tweets = _this3.$el.find('[data-tweet-content]');\n\n        _this3._mobileSlider();\n      });\n    }\n  }]);\n\n  return DynamicTwitterFeed;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljVHdpdHRlckZlZWQuanM/NGNkZCJdLCJuYW1lcyI6WyJEeW5hbWljVHdpdHRlckZlZWQiLCJzZWN0aW9uIiwiJGVsIiwiJCIsImVsIiwic2V0dGluZ3MiLCJkYXRhIiwiX2xvYWQiLCJiaW5kIiwibGF6eUxvYWRlciIsIkxhenlMb2FkZXIiLCIkd2luZG93Iiwid2luZG93IiwiZmxpY2tpdHkiLCIkY29udGVudCIsImZpbmQiLCIkd3JhcHBlciIsIiR0d2VldHMiLCIkdGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsIm9uYm9hcmRpbmciLCJ1c2VybmFtZSIsInJldHdlZXRzIiwiaW1hZ2VzIiwibG9jYWxlIiwiX21vYmlsZVNsaWRlciIsImJyZWFrcG9pbnQiLCJ0d2l0dGVyRmV0Y2hlciIsImZldGNoIiwidHdlZXRzIiwiX3JlbmRlclR3ZWV0cyIsIm9mZiIsIl9kZXN0cm95RmxpY2tpdHkiLCJ1bmxvYWQiLCJGbGlja2l0eSIsImNlbGxTZWxlY3RvciIsImNvbnRhaW4iLCJmcmVlU2Nyb2xsIiwicGVyY2VudFBvc2l0aW9uIiwicHJldk5leHRCdXR0b25zIiwicGFnZURvdHMiLCJzZXRHYWxsZXJ5U2l6ZSIsIl9iaW5kU2xpZGVyIiwicmVzaXplIiwiZGVzdHJveSIsIl9pbml0RmxpY2tpdHkiLCIkc2xpZGVyIiwib24iLCJkZWJvdW5jZSIsInRyaWdnZXIiLCJoZWlnaHQiLCJNYXRoIiwiY2VpbCIsIm1heENlbGxIZWlnaHQiLCJsaW5rIiwiYXR0ciIsIm5hbWUiLCJ0ZXh0Iiwic2NyZWVuTmFtZSIsIiRhdmF0YXIiLCJwb3N0ZWRBdCIsIndyYXBwZXJDbGFzcyIsIm1hdGNoIiwidHdlZXRzTGVuZ3RoIiwibGVuZ3RoIiwidHdlZXRzQXJyYXkiLCJmb3JFYWNoIiwidHdlZXQiLCIkdHdlZXQiLCJjbG9uZSIsImF1dGhvckluZm8iLCJfZXh0cmFjdEF1dGhvciIsIm1ldGEiLCJfZXh0cmFjdE1ldGEiLCJjb250ZW50IiwiaHRtbCIsImFwcGVuZCIsInB1c2giLCJjc3MiLCJmYWRlT3V0IiwicHJvbWlzZSIsInRoZW4iLCJyZW1vdmUiLCJyZW1vdmVDbGFzcyIsIl9leHRyYWN0V3JhcHBlckNsYXNzIiwiYWRkQ2xhc3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0lBRXFCQSxrQjtBQUNuQiw4QkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUNuQixTQUFLQyxHQUFMLEdBQVdDLDZDQUFDLENBQUNGLE9BQU8sQ0FBQ0csRUFBVCxDQUFaO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQkosT0FBTyxDQUFDSyxJQUF4QjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxLQUFLQSxLQUFMLENBQVdDLElBQVgsQ0FBZ0IsSUFBaEIsQ0FBYjtBQUVBLFNBQUtDLFVBQUwsR0FBa0IsSUFBSUMsMkRBQUosQ0FBZVQsT0FBTyxDQUFDRyxFQUF2QixFQUEyQixLQUFLRyxLQUFoQyxDQUFsQjtBQUNEOzs7OzRCQUVPO0FBQUE7O0FBQ04sV0FBS0ksT0FBTCxHQUFlUiw2Q0FBQyxDQUFDUyxNQUFELENBQWhCO0FBQ0EsV0FBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUVBLFdBQUtDLFFBQUwsR0FBZ0IsS0FBS1osR0FBTCxDQUFTYSxJQUFULENBQWMsd0JBQWQsQ0FBaEI7QUFDQSxXQUFLQyxRQUFMLEdBQWdCLEtBQUtkLEdBQUwsQ0FBU2EsSUFBVCxDQUFjLHdCQUFkLENBQWhCO0FBQ0EsV0FBS0UsT0FBTCxHQUFlLEtBQUtmLEdBQUwsQ0FBU2EsSUFBVCxDQUFjLHNCQUFkLENBQWY7QUFFQSxXQUFLRyxTQUFMLEdBQWlCZiw2Q0FBQyxDQUFDLEtBQUtFLFFBQUwsQ0FBY2MsUUFBZixDQUFsQjtBQUVBLFVBQU1DLFVBQVUsR0FBRyxLQUFLZixRQUFMLENBQWNlLFVBQWpDO0FBQ0EsVUFBTUMsUUFBUSxHQUFHLEtBQUtoQixRQUFMLENBQWNnQixRQUEvQjtB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Y0FBSSxDQUFDN0QsT0FBTCxHQUFlLE1BQUksQ0FBQ2YsR0FBTCxDQUFTYSxJQUFULENBQWMsc0JBQWQsQ0FBZjs7QUFFQSxjQUFJLENBQUNVLGFBQUw7QUFDRCxPQWREO0FBZUQiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljVHdpdHRlckZlZWQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHR3aXR0ZXJGZXRjaGVyIGZyb20gJ3R3aXR0ZXItZmV0Y2hlcic7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnanVzdC1kZWJvdW5jZSc7XG5pbXBvcnQgRmxpY2tpdHkgZnJvbSAnZmxpY2tpdHknO1xuaW1wb3J0ICogYXMgYnJlYWtwb2ludCBmcm9tICdAcGl4ZWx1bmlvbi9icmVha3BvaW50JztcblxuaW1wb3J0IExhenlMb2FkZXIgZnJvbSAnLi4vaGVscGVycy9MYXp5TG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY1R3aXR0ZXJGZWVkIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuJGVsID0gJChzZWN0aW9uLmVsKTtcbiAgICB0aGlzLnNldHRpbmdzID0gc2VjdGlvbi5kYXRhO1xuICAgIHRoaXMuX2xvYWQgPSB0aGlzLl9sb2FkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmxhenlMb2FkZXIgPSBuZXcgTGF6eUxvYWRlcihzZWN0aW9uLmVsLCB0aGlzLl9sb2FkKTtcbiAgfVxuXG4gIF9sb2FkKCkge1xuICAgIHRoaXMuJHdpbmRvdyA9ICQod2luZG93KTtcbiAgICB0aGlzLmZsaWNraXR5ID0gbnVsbDtcblxuICAgIHRoaXMuJGNvbnRlbnQgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS10d2l0dGVyLWNvbnRlbnRdJyk7XG4gICAgdGhpcy4kd3JhcHBlciA9IHRoaXMuJGVsLmZpbmQoJ1tkYXRhLXR3aXR0ZXItd3JhcHBlcl0nKTtcbiAgICB0aGlzLiR0d2VldHMgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS10d2VldC1jb250ZW50XScpO1xuXG4gICAgdGhpcy4kdGVtcGxhdGUgPSAkKHRoaXMuc2V0dGluZ3MudGVtcGxhdGUpO1xuXG4gICAgY29uc3Qgb25ib2FyZGluZyA9IHRoaXMuc2V0dGluZ3Mub25ib2FyZGluZztcbiAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMuc2V0dGluZ3MudXNlcm5hbWU7XG4gICAgY29uc3QgcmV0d2VldHMgPSB0aGlzLnNldHRpbmdzLnJldHdlZXRzO1xuICAgIGNvbnN0IGltYWdlcyA9IHRoaXMuc2V0dGluZ3MuaW1hZ2VzO1xuICAgIGNvbnN0IGxvY2FsZSA9IHRoaXMuc2V0dGluZ3MubG9jYWxlIHx8ICdlbic7XG5cbiAgICAvLyBBY3RpdmF0ZSBmbGlja2l0eSBvbiBtb2JpbGVcbiAgICB0aGlzLl9tb2JpbGVTbGlkZXIgPSB0aGlzLl9tb2JpbGVTbGlkZXIuYmluZCh0aGlzKTtcbiAgICBicmVha3BvaW50Lm9uQ2hhbmdlKHRoaXMuX21vYmlsZVNsaWRlcik7XG4gICAgdGhpcy5fbW9iaWxlU2xpZGVyKCk7XG5cbiAgICBpZiAob25ib2FyZGluZyB8fCAhdXNlcm5hbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0d2l0dGVyRmV0Y2hlci5mZXRjaCh7XG4gICAgICAncHJvZmlsZSc6IHsgJ3NjcmVlbk5hbWUnOiB1c2VybmFtZSB9LFxuICAgICAgJ21heFR3ZWV0cyc6IDMsXG4gICAgICAnZW5hYmxlTGlua3MnOiB0cnVlLFxuICAgICAgJ3Nob3dVc2VyJzogdHJ1ZSxcbiAgICAgICdzaG93VGltZSc6IHRydWUsXG4gICAgICAnZGF0YU9ubHknOiBmYWxzZSxcbiAgICAgICd1c2VFbW9qaSc6IHRydWUsXG4gICAgICAnc2hvd0ltYWdlcyc6IGltYWdlcyxcbiAgICAgICdzaG93UmV0d2VldCc6IHJldHdlZXRzLFxuICAgICAgJ2xhbmcnOiBsb2NhbGUsXG4gICAgICAnY3VzdG9tQ2FsbGJhY2snOiAodHdlZXRzKSA9PiB0aGlzLl9yZW5kZXJUd2VldHModHdlZXRzKSxcbiAgICAgICdzaG93SW50ZXJhY3Rpb24nOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmJpbmQgZXZlbnRzIHdoZW4gc2VjdGlvbiBpcyByZS1kcmF3blxuICAgKi9cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIHRoaXMuJHdpbmRvdy5vZmYoJy50d2l0dGVyJyk7XG4gICAgdGhpcy4kY29udGVudC5vZmYoJy50d2l0dGVyJyk7XG5cbiAgICBicmVha3BvaW50Lm9mZkNoYW5nZSh0aGlzLl9tb2JpbGVTbGlkZXIpO1xuICAgIHRoaXMuX2Rlc3Ryb3lGbGlja2l0eSgpO1xuICAgIHRoaXMubGF6eUxvYWRlci51bmxvYWQoKTtcbiAgfVxuXG4gIF9pbml0RmxpY2tpdHkoKSB7XG4gICAgdGhpcy5mbGlja2l0eSA9IG5ldyBGbGlja2l0eSh0aGlzLiRjb250ZW50WzBdLCB7XG4gICAgICBjZWxsU2VsZWN0b3I6ICdbZGF0YS10d2VldC1jb250ZW50XScsXG4gICAgICBjb250YWluOiB0cnVlLFxuICAgICAgZnJlZVNjcm9sbDogdHJ1ZSxcbiAgICAgIHBlcmNlbnRQb3NpdGlvbjogZmFsc2UsXG4gICAgICBwcmV2TmV4dEJ1dHRvbnM6IGZhbHNlLFxuICAgICAgcGFnZURvdHM6IGZhbHNlLFxuICAgICAgc2V0R2FsbGVyeVNpemU6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fYmluZFNsaWRlcigpO1xuICAgIHRoaXMuZmxpY2tpdHkucmVzaXplKCk7XG4gIH1cblxuICBfZGVzdHJveUZsaWNraXR5KCkge1xuICAgIGlmICghdGhpcy5mbGlja2l0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZmxpY2tpdHkuZGVzdHJveSgpO1xuICAgIHRoaXMuZmxpY2tpdHkgPSBudWxsO1xuICB9XG5cbiAgX21vYmlsZVNsaWRlcigpIHtcbiAgICAvLyBJZiBpcyBMYXJnZSBsYXlvdXQsIGF0dGVtcHQgdG8gZGVzdHJveSBmbGlja2l0eVxuICAgIGlmIChicmVha3BvaW50Lm1pbignTCcpKSB7XG4gICAgICB0aGlzLl9kZXN0cm95RmxpY2tpdHkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJcyBYUy9TL00sIGFuZCBmbGlja2l0eSBpcyBpbml0J2QgLS0gcmVzaXplXG4gICAgaWYgKHRoaXMuZmxpY2tpdHkpIHtcbiAgICAgIHRoaXMuZmxpY2tpdHkucmVzaXplKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSXMgWFMvUy9NLCBhbmQgZmxpY2tpdHkgaXMgbm90IGluaXQnZFxuICAgIHRoaXMuX2luaXRGbGlja2l0eSgpO1xuICB9XG5cbiAgX2JpbmRTbGlkZXIoKSB7XG4gICAgY29uc3QgJHNsaWRlciA9IHRoaXMuJGNvbnRlbnQuZmluZCgnLmZsaWNraXR5LXNsaWRlcicpO1xuXG4gICAgdGhpcy4kd2luZG93Lm9uKCdyZXNpemUudHdpdHRlcicsIGRlYm91bmNlKCgpID0+IHtcbiAgICAgIHRoaXMuJGNvbnRlbnQudHJpZ2dlcignaGVpZ2h0VXBkYXRlLnR3aXR0ZXInKTtcbiAgICB9KSk7XG5cbiAgICB0aGlzLmZsaWNraXR5Lm9uKCdjZWxsU2VsZWN0JywgKCkgPT4ge1xuICAgICAgdGhpcy4kY29udGVudC50cmlnZ2VyKCdoZWlnaHRVcGRhdGUudHdpdHRlcicpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kY29udGVudC5vbignaGVpZ2h0VXBkYXRlLnR3aXR0ZXInLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZmxpY2tpdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkc2xpZGVyLmhlaWdodChNYXRoLmNlaWwodGhpcy5mbGlja2l0eS5tYXhDZWxsSGVpZ2h0KSk7XG4gICAgfSk7XG5cbiAgICAvLyBTZXRzIHRoZSBTbGlkZXIgdG8gdGhlIGhlaWdodCBvZiB0aGUgZmlyc3Qgc2xpZGVcbiAgICB0aGlzLiRjb250ZW50LnRyaWdnZXIoJ2hlaWdodFVwZGF0ZS50d2l0dGVyJyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgaW5mb3JtYXRpb24gYWJvdXQgdXNlciB3aG8gdHdlZXRlZFxuICAgKlxuICAgKiBAcGFyYW0gZWxcbiAgICogQHJldHVybnMge3skYXZhdGFyOiAqLCBsaW5rOiAqLCBuYW1lLCBzY3JlZW5OYW1lfX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9leHRyYWN0QXV0aG9yKGVsKSB7XG4gICAgY29uc3QgJGVsID0gJChlbCk7XG5cbiAgICBjb25zdCBsaW5rID0gJGVsLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyk7XG4gICAgY29uc3QgbmFtZSA9ICRlbC5maW5kKCdbZGF0YS1zY3JpYmU9XCJlbGVtZW50Om5hbWVcIl0nKS50ZXh0KCk7XG4gICAgY29uc3Qgc2NyZWVuTmFtZSA9ICRlbC5maW5kKCdbZGF0YS1zY3JpYmU9XCJlbGVtZW50OnNjcmVlbl9uYW1lXCJdJykudGV4dCgpO1xuICAgIGNvbnN0ICRhdmF0YXIgPSAkZWwuZmluZCgnaW1nJyk7XG5cbiAgICByZXR1cm4geyAkYXZhdGFyLCBsaW5rLCBuYW1lLCBzY3JlZW5OYW1lIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgbGluayB0byB0d2VldCwgYW5kIHdoZW4gaXQgd2FzIHR3ZWV0ZWRcbiAgICpcbiAgICogQHBhcmFtIGVsXG4gICAqIEByZXR1cm5zIHt7bGluazogKiwgcG9zdGVkQXQ6ICp9fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2V4dHJhY3RNZXRhKGVsKSB7XG4gICAgY29uc3QgJGVsID0gJChlbCk7XG5cbiAgICBjb25zdCBsaW5rID0gJGVsLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyk7XG4gICAgY29uc3QgcG9zdGVkQXQgPSAkZWwudGV4dCgpO1xuXG4gICAgcmV0dXJuIHsgbGluaywgcG9zdGVkQXQgfTtcbiAgfVxuXG4gIF9leHRyYWN0V3JhcHBlckNsYXNzKCkge1xuICAgIGNvbnN0IHdyYXBwZXJDbGFzcyA9IHRoaXMuJHdyYXBwZXIuYXR0cignY2xhc3MnKS5tYXRjaCgvdHdlZXQtLWNvdW50LVxcZCskLyk7XG5cbiAgICBpZiAod3JhcHBlckNsYXNzKSB7XG4gICAgICByZXR1cm4gd3JhcHBlckNsYXNzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgX3JlbmRlclR3ZWV0cyh0d2VldHMpIHtcbiAgICBjb25zdCB0d2VldHNMZW5ndGggPSB0d2VldHMubGVuZ3RoO1xuXG4gICAgaWYgKCF0d2VldHMgfHwgIXR3ZWV0c0xlbmd0aCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdHdlZXRzQXJyYXkgPSBbXTtcbiAgICBjb25zdCB3cmFwcGVyQ2xhc3MgPSBgdHdlZXQtLWNvdW50LSR7dHdlZXRzTGVuZ3RofWA7XG5cbiAgICB0d2VldHMuZm9yRWFjaCgodHdlZXQpID0+IHtcbiAgICAgIGNvbnN0ICR0d2VldCA9ICQodHdlZXQpO1xuXG4gICAgICBjb25zdCAkdGVtcGxhdGUgPSB0aGlzLiR0ZW1wbGF0ZS5jbG9uZSgpO1xuICAgICAgY29uc3QgYXV0aG9ySW5mbyA9IHRoaXMuX2V4dHJhY3RBdXRob3IoJHR3ZWV0WzBdKTtcbiAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9leHRyYWN0TWV0YSgkdHdlZXRbMl0pO1xuXG4gICAgICBjb25zdCBjb250ZW50ID0gJHR3ZWV0WzFdO1xuXG4gICAgICAvLyBSZW5kZXIgaGVhZGVyXG4gICAgICAkdGVtcGxhdGVcbiAgICAgICAgLmZpbmQoJy50d2VldC0taGVhZGVyJylcbiAgICAgICAgLmF0dHIoJ2hyZWYnLCBhdXRob3JJbmZvLmxpbmspO1xuXG4gICAgICAkdGVtcGxhdGVcbiAgICAgICAgLmZpbmQoJy50d2VldC0taGVhZGVyLWltYWdlJylcbiAgICAgICAgLmh0bWwoYXV0aG9ySW5mby4kYXZhdGFyKTtcblxuICAgICAgJHRlbXBsYXRlXG4gICAgICAgIC5maW5kKCcudHdlZXQtLWhlYWRlci1uYW1lJylcbiAgICAgICAgLnRleHQoYXV0aG9ySW5mby5uYW1lKTtcblxuICAgICAgJHRlbXBsYXRlXG4gICAgICAgIC5maW5kKCcudHdlZXQtLWhlYWRlci1zY3JlZW5uYW1lJylcbiAgICAgICAgLnRleHQoYXV0aG9ySW5mby5zY3JlZW5OYW1lKTtcblxuICAgICAgLy8gUmVuZGVyIGNvbnRlbnRcbiAgICAgICR0ZW1wbGF0ZVxuICAgICAgICAuZmluZCgnLnR3ZWV0LS1jb250ZW50JylcbiAgICAgICAgLmFwcGVuZCgkdHdlZXRbM10gPyAkdHdlZXRbM10gOiBudWxsKVxuICAgICAgICAuYXBwZW5kKGNvbnRlbnQpO1xuXG4gICAgICAvLyBSZW5kZXIgZm9vdGVyXG4gICAgICAkdGVtcGxhdGVcbiAgICAgICAgLmZpbmQoJy50d2VldC0tZm9vdGVyJylcbiAgICAgICAgLmF0dHIoJ2hyZWYnLCBtZXRhLmxpbmspXG4gICAgICAgIC5maW5kKCcudHdlZXQtLWZvb3Rlci0tcG9zdGVkJylcbiAgICAgICAgLnRleHQobWV0YS5wb3N0ZWRBdCk7XG5cbiAgICAgIHR3ZWV0c0FycmF5LnB1c2goJHRlbXBsYXRlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJHdyYXBwZXIuY3NzKCdtaW4taGVpZ2h0JywgdGhpcy4kd3JhcHBlci5oZWlnaHQoKSk7XG5cbiAgICB0aGlzLiR0d2VldHMuZmFkZU91dCgpLnByb21pc2UoKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lGbGlja2l0eSgpO1xuICAgICAgdGhpcy4kdHdlZXRzLnJlbW92ZSgpO1xuXG4gICAgICB0aGlzLiRjb250ZW50LmFwcGVuZCh0d2VldHNBcnJheSk7XG5cbiAgICAgIHRoaXMuJHdyYXBwZXJcbiAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMuX2V4dHJhY3RXcmFwcGVyQ2xhc3MoKSlcbiAgICAgICAgLmFkZENsYXNzKHdyYXBwZXJDbGFzcylcbiAgICAgICAgLmNzcygnbWluLWhlaWdodCcsICcnKTtcblxuICAgICAgdGhpcy4kdHdlZXRzID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtdHdlZXQtY29udGVudF0nKTtcblxuICAgICAgdGhpcy5fbW9iaWxlU2xpZGVyKCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicTwitterFeed.js\n");

/***/ }),

/***/ "./source/scripts/sections/DynamicVideo.js":
/*!*************************************************!*\
  !*** ./source/scripts/sections/DynamicVideo.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicVideo; });\n/* harmony import */ var _components_Video__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/Video */ \"./source/scripts/components/Video.js\");\n/* harmony import */ var _helpers_LazyLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/LazyLoader */ \"./source/scripts/helpers/LazyLoader.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar DynamicVideo = /*#__PURE__*/function () {\n  function DynamicVideo(section) {\n    _classCallCheck(this, DynamicVideo);\n\n    this.el = section.el;\n    this.autoplay = section.data.autoplay;\n    this.init = this.init.bind(this);\n    this.lazyLoader = new _helpers_LazyLoader__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.el, this.init);\n  }\n\n  _createClass(DynamicVideo, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n\n      var videoEl = this.el.querySelector('[data-video]');\n      this.hasPlayed = false;\n\n      if (videoEl) {\n        this.video = new _components_Video__WEBPACK_IMPORTED_MODULE_0__[\"default\"](videoEl);\n      }\n\n      if (this.video && this.autoplay) {\n        var thresholds = {\n          play: 0.5,\n          pause: 0.2\n        };\n        this.playPauseObserver = new IntersectionObserver(function (entries) {\n          var _entries$ = entries[0],\n              intersectionRatio = _entries$.intersectionRatio,\n              isIntersecting = _entries$.isIntersecting;\n\n          if (intersectionRatio >= thresholds.play && isIntersecting && !_this.hasPlayed) {\n            // videoEl has just scrolled into view and is at least 50% visible: play video\n            _this.video._autoplay();\n\n            _this.hasPlayed = true;\n          } else if (intersectionRatio <= thresholds.pause && isIntersecting === false) {\n            // videoEl has scrolled out of view and is less than 20% visible: pause video\n            _this.video._onPauseClick();\n          }\n        }, {\n          threshold: [thresholds.pause, thresholds.play]\n        });\n        this.playPauseObserver.observe(videoEl);\n      }\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      if (this.video) {\n        this.video.unload();\n      }\n\n      if (this.playPauseObserver) {\n        this.playPauseObserver.disconnect();\n      }\n\n      this.lazyLoader.unload();\n    }\n  }]);\n\n  return DynamicVideo;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljVmlkZW8uanM/NWE2NCJdLCJuYW1lcyI6WyJEeW5hbWljVmlkZW8iLCJzZWN0aW9uIiwiZWwiLCJhdXRvcGxheSIsImRhdGEiLCJpbml0IiwiYmluZCIsImxhenlMb2FkZXIiLCJMYXp5TG9hZGVyIiwidmlkZW9FbCIsInF1ZXJ5U2VsZWN0b3IiLCJoYXNQbGF5ZWQiLCJ2aWRlbyIsIlZpZGVvIiwidGhyZXNob2xkcyIsInBsYXkiLCJwYXVzZSIsInBsYXlQYXVzZU9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJpc0ludGVyc2VjdGluZyIsIl9hdXRvcGxheSIsIl9vblBhdXNlQ2xpY2siLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwidW5sb2FkIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7O0lBRXFCQSxZO0FBQ25CLHdCQUFZQyxPQUFaLEVBQXFCO0FBQUE7O0FBQ25CLFNBQUtDLEVBQUwsR0FBVUQsT0FBTyxDQUFDQyxFQUFsQjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JGLE9BQU8sQ0FBQ0csSUFBUixDQUFhRCxRQUE3QjtBQUNBLFNBQUtFLElBQUwsR0FBWSxLQUFLQSxJQUFMLENBQVVDLElBQVYsQ0FBZSxJQUFmLENBQVo7QUFFQSxTQUFLQyxVQUFMLEdBQWtCLElBQUlDLDJEQUFKLENBQWUsS0FBS04sRUFBcEIsRUFBd0IsS0FBS0csSUFBN0IsQ0FBbEI7QUFDRDs7OzsyQkFFTTtBQUFBOztBQUNMLFVBQU1JLE9BQU8sR0FBRyxLQUFLUCxFQUFMLENBQVFRLGFBQVIsQ0FBc0IsY0FBdEIsQ0FBaEI7QUFDQSxXQUFLQyxTQUFMLEdBQWlCLEtBQWpCOztBQUVBLFVBQUlGLE9BQUosRUFBYTtBQUNYLGFBQUtHLEtBQUwsR0FBYSxJQUFJQyx5REFBSixDQUFVSixPQUFWLENBQWI7QUFDRDs7QUFFRCxVQUFJLEtBQUtHLEtBQUwsSUFBYyxLQUFLVCxRQUF2QixFQUFpQztBQUMvQixZQUFNVyxVQUFVLEdBQUc7QUFBRUMsY0FBSSxFQUFFLEdBQVI7QUFBYUMsZUFBSyxFQUFFO0FBQXBCLFNBQW5CO0FBRUEsYUFBS0MsaUJBQUwsR0FBeUIsSUFBSUMsb0JBQUosQ0FBeUIsVUFBQ0MsT0FBRCxFQUFhO0FBQUEsMEJBQ2ZBLE9BQU8sQ0FBQyxDQUFELENBRFE7QUFBQSxjQUNyREMsaUJBRHFELGFBQ3JEQSxpQkFEcUQ7QUFBQSxjQUNsQ0MsY0FEa0MsYUFDbENBLGNBRGtDOztBQUc3RCxjQUFJRCxpQkFBaUIsSUFBSU4sVUFBVSxDQUFDQyxJQUFoQyxJQUF3Q00sY0FBeEMsSUFBMEQsQ0FBQyxLQUFJLENBQUNWLFNBQXBFLEVBQStFO0FBQzdFO0FBQ0EsaUJBQUksQ0FBQ0MsS0FBTCxDQUFXVSxTQUFYOztBQUNBLGlCQUFJLENBQUNYLFNBQUwsR0FBaUIsSUFBakI7QUFDRCxXQUpELE1BSU8sSUFBSVMsaUJBQWlCLElBQUlOLFVBQVUsQ0FBQ0UsS0FBaEMsSUFBeUNLLGNBQWMsS0FBSyxLQUFoRSxFQUF1RTtBQUM1RTtBQUNBLGlCQUFJLENBQUNULEtBQUwsQ0FBV1csYUFBWDtBQUNEO0FBQ0YsU0FYd0IsRUFZekI7QUFDRUMsbUJBQVMsRUFBRSxDQUFDVixVQUFVLENBQUNFLEtBQVosRUFBbUJGLFVBQVUsQ0FBQ0MsSUFBOUI7QUFEYixTQVp5QixDQUF6QjtBQWdCQSxhQUFLRSxpQkFBTCxDQUF1QlEsT0FBdkIsQ0FBK0JoQixPQUEvQjtBQUNEO0FBQ0Y7OztzQ0FFaUI7QUFDaEIsVUFBSSxLQUFLRyxLQUFULEVBQWdCO0FBQ2QsYUFBS0EsS0FBTCxDQUFXYyxNQUFYO0FBQ0Q7O0FBRUQsVUFBSSxLQUFLVCxpQkFBVCxFQUE0QjtBQUMxQixhQUFLQSxpQkFBTCxDQUF1QlUsVUFBdkI7QUFDRDs7QUFFRCxXQUFLcEIsVUFBTCxDQUFnQm1CLE1BQWhCO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9EeW5hbWljVmlkZW8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmlkZW8gZnJvbSAnLi4vY29tcG9uZW50cy9WaWRlbyc7XG5pbXBvcnQgTGF6eUxvYWRlciBmcm9tICcuLi9oZWxwZXJzL0xhenlMb2FkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEeW5hbWljVmlkZW8ge1xuICBjb25zdHJ1Y3RvcihzZWN0aW9uKSB7XG4gICAgdGhpcy5lbCA9IHNlY3Rpb24uZWw7XG4gICAgdGhpcy5hdXRvcGxheSA9IHNlY3Rpb24uZGF0YS5hdXRvcGxheTtcbiAgICB0aGlzLmluaXQgPSB0aGlzLmluaXQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMubGF6eUxvYWRlciA9IG5ldyBMYXp5TG9hZGVyKHRoaXMuZWwsIHRoaXMuaW5pdCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIGNvbnN0IHZpZGVvRWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXZpZGVvXScpO1xuICAgIHRoaXMuaGFzUGxheWVkID0gZmFsc2U7XG5cbiAgICBpZiAodmlkZW9FbCkge1xuICAgICAgdGhpcy52aWRlbyA9IG5ldyBWaWRlbyh2aWRlb0VsKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWRlbyAmJiB0aGlzLmF1dG9wbGF5KSB7XG4gICAgICBjb25zdCB0aHJlc2hvbGRzID0geyBwbGF5OiAwLjUsIHBhdXNlOiAwLjIgfTtcblxuICAgICAgdGhpcy5wbGF5UGF1c2VPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgICAgICBjb25zdCB7IGludGVyc2VjdGlvblJhdGlvLCBpc0ludGVyc2VjdGluZyB9ID0gZW50cmllc1swXTtcblxuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uUmF0aW8gPj0gdGhyZXNob2xkcy5wbGF5ICYmIGlzSW50ZXJzZWN0aW5nICYmICF0aGlzLmhhc1BsYXllZCkge1xuICAgICAgICAgIC8vIHZpZGVvRWwgaGFzIGp1c3Qgc2Nyb2xsZWQgaW50byB2aWV3IGFuZCBpcyBhdCBsZWFzdCA1MCUgdmlzaWJsZTogcGxheSB2aWRlb1xuICAgICAgICAgIHRoaXMudmlkZW8uX2F1dG9wbGF5KCk7XG4gICAgICAgICAgdGhpcy5oYXNQbGF5ZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGludGVyc2VjdGlvblJhdGlvIDw9IHRocmVzaG9sZHMucGF1c2UgJiYgaXNJbnRlcnNlY3RpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgLy8gdmlkZW9FbCBoYXMgc2Nyb2xsZWQgb3V0IG9mIHZpZXcgYW5kIGlzIGxlc3MgdGhhbiAyMCUgdmlzaWJsZTogcGF1c2UgdmlkZW9cbiAgICAgICAgICB0aGlzLnZpZGVvLl9vblBhdXNlQ2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGhyZXNob2xkOiBbdGhyZXNob2xkcy5wYXVzZSwgdGhyZXNob2xkcy5wbGF5XSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnBsYXlQYXVzZU9ic2VydmVyLm9ic2VydmUodmlkZW9FbCk7XG4gICAgfVxuICB9XG5cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIGlmICh0aGlzLnZpZGVvKSB7XG4gICAgICB0aGlzLnZpZGVvLnVubG9hZCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBsYXlQYXVzZU9ic2VydmVyKSB7XG4gICAgICB0aGlzLnBsYXlQYXVzZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICB0aGlzLmxhenlMb2FkZXIudW5sb2FkKCk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/DynamicVideo.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticAnnouncement.js":
/*!*******************************************************!*\
  !*** ./source/scripts/sections/StaticAnnouncement.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticAnnouncement; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StaticAnnouncement = function StaticAnnouncement(section) {\n  _classCallCheck(this, StaticAnnouncement);\n\n  // Since the announcement bar positioning is actually handled by the\n  // StaticSectionHeader and StickyHeader classes, we need to let them know\n  // when the announcement element is refreshed within the editor.\n  if (window.Shopify && window.Shopify.designMode) {\n    section.postMessage('announcement:load');\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNBbm5vdW5jZW1lbnQuanM/OTc4NSJdLCJuYW1lcyI6WyJTdGF0aWNBbm5vdW5jZW1lbnQiLCJzZWN0aW9uIiwid2luZG93IiwiU2hvcGlmeSIsImRlc2lnbk1vZGUiLCJwb3N0TWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7OztJQUFxQkEsa0IsR0FDbkIsNEJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsTUFBSUMsTUFBTSxDQUFDQyxPQUFQLElBQWtCRCxNQUFNLENBQUNDLE9BQVAsQ0FBZUMsVUFBckMsRUFBaUQ7QUFDL0NILFdBQU8sQ0FBQ0ksV0FBUixDQUFvQixtQkFBcEI7QUFDRDtBQUNGLEMiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNBbm5vdW5jZW1lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0aWNBbm5vdW5jZW1lbnQge1xuICBjb25zdHJ1Y3RvcihzZWN0aW9uKSB7XG4gICAgLy8gU2luY2UgdGhlIGFubm91bmNlbWVudCBiYXIgcG9zaXRpb25pbmcgaXMgYWN0dWFsbHkgaGFuZGxlZCBieSB0aGVcbiAgICAvLyBTdGF0aWNTZWN0aW9uSGVhZGVyIGFuZCBTdGlja3lIZWFkZXIgY2xhc3Nlcywgd2UgbmVlZCB0byBsZXQgdGhlbSBrbm93XG4gICAgLy8gd2hlbiB0aGUgYW5ub3VuY2VtZW50IGVsZW1lbnQgaXMgcmVmcmVzaGVkIHdpdGhpbiB0aGUgZWRpdG9yLlxuICAgIGlmICh3aW5kb3cuU2hvcGlmeSAmJiB3aW5kb3cuU2hvcGlmeS5kZXNpZ25Nb2RlKSB7XG4gICAgICBzZWN0aW9uLnBvc3RNZXNzYWdlKCdhbm5vdW5jZW1lbnQ6bG9hZCcpO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticAnnouncement.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticArticle.js":
/*!**************************************************!*\
  !*** ./source/scripts/sections/StaticArticle.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticArticle; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_RichText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/RichText */ \"./source/scripts/components/RichText.js\");\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\n/* harmony import */ var _shortcodes_Shortcodes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shortcodes/Shortcodes */ \"./source/scripts/shortcodes/Shortcodes.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar StaticArticle = /*#__PURE__*/function () {\n  function StaticArticle(section) {\n    _classCallCheck(this, StaticArticle);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.$commentForm = this.$el.find('[data-articlecomments-form]');\n    this.richText = new _components_RichText__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.$el);\n\n    if (this.$commentForm.length) {\n      this.commentForm = new _Forms__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.$commentForm);\n    }\n\n    this.shortcodes = new _shortcodes_Shortcodes__WEBPACK_IMPORTED_MODULE_3__[\"default\"](section.el);\n  }\n\n  _createClass(StaticArticle, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.richText.unload();\n\n      if (this.commentForm) {\n        this.commentForm.unload();\n      }\n\n      if (this.shortcodes) {\n        this.shortcodes.unload();\n      }\n    }\n  }]);\n\n  return StaticArticle;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNBcnRpY2xlLmpzPzczY2YiXSwibmFtZXMiOlsiU3RhdGljQXJ0aWNsZSIsInNlY3Rpb24iLCIkZWwiLCIkIiwiZWwiLCIkY29tbWVudEZvcm0iLCJmaW5kIiwicmljaFRleHQiLCJSaWNoVGV4dCIsImxlbmd0aCIsImNvbW1lbnRGb3JtIiwiRm9ybXMiLCJzaG9ydGNvZGVzIiwiU2hvcnRjb2RlcyIsInVubG9hZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBOztJQUVxQkEsYTtBQUNuQix5QkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUNuQixTQUFLQyxHQUFMLEdBQVdDLDZDQUFDLENBQUNGLE9BQU8sQ0FBQ0csRUFBVCxDQUFaO0FBQ0EsU0FBS0MsWUFBTCxHQUFvQixLQUFLSCxHQUFMLENBQVNJLElBQVQsQ0FBYyw2QkFBZCxDQUFwQjtBQUVBLFNBQUtDLFFBQUwsR0FBZ0IsSUFBSUMsNERBQUosQ0FBYSxLQUFLTixHQUFsQixDQUFoQjs7QUFFQSxRQUFJLEtBQUtHLFlBQUwsQ0FBa0JJLE1BQXRCLEVBQThCO0FBQzVCLFdBQUtDLFdBQUwsR0FBbUIsSUFBSUMsOENBQUosQ0FBVSxLQUFLTixZQUFmLENBQW5CO0FBQ0Q7O0FBRUQsU0FBS08sVUFBTCxHQUFrQixJQUFJQyw4REFBSixDQUFlWixPQUFPLENBQUNHLEVBQXZCLENBQWxCO0FBQ0Q7Ozs7c0NBRWlCO0FBQ2hCLFdBQUtHLFFBQUwsQ0FBY08sTUFBZDs7QUFFQSxVQUFJLEtBQUtKLFdBQVQsRUFBc0I7QUFDcEIsYUFBS0EsV0FBTCxDQUFpQkksTUFBakI7QUFDRDs7QUFFRCxVQUFJLEtBQUtGLFVBQVQsRUFBcUI7QUFDbkIsYUFBS0EsVUFBTCxDQUFnQkUsTUFBaEI7QUFDRDtBQUNGIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvc2VjdGlvbnMvU3RhdGljQXJ0aWNsZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgUmljaFRleHQgZnJvbSAnLi4vY29tcG9uZW50cy9SaWNoVGV4dCc7XG5pbXBvcnQgRm9ybXMgZnJvbSAnLi4vRm9ybXMnO1xuXG5pbXBvcnQgU2hvcnRjb2RlcyBmcm9tICcuLi9zaG9ydGNvZGVzL1Nob3J0Y29kZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0aWNBcnRpY2xlIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuJGVsID0gJChzZWN0aW9uLmVsKTtcbiAgICB0aGlzLiRjb21tZW50Rm9ybSA9IHRoaXMuJGVsLmZpbmQoJ1tkYXRhLWFydGljbGVjb21tZW50cy1mb3JtXScpXG5cbiAgICB0aGlzLnJpY2hUZXh0ID0gbmV3IFJpY2hUZXh0KHRoaXMuJGVsKTtcblxuICAgIGlmICh0aGlzLiRjb21tZW50Rm9ybS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY29tbWVudEZvcm0gPSBuZXcgRm9ybXModGhpcy4kY29tbWVudEZvcm0pO1xuICAgIH1cblxuICAgIHRoaXMuc2hvcnRjb2RlcyA9IG5ldyBTaG9ydGNvZGVzKHNlY3Rpb24uZWwpO1xuICB9XG5cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIHRoaXMucmljaFRleHQudW5sb2FkKCk7XG5cbiAgICBpZiAodGhpcy5jb21tZW50Rm9ybSkge1xuICAgICAgdGhpcy5jb21tZW50Rm9ybS51bmxvYWQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zaG9ydGNvZGVzKSB7XG4gICAgICB0aGlzLnNob3J0Y29kZXMudW5sb2FkKCk7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticArticle.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticBlog.js":
/*!***********************************************!*\
  !*** ./source/scripts/sections/StaticBlog.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticBlog; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_RichText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/RichText */ \"./source/scripts/components/RichText.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar StaticBlog = /*#__PURE__*/function () {\n  function StaticBlog(section) {\n    _classCallCheck(this, StaticBlog);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.richText = new _components_RichText__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.$el);\n  }\n\n  _createClass(StaticBlog, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.richText.unload();\n    }\n  }]);\n\n  return StaticBlog;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNCbG9nLmpzPzliN2EiXSwibmFtZXMiOlsiU3RhdGljQmxvZyIsInNlY3Rpb24iLCIkZWwiLCIkIiwiZWwiLCJyaWNoVGV4dCIsIlJpY2hUZXh0IiwidW5sb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7O0lBRXFCQSxVO0FBQ25CLHNCQUFZQyxPQUFaLEVBQXFCO0FBQUE7O0FBQ25CLFNBQUtDLEdBQUwsR0FBV0MsNkNBQUMsQ0FBQ0YsT0FBTyxDQUFDRyxFQUFULENBQVo7QUFFQSxTQUFLQyxRQUFMLEdBQWdCLElBQUlDLDREQUFKLENBQWEsS0FBS0osR0FBbEIsQ0FBaEI7QUFDRDs7OztzQ0FFaUI7QUFDaEIsV0FBS0csUUFBTCxDQUFjRSxNQUFkO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNCbG9nLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBSaWNoVGV4dCBmcm9tICcuLi9jb21wb25lbnRzL1JpY2hUZXh0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGljQmxvZyB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLiRlbCA9ICQoc2VjdGlvbi5lbCk7XG5cbiAgICB0aGlzLnJpY2hUZXh0ID0gbmV3IFJpY2hUZXh0KHRoaXMuJGVsKTtcbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLnJpY2hUZXh0LnVubG9hZCgpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticBlog.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticCart.js":
/*!***********************************************!*\
  !*** ./source/scripts/sections/StaticCart.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticCart; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _shopify_theme_addresses__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/theme-addresses */ \"./node_modules/@shopify/theme-addresses/theme-addresses.js\");\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\n/* harmony import */ var _components_MessageBanner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/MessageBanner */ \"./source/scripts/components/MessageBanner.js\");\n/* harmony import */ var _components_CartItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/CartItem */ \"./source/scripts/components/CartItem.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar StaticCart = /*#__PURE__*/function () {\n  function StaticCart(section) {\n    var _this = this;\n\n    _classCallCheck(this, StaticCart);\n\n    this.settings = section.data.settings;\n    this.shipping = section.data.shipping;\n    this.cart = section.data.cart;\n    this.messageBanner = new _components_MessageBanner__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window);\n    this.el = section.el;\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.$header = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-site-header-main]');\n    this.$total = this.$el.find('[data-cart-total]');\n    this.$shipping = this.$el.find('[data-cartshipping]'); // Product form containers\n\n    this.$titleTotalSmall = this.$el.find('.cart-title-total--small');\n    this.$titleTotalLarge = this.$el.find('.cart-title-total--large');\n    this.$titleTotalContents = this.$el.find('[data-cart-title-total]'); // Shipping calculator elements\n\n    this.$shippingToggle = this.$el.find('[data-cartshipping-toggle]');\n    this.$shippingResponse = this.$shipping.find('[data-cartshipping-response]');\n    this.$shippingResponseMessage = this.$shippingResponse.find('[data-cartshipping-message]');\n    this.$shippingResponseRates = this.$shippingResponse.find('[data-cartshipping-rates]');\n    this.$shippingSubmit = this.$shipping.find('[data-cartshipping-submit]');\n    this.$form = this.$el.find('[data-cart-form]');\n    this.$checkoutButtons = this.$el.find('button[name=\"checkout\"]');\n    this.$totals = this.$el.find('[data-cart-totals]');\n\n    this._moveTitleTotal();\n\n    var $scripts = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-scripts]');\n    scriptjs__WEBPACK_IMPORTED_MODULE_1___default()($scripts.data('shopify-api-url'), function () {\n      _this._bindEvents();\n\n      _this.cartItems = _this.cart.items.map(function (lineItem) {\n        var $el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"[data-cartitem-id=\\\"\".concat(lineItem.id, \"\\\"]\"), _this.$el);\n        return new _components_CartItem__WEBPACK_IMPORTED_MODULE_6__[\"default\"]($el.get(0), lineItem, _this.settings);\n      });\n      _this.cartTotalValue = window.api.theme.useValue({\n        name: 'cart:total',\n        handler: function handler(data) {\n          if (!data) {\n            console.error('Error initializing cart total value.');\n            return;\n          }\n\n          var price = data.price;\n\n          _this.$total.each(function (i, el) {\n            el.setAttribute('data-cart-total', price);\n            el.innerHTML = Shopify.formatMoney(price, _this.settings.money_format);\n          });\n        },\n        initialValue: {\n          price: _this.cart.total_price,\n          compare_at_price: _this.cart.total_price\n        }\n      });\n      _this.cartCheckoutValue = window.api.theme.useValue({\n        name: 'cart:checkout',\n        handler: function handler(value) {\n          if (typeof value === 'undefined' || value === null) {\n            console.error(\"Error initializing cart checkout value.\");\n            return;\n          }\n\n          _this.$checkoutButtons.prop('disabled', !value);\n        },\n        initialValue: true\n      });\n      _this.cartNotificationsElement = window.api.theme.useElement('cart:notifications', section.el.querySelector('[data-cart-notifications]'));\n      _this.cartToolsElement = window.api.theme.useElement('cart:tools', section.el.querySelector('[data-cart-tools]')); // When the cart is submitted, we should fire an event that can be cancelled by integrations\n\n      _this.$form.on('submit', function (event) {\n        return window.api.theme.triggerEvent('cart:checkout', {\n          cancel: function cancel() {\n            return event.preventDefault();\n          }\n        });\n      });\n\n      Shopify.onError = _this._handleErrors.bind(_this);\n    });\n    this.forms = new _Forms__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.$el);\n\n    if (this.settings.shipping && this.$shipping.length) {\n      scriptjs__WEBPACK_IMPORTED_MODULE_1___default()($scripts.data('shopify-countries'), function () {\n        scriptjs__WEBPACK_IMPORTED_MODULE_1___default()($scripts.data('shopify-common'), function () {\n          scriptjs__WEBPACK_IMPORTED_MODULE_1___default()($scripts.data('shopify-cart'), function () {\n            _this._initShippingCalc();\n          });\n        });\n      });\n    }\n  }\n\n  _createClass(StaticCart, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.cartItems.forEach(function (cartItem) {\n        return cartItem.unload();\n      });\n      this.cartTotalValue.unload();\n      this.cartCheckoutValue.unload();\n      this.cartNotificationsElement.unload();\n      this.cartToolsElement.unload();\n      this.$el.off('.cart-page');\n      this.$window.off('.cart-page');\n      this.forms.unload();\n      this.messageBanner.unload();\n      this.messageBanner.dismissBanners();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this.$el.on('keydown.cart-page', '[data-cartitem-quantity]', function (event) {\n        _this2._quantityKeyDown(event);\n      });\n      /*\n       * There are two [data-cartitem-quantity] selectors.\n       * Use the input as the source of truth rather than the select\n       * because the input has an infinite value range whereas the select\n       * has a finite range.\n       */\n\n      this.$el.on('change.cart-page', '[data-cartitem-quantity][data-quantity-input]', function (event) {\n        _this2._editItemQuantity(event);\n      });\n      this.$el.on('click.cart-page', '[data-cartitem-remove]', function (event) {\n        event.preventDefault();\n\n        _this2._editItemQuantity(event, true);\n      });\n      this.$window.on('resize.cart-page', just_debounce__WEBPACK_IMPORTED_MODULE_2___default()(function () {\n        return _this2._moveTitleTotal();\n      }, 20));\n    }\n  }, {\n    key: \"_moveTitleTotal\",\n    value: function _moveTitleTotal() {\n      if (!this.$titleTotalContents.length) {\n        return;\n      }\n\n      if (this.$window.outerWidth() >= 480) {\n        if (!jquery__WEBPACK_IMPORTED_MODULE_0___default.a.contains(this.$titleTotalLarge[0], this.$titleTotalContents[0])) {\n          var $form = this.$titleTotalContents.detach();\n          this.$titleTotalLarge.append($form);\n        }\n      } else {\n        if (!jquery__WEBPACK_IMPORTED_MODULE_0___default.a.contains(this.$titleTotalSmall[0], this.$titleTotalContents[0])) {\n          var _$form = this.$titleTotalContents.detach();\n\n          this.$titleTotalSmall.append(_$form);\n        }\n      }\n    }\n    /**\n     * Prevent form submission when pressing `enter` within a quantity selector\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_quantityKeyDown\",\n    value: function _quantityKeyDown(event) {\n      // Only block enter keys\n      if (event.keyCode !== 13) {\n        return;\n      } // Block form submission, but update field\n\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget).trigger('change');\n      event.preventDefault();\n    }\n    /**\n     * Handle an item quantity change\n     *\n     * @param event\n     * @param {Boolean} remove - Set as true to remove cart item\n     * @private\n     */\n\n  }, {\n    key: \"_editItemQuantity\",\n    value: function _editItemQuantity(event) {\n      var remove = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.messageBanner.dismissBanners();\n      var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget);\n      var $cartItem = $target.closest('[data-cartitem-id]');\n      var quantity = remove ? 0 : parseInt($target.val(), 10);\n      quantity = Math.max(quantity, 0);\n\n      this._updateCart($cartItem, quantity); // Remove item from cart visually if it is being removed\n\n\n      if (quantity === 0 || remove) {\n        $cartItem.height($cartItem.height());\n      }\n    }\n    /**\n     * Update cart with a valid quantity\n     *\n     * @param $cartItem\n     * @param quantity\n     * @private\n     */\n\n  }, {\n    key: \"_updateCart\",\n    value: function _updateCart($cartItem, quantity) {\n      var _this3 = this;\n\n      var id = $cartItem.data('cartitem-id'); // Notify Shopify updated item\n\n      Shopify.changeItem(id, quantity, function (response) {\n        _this3._didUpdate(id, quantity, response, $cartItem);\n      });\n    }\n  }, {\n    key: \"_quantityError\",\n    value: function _quantityError(limit, title) {\n      var errorMessage = this.settings.stock_limit.replace('** quantity **', limit).replace('** title **', title);\n      this.messageBanner.message(errorMessage, 'error');\n    }\n    /**\n     * Update cart content based on information from Shopify\n     *\n     * @param id\n     * @param quantity\n     * @param response\n     * @param $cartItem\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: \"_didUpdate\",\n    value: function _didUpdate(id, quantity, response, $cartItem) {\n      // Reload page if all items are removed from cart\n      if (!response.items.length) {\n        window.location = window.Theme.routes.cart_url;\n        return;\n      }\n\n      window.api.theme.triggerEvent('cart:updated', {\n        cancel: function cancel() {}\n      });\n      this.cart = response;\n      this.$header.trigger('cartcount:update', {\n        response: response\n      }); // Update all totals on the page when the cart has been updated\n\n      window.api.theme.updateValue('cart:total', {\n        price: this.cart.total_price,\n        compare_at_price: this.cart.total_price\n      });\n      window.api.theme.updateValue('cart:checkout', true);\n      window.api.theme.updateElement('cart:notifications');\n      window.api.theme.updateElement('cart:tools'); // Select item from response\n\n      var filteredItems = response.items.filter(function (item) {\n        return item.id === id;\n      });\n\n      if (!filteredItems.length) {\n        $cartItem.addClass('removing').one('trend', function () {\n          $cartItem.off('trend').remove();\n        });\n        return;\n      }\n\n      window.api.theme.updateValue(\"line-item:\".concat(id, \":price\"), {\n        price: this.cart.items.filter(function (lineItem) {\n          return lineItem.id === id;\n        })[0].line_price,\n        compare_at_price: this.cart.items.filter(function (lineItem) {\n          return lineItem.id === id;\n        })[0].original_line_price\n      });\n      var cartItem = filteredItems[0];\n\n      if (cartItem.quantity !== quantity) {\n        this._quantityError(cartItem.quantity, cartItem.title);\n\n        $cartItem.find('[data-quantity-input]').val(cartItem.quantity);\n        $cartItem.find('[data-quantity-select]').val(cartItem.quantity);\n      }\n    }\n    /**\n     * Handle Errors returned from Shopify\n     *\n     * @param errors\n     * @private\n     */\n\n  }, {\n    key: \"_handleErrors\",\n    value: function _handleErrors() {\n      var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (!errors) {\n        return;\n      }\n\n      var shippingResponse = {\n        message: this.shipping.error_general\n      };\n\n      if (errors.zip && errors.zip.length > 0) {\n        if (errors.zip[0].indexOf('is not valid') !== -1 || errors.zip[0].indexOf('can\\'t be blank') !== -1) {\n          shippingResponse.message = \"\".concat(this.shipping.zip, \" \").concat(errors.zip);\n        }\n      }\n\n      if (errors.error && errors.error.length > 0) {\n        if (errors.error[0].indexOf('shipment_too_heavy') !== -1) {\n          shippingResponse.message = this.shipping.shipment_too_heavy;\n        }\n      }\n\n      this._handleShippingResponse(shippingResponse);\n    }\n  }, {\n    key: \"_initShippingCalc\",\n    value: function _initShippingCalc() {\n      var _this4 = this;\n\n      this._bindShippingCalcEvents();\n\n      var countrySelect = document.getElementById('address_country');\n      var provinceSelect = document.getElementById('address_province');\n      var provinceContainer = document.getElementById('address_province_container');\n      this.shippingCountryProvinceSelector = new _shopify_theme_addresses__WEBPACK_IMPORTED_MODULE_3__[\"CountryProvinceSelector\"](countrySelect.innerHTML);\n      this.shippingCountryProvinceSelector.build(countrySelect, provinceSelect, {\n        onCountryChange: function onCountryChange(provinces) {\n          if (provinces.length) {\n            provinceContainer.style.display = 'block';\n          } else {\n            provinceContainer.style.display = 'none';\n          } // \"Province\", \"State\", \"Region\", etc. and \"Postal Code\", \"ZIP Code\", etc.\n          // Even countries without provinces include a label.\n\n\n          var _window$Countries$cou = window.Countries[countrySelect.value],\n              label = _window$Countries$cou.label,\n              zip_label = _window$Countries$cou.zip_label;\n          provinceContainer.querySelector('label[for=\"address_province\"]').innerHTML = label;\n          _this4.el.querySelector('#address_zip ~ label[for=\"address_zip\"]').innerHTML = zip_label;\n        }\n      });\n    }\n  }, {\n    key: \"_bindShippingCalcEvents\",\n    value: function _bindShippingCalcEvents() {\n      var _this5 = this;\n\n      this.$el.on('click.cart-page', '[data-cartshipping-toggle]', function () {\n        _this5._toggleShippingCalc();\n      });\n      this.$el.on('click.cart-page', '[data-cartshipping-submit]', function () {\n        _this5._getShippingRates();\n      });\n      this.$el.on('keypress.cart-page', '#address_zip', function (event) {\n        if (event.keyCode === 10 || event.keyCode === 13) {\n          event.preventDefault();\n\n          _this5.$shippingSubmit.trigger('click');\n        }\n      });\n    }\n  }, {\n    key: \"_toggleShippingCalc\",\n    value: function _toggleShippingCalc() {\n      var oldText = this.$shippingToggle.text();\n      var newText = this.$shippingToggle.data('cartshipping-toggle');\n      this.$shippingToggle.text(newText).data('cartshipping-toggle', oldText);\n      this.$shipping.toggleClass('open');\n    }\n  }, {\n    key: \"_getShippingRates\",\n    value: function _getShippingRates() {\n      var _this6 = this;\n\n      this._disableShippingButton();\n\n      var shippingAddress = {};\n      shippingAddress.country = jquery__WEBPACK_IMPORTED_MODULE_0___default()('#address_country').val() || '';\n      shippingAddress.province = jquery__WEBPACK_IMPORTED_MODULE_0___default()('#address_province').val() || '';\n      shippingAddress.zip = jquery__WEBPACK_IMPORTED_MODULE_0___default()('#address_zip').val() || '';\n      var queryString = Object.keys(shippingAddress).map(function (key) {\n        return \"\".concat(encodeURIComponent(\"shipping_address[\".concat(key, \"]\")), \"=\").concat(encodeURIComponent(shippingAddress[key]));\n      }).join('&');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax(\"\".concat(window.Theme.routes.cart_url, \"/shipping_rates.json?\").concat(queryString), {\n        dataType: 'json'\n      }).fail(function (error) {\n        return _this6._handleErrors(error.responseJSON || {});\n      }).done(function (response) {\n        var rates = response.shipping_rates;\n        var addressBase = [];\n\n        if (shippingAddress.zip.length) {\n          addressBase.push(shippingAddress.zip.trim());\n        }\n\n        if (shippingAddress.province.length) {\n          addressBase.push(shippingAddress.province);\n        }\n\n        if (shippingAddress.country.length) {\n          addressBase.push(shippingAddress.country);\n        }\n\n        var address = addressBase.join(', ');\n        var message = '';\n\n        if (rates.length > 1) {\n          var firstRate = window.Shopify.formatMoney(rates[0].price, _this6.settings.money_format);\n          message = _this6.shipping.multiple_rates.replace('*address*', address).replace('*number_of_rates*', rates.length).replace('*rate*', \"<span class=\\\"money\\\">\".concat(firstRate, \"</span>\"));\n        } else if (rates.length === 1) {\n          message = _this6.shipping.one_rate.replace('*address*', address);\n        } else {\n          message = _this6.shipping.no_rates;\n        }\n\n        var ratesList = rates.map(function (rate) {\n          var price = window.Shopify.formatMoney(rate.price, _this6.settings.money_format);\n\n          var rateValue = _this6.shipping.rate_value.replace('*rate_title*', rate.name).replace('*rate*', \"<span class=\\\"money\\\">\".concat(price, \"</span>\"));\n\n          return \"<li>\".concat(rateValue, \"</li>\");\n        });\n\n        _this6._handleShippingResponse({\n          message: message,\n          rates: ratesList\n        });\n      });\n    }\n  }, {\n    key: \"_enableShippingButton\",\n    value: function _enableShippingButton() {\n      this.$shippingSubmit.text(this.shipping.calculate_shipping).attr('disabled', false);\n    }\n  }, {\n    key: \"_disableShippingButton\",\n    value: function _disableShippingButton() {\n      this.$shippingSubmit.text(this.shipping.calculating).attr('disabled', true);\n    }\n  }, {\n    key: \"_showShippingResponse\",\n    value: function _showShippingResponse() {\n      this.$shippingResponse.addClass('visible');\n    }\n  }, {\n    key: \"_hideShippingResponse\",\n    value: function _hideShippingResponse() {\n      this.$shippingResponse.removeClass('visible');\n    }\n    /**\n     * Handle shipping responses\n     *\n     * @param {object} shippingResponse\n     * @property {String} shippingResponse.messages - Error / Success message\n     * @property {Array|String} shippingResponse.rates - Shipping rates\n     * @private\n     */\n\n  }, {\n    key: \"_handleShippingResponse\",\n    value: function _handleShippingResponse() {\n      var shippingResponse = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      // Hide the response so that it can be populated smoothly\n      this._hideShippingResponse();\n\n      var message = shippingResponse.message || null;\n      var rates = shippingResponse.rates || null; // Empty out contents\n\n      this.$shippingResponseMessage.empty();\n      this.$shippingResponseRates.empty();\n\n      if (message) {\n        this.$shippingResponseMessage.html(message);\n      }\n\n      if (rates) {\n        this.$shippingResponseRates.html(rates);\n      } // Reset the calculating button so it can be used again\n\n\n      this._enableShippingButton(); // No error provided\n\n\n      if (!message && !rates) {\n        return;\n      } // Show the response\n\n\n      this._showShippingResponse();\n    }\n  }]);\n\n  return StaticCart;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNDYXJ0LmpzPzc1NWUiXSwibmFtZXMiOlsiU3RhdGljQ2FydCIsInNlY3Rpb24iLCJzZXR0aW5ncyIsImRhdGEiLCJzaGlwcGluZyIsImNhcnQiLCJtZXNzYWdlQmFubmVyIiwiTWVzc2FnZUJhbm5lciIsIiR3aW5kb3ciLCIkIiwid2luZG93IiwiZWwiLCIkZWwiLCIkaGVhZGVyIiwiJHRvdGFsIiwiZmluZCIsIiRzaGlwcGluZyIsIiR0aXRsZVRvdGFsU21hbGwiLCIkdGl0bGVUb3RhbExhcmdlIiwiJHRpdGxlVG90YWxDb250ZW50cyIsIiRzaGlwcGluZ1RvZ2dsZSIsIiRzaGlwcGluZ1Jlc3BvbnNlIiwiJHNoaXBwaW5nUmVzcG9uc2VNZXNzYWdlIiwiJHNoaXBwaW5nUmVzcG9uc2VSYXRlcyIsIiRzaGlwcGluZ1N1Ym1pdCIsIiRmb3JtIiwiJGNoZWNrb3V0QnV0dG9ucyIsIiR0b3RhbHMiLCJfbW92ZVRpdGxlVG90YWwiLCIkc2NyaXB0cyIsIiRzY3JpcHQiLCJfYmluZEV2ZW50cyIsImNhcnRJdGVtcyIsIml0ZW1zIiwibWFwIiwibGluZUl0ZW0iLCJpZCIsIkNhcnRJdGVtIiwiZ2V0IiwiY2FydFRvdGFsVmFsdWUiLCJhcGkiLCJ0aGVtZSIsInVzZVZhbHVlIiwibmFtZSIsImhhbmRsZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJwcmljZSIsImVhY2giLCJpIiwic2V0QXR0cmlidXRlIiwiaW5uZXJIVE1MIiwiU2hvcGlmeSIsImZvcm1hdE1vbmV5IiwibW9uZXlfZm9ybWF0IiwiaW5pdGlhbFZhbHVlIiwidG90YWxfcHJpY2UiLCJjb21wYXJlX2F0X3ByaWNlIiwiY2FydENoZWNrb3V0VmFsdWUiLCJ2YWx1ZSIsInByb3AiLCJjYXJ0Tm90aWZpY2F0aW9uc0VsZW1lbnQiLCJ1c2VFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNhcnRUb29sc0VsZW1lbnQiLCJvbiIsImV2ZW50IiwidHJpZ2dlckV2ZW50IiwiY2FuY2VsIiwicHJldmVudERlZmF1bHQiLCJvbkVycm9yIiwiX2hhbmRsZUVycm9ycyIsImJpbmQiLCJmb3JtcyIsIkZvcm1zIiwibGVuZ3RoIiwiX2luaXRTaGlwcGluZ0NhbGMiLCJmb3JFYWNoIiwiY2FydEl0ZW0iLCJ1bmxvYWQiLCJvZmYiLCJkaXNtaXNzQmFubmVycyIsIl9xdWFudGl0eUtleURvd24iLCJfZWRpdEl0ZW1RdWFudGl0eSIsImRlYm91bmNlIiwib3V0ZXJXaWR0aCIsImNvbnRhaW5zIiwiZGV0YWNoIiwiYXBwZW5kIiwia2V5Q29kZSIsImN1cnJlbnRUYXJnZXQiLCJ0cmlnZ2VyIiwicmVtb3ZlIiwiJHRhcmdldCIsIiRjYXJ0SXRlbSIsImNsb3Nlc3QiLCJxdWFudGl0eSIsInBhcnNlSW50IiwidmFsIiwiTWF0aCIsIm1heCIsIl91cGRhdGVDYXJ0IiwiaGVpZ2h0IiwiY2hhbmdlSXRlbSIsInJlc3BvbnNlIiwiX2RpZFVwZGF0ZSIsImxpbWl0IiwidGl0bGUiLCJlcnJvck1lc3NhZ2UiLCJzdG9ja19saW1pdCIsInJlcGxhY2UiLCJtZXNzYWdlIiwibG9jYXRpb24iLCJUaGVtZSIsInJvdXRlcyIsImNhcnRfdXJsIiwidXBkYXRlVmFsdWUiLCJ1cGRhdGVFbGVtZW50IiwiZmlsdGVyZWRJdGVtcyIsImZpbHRlciIsIml0ZW0iLCJhZGRDbGFzcyIsIm9uZSIsImxpbmVfcHJpY2UiLCJvcmlnaW5hbF9saW5lX3ByaWNlIiwiX3F1YW50aXR5RXJyb3IiLCJlcnJvcnMiLCJzaGlwcGluZ1Jlc3BvbnNlIiwiZXJyb3JfZ2VuZXJhbCIsInppcCIsImluZGV4T2YiLCJzaGlwbWVudF90b29faGVhdnkiLCJfaGFuZGxlU2hpcHBpbmdSZXNwb25zZSIsIl9iaW5kU2hpcHBpbmdDYWxjRXZlbnRzIiwiY291bnRyeVNlbGVjdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJwcm92aW5jZVNlbGVjdCIsInByb3ZpbmNlQ29udGFpbmVyIiwic2hpcHBpbmdDb3VudHJ5UHJvdmluY2VTZWxlY3RvciIsIkNvdW50cnlQcm92aW5jZVNlbGVjdG9yIiwiYnVpbGQiLCJvbkNvdW50cnlDaGFuZ2UiLCJwcm92aW5jZXMiLCJzdHlsZSIsImRpc3BsYXkiLCJDb3VudHJpZXMiLCJsYWJlbCIsInppcF9sYWJlbCIsIl90b2dnbGVTaGlwcGluZ0NhbGMiLCJfZ2V0U2hpcHBpbmdSYXRlcyIsIm9sZFRleHQiLCJ0ZXh0IiwibmV3VGV4dCIsInRvZ2dsZUNsYXNzIiwiX2Rpc2FibGVTaGlwcGluZ0J1dHRvbiIsInNoaXBwaW5nQWRkcmVzcyIsImNvdW50cnkiLCJwcm92aW5jZSIsInF1ZXJ5U3RyaW5nIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsImVuY29kZVVSSUNvbXBvbmVudCIsImpvaW4iLCJhamF4IiwiZGF0YVR5cGUiLCJmYWlsIiwicmVzcG9uc2VKU09OIiwiZG9uZSIsInJhdGVzIiwic2hpcHBpbmdfcmF0ZXMiLCJhZGRyZXNzQmFzZSIsInB1c2giLCJ0cmltIiwiYWRkcmVzcyIsImZpcnN0UmF0ZSIsIm11bHRpcGxlX3JhdGVzIiwib25lX3JhdGUiLCJub19yYXRlcyIsInJhdGVzTGlzdCIsInJhdGUiLCJyYXRlVmFsdWUiLCJyYXRlX3ZhbHVlIiwiY2FsY3VsYXRlX3NoaXBwaW5nIiwiYXR0ciIsImNhbGN1bGF0aW5nIiwicmVtb3ZlQ2xhc3MiLCJfaGlkZVNoaXBwaW5nUmVzcG9uc2UiLCJlbXB0eSIsImh0bWwiLCJfZW5hYmxlU2hpcHBpbmdCdXR0b24iLCJfc2hvd1NoaXBwaW5nUmVzcG9uc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztJQUVxQkEsVTtBQUNuQixzQkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUFBOztBQUNuQixTQUFLQyxRQUFMLEdBQWdCRCxPQUFPLENBQUNFLElBQVIsQ0FBYUQsUUFBN0I7QUFDQSxTQUFLRSxRQUFMLEdBQWdCSCxPQUFPLENBQUNF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QXRCNkMsQ0F3QjdDOzs7QUFDQSxVQUFJLENBQUNoRixPQUFELElBQVksQ0FBQzJELEtBQWpCLEVBQXdCO0FBQ3RCO0FBQ0QsT0EzQjRDLENBNkI3Qzs7O0FBQ0EsV0FBS3NCLHFCQUFMO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNDYXJ0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCAkc2NyaXB0IGZyb20gJ3NjcmlwdGpzJztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdqdXN0LWRlYm91bmNlJztcbmltcG9ydCB7IENvdW50cnlQcm92aW5jZVNlbGVjdG9yIH0gZnJvbSAnQHNob3BpZnkvdGhlbWUtYWRkcmVzc2VzJztcblxuaW1wb3J0IEZvcm1zIGZyb20gJy4uL0Zvcm1zJztcbmltcG9ydCBNZXNzYWdlQmFubmVyIGZyb20gJy4uL2NvbXBvbmVudHMvTWVzc2FnZUJhbm5lcic7XG5pbXBvcnQgQ2FydEl0ZW0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJ0SXRlbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRpY0NhcnQge1xuICBjb25zdHJ1Y3RvcihzZWN0aW9uKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNlY3Rpb24uZGF0YS5zZXR0aW5ncztcbiAgICB0aGlzLnNoaXBwaW5nID0gc2VjdGlvbi5kYXRhLnNoaXBwaW5nO1xuICAgIHRoaXMuY2FydCA9IHNlY3Rpb24uZGF0YS5jYXJ0O1xuICAgIHRoaXMubWVzc2FnZUJhbm5lciA9IG5ldyBNZXNzYWdlQmFubmVyKCk7XG5cbiAgICB0aGlzLiR3aW5kb3cgPSAkKHdpbmRvdyk7XG4gICAgdGhpcy5lbCA9IHNlY3Rpb24uZWw7XG4gICAgdGhpcy4kZWwgPSAkKHNlY3Rpb24uZWwpO1xuICAgIHRoaXMuJGhlYWRlciA9ICQoJ1tkYXRhLXNpdGUtaGVhZGVyLW1haW5dJyk7XG4gICAgdGhpcy4kdG90YWwgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1jYXJ0LXRvdGFsXScpO1xuICAgIHRoaXMuJHNoaXBwaW5nID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtY2FydHNoaXBwaW5nXScpO1xuXG4gICAgLy8gUHJvZHVjdCBmb3JtIGNvbnRhaW5lcnNcbiAgICB0aGlzLiR0aXRsZVRvdGFsU21hbGwgPSB0aGlzLiRlbC5maW5kKCcuY2FydC10aXRsZS10b3RhbC0tc21hbGwnKTtcbiAgICB0aGlzLiR0aXRsZVRvdGFsTGFyZ2UgPSB0aGlzLiRlbC5maW5kKCcuY2FydC10aXRsZS10b3RhbC0tbGFyZ2UnKTtcbiAgICB0aGlzLiR0aXRsZVRvdGFsQ29udGVudHMgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1jYXJ0LXRpdGxlLXRvdGFsXScpO1xuXG4gICAgLy8gU2hpcHBpbmcgY2FsY3VsYXRvciBlbGVtZW50c1xuICAgIHRoaXMuJHNoaXBwaW5nVG9nZ2xlID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtY2FydHNoaXBwaW5nLXRvZ2dsZV0nKTtcbiAgICB0aGlzLiRzaGlwcGluZ1Jlc3BvbnNlID0gdGhpcy4kc2hpcHBpbmcuZmluZCgnW2RhdGEtY2FydHNoaXBwaW5nLXJlc3BvbnNlXScpO1xuICAgIHRoaXMuJHNoaXBwaW5nUmVzcG9uc2VNZXNzYWdlID0gdGhpcy4kc2hpcHBpbmdSZXNwb25zZS5maW5kKCdbZGF0YS1jYXJ0c2hpcHBpbmctbWVzc2FnZV0nKTtcbiAgICB0aGlzLiRzaGlwcGluZ1Jlc3BvbnNlUmF0ZXMgPSB0aGlzLiRzaGlwcGluZ1Jlc3BvbnNlLmZpbmQoJ1tkYXRhLWNhcnRzaGlwcGluZy1yYXRlc10nKTtcbiAgICB0aGlzLiRzaGlwcGluZ1N1Ym1pdCA9IHRoaXMuJHNoaXBwaW5nLmZpbmQoJ1tkYXRhLWNhcnRzaGlwcGluZy1zdWJtaXRdJyk7XG5cbiAgICB0aGlzLiRmb3JtID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtY2FydC1mb3JtXScpO1xuICAgIHRoaXMuJGNoZWNrb3V0QnV0dG9ucyA9IHRoaXMuJGVsLmZpbmQoJ2J1dHRvbltuYW1lPVwiY2hlY2tvdXRcIl0nKTtcbiAgICB0aGlzLiR0b3RhbHMgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1jYXJ0LXRvdGFsc10nKTtcblxuICAgIHRoaXMuX21vdmVUaXRsZVRvdGFsKCk7XG5cbiAgICBjb25zdCAkc2NyaXB0cyA9ICQoJ1tkYXRhLXNjcmlwdHNdJyk7XG5cbiAgICAkc2NyaXB0KCRzY3JpcHRzLmRhdGEoJ3Nob3BpZnktYXBpLXVybCcpLCAoKSA9PiB7XG4gICAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG5cblxuICAgICAgdGhpcy5jYXJ0SXRlbXMgPSB0aGlzLmNhcnQuaXRlbXMubWFwKChsaW5lSXRlbSkgPT4ge1xuICAgICAgICBjb25zdCAkZWwgPSAkKGBbZGF0YS1jYXJ0aXRlbS1pZD1cIiR7bGluZUl0ZW0uaWR9XCJdYCwgdGhpcy4kZWwpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQ2FydEl0ZW0oJGVsLmdldCgwKSwgbGluZUl0ZW0sIHRoaXMuc2V0dGluZ3MpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY2FydFRvdGFsVmFsdWUgPSB3aW5kb3cuYXBpLnRoZW1lLnVzZVZhbHVlKHtcbiAgICAgICAgbmFtZTogJ2NhcnQ6dG90YWwnLFxuICAgICAgICBoYW5kbGVyOiBkYXRhID0+IHtcbiAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBjYXJ0IHRvdGFsIHZhbHVlLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHsgcHJpY2UgfSA9IGRhdGE7XG5cbiAgICAgICAgICB0aGlzLiR0b3RhbC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLWNhcnQtdG90YWwnLCBwcmljZSk7XG4gICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBTaG9waWZ5LmZvcm1hdE1vbmV5KHByaWNlLCB0aGlzLnNldHRpbmdzLm1vbmV5X2Zvcm1hdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogeyBwcmljZTogdGhpcy5jYXJ0LnRvdGFsX3ByaWNlLCBjb21wYXJlX2F0X3ByaWNlOiB0aGlzLmNhcnQudG90YWxfcHJpY2UgfSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNhcnRDaGVja291dFZhbHVlID0gd2luZG93LmFwaS50aGVtZS51c2VWYWx1ZSh7XG4gICAgICAgIG5hbWU6ICdjYXJ0OmNoZWNrb3V0JyxcbiAgICAgICAgaGFuZGxlcjogdmFsdWUgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIGNhcnQgY2hlY2tvdXQgdmFsdWUuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuJGNoZWNrb3V0QnV0dG9ucy5wcm9wKCdkaXNhYmxlZCcsICF2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNhcnROb3RpZmljYXRpb25zRWxlbWVudCA9IHdpbmRvdy5hcGkudGhlbWUudXNlRWxlbWVudCgnY2FydDpub3RpZmljYXRpb25zJywgc2VjdGlvbi5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jYXJ0LW5vdGlmaWNhdGlvbnNdJykpO1xuICAgICAgdGhpcy5jYXJ0VG9vbHNFbGVtZW50ID0gd2luZG93LmFwaS50aGVtZS51c2VFbGVtZW50KCdjYXJ0OnRvb2xzJywgc2VjdGlvbi5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jYXJ0LXRvb2xzXScpKTtcblxuICAgICAgLy8gV2hlbiB0aGUgY2FydCBpcyBzdWJtaXR0ZWQsIHdlIHNob3VsZCBmaXJlIGFuIGV2ZW50IHRoYXQgY2FuIGJlIGNhbmNlbGxlZCBieSBpbnRlZ3JhdGlvbnNcbiAgICAgIHRoaXMuJGZvcm0ub24oJ3N1Ym1pdCcsIGV2ZW50ID0+IHdpbmRvdy5hcGkudGhlbWUudHJpZ2dlckV2ZW50KCdjYXJ0OmNoZWNrb3V0JywgeyBjYW5jZWw6ICgpID0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCkgfSkpO1xuXG4gICAgICBTaG9waWZ5Lm9uRXJyb3IgPSB0aGlzLl9oYW5kbGVFcnJvcnMuYmluZCh0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcy4kZWwpO1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hpcHBpbmcgJiYgdGhpcy4kc2hpcHBpbmcubGVuZ3RoKSB7XG4gICAgICAkc2NyaXB0KCRzY3JpcHRzLmRhdGEoJ3Nob3BpZnktY291bnRyaWVzJyksICgpID0+IHtcbiAgICAgICAgJHNjcmlwdCgkc2NyaXB0cy5kYXRhKCdzaG9waWZ5LWNvbW1vbicpLCAoKSA9PiB7XG4gICAgICAgICAgJHNjcmlwdCgkc2NyaXB0cy5kYXRhKCdzaG9waWZ5LWNhcnQnKSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faW5pdFNoaXBwaW5nQ2FsYygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLmNhcnRJdGVtcy5mb3JFYWNoKGNhcnRJdGVtID0+IGNhcnRJdGVtLnVubG9hZCgpKTtcbiAgICB0aGlzLmNhcnRUb3RhbFZhbHVlLnVubG9hZCgpO1xuICAgIHRoaXMuY2FydENoZWNrb3V0VmFsdWUudW5sb2FkKCk7XG4gICAgdGhpcy5jYXJ0Tm90aWZpY2F0aW9uc0VsZW1lbnQudW5sb2FkKCk7XG4gICAgdGhpcy5jYXJ0VG9vbHNFbGVtZW50LnVubG9hZCgpO1xuICAgIHRoaXMuJGVsLm9mZignLmNhcnQtcGFnZScpO1xuICAgIHRoaXMuJHdpbmRvdy5vZmYoJy5jYXJ0LXBhZ2UnKTtcbiAgICB0aGlzLmZvcm1zLnVubG9hZCgpO1xuICAgIHRoaXMubWVzc2FnZUJhbm5lci51bmxvYWQoKTtcbiAgICB0aGlzLm1lc3NhZ2VCYW5uZXIuZGlzbWlzc0Jhbm5lcnMoKTtcbiAgfVxuXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuJGVsLm9uKCdrZXlkb3duLmNhcnQtcGFnZScsICdbZGF0YS1jYXJ0aXRlbS1xdWFudGl0eV0nLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuX3F1YW50aXR5S2V5RG93bihldmVudCk7XG4gICAgfSk7XG5cbiAgICAvKlxuICAgICAqIFRoZXJlIGFyZSB0d28gW2RhdGEtY2FydGl0ZW0tcXVhbnRpdHldIHNlbGVjdG9ycy5cbiAgICAgKiBVc2UgdGhlIGlucHV0IGFzIHRoZSBzb3VyY2Ugb2YgdHJ1dGggcmF0aGVyIHRoYW4gdGhlIHNlbGVjdFxuICAgICAqIGJlY2F1c2UgdGhlIGlucHV0IGhhcyBhbiBpbmZpbml0ZSB2YWx1ZSByYW5nZSB3aGVyZWFzIHRoZSBzZWxlY3RcbiAgICAgKiBoYXMgYSBmaW5pdGUgcmFuZ2UuXG4gICAgICovXG4gICAgdGhpcy4kZWwub24oJ2NoYW5nZS5jYXJ0LXBhZ2UnLCAnW2RhdGEtY2FydGl0ZW0tcXVhbnRpdHldW2RhdGEtcXVhbnRpdHktaW5wdXRdJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9lZGl0SXRlbVF1YW50aXR5KGV2ZW50KTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGVsLm9uKCdjbGljay5jYXJ0LXBhZ2UnLCAnW2RhdGEtY2FydGl0ZW0tcmVtb3ZlXScsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2VkaXRJdGVtUXVhbnRpdHkoZXZlbnQsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kd2luZG93Lm9uKCdyZXNpemUuY2FydC1wYWdlJywgZGVib3VuY2UoKCkgPT4gdGhpcy5fbW92ZVRpdGxlVG90YWwoKSwgMjApKTtcbiAgfVxuXG4gIF9tb3ZlVGl0bGVUb3RhbCgpIHtcbiAgICBpZiAoIXRoaXMuJHRpdGxlVG90YWxDb250ZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4kd2luZG93Lm91dGVyV2lkdGgoKSA+PSA0ODApIHtcbiAgICAgIGlmICghJC5jb250YWlucyh0aGlzLiR0aXRsZVRvdGFsTGFyZ2VbMF0sIHRoaXMuJHRpdGxlVG90YWxDb250ZW50c1swXSkpIHtcbiAgICAgICAgY29uc3QgJGZvcm0gPSB0aGlzLiR0aXRsZVRvdGFsQ29udGVudHMuZGV0YWNoKCk7XG4gICAgICAgIHRoaXMuJHRpdGxlVG90YWxMYXJnZS5hcHBlbmQoJGZvcm0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISQuY29udGFpbnModGhpcy4kdGl0bGVUb3RhbFNtYWxsWzBdLCB0aGlzLiR0aXRsZVRvdGFsQ29udGVudHNbMF0pKSB7XG4gICAgICAgIGNvbnN0ICRmb3JtID0gdGhpcy4kdGl0bGVUb3RhbENvbnRlbnRzLmRldGFjaCgpO1xuICAgICAgICB0aGlzLiR0aXRsZVRvdGFsU21hbGwuYXBwZW5kKCRmb3JtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJldmVudCBmb3JtIHN1Ym1pc3Npb24gd2hlbiBwcmVzc2luZyBgZW50ZXJgIHdpdGhpbiBhIHF1YW50aXR5IHNlbGVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3F1YW50aXR5S2V5RG93bihldmVudCkge1xuICAgIC8vIE9ubHkgYmxvY2sgZW50ZXIga2V5c1xuICAgIGlmIChldmVudC5rZXlDb2RlICE9PSAxMykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJsb2NrIGZvcm0gc3VibWlzc2lvbiwgYnV0IHVwZGF0ZSBmaWVsZFxuICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhbiBpdGVtIHF1YW50aXR5IGNoYW5nZVxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHBhcmFtIHtCb29sZWFufSByZW1vdmUgLSBTZXQgYXMgdHJ1ZSB0byByZW1vdmUgY2FydCBpdGVtXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZWRpdEl0ZW1RdWFudGl0eShldmVudCwgcmVtb3ZlID0gZmFsc2UpIHtcbiAgICB0aGlzLm1lc3NhZ2VCYW5uZXIuZGlzbWlzc0Jhbm5lcnMoKTtcblxuICAgIGNvbnN0ICR0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0ICRjYXJ0SXRlbSA9ICR0YXJnZXQuY2xvc2VzdCgnW2RhdGEtY2FydGl0ZW0taWRdJyk7XG5cbiAgICBsZXQgcXVhbnRpdHkgPSByZW1vdmUgPyAwIDogcGFyc2VJbnQoJHRhcmdldC52YWwoKSwgMTApO1xuICAgIHF1YW50aXR5ID0gTWF0aC5tYXgocXVhbnRpdHksIDApO1xuXG4gICAgdGhpcy5fdXBkYXRlQ2FydCgkY2FydEl0ZW0sIHF1YW50aXR5KTtcblxuICAgIC8vIFJlbW92ZSBpdGVtIGZyb20gY2FydCB2aXN1YWxseSBpZiBpdCBpcyBiZWluZyByZW1vdmVkXG4gICAgaWYgKHF1YW50aXR5ID09PSAwIHx8IHJlbW92ZSkge1xuICAgICAgJGNhcnRJdGVtLmhlaWdodCgkY2FydEl0ZW0uaGVpZ2h0KCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY2FydCB3aXRoIGEgdmFsaWQgcXVhbnRpdHlcbiAgICpcbiAgICogQHBhcmFtICRjYXJ0SXRlbVxuICAgKiBAcGFyYW0gcXVhbnRpdHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVDYXJ0KCRjYXJ0SXRlbSwgcXVhbnRpdHkpIHtcbiAgICBjb25zdCBpZCA9ICRjYXJ0SXRlbS5kYXRhKCdjYXJ0aXRlbS1pZCcpO1xuXG4gICAgLy8gTm90aWZ5IFNob3BpZnkgdXBkYXRlZCBpdGVtXG4gICAgU2hvcGlmeS5jaGFuZ2VJdGVtKGlkLCBxdWFudGl0eSwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLl9kaWRVcGRhdGUoaWQsIHF1YW50aXR5LCByZXNwb25zZSwgJGNhcnRJdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9xdWFudGl0eUVycm9yKGxpbWl0LCB0aXRsZSkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuc2V0dGluZ3Muc3RvY2tfbGltaXRcbiAgICAgIC5yZXBsYWNlKCcqKiBxdWFudGl0eSAqKicsIGxpbWl0KVxuICAgICAgLnJlcGxhY2UoJyoqIHRpdGxlICoqJywgdGl0bGUpO1xuXG4gICAgdGhpcy5tZXNzYWdlQmFubmVyLm1lc3NhZ2UoZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY2FydCBjb250ZW50IGJhc2VkIG9uIGluZm9ybWF0aW9uIGZyb20gU2hvcGlmeVxuICAgKlxuICAgKiBAcGFyYW0gaWRcbiAgICogQHBhcmFtIHF1YW50aXR5XG4gICAqIEBwYXJhbSByZXNwb25zZVxuICAgKiBAcGFyYW0gJGNhcnRJdGVtXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RpZFVwZGF0ZShpZCwgcXVhbnRpdHksIHJlc3BvbnNlLCAkY2FydEl0ZW0pIHtcbiAgICAvLyBSZWxvYWQgcGFnZSBpZiBhbGwgaXRlbXMgYXJlIHJlbW92ZWQgZnJvbSBjYXJ0XG4gICAgaWYgKCFyZXNwb25zZS5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5UaGVtZS5yb3V0ZXMuY2FydF91cmw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2luZG93LmFwaS50aGVtZS50cmlnZ2VyRXZlbnQoJ2NhcnQ6dXBkYXRlZCcsIHsgY2FuY2VsOiAoKSA9PiB7fSB9KTtcblxuICAgIHRoaXMuY2FydCA9IHJlc3BvbnNlO1xuXG4gICAgdGhpcy4kaGVhZGVyLnRyaWdnZXIoJ2NhcnRjb3VudDp1cGRhdGUnLCB7IHJlc3BvbnNlIH0pO1xuXG4gICAgLy8gVXBkYXRlIGFsbCB0b3RhbHMgb24gdGhlIHBhZ2Ugd2hlbiB0aGUgY2FydCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgd2luZG93LmFwaS50aGVtZS51cGRhdGVWYWx1ZSgnY2FydDp0b3RhbCcsIHsgcHJpY2U6IHRoaXMuY2FydC50b3RhbF9wcmljZSwgY29tcGFyZV9hdF9wcmljZTogdGhpcy5jYXJ0LnRvdGFsX3ByaWNlIH0pO1xuICAgIHdpbmRvdy5hcGkudGhlbWUudXBkYXRlVmFsdWUoJ2NhcnQ6Y2hlY2tvdXQnLCB0cnVlKTtcbiAgICB3aW5kb3cuYXBpLnRoZW1lLnVwZGF0ZUVsZW1lbnQoJ2NhcnQ6bm90aWZpY2F0aW9ucycpO1xuICAgIHdpbmRvdy5hcGkudGhlbWUudXBkYXRlRWxlbWVudCgnY2FydDp0b29scycpO1xuXG4gICAgLy8gU2VsZWN0IGl0ZW0gZnJvbSByZXNwb25zZVxuICAgIGNvbnN0IGZpbHRlcmVkSXRlbXMgPSByZXNwb25zZS5pdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkID09PSBpZCk7XG5cbiAgICBpZiAoIWZpbHRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAkY2FydEl0ZW0uYWRkQ2xhc3MoJ3JlbW92aW5nJylcbiAgICAgICAgLm9uZSgndHJlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgJGNhcnRJdGVtXG4gICAgICAgICAgICAub2ZmKCd0cmVuZCcpXG4gICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvdy5hcGkudGhlbWUudXBkYXRlVmFsdWUoXG4gICAgICBgbGluZS1pdGVtOiR7aWR9OnByaWNlYCxcbiAgICAgIHtcbiAgICAgICAgcHJpY2U6IHRoaXMuY2FydC5pdGVtcy5maWx0ZXIobGluZUl0ZW0gPT4gbGluZUl0ZW0uaWQgPT09IGlkKVswXS5saW5lX3ByaWNlLFxuICAgICAgICBjb21wYXJlX2F0X3ByaWNlOiB0aGlzLmNhcnQuaXRlbXMuZmlsdGVyKGxpbmVJdGVtID0+IGxpbmVJdGVtLmlkID09PSBpZClbMF0ub3JpZ2luYWxfbGluZV9wcmljZSxcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIGNvbnN0IGNhcnRJdGVtID0gZmlsdGVyZWRJdGVtc1swXTtcblxuICAgIGlmIChjYXJ0SXRlbS5xdWFudGl0eSAhPT0gcXVhbnRpdHkpIHtcbiAgICAgIHRoaXMuX3F1YW50aXR5RXJyb3IoY2FydEl0ZW0ucXVhbnRpdHksIGNhcnRJdGVtLnRpdGxlKTtcbiAgICAgICRjYXJ0SXRlbS5maW5kKCdbZGF0YS1xdWFudGl0eS1pbnB1dF0nKS52YWwoY2FydEl0ZW0ucXVhbnRpdHkpO1xuICAgICAgJGNhcnRJdGVtLmZpbmQoJ1tkYXRhLXF1YW50aXR5LXNlbGVjdF0nKS52YWwoY2FydEl0ZW0ucXVhbnRpdHkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgRXJyb3JzIHJldHVybmVkIGZyb20gU2hvcGlmeVxuICAgKlxuICAgKiBAcGFyYW0gZXJyb3JzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlRXJyb3JzKGVycm9ycyA9IG51bGwpIHtcbiAgICBpZiAoIWVycm9ycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNoaXBwaW5nUmVzcG9uc2UgPSB7XG4gICAgICBtZXNzYWdlOiB0aGlzLnNoaXBwaW5nLmVycm9yX2dlbmVyYWwsXG4gICAgfTtcblxuICAgIGlmIChlcnJvcnMuemlwICYmIGVycm9ycy56aXAubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKGVycm9ycy56aXBbMF0uaW5kZXhPZignaXMgbm90IHZhbGlkJykgIT09IC0xIHx8IGVycm9ycy56aXBbMF0uaW5kZXhPZignY2FuXFwndCBiZSBibGFuaycpICE9PSAtMSkge1xuICAgICAgICBzaGlwcGluZ1Jlc3BvbnNlLm1lc3NhZ2UgPSBgJHt0aGlzLnNoaXBwaW5nLnppcH0gJHtlcnJvcnMuemlwfWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5lcnJvciAmJiBlcnJvcnMuZXJyb3IubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKGVycm9ycy5lcnJvclswXS5pbmRleE9mKCdzaGlwbWVudF90b29faGVhdnknKSAhPT0gLTEpIHtcbiAgICAgICAgc2hpcHBpbmdSZXNwb25zZS5tZXNzYWdlID0gdGhpcy5zaGlwcGluZy5zaGlwbWVudF90b29faGVhdnk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faGFuZGxlU2hpcHBpbmdSZXNwb25zZShzaGlwcGluZ1Jlc3BvbnNlKTtcbiAgfVxuXG4gIF9pbml0U2hpcHBpbmdDYWxjKCkge1xuICAgIHRoaXMuX2JpbmRTaGlwcGluZ0NhbGNFdmVudHMoKTtcblxuICAgIGNvbnN0IGNvdW50cnlTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkcmVzc19jb3VudHJ5Jyk7XG4gICAgY29uc3QgcHJvdmluY2VTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkcmVzc19wcm92aW5jZScpO1xuICAgIGNvbnN0IHByb3ZpbmNlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZHJlc3NfcHJvdmluY2VfY29udGFpbmVyJyk7XG5cbiAgICB0aGlzLnNoaXBwaW5nQ291bnRyeVByb3ZpbmNlU2VsZWN0b3IgPSBuZXcgQ291bnRyeVByb3ZpbmNlU2VsZWN0b3IoY291bnRyeVNlbGVjdC5pbm5lckhUTUwpO1xuXG4gICAgdGhpcy5zaGlwcGluZ0NvdW50cnlQcm92aW5jZVNlbGVjdG9yXG4gICAgICAuYnVpbGQoXG4gICAgICAgIGNvdW50cnlTZWxlY3QsXG4gICAgICAgIHByb3ZpbmNlU2VsZWN0LFxuICAgICAgICB7XG4gICAgICAgICAgb25Db3VudHJ5Q2hhbmdlOiAocHJvdmluY2VzKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvdmluY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBwcm92aW5jZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb3ZpbmNlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFwiUHJvdmluY2VcIiwgXCJTdGF0ZVwiLCBcIlJlZ2lvblwiLCBldGMuIGFuZCBcIlBvc3RhbCBDb2RlXCIsIFwiWklQIENvZGVcIiwgZXRjLlxuICAgICAgICAgICAgLy8gRXZlbiBjb3VudHJpZXMgd2l0aG91dCBwcm92aW5jZXMgaW5jbHVkZSBhIGxhYmVsLlxuICAgICAgICAgICAgY29uc3QgeyBsYWJlbCwgemlwX2xhYmVsIH0gPSB3aW5kb3cuQ291bnRyaWVzW2NvdW50cnlTZWxlY3QudmFsdWVdO1xuICAgICAgICAgICAgcHJvdmluY2VDb250YWluZXIucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPVwiYWRkcmVzc19wcm92aW5jZVwiXScpLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcjYWRkcmVzc196aXAgfiBsYWJlbFtmb3I9XCJhZGRyZXNzX3ppcFwiXScpLmlubmVySFRNTCA9IHppcF9sYWJlbDtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgfVxuXG4gIF9iaW5kU2hpcHBpbmdDYWxjRXZlbnRzKCkge1xuICAgIHRoaXMuJGVsLm9uKCdjbGljay5jYXJ0LXBhZ2UnLCAnW2RhdGEtY2FydHNoaXBwaW5nLXRvZ2dsZV0nLCAoKSA9PiB7XG4gICAgICB0aGlzLl90b2dnbGVTaGlwcGluZ0NhbGMoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGVsLm9uKCdjbGljay5jYXJ0LXBhZ2UnLCAnW2RhdGEtY2FydHNoaXBwaW5nLXN1Ym1pdF0nLCAoKSA9PiB7XG4gICAgICB0aGlzLl9nZXRTaGlwcGluZ1JhdGVzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRlbC5vbigna2V5cHJlc3MuY2FydC1wYWdlJywgJyNhZGRyZXNzX3ppcCcsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEwIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuJHNoaXBwaW5nU3VibWl0LnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlU2hpcHBpbmdDYWxjKCkge1xuICAgIGNvbnN0IG9sZFRleHQgPSB0aGlzLiRzaGlwcGluZ1RvZ2dsZS50ZXh0KCk7XG4gICAgY29uc3QgbmV3VGV4dCA9IHRoaXMuJHNoaXBwaW5nVG9nZ2xlLmRhdGEoJ2NhcnRzaGlwcGluZy10b2dnbGUnKTtcblxuICAgIHRoaXMuJHNoaXBwaW5nVG9nZ2xlXG4gICAgICAudGV4dChuZXdUZXh0KVxuICAgICAgLmRhdGEoJ2NhcnRzaGlwcGluZy10b2dnbGUnLCBvbGRUZXh0KTtcblxuICAgIHRoaXMuJHNoaXBwaW5nLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XG4gIH1cblxuICBfZ2V0U2hpcHBpbmdSYXRlcygpIHtcbiAgICB0aGlzLl9kaXNhYmxlU2hpcHBpbmdCdXR0b24oKTtcblxuICAgIGNvbnN0IHNoaXBwaW5nQWRkcmVzcyA9IHt9O1xuICAgIHNoaXBwaW5nQWRkcmVzcy5jb3VudHJ5ID0gJCgnI2FkZHJlc3NfY291bnRyeScpLnZhbCgpIHx8ICcnO1xuICAgIHNoaXBwaW5nQWRkcmVzcy5wcm92aW5jZSA9ICQoJyNhZGRyZXNzX3Byb3ZpbmNlJykudmFsKCkgfHwgJyc7XG4gICAgc2hpcHBpbmdBZGRyZXNzLnppcCA9ICQoJyNhZGRyZXNzX3ppcCcpLnZhbCgpIHx8ICcnO1xuXG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSBPYmplY3Qua2V5cyhzaGlwcGluZ0FkZHJlc3MpXG4gICAgICAubWFwKGtleSA9PiBgJHtlbmNvZGVVUklDb21wb25lbnQoYHNoaXBwaW5nX2FkZHJlc3NbJHtrZXl9XWApfT0ke2VuY29kZVVSSUNvbXBvbmVudChzaGlwcGluZ0FkZHJlc3Nba2V5XSl9YClcbiAgICAgIC5qb2luKCcmJyk7XG5cbiAgICAkLmFqYXgoYCR7d2luZG93LlRoZW1lLnJvdXRlcy5jYXJ0X3VybH0vc2hpcHBpbmdfcmF0ZXMuanNvbj8ke3F1ZXJ5U3RyaW5nfWAsIHsgZGF0YVR5cGU6ICdqc29uJyB9KVxuICAgICAgLmZhaWwoZXJyb3IgPT4gdGhpcy5faGFuZGxlRXJyb3JzKGVycm9yLnJlc3BvbnNlSlNPTiB8fCB7fSkpXG4gICAgICAuZG9uZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmF0ZXMgPSByZXNwb25zZS5zaGlwcGluZ19yYXRlcztcbiAgICAgICAgY29uc3QgYWRkcmVzc0Jhc2UgPSBbXTtcblxuICAgICAgICBpZiAoc2hpcHBpbmdBZGRyZXNzLnppcC5sZW5ndGgpIHtcbiAgICAgICAgICBhZGRyZXNzQmFzZS5wdXNoKHNoaXBwaW5nQWRkcmVzcy56aXAudHJpbSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaGlwcGluZ0FkZHJlc3MucHJvdmluY2UubGVuZ3RoKSB7XG4gICAgICAgICAgYWRkcmVzc0Jhc2UucHVzaChzaGlwcGluZ0FkZHJlc3MucHJvdmluY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoaXBwaW5nQWRkcmVzcy5jb3VudHJ5Lmxlbmd0aCkge1xuICAgICAgICAgIGFkZHJlc3NCYXNlLnB1c2goc2hpcHBpbmdBZGRyZXNzLmNvdW50cnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IGFkZHJlc3NCYXNlLmpvaW4oJywgJyk7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgICAgICAgaWYgKHJhdGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdFJhdGUgPSB3aW5kb3cuU2hvcGlmeS5mb3JtYXRNb25leShyYXRlc1swXS5wcmljZSwgdGhpcy5zZXR0aW5ncy5tb25leV9mb3JtYXQpO1xuICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLnNoaXBwaW5nLm11bHRpcGxlX3JhdGVzXG4gICAgICAgICAgICAucmVwbGFjZSgnKmFkZHJlc3MqJywgYWRkcmVzcylcbiAgICAgICAgICAgIC5yZXBsYWNlKCcqbnVtYmVyX29mX3JhdGVzKicsIHJhdGVzLmxlbmd0aClcbiAgICAgICAgICAgIC5yZXBsYWNlKCcqcmF0ZSonLCBgPHNwYW4gY2xhc3M9XCJtb25leVwiPiR7Zmlyc3RSYXRlfTwvc3Bhbj5gKTtcbiAgICAgICAgfSBlbHNlIGlmIChyYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBtZXNzYWdlID0gdGhpcy5zaGlwcGluZy5vbmVfcmF0ZS5yZXBsYWNlKCcqYWRkcmVzcyonLCBhZGRyZXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZXNzYWdlID0gdGhpcy5zaGlwcGluZy5ub19yYXRlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJhdGVzTGlzdCA9IHJhdGVzLm1hcCgocmF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHByaWNlID0gd2luZG93LlNob3BpZnkuZm9ybWF0TW9uZXkocmF0ZS5wcmljZSwgdGhpcy5zZXR0aW5ncy5tb25leV9mb3JtYXQpO1xuICAgICAgICAgIGNvbnN0IHJhdGVWYWx1ZSA9IHRoaXMuc2hpcHBpbmcucmF0ZV92YWx1ZVxuICAgICAgICAgICAgLnJlcGxhY2UoJypyYXRlX3RpdGxlKicsIHJhdGUubmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCcqcmF0ZSonLCBgPHNwYW4gY2xhc3M9XCJtb25leVwiPiR7cHJpY2V9PC9zcGFuPmApO1xuXG4gICAgICAgICAgcmV0dXJuIGA8bGk+JHtyYXRlVmFsdWV9PC9saT5gO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9oYW5kbGVTaGlwcGluZ1Jlc3BvbnNlKHtcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIHJhdGVzOiByYXRlc0xpc3QsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBfZW5hYmxlU2hpcHBpbmdCdXR0b24oKSB7XG4gICAgdGhpcy4kc2hpcHBpbmdTdWJtaXRcbiAgICAgIC50ZXh0KHRoaXMuc2hpcHBpbmcuY2FsY3VsYXRlX3NoaXBwaW5nKVxuICAgICAgLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICB9XG5cbiAgX2Rpc2FibGVTaGlwcGluZ0J1dHRvbigpIHtcbiAgICB0aGlzLiRzaGlwcGluZ1N1Ym1pdFxuICAgICAgLnRleHQodGhpcy5zaGlwcGluZy5jYWxjdWxhdGluZylcbiAgICAgIC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpO1xuICB9XG5cbiAgX3Nob3dTaGlwcGluZ1Jlc3BvbnNlKCkge1xuICAgIHRoaXMuJHNoaXBwaW5nUmVzcG9uc2UuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgfVxuXG4gIF9oaWRlU2hpcHBpbmdSZXNwb25zZSgpIHtcbiAgICB0aGlzLiRzaGlwcGluZ1Jlc3BvbnNlLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHNoaXBwaW5nIHJlc3BvbnNlc1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gc2hpcHBpbmdSZXNwb25zZVxuICAgKiBAcHJvcGVydHkge1N0cmluZ30gc2hpcHBpbmdSZXNwb25zZS5tZXNzYWdlcyAtIEVycm9yIC8gU3VjY2VzcyBtZXNzYWdlXG4gICAqIEBwcm9wZXJ0eSB7QXJyYXl8U3RyaW5nfSBzaGlwcGluZ1Jlc3BvbnNlLnJhdGVzIC0gU2hpcHBpbmcgcmF0ZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVTaGlwcGluZ1Jlc3BvbnNlKHNoaXBwaW5nUmVzcG9uc2UgPSB7fSkge1xuICAgIC8vIEhpZGUgdGhlIHJlc3BvbnNlIHNvIHRoYXQgaXQgY2FuIGJlIHBvcHVsYXRlZCBzbW9vdGhseVxuICAgIHRoaXMuX2hpZGVTaGlwcGluZ1Jlc3BvbnNlKCk7XG5cbiAgICBjb25zdCBtZXNzYWdlID0gc2hpcHBpbmdSZXNwb25zZS5tZXNzYWdlIHx8IG51bGw7XG4gICAgY29uc3QgcmF0ZXMgPSBzaGlwcGluZ1Jlc3BvbnNlLnJhdGVzIHx8IG51bGw7XG5cbiAgICAvLyBFbXB0eSBvdXQgY29udGVudHNcbiAgICB0aGlzLiRzaGlwcGluZ1Jlc3BvbnNlTWVzc2FnZS5lbXB0eSgpO1xuICAgIHRoaXMuJHNoaXBwaW5nUmVzcG9uc2VSYXRlcy5lbXB0eSgpO1xuXG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuJHNoaXBwaW5nUmVzcG9uc2VNZXNzYWdlXG4gICAgICAgIC5odG1sKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGlmIChyYXRlcykge1xuICAgICAgdGhpcy4kc2hpcHBpbmdSZXNwb25zZVJhdGVzXG4gICAgICAgIC5odG1sKHJhdGVzKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCB0aGUgY2FsY3VsYXRpbmcgYnV0dG9uIHNvIGl0IGNhbiBiZSB1c2VkIGFnYWluXG4gICAgdGhpcy5fZW5hYmxlU2hpcHBpbmdCdXR0b24oKTtcblxuICAgIC8vIE5vIGVycm9yIHByb3ZpZGVkXG4gICAgaWYgKCFtZXNzYWdlICYmICFyYXRlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNob3cgdGhlIHJlc3BvbnNlXG4gICAgdGhpcy5fc2hvd1NoaXBwaW5nUmVzcG9uc2UoKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticCart.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticCollection.js":
/*!*****************************************************!*\
  !*** ./source/scripts/sections/StaticCollection.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticCollection; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var shopify_asyncview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shopify-asyncview */ \"./node_modules/shopify-asyncview/dist/index.es.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! intersection-observer */ \"./node_modules/intersection-observer/intersection-observer.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/ProductReviews */ \"./source/scripts/helpers/ProductReviews.js\");\n/* harmony import */ var _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ProductGridItem */ \"./source/scripts/components/ProductGridItem.js\");\n/* harmony import */ var _components_Modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Modal */ \"./source/scripts/components/Modal.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\nfunction decodeUrlQueryParams(url) {\n  var queryParamsString = new RegExp(/.*\\?([^#]+)/).exec(url);\n  var queryParams = {};\n\n  if (queryParamsString && queryParamsString.length >= 2) {\n    queryParamsString[1].split('&').forEach(function (param) {\n      var _param$split = param.split('='),\n          _param$split2 = _slicedToArray(_param$split, 2),\n          key = _param$split2[0],\n          value = _param$split2[1];\n\n      queryParams[decodeURIComponent(key)] = decodeURIComponent(value);\n    });\n  }\n\n  return queryParams;\n}\n\nfunction sanitizeQueryParams(params) {\n  var sanitizedParams = params;\n\n  if (_typeof(sanitizedParams) !== 'object') {\n    throw new Error('params is not of type Object');\n  }\n\n  if ('page' in sanitizedParams && sanitizedParams.page === 1) {\n    delete sanitizedParams.page;\n  }\n\n  if ('view' in sanitizedParams) {\n    if (sanitizedParams.view.indexOf('_ajax-collection-') !== -1) {\n      sanitizedParams.view = sanitizedParams.view.replace('_ajax-collection-', '');\n    }\n\n    if (sanitizedParams.view === '_ajax-collection') {\n      delete sanitizedParams.view;\n    }\n  }\n\n  return sanitizedParams;\n}\n\nvar StaticCollection = /*#__PURE__*/function () {\n  function StaticCollection(section) {\n    _classCallCheck(this, StaticCollection);\n\n    this.id = section.id;\n    this.el = section.el;\n    this.context = section.data.context;\n    this.events = [];\n    this.processing = false;\n    this.queryParams = _objectSpread({}, decodeUrlQueryParams(window.location.search));\n    this.view = this.queryParams.grid_list;\n    this.filtersContent = '[data-productgrid-filters-content]';\n    this.sortContent = '[data-productgrid-sort-content]';\n    this.$sortTrigger = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-productgrid-trigger-sort]', this.el);\n    this.$showbyTrigger = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-show-by]', this.el);\n    this.$sortTriggerButton = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-productgrid-trigger-sort-button]', this.el);\n    this.$sortTriggerModal = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-productgrid-modal-sort]', this.el);\n    this.$filtersTrigger = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-productgrid-trigger-filters]', this.el);\n    this.$additionalTags = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-filter-toggle]', this.el);\n    this.$allTags = jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(this.filtersContent, \" .filter-item a:not([data-filter-toggle])\"), this.el);\n    this.$viewToggle = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-collection-view]', this.el);\n    this.$gridContainer = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.productgrid--outer', this.el);\n    this.$gridTagLinks = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.filter-item--grid a, .filter-item--grid-simple a', this.el);\n    this.$paginationLinks = jquery__WEBPACK_IMPORTED_MODULE_0___default()('a.pagination--item', this.el);\n    this.sidebarContainer = this.el.querySelector('.productgrid--sidebar');\n    this.responseContainer = this.el.querySelector('.results--container');\n    this.clickToLoadTrigger = this.el.querySelector('[data-click-to-load]');\n    this.clickToLoad = this.el.querySelector('.click-to-load');\n    this.infiniteScrollTrigger = this.el.querySelector('[data-infinite-scroll]');\n    this.infiniteScroll = this.el.querySelector('.infinite-scroll');\n    this.productGrid = this.responseContainer.querySelector('.productgrid--items');\n    this.paginationContainer = this.responseContainer.querySelector('.pagination--container:not(.visually-hidden)');\n    this._changeSortingButton = this._changeSortingButton.bind(this);\n    this._activateTag = this._activateTag.bind(this);\n    this._toggleTags = this._toggleTags.bind(this);\n    this._toggleView = this._toggleView.bind(this); // Ajax Search functions\n\n    this._ajaxFilter = this._ajaxFilter.bind(this);\n    this.modal = new _components_Modal__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\n    if (window.history.scrollRestoration && (this.infiniteScroll || this.clickToLoad)) {\n      window.history.scrollRestoration = 'manual';\n    }\n\n    this._updateView(this.view);\n\n    if (this.productGrid) {\n      this._initProductItems(this.productGrid.querySelectorAll('[data-product-item]'));\n    }\n\n    this._bindEvents();\n  }\n\n  _createClass(StaticCollection, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.events.forEach(function ($el) {\n        return $el.off('.collection');\n      });\n      this.modal.unload();\n      this.recentlyViewed.unload();\n      this.productItems.forEach(function (productItem) {\n        productItem.unload();\n      });\n    }\n  }, {\n    key: \"_initProductItems\",\n    value: function _initProductItems(productEls) {\n      this.productItems = [];\n\n      for (var i = 0; i < productEls.length; i++) {\n        var productItem = productEls[i];\n        this.productItems.push(new _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n          $el: jquery__WEBPACK_IMPORTED_MODULE_0___default()(productItem),\n          id: this.id,\n          product: JSON.parse(productItem.querySelector('[data-product-data]').innerHTML),\n          queryParams: this.queryParams,\n          lazy: true\n        }));\n      }\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_0___default()('.spr-badge', this.el)) {\n        Object(_helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n      }\n    }\n    /**\n     * Style a tag as active after click, before page transition\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_activateTag\",\n    value: function _activateTag(event) {\n      if (this.processing) {\n        event.preventDefault();\n        return;\n      }\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.target).closest('.filter-item').toggleClass('filter-item--active').toggleClass('filter-item--inactive');\n\n      this._ajaxFilter(event);\n    }\n    /**\n     * Expand / Collapse additional tags in the sidebar\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_toggleTags\",\n    value: function _toggleTags(event) {\n      event.preventDefault();\n\n      if (this.processing) {\n        return;\n      }\n\n      var $trigger = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget);\n      var $items = $trigger.parent().siblings('[data-hidden-default]');\n      var siblingsVisible = $trigger.data('filter-toggle');\n      $items.toggleClass('filter-item--hidden', siblingsVisible);\n      $trigger.data('filter-toggle', !siblingsVisible).text(!siblingsVisible ? this.context.see_less : this.context.see_more);\n\n      if (this.modal.isOpen()) {\n        this.modal.position();\n      }\n    }\n    /**\n     * Sort by opens a modal on mobile, this handles button events\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_changeSortingButton\",\n    value: function _changeSortingButton(event) {\n      if (this.processing) {\n        return;\n      }\n\n      var activeClass = 'utils-sortby--modal-button--active';\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget).addClass(activeClass).parent().siblings().find(\".\".concat(activeClass)).removeClass(activeClass);\n\n      this._ajaxFilter(event);\n    }\n    /**\n     * Toggle grid or list view\n     *\n     */\n\n  }, {\n    key: \"_toggleView\",\n    value: function _toggleView(event) {\n      var _this = this;\n\n      var view = event.currentTarget.getAttribute('data-collection-view');\n      this.queryParams.grid_list = view;\n      this.view = view;\n\n      this._updateView(this.queryParams.grid_list);\n\n      this._updateHistory(window.location.pathname);\n\n      if (this.productItems.length) {\n        this.productItems.forEach(function (productItem) {\n          return productItem.handleViewChange(_this.queryParams.grid_list);\n        });\n      }\n    }\n  }, {\n    key: \"_updateView\",\n    value: function _updateView() {\n      var view = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'grid-view';\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('.utils-viewtoggle-button', this.el).removeClass('active');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"[data-collection-view=\".concat(view, \"]\")).addClass('active');\n      var className = view.replace('-', '');\n\n      if (className === 'listview') {\n        this.$gridContainer.removeClass('productgrid-gridview');\n      } else {\n        this.$gridContainer.removeClass('productgrid-listview');\n      }\n\n      this.$gridContainer.addClass(\"productgrid-\".concat(className));\n    }\n    /* AJAX search functions */\n\n  }, {\n    key: \"_setProcessing\",\n    value: function _setProcessing() {\n      var processing = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'filter';\n      this.processing = processing;\n\n      if (processing) {\n        if (type === 'filter') {\n          var y = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).scrollTop();\n\n          if (y >= 310) {\n            jquery__WEBPACK_IMPORTED_MODULE_0___default()('html, body').animate({\n              scrollTop: y - 300\n            }, 150).animate({\n              scrollTop: 10\n            }, 0).animate({\n              scrollTop: 0\n            }, 150);\n          } else {\n            jquery__WEBPACK_IMPORTED_MODULE_0___default()('html, body').animate({\n              scrollTop: 0\n            }, 150);\n          }\n        }\n\n        if (this.sidebarContainer) {\n          this.sidebarContainer.classList.add(\"processing--\".concat(type));\n        }\n\n        this.responseContainer.classList.add(\"processing--\".concat(type));\n      } else {\n        if (this.sidebarContainer) {\n          this.sidebarContainer.classList.add(\"processing--\".concat(type));\n        }\n\n        this.responseContainer.classList.remove(\"processing--\".concat(type));\n      }\n    }\n    /**\n     * Retrieve the template containing filtered product items and tags via AJAX\n     */\n\n  }, {\n    key: \"_ajaxFilter\",\n    value: function _ajaxFilter(event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (this.processing === true) {\n        return;\n      }\n\n      var target = event.currentTarget;\n      var fetchUrl = window.location.pathname;\n      this.queryParams.page = 1;\n\n      if (target.hasAttribute('data-show-by')) {\n        // 'Show by' - number of products per page\n        this.queryParams.view = target.getAttribute('data-show-by');\n      } else if (target.hasAttribute('data-productgrid-trigger-sort') || target.hasAttribute('data-productgrid-trigger-sort-button')) {\n        // Sortby select/button\n        this.queryParams.sort_by = jquery__WEBPACK_IMPORTED_MODULE_0___default()(target).val();\n      } else if (target.hasAttribute('data-to-page')) {\n        // Pagination link\n        this.queryParams.page = target.getAttribute('data-to-page');\n      } else {\n        // Filter links\n        var href = target.getAttribute('href');\n        var queryParams = decodeUrlQueryParams(href);\n        delete this.queryParams.constraint;\n\n        if (queryParams.constraint) {\n          this.queryParams.constraint = queryParams.constraint;\n        }\n\n        fetchUrl = href.replace(/\\?[^#]+/, '');\n      }\n\n      this._ajaxFetch(fetchUrl, 'filter');\n    }\n  }, {\n    key: \"_ajaxPagination\",\n    value: function _ajaxPagination() {\n      var infiniteScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.queryParams.page = infiniteScroll ? this.infiniteScrollTrigger.getAttribute('data-to-page') : this.clickToLoadTrigger.getAttribute('data-to-page');\n\n      this._ajaxFetch(window.location.pathname, 'pagination');\n    }\n  }, {\n    key: \"_ajaxFetch\",\n    value: function _ajaxFetch(url, type) {\n      var _this2 = this;\n\n      // Trigger UI processing state\n      this._setProcessing(true, type);\n\n      this.queryParams = sanitizeQueryParams(this.queryParams);\n\n      var params = _objectSpread({}, this.queryParams);\n\n      params.view = this.queryParams.view ? \"_ajax-collection-\".concat(this.queryParams.view) : '_ajax-collection';\n      shopify_asyncview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].load(url, params).then(function (_ref) {\n        var html = _ref.html;\n\n        if (type === 'pagination') {\n          var fragment = document.createDocumentFragment();\n          var productItems = document.createElement('div');\n          productItems.innerHTML = html.productgridItems;\n\n          while (productItems.firstChild) {\n            fragment.appendChild(productItems.firstChild);\n          }\n\n          var newProductItems = fragment.querySelectorAll('[data-product-item]');\n\n          _this2.productGrid.appendChild(fragment);\n\n          _this2._initProductItems(newProductItems);\n\n          _this2.paginationContainer.innerHTML = html.pagination;\n        } else {\n          _this2.productItems.forEach(function (item) {\n            return item.unload();\n          });\n\n          _this2.responseContainer.innerHTML = html.productgrid;\n\n          _this2._initProductItems(_this2.responseContainer.querySelectorAll('[data-product-item]'));\n\n          if (_this2.sidebarContainer) {\n            _this2.sidebarContainer.innerHTML = html.sidebar;\n          }\n        }\n\n        _this2._updateView(_this2.queryParams.grid_list);\n\n        rimg_shopify__WEBPACK_IMPORTED_MODULE_1__[\"default\"].watch(_this2.responseContainer);\n\n        if (_this2.modal.isOpen()) {\n          _this2.modal.close();\n        }\n\n        _this2._updateHistory(url); // Update link bindings with new DOM elements\n\n\n        _this2._updateLinkBindings();\n\n        _this2._bindEvents(); // Once it's all updated, update the UI to show processing is complete\n\n\n        _this2._setProcessing(false, type);\n      });\n    }\n    /**\n     * Unbind AJAX events for links no longer on the page, and bind new links\n     */\n\n  }, {\n    key: \"_updateLinkBindings\",\n    value: function _updateLinkBindings() {\n      this.events.forEach(function ($el) {\n        return $el.off('.collection');\n      });\n      this.$gridTagLinks = jquery__WEBPACK_IMPORTED_MODULE_0___default()('.filter-item--grid a, .filter-item--grid-simple a', this.el);\n      this.$additionalTags = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-filter-toggle]', this.el);\n      this.$viewToggle = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-collection-view]', this.el);\n      this.$filtersTrigger = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-productgrid-trigger-filters]', this.el);\n      this.$sortTriggerModal = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-productgrid-modal-sort]', this.el);\n      this.$sortTrigger = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-productgrid-trigger-sort]', this.el);\n      this.$sortTriggerButton = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-productgrid-trigger-sort-button]', this.el);\n      this.$showbyTrigger = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-show-by]', this.el);\n      this.$paginationLinks = jquery__WEBPACK_IMPORTED_MODULE_0___default()('a.pagination--item', this.el);\n      this.$allTags = jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(this.filtersContent, \" .filter-item a:not([data-filter-toggle])\"), this.el);\n      this.clickToLoad = this.el.querySelector('.click-to-load');\n      this.clickToLoadTrigger = this.el.querySelector('[data-click-to-load]');\n      this.infiniteScrollTrigger = this.el.querySelector('[data-infinite-scroll]');\n      this.infiniteScroll = this.el.querySelector('.infinite-scroll');\n      this.productGrid = this.responseContainer.querySelector('.productgrid--items');\n      this.paginationContainer = this.responseContainer.querySelector('.pagination--container:not(.visually-hidden)');\n    }\n    /**\n     * Bind filter link click events to new ajax functionality\n     */\n\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this$events,\n          _this3 = this;\n\n      var links = this.$gridTagLinks.get().concat(this.$showbyTrigger.get());\n\n      (_this$events = this.events).push.apply(_this$events, _toConsumableArray(links.map(function (el) {\n        return jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).on('click.collection', _this3._ajaxFilter);\n      })));\n\n      this.events.push(this.$sortTrigger.on('change.collection', this._ajaxFilter), this.$viewToggle.on('click.collection', this._toggleView), this.$filtersTrigger.on('click.collection', function () {\n        return _this3.modal.open(_this3.filtersContent, 'productgrid-filters');\n      }), this.$allTags.on('click.collection', this._activateTag), this.$additionalTags.on('click.collection', this._toggleTags), this.$sortTriggerModal.on('click.collection', function () {\n        return _this3.modal.open(_this3.sortContent, 'productgrid-sort');\n      }), this.$sortTriggerButton.on('click.collection', this._changeSortingButton));\n\n      if (this.infiniteScrollTrigger) {\n        var observer = new IntersectionObserver(function (entries) {\n          entries.forEach(function (entry) {\n            if (entry.intersectionRatio > 0) {\n              _this3._ajaxPagination(true);\n            }\n          });\n        });\n        observer.observe(this.infiniteScrollTrigger);\n      } else if (this.clickToLoad) {\n        this.events.push(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.clickToLoadTrigger).on('click.collection', function () {\n          return _this3._ajaxPagination(false);\n        }));\n      } else {\n        this.events.push(this.$paginationLinks.on('click.collection', this._ajaxFilter));\n      }\n    }\n    /**\n     * Update the page URL so users can link to their particular search\n     */\n\n  }, {\n    key: \"_updateHistory\",\n    value: function _updateHistory(url) {\n      var _this4 = this;\n\n      if (window.Shopify && window.Shopify.designMode || !window.history.pushState) {\n        return;\n      }\n\n      var querylessHref = url.replace(/\\?[^#]+/, '');\n      var href = querylessHref.replace(/([^#]+)(.*)/, function (match, address, hash) {\n        return \"\".concat(address, \"?\").concat(Object.keys(_this4.queryParams).sort().map(function (key) {\n          return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(_this4.queryParams[key]));\n        }).join('&')).concat(hash);\n      });\n\n      if (window.location.href !== href) {\n        window.history.pushState({}, '', href);\n      }\n    }\n  }]);\n\n  return StaticCollection;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNDb2xsZWN0aW9uLmpzP2YzM2YiXSwibmFtZXMiOlsiZGVjb2RlVXJsUXVlcnlQYXJhbXMiLCJ1cmwiLCJxdWVyeVBhcmFtc1N0cmluZyIsIlJlZ0V4cCIsImV4ZWMiLCJxdWVyeVBhcmFtcyIsImxlbmd0aCIsInNwbGl0IiwiZm9yRWFjaCIsInBhcmFtIiwia2V5IiwidmFsdWUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzYW5pdGl6ZVF1ZXJ5UGFyYW1zIiwicGFyYW1zIiwic2FuaXRpemVkUGFyYW1zIiwiRXJyb3IiLCJwYWdlIiwidmlldyIsImluZGV4T2YiLCJyZXBsYWNlIiwiU3RhdGljQ29sbGVjdGlvbiIsInNlY3Rpb24iLCJpZCIsImVsIiwiY29udGV4dCIsImRhdGEiLCJldmVudHMiLCJwcm9jZXNzaW5nIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJncmlkX2xpc3QiLCJmaWx0ZXJzQ29udGVudCIsInNvcnRDb250ZW50IiwiJHNvcnRUcmlnZ2VyIiwiJCIsIiRzaG93YnlUcmlnZ2VyIiwiJHNvcnRUcmlnZ2VyQnV0dG9uIiwiJHNvcnRUcmlnZ2VyTW9kYWwiLCIkZmlsdGVyc1RyaWdnZXIiLCIkYWRkaXRpb25hbFRhZ3MiLCIkYWxsVGFncyIsIiR2aWV3VG9nZ2xlIiwiJGdyaWRDb250YWluZXIiLCIkZ3JpZFRhZ0xpbmtzIiwiJHBhZ2luYXRpb25MaW5rcyIsInNpZGViYXJDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwicmVzcG9uc2VDb250YWluZXIiLCJjbGlja1RvTG9hZFRyaWdnZXIiLCJjbGlja1RvTG9hZCIsImluZmluaXRlU2Nyb2xsVHJpZ2dlciIsImluZmluaXRlU2Nyb2xsIiwicHJvZHVjdEdyaWQiLCJwYWdpbmF0aW9uQ29udGFpbmVyIiwiX2NoYW5nZVNvcnRpbmdCdXR0b24iLCJiaW5kIiwiX2FjdGl2YXRlVGFnIiwiX3RvZ2dsZVRhZ3MiLCJfdG9nZ2xlVmlldyIsIl9hamF4RmlsdGVyIiwibW9kYWwiLCJNb2RhbCIsImhpc3RvcnkiLCJzY3JvbGxSZXN0b3JhdGlvbiIsIl91cGRhdGVWaWV3IiwiX2luaXRQcm9kdWN0SXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2JpbmRFdmVudHMiLCIkZWwiLCJvZmYiLCJ1bmxvYWQiLCJyZWNlbnRseVZpZXdlZCIsInByb2R1Y3RJdGVtcyIsInByb2R1Y3RJdGVtIiwicHJvZHVjdEVscyIsImkiLCJwdXNoIiwiUHJvZHVjdEdyaWRJdGVtIiwicHJvZHVjdCIsIkpTT04iLCJwYXJzZSIsImlubmVySFRNTCIsImxhenkiLCJpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsImNsb3Nlc3QiLCJ0b2dnbGVDbGFzcyIsIiR0cmlnZ2VyIiwiY3VycmVudFRhcmdldCIsIiRpdGVtcyIsInBhcmVudCIsInNpYmxpbmdzIiwic2libGluZ3NWaXNpYmxlIiwidGV4dCIsInNlZV9sZXNzIiwic2VlX21vcmUiLCJpc09wZW4iLCJwb3NpdGlvbiIsImFjdGl2ZUNsYXNzIiwiYWRkQ2xhc3MiLCJmaW5kIiwicmVtb3ZlQ2xhc3MiLCJnZXRBdHRyaWJ1dGUiLCJfdXBkYXRlSGlzdG9yeSIsInBhdGhuYW1lIiwiaGFuZGxlVmlld0NoYW5nZSIsImNsYXNzTmFtZSIsInR5cGUiLCJ5Iiwic2Nyb2xsVG9wIiwiYW5pbWF0ZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInN0b3BQcm9wYWdhdGlvbiIsImZldGNoVXJsIiwiaGFzQXR0cmlidXRlIiwic29ydF9ieSIsInZhbCIsImhyZWYiLCJjb25zdHJhaW50IiwiX2FqYXhGZXRjaCIsIl9zZXRQcm9jZXNzaW5nIiwiQXN5bmNWaWV3IiwibG9hZCIsInRoZW4iLCJodG1sIiwiZnJhZ21lbnQiLCJkb2N1bWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwicHJvZHVjdGdyaWRJdGVtcyIsImZpcnN0Q2hpbGQiLCJhcHBlbmRDaGlsZCIsIm5ld1Byb2R1Y3RJdGVtcyIsInBhZ2luYXRpb24iLCJpdGVtIiwicHJvZHVjdGdyaWQiLCJzaWRlYmFyIiwicmltZyIsIndhdGNoIiwiY2xvc2UiLCJfdXBkYXRlTGlua0JpbmRpbmdzIiwibGlua3MiLCJnZXQiLCJjb25jYXQiLCJtYXAiLCJvbiIsIm9wZW4iLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImVudHJ5IiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJfYWpheFBhZ2luYXRpb24iLCJvYnNlcnZlIiwiU2hvcGlmeSIsImRlc2lnbk1vZGUiLCJwdXNoU3RhdGUiLCJxdWVyeWxlc3NIcmVmIiwibWF0Y2giLCJhZGRyZXNzIiwiaGFzaCIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0Esb0JBQVQsQ0FBOEJDLEdBQTlCLEVBQW1DO0FBQ2pDLE1BQU1DLGlCQUFpQixHQUFHLElBQUlDLE1BQUosQ0FBVyxhQUFYLEVBQTBCQyxJQUExQixDQUErQkgsR0FBL0IsQ0FBMUI7QUFDQSxNQUFNSSxXQUFXLEdBQUcsRUFBcEI7O0FBRUEsTUFBSUgsaUJBQWlCLElBQUlBLGlCQUFpQixDQUFDSSxNQUFsQixJQUE0QixDQUFyRCxFQUF3RDtBQUN0REoscUJBQWlCLENBQUMsQ0FBRCxDQUFqQixDQUFxQkssS0FBckIsQ0FBMkIsR0FBM0IsRUFBZ0NDLE9BQWhDLENBQXdDLFVBQUFDLEtBQUssRUFBSTtBQUFBLHlCQUMxQkEsS0FBSyxDQUFDRixLQUFOLENBQVksR0FBWixDQUQwQjtBQUFBO0FBQUEsVUFDeENHLEdBRHdDO0FBQUEsVUFDbkNDLEtBRG1DOztBQUcvQ04saUJBQVcs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LENBQXRCO0FBQ0EsVUFBTXVHLElBQUksR0FBR3dDLGFBQWEsQ0FDdkIvSSxPQURVLENBRVQsYUFGUyxFQUdULFVBQUNnSixLQUFELEVBQVFDLE9BQVIsRUFBaUJDLElBQWpCO0FBQUEseUJBQTZCRCxPQUE3QixjQUF3Q0UsTUFBTSxDQUFDQyxJQUFQLENBQVksTUFBSSxDQUFDbkssV0FBakIsRUFBOEJvSyxJQUE5QixHQUFxQ25CLEdBQXJDLENBQXlDLFVBQUE1SSxHQUFHO0FBQUEsMkJBQU9nSyxrQkFBa0IsQ0FBQ2hLLEdBQUQsQ0FBekIsY0FBa0NnSyxrQkFBa0IsQ0FBQyxNQUFJLENBQUNySyxXQUFMLENBQWlCSyxHQUFqQixDQUFELENBQXBEO0FBQUEsU0FBNUMsRUFBMkhpSyxJQUEzSCxDQUFnSSxHQUFoSSxDQUF4QyxTQUErS0wsSUFBL0s7QUFBQSxPQUhTLENBQWI7O0FBTUEsVUFBSXpJLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQjZGLElBQWhCLEtBQXlCQSxJQUE3QixFQUFtQztBQUNqQzlGLGNBQU0sQ0FBQ21DLE9BQVAsQ0FBZWtHLFNBQWYsQ0FBeUIsRUFBekIsRUFBNkIsRUFBN0IsRUFBaUN2QyxJQUFqQztBQUNEO0FBQ0YiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNDb2xsZWN0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCByaW1nIGZyb20gJ3JpbWctc2hvcGlmeSc7XG5pbXBvcnQgQXN5bmNWaWV3IGZyb20gJ3Nob3BpZnktYXN5bmN2aWV3JztcbmltcG9ydCAnaW50ZXJzZWN0aW9uLW9ic2VydmVyJztcblxuaW1wb3J0IGluaXRTaG9waWZ5UHJvZHVjdFJldmlld3MgZnJvbSAnLi4vaGVscGVycy9Qcm9kdWN0UmV2aWV3cyc7XG5pbXBvcnQgUHJvZHVjdEdyaWRJdGVtIGZyb20gJy4uL2NvbXBvbmVudHMvUHJvZHVjdEdyaWRJdGVtJztcbmltcG9ydCBNb2RhbCBmcm9tICcuLi9jb21wb25lbnRzL01vZGFsJztcblxuZnVuY3Rpb24gZGVjb2RlVXJsUXVlcnlQYXJhbXModXJsKSB7XG4gIGNvbnN0IHF1ZXJ5UGFyYW1zU3RyaW5nID0gbmV3IFJlZ0V4cCgvLipcXD8oW14jXSspLykuZXhlYyh1cmwpO1xuICBjb25zdCBxdWVyeVBhcmFtcyA9IHt9O1xuXG4gIGlmIChxdWVyeVBhcmFtc1N0cmluZyAmJiBxdWVyeVBhcmFtc1N0cmluZy5sZW5ndGggPj0gMikge1xuICAgIHF1ZXJ5UGFyYW1zU3RyaW5nWzFdLnNwbGl0KCcmJykuZm9yRWFjaChwYXJhbSA9PiB7XG4gICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBwYXJhbS5zcGxpdCgnPScpO1xuXG4gICAgICBxdWVyeVBhcmFtc1tkZWNvZGVVUklDb21wb25lbnQoa2V5KV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHF1ZXJ5UGFyYW1zO1xufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZVF1ZXJ5UGFyYW1zKHBhcmFtcykge1xuICBjb25zdCBzYW5pdGl6ZWRQYXJhbXMgPSBwYXJhbXM7XG5cbiAgaWYgKHR5cGVvZiBzYW5pdGl6ZWRQYXJhbXMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYXJhbXMgaXMgbm90IG9mIHR5cGUgT2JqZWN0Jyk7XG4gIH1cblxuICBpZiAoJ3BhZ2UnIGluIHNhbml0aXplZFBhcmFtcyAmJiBzYW5pdGl6ZWRQYXJhbXMucGFnZSA9PT0gMSkge1xuICAgIGRlbGV0ZSBzYW5pdGl6ZWRQYXJhbXMucGFnZTtcbiAgfVxuXG4gIGlmICgndmlldycgaW4gc2FuaXRpemVkUGFyYW1zKSB7XG4gICAgaWYgKHNhbml0aXplZFBhcmFtcy52aWV3LmluZGV4T2YoJ19hamF4LWNvbGxlY3Rpb24tJykgIT09IC0xKSB7XG4gICAgICBzYW5pdGl6ZWRQYXJhbXMudmlldyA9IHNhbml0aXplZFBhcmFtcy52aWV3LnJlcGxhY2UoJ19hamF4LWNvbGxlY3Rpb24tJywgJycpO1xuICAgIH1cblxuICAgIGlmIChzYW5pdGl6ZWRQYXJhbXMudmlldyA9PT0gJ19hamF4LWNvbGxlY3Rpb24nKSB7XG4gICAgICBkZWxldGUgc2FuaXRpemVkUGFyYW1zLnZpZXc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNhbml0aXplZFBhcmFtcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGljQ29sbGVjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLmlkID0gc2VjdGlvbi5pZDtcbiAgICB0aGlzLmVsID0gc2VjdGlvbi5lbDtcbiAgICB0aGlzLmNvbnRleHQgPSBzZWN0aW9uLmRhdGEuY29udGV4dDtcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgIHRoaXMucHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5xdWVyeVBhcmFtcyA9IHtcbiAgICAgIC4uLmRlY29kZVVybFF1ZXJ5UGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpLFxuICAgIH07XG5cbiAgICB0aGlzLnZpZXcgPSB0aGlzLnF1ZXJ5UGFyYW1zLmdyaWRfbGlzdDtcblxuICAgIHRoaXMuZmlsdGVyc0NvbnRlbnQgPSAnW2RhdGEtcHJvZHVjdGdyaWQtZmlsdGVycy1jb250ZW50XSc7XG4gICAgdGhpcy5zb3J0Q29udGVudCA9ICdbZGF0YS1wcm9kdWN0Z3JpZC1zb3J0LWNvbnRlbnRdJztcbiAgICB0aGlzLiRzb3J0VHJpZ2dlciA9ICQoJ1tkYXRhLXByb2R1Y3RncmlkLXRyaWdnZXItc29ydF0nLCB0aGlzLmVsKTtcbiAgICB0aGlzLiRzaG93YnlUcmlnZ2VyID0gJCgnW2RhdGEtc2hvdy1ieV0nLCB0aGlzLmVsKTtcbiAgICB0aGlzLiRzb3J0VHJpZ2dlckJ1dHRvbiA9ICQoJ1tkYXRhLXByb2R1Y3RncmlkLXRyaWdnZXItc29ydC1idXR0b25dJywgdGhpcy5lbCk7XG4gICAgdGhpcy4kc29ydFRyaWdnZXJNb2RhbCA9ICQoJ1tkYXRhLXByb2R1Y3RncmlkLW1vZGFsLXNvcnRdJywgdGhpcy5lbCk7XG4gICAgdGhpcy4kZmlsdGVyc1RyaWdnZXIgPSAkKCdbZGF0YS1wcm9kdWN0Z3JpZC10cmlnZ2VyLWZpbHRlcnNdJywgdGhpcy5lbCk7XG4gICAgdGhpcy4kYWRkaXRpb25hbFRhZ3MgPSAkKCdbZGF0YS1maWx0ZXItdG9nZ2xlXScsIHRoaXMuZWwpO1xuICAgIHRoaXMuJGFsbFRhZ3MgPSAkKGAke3RoaXMuZmlsdGVyc0NvbnRlbnR9IC5maWx0ZXItaXRlbSBhOm5vdChbZGF0YS1maWx0ZXItdG9nZ2xlXSlgLCB0aGlzLmVsKTtcbiAgICB0aGlzLiR2aWV3VG9nZ2xlID0gJCgnW2RhdGEtY29sbGVjdGlvbi12aWV3XScsIHRoaXMuZWwpO1xuICAgIHRoaXMuJGdyaWRDb250YWluZXIgPSAkKCcucHJvZHVjdGdyaWQtLW91dGVyJywgdGhpcy5lbCk7XG4gICAgdGhpcy4kZ3JpZFRhZ0xpbmtzID0gJCgnLmZpbHRlci1pdGVtLS1ncmlkIGEsIC5maWx0ZXItaXRlbS0tZ3JpZC1zaW1wbGUgYScsIHRoaXMuZWwpO1xuICAgIHRoaXMuJHBhZ2luYXRpb25MaW5rcyA9ICQoJ2EucGFnaW5hdGlvbi0taXRlbScsIHRoaXMuZWwpO1xuICAgIHRoaXMuc2lkZWJhckNvbnRhaW5lciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnByb2R1Y3RncmlkLS1zaWRlYmFyJyk7XG4gICAgdGhpcy5yZXNwb25zZUNvbnRhaW5lciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnJlc3VsdHMtLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuY2xpY2tUb0xvYWRUcmlnZ2VyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jbGljay10by1sb2FkXScpO1xuICAgIHRoaXMuY2xpY2tUb0xvYWQgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jbGljay10by1sb2FkJyk7XG4gICAgdGhpcy5pbmZpbml0ZVNjcm9sbFRyaWdnZXIgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWluZmluaXRlLXNjcm9sbF0nKTtcbiAgICB0aGlzLmluZmluaXRlU2Nyb2xsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuaW5maW5pdGUtc2Nyb2xsJyk7XG4gICAgdGhpcy5wcm9kdWN0R3JpZCA9IHRoaXMucmVzcG9uc2VDb250YWluZXIucXVlcnlTZWxlY3RvcignLnByb2R1Y3RncmlkLS1pdGVtcycpO1xuICAgIHRoaXMucGFnaW5hdGlvbkNvbnRhaW5lciA9IHRoaXMucmVzcG9uc2VDb250YWluZXIucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb24tLWNvbnRhaW5lcjpub3QoLnZpc3VhbGx5LWhpZGRlbiknKTtcblxuICAgIHRoaXMuX2NoYW5nZVNvcnRpbmdCdXR0b24gPSB0aGlzLl9jaGFuZ2VTb3J0aW5nQnV0dG9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYWN0aXZhdGVUYWcgPSB0aGlzLl9hY3RpdmF0ZVRhZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3RvZ2dsZVRhZ3MgPSB0aGlzLl90b2dnbGVUYWdzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fdG9nZ2xlVmlldyA9IHRoaXMuX3RvZ2dsZVZpZXcuYmluZCh0aGlzKTtcblxuICAgIC8vIEFqYXggU2VhcmNoIGZ1bmN0aW9uc1xuICAgIHRoaXMuX2FqYXhGaWx0ZXIgPSB0aGlzLl9hamF4RmlsdGVyLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLm1vZGFsID0gbmV3IE1vZGFsKCk7XG5cbiAgICBpZiAod2luZG93Lmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gJiYgKHRoaXMuaW5maW5pdGVTY3JvbGwgfHwgdGhpcy5jbGlja1RvTG9hZCkpIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gJ21hbnVhbCc7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlVmlldyh0aGlzLnZpZXcpO1xuXG4gICAgaWYgKHRoaXMucHJvZHVjdEdyaWQpIHtcbiAgICAgIHRoaXMuX2luaXRQcm9kdWN0SXRlbXModGhpcy5wcm9kdWN0R3JpZC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9kdWN0LWl0ZW1dJykpO1xuICAgIH1cblxuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKCRlbCA9PiAkZWwub2ZmKCcuY29sbGVjdGlvbicpKTtcblxuICAgIHRoaXMubW9kYWwudW5sb2FkKCk7XG4gICAgdGhpcy5yZWNlbnRseVZpZXdlZC51bmxvYWQoKTtcblxuICAgIHRoaXMucHJvZHVjdEl0ZW1zLmZvckVhY2gocHJvZHVjdEl0ZW0gPT4ge1xuICAgICAgcHJvZHVjdEl0ZW0udW5sb2FkKCk7XG4gICAgfSk7XG4gIH1cblxuICBfaW5pdFByb2R1Y3RJdGVtcyhwcm9kdWN0RWxzKSB7XG4gICAgdGhpcy5wcm9kdWN0SXRlbXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdEVscy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJvZHVjdEl0ZW0gPSBwcm9kdWN0RWxzW2ldO1xuICAgICAgdGhpcy5wcm9kdWN0SXRlbXMucHVzaChcbiAgICAgICAgbmV3IFByb2R1Y3RHcmlkSXRlbSh7XG4gICAgICAgICAgJGVsOiAkKHByb2R1Y3RJdGVtKSxcbiAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICBwcm9kdWN0OiBKU09OLnBhcnNlKHByb2R1Y3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3QtZGF0YV0nKS5pbm5lckhUTUwpLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB0aGlzLnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGxhenk6IHRydWUsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoJCgnLnNwci1iYWRnZScsIHRoaXMuZWwpKSB7XG4gICAgICBpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0eWxlIGEgdGFnIGFzIGFjdGl2ZSBhZnRlciBjbGljaywgYmVmb3JlIHBhZ2UgdHJhbnNpdGlvblxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hY3RpdmF0ZVRhZyhldmVudCkge1xuICAgIGlmICh0aGlzLnByb2Nlc3NpbmcpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJChldmVudC50YXJnZXQpXG4gICAgICAuY2xvc2VzdCgnLmZpbHRlci1pdGVtJylcbiAgICAgIC50b2dnbGVDbGFzcygnZmlsdGVyLWl0ZW0tLWFjdGl2ZScpXG4gICAgICAudG9nZ2xlQ2xhc3MoJ2ZpbHRlci1pdGVtLS1pbmFjdGl2ZScpO1xuXG4gICAgdGhpcy5fYWpheEZpbHRlcihldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogRXhwYW5kIC8gQ29sbGFwc2UgYWRkaXRpb25hbCB0YWdzIGluIHRoZSBzaWRlYmFyXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3RvZ2dsZVRhZ3MoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHRoaXMucHJvY2Vzc2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0ICR0cmlnZ2VyID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCAkaXRlbXMgPSAkdHJpZ2dlci5wYXJlbnQoKS5zaWJsaW5ncygnW2RhdGEtaGlkZGVuLWRlZmF1bHRdJyk7XG4gICAgY29uc3Qgc2libGluZ3NWaXNpYmxlID0gJHRyaWdnZXIuZGF0YSgnZmlsdGVyLXRvZ2dsZScpO1xuXG4gICAgJGl0ZW1zLnRvZ2dsZUNsYXNzKCdmaWx0ZXItaXRlbS0taGlkZGVuJywgc2libGluZ3NWaXNpYmxlKTtcbiAgICAkdHJpZ2dlclxuICAgICAgLmRhdGEoJ2ZpbHRlci10b2dnbGUnLCAhc2libGluZ3NWaXNpYmxlKVxuICAgICAgLnRleHQoIXNpYmxpbmdzVmlzaWJsZSA/IHRoaXMuY29udGV4dC5zZWVfbGVzcyA6IHRoaXMuY29udGV4dC5zZWVfbW9yZSk7XG5cbiAgICBpZiAodGhpcy5tb2RhbC5pc09wZW4oKSkge1xuICAgICAgdGhpcy5tb2RhbC5wb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTb3J0IGJ5IG9wZW5zIGEgbW9kYWwgb24gbW9iaWxlLCB0aGlzIGhhbmRsZXMgYnV0dG9uIGV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jaGFuZ2VTb3J0aW5nQnV0dG9uKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucHJvY2Vzc2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZUNsYXNzID0gJ3V0aWxzLXNvcnRieS0tbW9kYWwtYnV0dG9uLS1hY3RpdmUnO1xuXG4gICAgJChldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgICAgLmFkZENsYXNzKGFjdGl2ZUNsYXNzKVxuICAgICAgLnBhcmVudCgpXG4gICAgICAuc2libGluZ3MoKVxuICAgICAgLmZpbmQoYC4ke2FjdGl2ZUNsYXNzfWApXG4gICAgICAucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xuXG4gICAgdGhpcy5fYWpheEZpbHRlcihldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGdyaWQgb3IgbGlzdCB2aWV3XG4gICAqXG4gICAqL1xuICBfdG9nZ2xlVmlldyhldmVudCkge1xuICAgIGNvbnN0IHZpZXcgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uLXZpZXcnKTtcbiAgICB0aGlzLnF1ZXJ5UGFyYW1zLmdyaWRfbGlzdCA9IHZpZXc7XG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIHRoaXMuX3VwZGF0ZVZpZXcodGhpcy5xdWVyeVBhcmFtcy5ncmlkX2xpc3QpO1xuICAgIHRoaXMuX3VwZGF0ZUhpc3Rvcnkod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICBpZiAodGhpcy5wcm9kdWN0SXRlbXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnByb2R1Y3RJdGVtcy5mb3JFYWNoKHByb2R1Y3RJdGVtID0+IHByb2R1Y3RJdGVtLmhhbmRsZVZpZXdDaGFuZ2UodGhpcy5xdWVyeVBhcmFtcy5ncmlkX2xpc3QpKTtcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlVmlldyh2aWV3ID0gJ2dyaWQtdmlldycpIHtcbiAgICAkKCcudXRpbHMtdmlld3RvZ2dsZS1idXR0b24nLCB0aGlzLmVsKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJChgW2RhdGEtY29sbGVjdGlvbi12aWV3PSR7dmlld31dYCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgY29uc3QgY2xhc3NOYW1lID0gdmlldy5yZXBsYWNlKCctJywgJycpO1xuXG4gICAgaWYgKGNsYXNzTmFtZSA9PT0gJ2xpc3R2aWV3Jykge1xuICAgICAgdGhpcy4kZ3JpZENvbnRhaW5lci5yZW1vdmVDbGFzcygncHJvZHVjdGdyaWQtZ3JpZHZpZXcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4kZ3JpZENvbnRhaW5lci5yZW1vdmVDbGFzcygncHJvZHVjdGdyaWQtbGlzdHZpZXcnKTtcbiAgICB9XG5cbiAgICB0aGlzLiRncmlkQ29udGFpbmVyLmFkZENsYXNzKGBwcm9kdWN0Z3JpZC0ke2NsYXNzTmFtZX1gKTtcbiAgfVxuXG4gIC8qIEFKQVggc2VhcmNoIGZ1bmN0aW9ucyAqL1xuICBfc2V0UHJvY2Vzc2luZyhwcm9jZXNzaW5nID0gdHJ1ZSwgdHlwZSA9ICdmaWx0ZXInKSB7XG4gICAgdGhpcy5wcm9jZXNzaW5nID0gcHJvY2Vzc2luZztcblxuICAgIGlmIChwcm9jZXNzaW5nKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ2ZpbHRlcicpIHtcbiAgICAgICAgY29uc3QgeSA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgICAgaWYgKHkgPj0gMzEwKSB7XG4gICAgICAgICAgJCgnaHRtbCwgYm9keScpXG4gICAgICAgICAgICAuYW5pbWF0ZSh7IHNjcm9sbFRvcDogeSAtIDMwMCB9LCAxNTApXG4gICAgICAgICAgICAuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMTAgfSwgMClcbiAgICAgICAgICAgIC5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDE1MCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgMTUwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zaWRlYmFyQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuc2lkZWJhckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGBwcm9jZXNzaW5nLS0ke3R5cGV9YCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlc3BvbnNlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoYHByb2Nlc3NpbmctLSR7dHlwZX1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuc2lkZWJhckNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnNpZGViYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChgcHJvY2Vzc2luZy0tJHt0eXBlfWApO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNwb25zZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGBwcm9jZXNzaW5nLS0ke3R5cGV9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSB0ZW1wbGF0ZSBjb250YWluaW5nIGZpbHRlcmVkIHByb2R1Y3QgaXRlbXMgYW5kIHRhZ3MgdmlhIEFKQVhcbiAgICovXG4gIF9hamF4RmlsdGVyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGlmICh0aGlzLnByb2Nlc3NpbmcgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIGxldCBmZXRjaFVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcblxuICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZSA9IDE7XG5cbiAgICBpZiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1zaG93LWJ5JykpIHsgLy8gJ1Nob3cgYnknIC0gbnVtYmVyIG9mIHByb2R1Y3RzIHBlciBwYWdlXG4gICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnZpZXcgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNob3ctYnknKTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjdGdyaWQtdHJpZ2dlci1zb3J0JykgfHwgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1wcm9kdWN0Z3JpZC10cmlnZ2VyLXNvcnQtYnV0dG9uJykpIHsgLy8gU29ydGJ5IHNlbGVjdC9idXR0b25cbiAgICAgIHRoaXMucXVlcnlQYXJhbXMuc29ydF9ieSA9ICQodGFyZ2V0KS52YWwoKTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtdG8tcGFnZScpKSB7IC8vIFBhZ2luYXRpb24gbGlua1xuICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS10by1wYWdlJyk7XG4gICAgfSBlbHNlIHsgLy8gRmlsdGVyIGxpbmtzXG4gICAgICBjb25zdCBocmVmID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBkZWNvZGVVcmxRdWVyeVBhcmFtcyhocmVmKTtcblxuICAgICAgZGVsZXRlIHRoaXMucXVlcnlQYXJhbXMuY29uc3RyYWludDtcbiAgICAgIGlmIChxdWVyeVBhcmFtcy5jb25zdHJhaW50KSB7XG4gICAgICAgIHRoaXMucXVlcnlQYXJhbXMuY29uc3RyYWludCA9IHF1ZXJ5UGFyYW1zLmNvbnN0cmFpbnQ7XG4gICAgICB9XG5cbiAgICAgIGZldGNoVXJsID0gaHJlZi5yZXBsYWNlKC9cXD9bXiNdKy8sICcnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hamF4RmV0Y2goZmV0Y2hVcmwsICdmaWx0ZXInKTtcbiAgfVxuXG4gIF9hamF4UGFnaW5hdGlvbihpbmZpbml0ZVNjcm9sbCA9IGZhbHNlKSB7XG4gICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlID0gaW5maW5pdGVTY3JvbGxcbiAgICAgID8gdGhpcy5pbmZpbml0ZVNjcm9sbFRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLXRvLXBhZ2UnKVxuICAgICAgOiB0aGlzLmNsaWNrVG9Mb2FkVHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG8tcGFnZScpO1xuXG4gICAgdGhpcy5fYWpheEZldGNoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgJ3BhZ2luYXRpb24nKTtcbiAgfVxuXG4gIF9hamF4RmV0Y2godXJsLCB0eXBlKSB7XG4gICAgLy8gVHJpZ2dlciBVSSBwcm9jZXNzaW5nIHN0YXRlXG4gICAgdGhpcy5fc2V0UHJvY2Vzc2luZyh0cnVlLCB0eXBlKTtcbiAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gc2FuaXRpemVRdWVyeVBhcmFtcyh0aGlzLnF1ZXJ5UGFyYW1zKTtcblxuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIC4uLnRoaXMucXVlcnlQYXJhbXMsXG4gICAgfTtcblxuICAgIHBhcmFtcy52aWV3ID0gdGhpcy5xdWVyeVBhcmFtcy52aWV3ID8gYF9hamF4LWNvbGxlY3Rpb24tJHt0aGlzLnF1ZXJ5UGFyYW1zLnZpZXd9YCA6ICdfYWpheC1jb2xsZWN0aW9uJztcblxuICAgIEFzeW5jVmlldy5sb2FkKHVybCwgcGFyYW1zKVxuICAgICAgLnRoZW4oKHsgaHRtbCB9KSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAncGFnaW5hdGlvbicpIHtcbiAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICBjb25zdCBwcm9kdWN0SXRlbXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgIHByb2R1Y3RJdGVtcy5pbm5lckhUTUwgPSBodG1sLnByb2R1Y3RncmlkSXRlbXM7XG5cbiAgICAgICAgICB3aGlsZSAocHJvZHVjdEl0ZW1zLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHByb2R1Y3RJdGVtcy5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmV3UHJvZHVjdEl0ZW1zID0gZnJhZ21lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC1pdGVtXScpO1xuICAgICAgICAgIHRoaXMucHJvZHVjdEdyaWQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgICAgICAgIHRoaXMuX2luaXRQcm9kdWN0SXRlbXMobmV3UHJvZHVjdEl0ZW1zKTtcblxuICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sLnBhZ2luYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wcm9kdWN0SXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0udW5sb2FkKCkpO1xuICAgICAgICAgIHRoaXMucmVzcG9uc2VDb250YWluZXIuaW5uZXJIVE1MID0gaHRtbC5wcm9kdWN0Z3JpZDtcbiAgICAgICAgICB0aGlzLl9pbml0UHJvZHVjdEl0ZW1zKHRoaXMucmVzcG9uc2VDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC1pdGVtXScpKTtcblxuICAgICAgICAgIGlmICh0aGlzLnNpZGViYXJDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2lkZWJhckNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sLnNpZGViYXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlVmlldyh0aGlzLnF1ZXJ5UGFyYW1zLmdyaWRfbGlzdCk7XG5cbiAgICAgICAgcmltZy53YXRjaCh0aGlzLnJlc3BvbnNlQ29udGFpbmVyKTtcblxuICAgICAgICBpZiAodGhpcy5tb2RhbC5pc09wZW4oKSkge1xuICAgICAgICAgIHRoaXMubW9kYWwuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUhpc3RvcnkodXJsKTtcblxuICAgICAgICAvLyBVcGRhdGUgbGluayBiaW5kaW5ncyB3aXRoIG5ldyBET00gZWxlbWVudHNcbiAgICAgICAgdGhpcy5fdXBkYXRlTGlua0JpbmRpbmdzKCk7XG4gICAgICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcblxuICAgICAgICAvLyBPbmNlIGl0J3MgYWxsIHVwZGF0ZWQsIHVwZGF0ZSB0aGUgVUkgdG8gc2hvdyBwcm9jZXNzaW5nIGlzIGNvbXBsZXRlXG4gICAgICAgIHRoaXMuX3NldFByb2Nlc3NpbmcoZmFsc2UsIHR5cGUpO1xuICAgICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBVbmJpbmQgQUpBWCBldmVudHMgZm9yIGxpbmtzIG5vIGxvbmdlciBvbiB0aGUgcGFnZSwgYW5kIGJpbmQgbmV3IGxpbmtzXG4gICAqL1xuICBfdXBkYXRlTGlua0JpbmRpbmdzKCkge1xuICAgIHRoaXMuZXZlbnRzLmZvckVhY2goJGVsID0+ICRlbC5vZmYoJy5jb2xsZWN0aW9uJykpO1xuXG4gICAgdGhpcy4kZ3JpZFRhZ0xpbmtzID0gJCgnLmZpbHRlci1pdGVtLS1ncmlkIGEsIC5maWx0ZXItaXRlbS0tZ3JpZC1zaW1wbGUgYScsIHRoaXMuZWwpO1xuICAgIHRoaXMuJGFkZGl0aW9uYWxUYWdzID0gJCgnW2RhdGEtZmlsdGVyLXRvZ2dsZV0nLCB0aGlzLmVsKTtcbiAgICB0aGlzLiR2aWV3VG9nZ2xlID0gJCgnW2RhdGEtY29sbGVjdGlvbi12aWV3XScsIHRoaXMuZWwpO1xuICAgIHRoaXMuJGZpbHRlcnNUcmlnZ2VyID0gJCgnW2RhdGEtcHJvZHVjdGdyaWQtdHJpZ2dlci1maWx0ZXJzXScsIHRoaXMuZWwpO1xuICAgIHRoaXMuJHNvcnRUcmlnZ2VyTW9kYWwgPSAkKCdbZGF0YS1wcm9kdWN0Z3JpZC1tb2RhbC1zb3J0XScsIHRoaXMuZWwpO1xuICAgIHRoaXMuJHNvcnRUcmlnZ2VyID0gJCgnW2RhdGEtcHJvZHVjdGdyaWQtdHJpZ2dlci1zb3J0XScsIHRoaXMuZWwpO1xuICAgIHRoaXMuJHNvcnRUcmlnZ2VyQnV0dG9uID0gJCgnW2RhdGEtcHJvZHVjdGdyaWQtdHJpZ2dlci1zb3J0LWJ1dHRvbl0nLCB0aGlzLmVsKTtcbiAgICB0aGlzLiRzaG93YnlUcmlnZ2VyID0gJCgnW2RhdGEtc2hvdy1ieV0nLCB0aGlzLmVsKTtcbiAgICB0aGlzLiRwYWdpbmF0aW9uTGlua3MgPSAkKCdhLnBhZ2luYXRpb24tLWl0ZW0nLCB0aGlzLmVsKTtcbiAgICB0aGlzLiRhbGxUYWdzID0gJChgJHt0aGlzLmZpbHRlcnNDb250ZW50fSAuZmlsdGVyLWl0ZW0gYTpub3QoW2RhdGEtZmlsdGVyLXRvZ2dsZV0pYCwgdGhpcy5lbCk7XG4gICAgdGhpcy5jbGlja1RvTG9hZCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNsaWNrLXRvLWxvYWQnKTtcbiAgICB0aGlzLmNsaWNrVG9Mb2FkVHJpZ2dlciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtY2xpY2stdG8tbG9hZF0nKTtcbiAgICB0aGlzLmluZmluaXRlU2Nyb2xsVHJpZ2dlciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtaW5maW5pdGUtc2Nyb2xsXScpO1xuICAgIHRoaXMuaW5maW5pdGVTY3JvbGwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5pbmZpbml0ZS1zY3JvbGwnKTtcbiAgICB0aGlzLnByb2R1Y3RHcmlkID0gdGhpcy5yZXNwb25zZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdGdyaWQtLWl0ZW1zJyk7XG4gICAgdGhpcy5wYWdpbmF0aW9uQ29udGFpbmVyID0gdGhpcy5yZXNwb25zZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucGFnaW5hdGlvbi0tY29udGFpbmVyOm5vdCgudmlzdWFsbHktaGlkZGVuKScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZmlsdGVyIGxpbmsgY2xpY2sgZXZlbnRzIHRvIG5ldyBhamF4IGZ1bmN0aW9uYWxpdHlcbiAgICovXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIGNvbnN0IGxpbmtzID0gdGhpcy4kZ3JpZFRhZ0xpbmtzLmdldCgpLmNvbmNhdCh0aGlzLiRzaG93YnlUcmlnZ2VyLmdldCgpKTtcblxuICAgIHRoaXMuZXZlbnRzLnB1c2goLi4ubGlua3MubWFwKGVsID0+ICQoZWwpLm9uKCdjbGljay5jb2xsZWN0aW9uJywgdGhpcy5fYWpheEZpbHRlcikpKTtcbiAgICB0aGlzLmV2ZW50cy5wdXNoKFxuICAgICAgdGhpcy4kc29ydFRyaWdnZXIub24oJ2NoYW5nZS5jb2xsZWN0aW9uJywgdGhpcy5fYWpheEZpbHRlciksXG4gICAgICB0aGlzLiR2aWV3VG9nZ2xlLm9uKCdjbGljay5jb2xsZWN0aW9uJywgdGhpcy5fdG9nZ2xlVmlldyksXG4gICAgICB0aGlzLiRmaWx0ZXJzVHJpZ2dlci5vbignY2xpY2suY29sbGVjdGlvbicsICgpID0+IHRoaXMubW9kYWwub3Blbih0aGlzLmZpbHRlcnNDb250ZW50LCAncHJvZHVjdGdyaWQtZmlsdGVycycpKSxcbiAgICAgIHRoaXMuJGFsbFRhZ3Mub24oJ2NsaWNrLmNvbGxlY3Rpb24nLCB0aGlzLl9hY3RpdmF0ZVRhZyksXG4gICAgICB0aGlzLiRhZGRpdGlvbmFsVGFncy5vbignY2xpY2suY29sbGVjdGlvbicsIHRoaXMuX3RvZ2dsZVRhZ3MpLFxuICAgICAgdGhpcy4kc29ydFRyaWdnZXJNb2RhbC5vbignY2xpY2suY29sbGVjdGlvbicsICgpID0+IHRoaXMubW9kYWwub3Blbih0aGlzLnNvcnRDb250ZW50LCAncHJvZHVjdGdyaWQtc29ydCcpKSxcbiAgICAgIHRoaXMuJHNvcnRUcmlnZ2VyQnV0dG9uLm9uKCdjbGljay5jb2xsZWN0aW9uJywgdGhpcy5fY2hhbmdlU29ydGluZ0J1dHRvbiksXG4gICAgKTtcblxuICAgIGlmICh0aGlzLmluZmluaXRlU2Nyb2xsVHJpZ2dlcikge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgaWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fYWpheFBhZ2luYXRpb24odHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuaW5maW5pdGVTY3JvbGxUcmlnZ2VyKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2xpY2tUb0xvYWQpIHtcbiAgICAgIHRoaXMuZXZlbnRzLnB1c2goJCh0aGlzLmNsaWNrVG9Mb2FkVHJpZ2dlcikub24oJ2NsaWNrLmNvbGxlY3Rpb24nLCAoKSA9PiB0aGlzLl9hamF4UGFnaW5hdGlvbihmYWxzZSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ldmVudHMucHVzaCh0aGlzLiRwYWdpbmF0aW9uTGlua3Mub24oJ2NsaWNrLmNvbGxlY3Rpb24nLCB0aGlzLl9hamF4RmlsdGVyKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcGFnZSBVUkwgc28gdXNlcnMgY2FuIGxpbmsgdG8gdGhlaXIgcGFydGljdWxhciBzZWFyY2hcbiAgICovXG4gIF91cGRhdGVIaXN0b3J5KHVybCkge1xuICAgIGlmICgod2luZG93LlNob3BpZnkgJiYgd2luZG93LlNob3BpZnkuZGVzaWduTW9kZSkgfHwgIXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXJ5bGVzc0hyZWYgPSB1cmwucmVwbGFjZSgvXFw/W14jXSsvLCAnJyk7XG4gICAgY29uc3QgaHJlZiA9IHF1ZXJ5bGVzc0hyZWZcbiAgICAgIC5yZXBsYWNlKFxuICAgICAgICAvKFteI10rKSguKikvLFxuICAgICAgICAobWF0Y2gsIGFkZHJlc3MsIGhhc2gpID0+IGAke2FkZHJlc3N9PyR7T2JqZWN0LmtleXModGhpcy5xdWVyeVBhcmFtcykuc29ydCgpLm1hcChrZXkgPT4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucXVlcnlQYXJhbXNba2V5XSl9YCkuam9pbignJicpfSR7aGFzaH1gLFxuICAgICAgKTtcblxuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZiAhPT0gaHJlZikge1xuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgaHJlZik7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticCollection.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticCollectionMinimal.js":
/*!************************************************************!*\
  !*** ./source/scripts/sections/StaticCollectionMinimal.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticCollectionMinimal; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var shopify_asyncview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shopify-asyncview */ \"./node_modules/shopify-asyncview/dist/index.es.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! intersection-observer */ \"./node_modules/intersection-observer/intersection-observer.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/ProductReviews */ \"./source/scripts/helpers/ProductReviews.js\");\n/* harmony import */ var _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ProductGridItem */ \"./source/scripts/components/ProductGridItem.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar StaticCollectionMinimal = /*#__PURE__*/function () {\n  function StaticCollectionMinimal(section) {\n    _classCallCheck(this, StaticCollectionMinimal);\n\n    this.el = section.el;\n    this.id = section.id; // Pagination\n\n    this.paginationStyle = section.data.pagination_style;\n    this.clickToLoadTrigger = this.el.querySelector('[data-click-to-load]');\n    this.clickToLoad = this.el.querySelector('.click-to-load');\n    this.infiniteScrollTrigger = this.el.querySelector('[data-infinite-scroll]');\n    this.infiniteScroll = this.el.querySelector('.infinite-scroll');\n    this.paginationLinks = this.el.querySelectorAll('a.pagination--item');\n    this.responseContainer = this.el.querySelector('.results--container');\n    this.paginationContainer = this.responseContainer.querySelector('.pagination--container:not(.visually-hidden)');\n    this.productGrid = this.responseContainer.querySelector('.productgrid--items');\n    this.toPage = null; // Product Cards\n\n    this.productItemEls = this.productGrid.querySelectorAll('[data-product-item]');\n    this.productItems = [];\n    this._processing = this._processing.bind(this);\n    this._bindEvents = this._bindEvents.bind(this);\n    this._unbindEvents = this._unbindEvents.bind(this);\n    this._initProductCards = this._initProductCards.bind(this);\n    this._updateHistory = this._updateHistory.bind(this);\n    this._fetchProductCards = this._fetchProductCards.bind(this);\n\n    this._initProductCards(this.productItemEls);\n\n    this._bindEvents();\n  }\n\n  _createClass(StaticCollectionMinimal, [{\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this = this;\n\n      if (this.clickToLoadTrigger) {\n        this.clickToLoadTrigger.addEventListener('click', this._fetchProductCards);\n      } else if (this.infiniteScrollTrigger) {\n        var observer = new IntersectionObserver(function (entries) {\n          entries.forEach(function (entry) {\n            if (entry.intersectionRatio > 0) {\n              _this._fetchProductCards(false);\n            }\n          });\n        });\n        observer.observe(this.infiniteScrollTrigger);\n      } else {\n        this.paginationLinks.forEach(function (link) {\n          link.addEventListener('click', _this._fetchProductCards);\n        });\n      }\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      var _this2 = this;\n\n      if (this.clickToLoadTrigger) {\n        this.clickToLoadTrigger.removeEventListener('click', this._fetchProductCards);\n      } else {\n        this.paginationLinks.forEach(function (link) {\n          link.removeEventListener('click', _this2._fetchProductCards);\n        });\n      }\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this._unbindEvents();\n\n      this.recentlyViewed.unload();\n      this.productItems.forEach(function (productItem) {\n        productItem.unload();\n      });\n    }\n  }, {\n    key: \"_initProductCards\",\n    value: function _initProductCards(productEls) {\n      for (var i = 0; i < productEls.length; i++) {\n        var productItem = productEls[i];\n        this.productItems.push(new _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n          $el: jquery__WEBPACK_IMPORTED_MODULE_0___default()(productItem),\n          id: this.id,\n          product: JSON.parse(productItem.querySelector('[data-product-data]').innerHTML),\n          queryParams: {\n            page: this.toPage\n          },\n          lazy: true\n        }));\n      }\n\n      if (jquery__WEBPACK_IMPORTED_MODULE_0___default()('.spr-badge', this.el)) {\n        Object(_helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n      }\n    }\n  }, {\n    key: \"_processing\",\n    value: function _processing(isProcessing) {\n      if (isProcessing && this.paginationStyle === 'traditional') {\n        this.responseContainer.classList.add('processing--filter');\n        var y = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).scrollTop();\n\n        if (y >= 310) {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default()('html, body').animate({\n            scrollTop: y - 300\n          }, 150).animate({\n            scrollTop: 10\n          }, 0).animate({\n            scrollTop: 0\n          }, 150);\n        } else {\n          jquery__WEBPACK_IMPORTED_MODULE_0___default()('html, body').animate({\n            scrollTop: 0\n          }, 150);\n        }\n      } else if (isProcessing && this.paginationStyle !== 'traditional') {\n        this.responseContainer.classList.add('processing--pagination');\n      } else if (!isProcessing && this.paginationStyle === 'traditional') {\n        this.responseContainer.classList.remove('processing--filter');\n      } else {\n        this.responseContainer.classList.remove('processing--pagination');\n      }\n    }\n  }, {\n    key: \"_fetchProductCards\",\n    value: function _fetchProductCards(event) {\n      var _this3 = this;\n\n      this._processing(true);\n\n      this.toPage = event ? event.target.dataset.toPage : this.infiniteScrollTrigger.dataset.toPage;\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      var fetchUrl = window.location.pathname;\n      var params = {\n        page: this.toPage,\n        view: '_ajax-minimal'\n      };\n      shopify_asyncview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].load(fetchUrl, params).then(function (_ref) {\n        var html = _ref.html;\n        var fragment = document.createDocumentFragment();\n        var productItems = document.createElement('div');\n        productItems.innerHTML = html.productgridItems;\n\n        while (productItems.firstChild) {\n          fragment.appendChild(productItems.firstChild);\n        }\n\n        if (_this3.paginationStyle === 'traditional') {\n          _this3.productItems.forEach(function (item) {\n            return item.unload();\n          });\n\n          _this3.productItems = [];\n          _this3.responseContainer.innerHTML = html.productgrid;\n\n          _this3._initProductCards(_this3.responseContainer.querySelectorAll('[data-product-item]'));\n        } else {\n          var newProductItems = fragment.querySelectorAll('[data-product-item]');\n\n          _this3.productGrid.appendChild(fragment);\n\n          _this3._initProductCards(newProductItems);\n        }\n\n        _this3.paginationContainer.innerHTML = html.pagination;\n        rimg_shopify__WEBPACK_IMPORTED_MODULE_1__[\"default\"].watch(_this3.responseContainer);\n\n        _this3._unbindEvents();\n\n        _this3.clickToLoadTrigger = _this3.el.querySelector('[data-click-to-load]');\n        _this3.clickToLoad = _this3.el.querySelector('.click-to-load');\n        _this3.infiniteScrollTrigger = _this3.el.querySelector('[data-infinite-scroll]');\n        _this3.infiniteScroll = _this3.el.querySelector('.infinite-scroll');\n        _this3.paginationLinks = _this3.el.querySelectorAll('a.pagination--item');\n\n        _this3._bindEvents();\n\n        _this3._updateHistory(fetchUrl, params);\n\n        _this3._processing(false);\n      });\n    }\n  }, {\n    key: \"_updateHistory\",\n    value: function _updateHistory(url, params) {\n      if (window.Shopify && window.Shopify.designMode || !window.history.pushState) {\n        return;\n      }\n\n      var href = \"\".concat(url, \"?page=\").concat(params.page);\n      window.history.pushState({}, '', href);\n    }\n  }]);\n\n  return StaticCollectionMinimal;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNDb2xsZWN0aW9uTWluaW1hbC5qcz82OTUzIl0sIm5hbWVzIjpbIlN0YXRpY0NvbGxlY3Rpb25NaW5pbWFsIiwic2VjdGlvbiIsImVsIiwiaWQiLCJwYWdpbmF0aW9uU3R5bGUiLCJkYXRhIiwicGFnaW5hdGlvbl9zdHlsZSIsImNsaWNrVG9Mb2FkVHJpZ2dlciIsInF1ZXJ5U2VsZWN0b3IiLCJjbGlja1RvTG9hZCIsImluZmluaXRlU2Nyb2xsVHJpZ2dlciIsImluZmluaXRlU2Nyb2xsIiwicGFnaW5hdGlvbkxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsInJlc3BvbnNlQ29udGFpbmVyIiwicGFnaW5hdGlvbkNvbnRhaW5lciIsInByb2R1Y3RHcmlkIiwidG9QYWdlIiwicHJvZHVjdEl0ZW1FbHMiLCJwcm9kdWN0SXRlbXMiLCJfcHJvY2Vzc2luZyIsImJpbmQiLCJfYmluZEV2ZW50cyIsIl91bmJpbmRFdmVudHMiLCJfaW5pdFByb2R1Y3RDYXJkcyIsIl91cGRhdGVIaXN0b3J5IiwiX2ZldGNoUHJvZHVjdENhcmRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJvYnNlcnZlIiwibGluayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWNlbnRseVZpZXdlZCIsInVubG9hZCIsInByb2R1Y3RJdGVtIiwicHJvZHVjdEVscyIsImkiLCJsZW5ndGgiLCJwdXNoIiwiUHJvZHVjdEdyaWRJdGVtIiwiJGVsIiwiJCIsInByb2R1Y3QiLCJKU09OIiwicGFyc2UiLCJpbm5lckhUTUwiLCJxdWVyeVBhcmFtcyIsInBhZ2UiLCJsYXp5IiwiaW5pdFNob3BpZnlQcm9kdWN0UmV2aWV3cyIsImlzUHJvY2Vzc2luZyIsImNsYXNzTGlzdCIsImFkZCIsInkiLCJ3aW5kb3ciLCJzY3JvbGxUb3AiLCJhbmltYXRlIiwicmVtb3ZlIiwiZXZlbnQiLCJ0YXJnZXQiLCJkYXRhc2V0IiwicHJldmVudERlZmF1bHQiLCJmZXRjaFVybCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwYXJhbXMiLCJ2aWV3IiwiQXN5bmNWaWV3IiwibG9hZCIsInRoZW4iLCJodG1sIiwiZnJhZ21lbnQiLCJkb2N1bWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwicHJvZHVjdGdyaWRJdGVtcyIsImZpcnN0Q2hpbGQiLCJhcHBlbmRDaGlsZCIsIml0ZW0iLCJwcm9kdWN0Z3JpZCIsIm5ld1Byb2R1Y3RJdGVtcyIsInBhZ2luYXRpb24iLCJyaW1nIiwid2F0Y2giLCJ1cmwiLCJTaG9waWZ5IiwiZGVzaWduTW9kZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJocmVmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztJQUVxQkEsdUI7QUFDbkIsbUNBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsU0FBS0MsRUFBTCxHQUFVRCxPQUFPLENBQUNDLEVBQWxCO0FBQ0EsU0FBS0MsRUFBTCxHQUFVRixPQUFPLENBQUNFLEVBQWxCLENBRm1CLENBSW5COztBQUNBLFNBQUtDLGVBQUwsR0FBdUJILE9BQU8sQ0FBQ0ksSUFBUixDQUFhQyxnQkFBcEM7QUFDQSxTQUFLQyxrQkFBTCxHQUEwQixLQUFLTCxFQUFMLENBQVFNLGFBQVIsQ0FBc0Isc0JBQXRCLENBQTFCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQixLQUFLUCxFQUFMLENBQVFNLGFBQVIsQ0FBc0IsZ0JBQXRCLENBQW5CO0FBQ0EsU0FBS0UscUJBQUwsR0FBNkIsS0FBS1IsRUFBTCxDQUFRTSxhQUFSLENBQXNCLHdCQUF0QixDQUE3QjtBQUNBLFNBQUtHLGNBQUwsR0FBc0IsS0FBS1QsRUFBTCxDQUFRTSxhQUFSLENBQXNCLGtCQUF0QixDQUF0QjtB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SSxDQUFDUyxhQUFMOztBQUVBLGNBQUksQ0FBQ2hCLGtCQUFMLEdBQTBCLE1BQUksQ0FBQ0wsRUFBTCxDQUFRTSxhQUFSLENBQXNCLHNCQUF0QixDQUExQjtBQUNBLGNBQUksQ0FBQ0MsV0FBTCxHQUFtQixNQUFJLENBQUNQLEVBQUwsQ0FBUU0sYUFBUixDQUFzQixnQkFBdEIsQ0FBbkI7QUFDQSxjQUFJLENBQUNFLHFCQUFMLEdBQTZCLE1BQUksQ0FBQ1IsRUFBTCxDQUFRTSxhQUFSLENBQXNCLHdCQUF0QixDQUE3QjtBQUNBLGNBQUksQ0FBQ0csY0FBTCxHQUFzQixNQUFJLENBQUNULEVBQUwsQ0FBUU0sYUFBUixDQUFzQixrQkFBdEIsQ0FBdEI7QUFDQSxjQUFJLENBQUNJLGVBQUwsR0FBdUIsTUFBSSxDQUFDVixFQUFMLENBQVFXLGdCQUFSLENBQXlCLG9CQUF6QixDQUF2Qjs7QUFFQSxjQUFJLENBQUNTLFdBQUw7O0FBRUEsY0FBSSxDQUFDRyxjQUFMLENBQW9CMEMsUUFBcEIsRUFBOEJHLE1BQTlCOztBQUVBLGNBQUksQ0FBQ2xELFdBQUwsQ0FBaUIsS0FBakI7QUFDRCxPQXRDSDtBQXVDRDs7O21DQUVjcUUsRyxFQUFLbkIsTSxFQUFRO0FBQzFCLFVBQUtYLE1BQU0sQ0FBQytCLE9BQVAsSUFBa0IvQixNQUFNLENBQUMrQixPQUFQLENBQWVDLFVBQWxDLElBQWlELENBQUNoQyxNQUFNLENBQUNpQyxPQUFQLENBQWVDLFNBQXJFLEVBQWdGO0FBQzlFO0FBQ0Q7O0FBRUQsVUFBTUMsSUFBSSxhQUFNTCxHQUFOLG1CQUFrQm5CLE1BQU0sQ0FBQ2xCLElBQXpCLENBQVY7QUFFQU8sWUFBTSxDQUFDaUMsT0FBUCxDQUFlQyxTQUFmLENBQXlCLEVBQXpCLEVBQTZCLEVBQTdCLEVBQWlDQyxJQUFqQztBQUNEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvc2VjdGlvbnMvU3RhdGljQ29sbGVjdGlvbk1pbmltYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHJpbWcgZnJvbSAncmltZy1zaG9waWZ5JztcbmltcG9ydCBBc3luY1ZpZXcgZnJvbSAnc2hvcGlmeS1hc3luY3ZpZXcnO1xuaW1wb3J0ICdpbnRlcnNlY3Rpb24tb2JzZXJ2ZXInO1xuXG5pbXBvcnQgaW5pdFNob3BpZnlQcm9kdWN0UmV2aWV3cyBmcm9tICcuLi9oZWxwZXJzL1Byb2R1Y3RSZXZpZXdzJztcbmltcG9ydCBQcm9kdWN0R3JpZEl0ZW0gZnJvbSAnLi4vY29tcG9uZW50cy9Qcm9kdWN0R3JpZEl0ZW0nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0aWNDb2xsZWN0aW9uTWluaW1hbCB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLmVsID0gc2VjdGlvbi5lbDtcbiAgICB0aGlzLmlkID0gc2VjdGlvbi5pZDtcblxuICAgIC8vIFBhZ2luYXRpb25cbiAgICB0aGlzLnBhZ2luYXRpb25TdHlsZSA9IHNlY3Rpb24uZGF0YS5wYWdpbmF0aW9uX3N0eWxlO1xuICAgIHRoaXMuY2xpY2tUb0xvYWRUcmlnZ2VyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jbGljay10by1sb2FkXScpO1xuICAgIHRoaXMuY2xpY2tUb0xvYWQgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jbGljay10by1sb2FkJyk7XG4gICAgdGhpcy5pbmZpbml0ZVNjcm9sbFRyaWdnZXIgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWluZmluaXRlLXNjcm9sbF0nKTtcbiAgICB0aGlzLmluZmluaXRlU2Nyb2xsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuaW5maW5pdGUtc2Nyb2xsJyk7XG4gICAgdGhpcy5wYWdpbmF0aW9uTGlua3MgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EucGFnaW5hdGlvbi0taXRlbScpO1xuICAgIHRoaXMucmVzcG9uc2VDb250YWluZXIgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHRzLS1jb250YWluZXInKTtcbiAgICB0aGlzLnBhZ2luYXRpb25Db250YWluZXIgPSB0aGlzLnJlc3BvbnNlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uLS1jb250YWluZXI6bm90KC52aXN1YWxseS1oaWRkZW4pJyk7XG4gICAgdGhpcy5wcm9kdWN0R3JpZCA9IHRoaXMucmVzcG9uc2VDb250YWluZXIucXVlcnlTZWxlY3RvcignLnByb2R1Y3RncmlkLS1pdGVtcycpO1xuICAgIHRoaXMudG9QYWdlID0gbnVsbDtcbiAgICAvLyBQcm9kdWN0IENhcmRzXG4gICAgdGhpcy5wcm9kdWN0SXRlbUVscyA9IHRoaXMucHJvZHVjdEdyaWQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC1pdGVtXScpO1xuICAgIHRoaXMucHJvZHVjdEl0ZW1zID0gW107XG5cbiAgICB0aGlzLl9wcm9jZXNzaW5nID0gdGhpcy5fcHJvY2Vzc2luZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JpbmRFdmVudHMgPSB0aGlzLl9iaW5kRXZlbnRzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fdW5iaW5kRXZlbnRzID0gdGhpcy5fdW5iaW5kRXZlbnRzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faW5pdFByb2R1Y3RDYXJkcyA9IHRoaXMuX2luaXRQcm9kdWN0Q2FyZHMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl91cGRhdGVIaXN0b3J5ID0gdGhpcy5fdXBkYXRlSGlzdG9yeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2ZldGNoUHJvZHVjdENhcmRzID0gdGhpcy5fZmV0Y2hQcm9kdWN0Q2FyZHMuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2luaXRQcm9kdWN0Q2FyZHModGhpcy5wcm9kdWN0SXRlbUVscyk7XG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICB9XG5cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMuY2xpY2tUb0xvYWRUcmlnZ2VyKSB7XG4gICAgICB0aGlzLmNsaWNrVG9Mb2FkVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ZldGNoUHJvZHVjdENhcmRzKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaW5maW5pdGVTY3JvbGxUcmlnZ2VyKSB7XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9mZXRjaFByb2R1Y3RDYXJkcyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuaW5maW5pdGVTY3JvbGxUcmlnZ2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYWdpbmF0aW9uTGlua3MuZm9yRWFjaChsaW5rID0+IHtcbiAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ZldGNoUHJvZHVjdENhcmRzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF91bmJpbmRFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMuY2xpY2tUb0xvYWRUcmlnZ2VyKSB7XG4gICAgICB0aGlzLmNsaWNrVG9Mb2FkVHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ZldGNoUHJvZHVjdENhcmRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYWdpbmF0aW9uTGlua3MuZm9yRWFjaChsaW5rID0+IHtcbiAgICAgICAgbGluay5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ZldGNoUHJvZHVjdENhcmRzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLl91bmJpbmRFdmVudHMoKTtcbiAgICB0aGlzLnJlY2VudGx5Vmlld2VkLnVubG9hZCgpO1xuXG4gICAgdGhpcy5wcm9kdWN0SXRlbXMuZm9yRWFjaChwcm9kdWN0SXRlbSA9PiB7XG4gICAgICBwcm9kdWN0SXRlbS51bmxvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9pbml0UHJvZHVjdENhcmRzKHByb2R1Y3RFbHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3RFbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHByb2R1Y3RJdGVtID0gcHJvZHVjdEVsc1tpXTtcbiAgICAgIHRoaXMucHJvZHVjdEl0ZW1zLnB1c2goXG4gICAgICAgIG5ldyBQcm9kdWN0R3JpZEl0ZW0oe1xuICAgICAgICAgICRlbDogJChwcm9kdWN0SXRlbSksXG4gICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgcHJvZHVjdDogSlNPTi5wYXJzZShwcm9kdWN0SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LWRhdGFdJykuaW5uZXJIVE1MKSxcbiAgICAgICAgICBxdWVyeVBhcmFtczogeyBwYWdlOiB0aGlzLnRvUGFnZSB9LFxuICAgICAgICAgIGxhenk6IHRydWUsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoJCgnLnNwci1iYWRnZScsIHRoaXMuZWwpKSB7XG4gICAgICBpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzKCk7XG4gICAgfVxuICB9XG5cbiAgX3Byb2Nlc3NpbmcoaXNQcm9jZXNzaW5nKSB7XG4gICAgaWYgKGlzUHJvY2Vzc2luZyAmJiB0aGlzLnBhZ2luYXRpb25TdHlsZSA9PT0gJ3RyYWRpdGlvbmFsJykge1xuICAgICAgdGhpcy5yZXNwb25zZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9jZXNzaW5nLS1maWx0ZXInKTtcblxuICAgICAgY29uc3QgeSA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgIGlmICh5ID49IDMxMCkge1xuICAgICAgICAkKCdodG1sLCBib2R5JylcbiAgICAgICAgICAuYW5pbWF0ZSh7IHNjcm9sbFRvcDogeSAtIDMwMCB9LCAxNTApXG4gICAgICAgICAgLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDEwIH0sIDApXG4gICAgICAgICAgLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgMTUwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDE1MCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1Byb2Nlc3NpbmcgJiYgdGhpcy5wYWdpbmF0aW9uU3R5bGUgIT09ICd0cmFkaXRpb25hbCcpIHtcbiAgICAgIHRoaXMucmVzcG9uc2VDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJvY2Vzc2luZy0tcGFnaW5hdGlvbicpO1xuICAgIH0gZWxzZSBpZiAoIWlzUHJvY2Vzc2luZyAmJiB0aGlzLnBhZ2luYXRpb25TdHlsZSA9PT0gJ3RyYWRpdGlvbmFsJykge1xuICAgICAgdGhpcy5yZXNwb25zZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdwcm9jZXNzaW5nLS1maWx0ZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXNwb25zZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdwcm9jZXNzaW5nLS1wYWdpbmF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgX2ZldGNoUHJvZHVjdENhcmRzKGV2ZW50KSB7XG4gICAgdGhpcy5fcHJvY2Vzc2luZyh0cnVlKTtcblxuICAgIHRoaXMudG9QYWdlID0gZXZlbnQgPyBldmVudC50YXJnZXQuZGF0YXNldC50b1BhZ2UgOiB0aGlzLmluZmluaXRlU2Nyb2xsVHJpZ2dlci5kYXRhc2V0LnRvUGFnZTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBmZXRjaFVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcblxuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHBhZ2U6IHRoaXMudG9QYWdlLFxuICAgICAgdmlldzogJ19hamF4LW1pbmltYWwnXG4gICAgfTtcblxuICAgIEFzeW5jVmlldy5sb2FkKGZldGNoVXJsLCBwYXJhbXMpXG4gICAgICAudGhlbigoeyBodG1sIH0pID0+IHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIGNvbnN0IHByb2R1Y3RJdGVtcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIHByb2R1Y3RJdGVtcy5pbm5lckhUTUwgPSBodG1sLnByb2R1Y3RncmlkSXRlbXM7XG5cbiAgICAgICAgd2hpbGUgKHByb2R1Y3RJdGVtcy5maXJzdENoaWxkKSB7XG4gICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocHJvZHVjdEl0ZW1zLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGFnaW5hdGlvblN0eWxlID09PSAndHJhZGl0aW9uYWwnKSB7XG4gICAgICAgICAgdGhpcy5wcm9kdWN0SXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0udW5sb2FkKCkpO1xuICAgICAgICAgIHRoaXMucHJvZHVjdEl0ZW1zID0gW107XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sLnByb2R1Y3RncmlkO1xuICAgICAgICAgIHRoaXMuX2luaXRQcm9kdWN0Q2FyZHModGhpcy5yZXNwb25zZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9kdWN0LWl0ZW1dJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG5ld1Byb2R1Y3RJdGVtcyA9IGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByb2R1Y3QtaXRlbV0nKTtcbiAgICAgICAgICB0aGlzLnByb2R1Y3RHcmlkLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgICB0aGlzLl9pbml0UHJvZHVjdENhcmRzKG5ld1Byb2R1Y3RJdGVtcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhZ2luYXRpb25Db250YWluZXIuaW5uZXJIVE1MID0gaHRtbC5wYWdpbmF0aW9uO1xuICAgICAgICByaW1nLndhdGNoKHRoaXMucmVzcG9uc2VDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuX3VuYmluZEV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuY2xpY2tUb0xvYWRUcmlnZ2VyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jbGljay10by1sb2FkXScpO1xuICAgICAgICB0aGlzLmNsaWNrVG9Mb2FkID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2xpY2stdG8tbG9hZCcpO1xuICAgICAgICB0aGlzLmluZmluaXRlU2Nyb2xsVHJpZ2dlciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtaW5maW5pdGUtc2Nyb2xsXScpO1xuICAgICAgICB0aGlzLmluZmluaXRlU2Nyb2xsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuaW5maW5pdGUtc2Nyb2xsJyk7XG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkxpbmtzID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdhLnBhZ2luYXRpb24tLWl0ZW0nKTtcblxuICAgICAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSGlzdG9yeShmZXRjaFVybCwgcGFyYW1zKTtcblxuICAgICAgICB0aGlzLl9wcm9jZXNzaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX3VwZGF0ZUhpc3RvcnkodXJsLCBwYXJhbXMpIHtcbiAgICBpZiAoKHdpbmRvdy5TaG9waWZ5ICYmIHdpbmRvdy5TaG9waWZ5LmRlc2lnbk1vZGUpIHx8ICF3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBocmVmID0gYCR7dXJsfT9wYWdlPSR7cGFyYW1zLnBhZ2V9YDtcblxuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIGhyZWYpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticCollectionMinimal.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticPassword.js":
/*!***************************************************!*\
  !*** ./source/scripts/sections/StaticPassword.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticPassword; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_Modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/Modal */ \"./source/scripts/components/Modal.js\");\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar StaticPassword = /*#__PURE__*/function () {\n  function StaticPassword(section) {\n    _classCallCheck(this, StaticPassword);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.modalForms = null;\n    this.newsletterForm = null;\n    this.modalContents = '[data-passwordentry]';\n    this.$newsletterForm = this.$el.find('[data-password-newsletter]');\n    this.modalOpen = this.onModalOpen.bind(this);\n    this.modalClose = this.onModalClose.bind(this);\n    this._openModal = this._openModal.bind(this);\n    this.modal = new _components_Modal__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n      onOpen: this.modalOpen,\n      onClose: this.modalClose\n    });\n\n    if (this.$newsletterForm) {\n      this.newsletterForm = new _Forms__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.$newsletterForm);\n    }\n\n    this._checkForPasswordAttempt();\n\n    this._bindEvents();\n  }\n\n  _createClass(StaticPassword, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.$el.off('.static-password');\n\n      if (this.newsletterForm) {\n        this.newsletterForm.unload();\n      }\n\n      if (this.modalForms) {\n        this.modalForms.unload();\n      }\n    }\n  }, {\n    key: \"onModalOpen\",\n    value: function onModalOpen() {\n      var $contents = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-passwordentry-contents]');\n      this.modalForms = new _Forms__WEBPACK_IMPORTED_MODULE_2__[\"default\"]($contents);\n    }\n  }, {\n    key: \"onModalClose\",\n    value: function onModalClose() {\n      this.modalForms.unload();\n      this.modalForms = null;\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      this.$el.on('click.static-password', '[data-passwordentry-toggle]', this._openModal);\n    }\n  }, {\n    key: \"_openModal\",\n    value: function _openModal() {\n      this.modal.open(this.modalContents, 'passwordentry');\n    }\n  }, {\n    key: \"_checkForPasswordAttempt\",\n    value: function _checkForPasswordAttempt() {\n      if (!jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-passwordentry-errors]').length) {\n        return;\n      }\n\n      this._openModal();\n    }\n  }]);\n\n  return StaticPassword;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNQYXNzd29yZC5qcz9jYTQ2Il0sIm5hbWVzIjpbIlN0YXRpY1Bhc3N3b3JkIiwic2VjdGlvbiIsIiRlbCIsIiQiLCJlbCIsIm1vZGFsRm9ybXMiLCJuZXdzbGV0dGVyRm9ybSIsIm1vZGFsQ29udGVudHMiLCIkbmV3c2xldHRlckZvcm0iLCJmaW5kIiwibW9kYWxPcGVuIiwib25Nb2RhbE9wZW4iLCJiaW5kIiwibW9kYWxDbG9zZSIsIm9uTW9kYWxDbG9zZSIsIl9vcGVuTW9kYWwiLCJtb2RhbCIsIk1vZGFsIiwib25PcGVuIiwib25DbG9zZSIsIkZvcm1zIiwiX2NoZWNrRm9yUGFzc3dvcmRBdHRlbXB0IiwiX2JpbmRFdmVudHMiLCJvZmYiLCJ1bmxvYWQiLCIkY29udGVudHMiLCJvbiIsIm9wZW4iLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTs7SUFFcUJBLGM7QUFDbkIsMEJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsU0FBS0MsR0FBTCxHQUFXQyw2Q0FBQyxDQUFDRixPQUFPLENBQUNHLEVBQVQsQ0FBWjtBQUVBLFNBQUtDLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxTQUFLQyxjQUFMLEdBQXNCLElBQXRCO0FBQ0EsU0FBS0MsYUFBTCxHQUFxQixzQkFBckI7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLEtBQUtOLEdBQUwsQ0FBU08sSUFBVCxDQUFjLDRCQUFkLENBQXZCO0FBRUEsU0FBS0MsU0FBTCxHQUFpQixLQUFLQyxXQUFMLENBQWlCQyxJQUFqQixDQUFzQixJQUF0QixDQUFqQjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsS0FBS0MsWUFBTCxDQUFrQkYsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBbEI7QUFDQSxTQUFLRyxVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0JILElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBRUEsU0FBS0ksS0FBTCxHQUFhLElBQUlDLHlEQUFKLENBQVU7QUFDckJDLFlBQU0sRUFBRSxLQUFLUixTQURRO0FBRXJCUyxhQUFPLEVBQUUsS0FBS047QUFGTyxLQUFWLENBQWI7O0FBS0EsUUFBSSxLQUFLTCxlQUFULEVBQTBCO0FBQ3hCLFdBQUtGLGNBQUwsR0FBc0IsSUFBSWMsOENBQUosQ0FBVSxLQUFLWixlQUFmLENBQXRCO0FBQ0Q7O0FBRUQsU0FBS2Esd0JBQUw7O0FBQ0EsU0FBS0MsV0FBTDtBQUNEOzs7O3NDQUVpQjtBQUNoQixXQUFLcEIsR0FBTCxDQUFTcUIsR0FBVCxDQUFhLGtCQUFiOztBQUVBLFVBQUksS0FBS2pCLGNBQVQsRUFBeUI7QUFDdkIsYUFBS0EsY0FBTCxDQUFvQmtCLE1BQXBCO0FBQ0Q7O0FBRUQsVUFBSSxLQUFLbkIsVUFBVCxFQUFxQjtBQUNuQixhQUFLQSxVQUFMLENBQWdCbUIsTUFBaEI7QUFDRDtBQUNGOzs7a0NBRWE7QUFDWixVQUFNQyxTQUFTLEdBQUd0Qiw2Q0FBQyxDQUFDLCtCQUFELENBQW5CO0FBQ0EsV0FBS0UsVUFBTCxHQUFrQixJQUFJZSw4Q0FBSixDQUFVSyxTQUFWLENBQWxCO0FBQ0Q7OzttQ0FFYztBQUNiLFdBQUtwQixVQUFMLENBQWdCbUIsTUFBaEI7QUFDQSxXQUFLbkIsVUFBTCxHQUFrQixJQUFsQjtBQUNEOzs7a0NBRWE7QUFDWixXQUFLSCxHQUFMLENBQVN3QixFQUFULENBQVksdUJBQVosRUFBcUMsNkJBQXJDLEVBQW9FLEtBQUtYLFVBQXpFO0FBQ0Q7OztpQ0FFWTtBQUNYLFdBQUtDLEtBQUwsQ0FBV1csSUFBWCxDQUFnQixLQUFLcEIsYUFBckIsRUFBb0MsZUFBcEM7QUFDRDs7OytDQUUwQjtBQUN6QixVQUFJLENBQUNKLDZDQUFDLENBQUMsNkJBQUQsQ0FBRCxDQUFpQ3lCLE1BQXRDLEVBQThDO0FBQzVDO0FBQ0Q7O0FBRUQsV0FBS2IsVUFBTDtBQUNEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvc2VjdGlvbnMvU3RhdGljUGFzc3dvcmQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQgTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9Nb2RhbCc7XG5pbXBvcnQgRm9ybXMgZnJvbSAnLi4vRm9ybXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0aWNQYXNzd29yZCB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLiRlbCA9ICQoc2VjdGlvbi5lbCk7XG5cbiAgICB0aGlzLm1vZGFsRm9ybXMgPSBudWxsO1xuICAgIHRoaXMubmV3c2xldHRlckZvcm0gPSBudWxsO1xuICAgIHRoaXMubW9kYWxDb250ZW50cyA9ICdbZGF0YS1wYXNzd29yZGVudHJ5XSc7XG4gICAgdGhpcy4kbmV3c2xldHRlckZvcm0gPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1wYXNzd29yZC1uZXdzbGV0dGVyXScpO1xuXG4gICAgdGhpcy5tb2RhbE9wZW4gPSB0aGlzLm9uTW9kYWxPcGVuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb2RhbENsb3NlID0gdGhpcy5vbk1vZGFsQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vcGVuTW9kYWwgPSB0aGlzLl9vcGVuTW9kYWwuYmluZCh0aGlzKTtcblxuICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoe1xuICAgICAgb25PcGVuOiB0aGlzLm1vZGFsT3BlbixcbiAgICAgIG9uQ2xvc2U6IHRoaXMubW9kYWxDbG9zZSxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLiRuZXdzbGV0dGVyRm9ybSkge1xuICAgICAgdGhpcy5uZXdzbGV0dGVyRm9ybSA9IG5ldyBGb3Jtcyh0aGlzLiRuZXdzbGV0dGVyRm9ybSk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2hlY2tGb3JQYXNzd29yZEF0dGVtcHQoKTtcbiAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gIH1cblxuICBvblNlY3Rpb25VbmxvYWQoKSB7XG4gICAgdGhpcy4kZWwub2ZmKCcuc3RhdGljLXBhc3N3b3JkJyk7XG5cbiAgICBpZiAodGhpcy5uZXdzbGV0dGVyRm9ybSkge1xuICAgICAgdGhpcy5uZXdzbGV0dGVyRm9ybS51bmxvYWQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RhbEZvcm1zKSB7XG4gICAgICB0aGlzLm1vZGFsRm9ybXMudW5sb2FkKCk7XG4gICAgfVxuICB9XG5cbiAgb25Nb2RhbE9wZW4oKSB7XG4gICAgY29uc3QgJGNvbnRlbnRzID0gJCgnW2RhdGEtcGFzc3dvcmRlbnRyeS1jb250ZW50c10nKTtcbiAgICB0aGlzLm1vZGFsRm9ybXMgPSBuZXcgRm9ybXMoJGNvbnRlbnRzKTtcbiAgfVxuXG4gIG9uTW9kYWxDbG9zZSgpIHtcbiAgICB0aGlzLm1vZGFsRm9ybXMudW5sb2FkKCk7XG4gICAgdGhpcy5tb2RhbEZvcm1zID0gbnVsbDtcbiAgfVxuXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuJGVsLm9uKCdjbGljay5zdGF0aWMtcGFzc3dvcmQnLCAnW2RhdGEtcGFzc3dvcmRlbnRyeS10b2dnbGVdJywgdGhpcy5fb3Blbk1vZGFsKTtcbiAgfVxuXG4gIF9vcGVuTW9kYWwoKSB7XG4gICAgdGhpcy5tb2RhbC5vcGVuKHRoaXMubW9kYWxDb250ZW50cywgJ3Bhc3N3b3JkZW50cnknKTtcbiAgfVxuXG4gIF9jaGVja0ZvclBhc3N3b3JkQXR0ZW1wdCgpIHtcbiAgICBpZiAoISQoJ1tkYXRhLXBhc3N3b3JkZW50cnktZXJyb3JzXScpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX29wZW5Nb2RhbCgpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticPassword.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticProduct.js":
/*!**************************************************!*\
  !*** ./source/scripts/sections/StaticProduct.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticProduct; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\n/* harmony import */ var _components_RichText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/RichText */ \"./source/scripts/components/RichText.js\");\n/* harmony import */ var _components_ProductDetails__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ProductDetails */ \"./source/scripts/components/ProductDetails.js\");\n/* harmony import */ var _shortcodes_Shortcodes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shortcodes/Shortcodes */ \"./source/scripts/shortcodes/Shortcodes.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar StaticProduct = /*#__PURE__*/function () {\n  function StaticProduct(section) {\n    var _this = this;\n\n    _classCallCheck(this, StaticProduct);\n\n    this.section = section;\n    this.postMessage = section.postMessage;\n    this.context = section.data.context;\n    this.settings = section.data.settings;\n    this.product = section.data.product;\n    this.models = section.data.models;\n    this.richText = null;\n    this.reviewForm = null;\n    this.flickity = null;\n    this.flickityOptions = null;\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.$product = this.$el.find('[data-product-wrapper]');\n\n    if (this.settings) {\n      this.isThreeColumn = this.settings.layout === 'layout--three-col';\n    } // History\n\n\n    this.isThemeEditor = window.Shopify && window.Shopify.designMode;\n    this.useHistory = !this.isThemeEditor && window.history.replaceState && this.settings.enableHistory;\n    var gallery = this.$product.find('[data-product-gallery]')[0]; // Product details\n\n    this.$details = this.$product.find('[data-product-details]'); // Product description\n\n    this.$description = this.$product.find('[data-product-description]');\n    this.$readmore = this.$product.find('.product-readmore'); // Product form containers\n\n    this.$formRegular = this.$product.find('[data-product-form-regular]');\n    this.$formAlt = this.$product.find('[data-product-form-alt]'); // Product form area\n\n    this.$formArea = this.$product.find('[data-product-form-area]'); // Move product form and information on breakpoint change\n\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"onChange\"](this.layoutHandler); // Product reviews\n\n    this.$productReviews = this.$el.find('[data-product-reviews]');\n\n    this._moveForm();\n\n    if (this.$description.length) {\n      this.richText = new _components_RichText__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.$description);\n    }\n\n    if (this.$readmore.length) {\n      this.richText = new _components_RichText__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.$readmore);\n    }\n\n    if (this.$productReviews.length) {\n      this.reviewForm = new _Forms__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.$productReviews, '.spr-form-input');\n    } // Instantiate ProductDetails after Shopify API is loaded\n\n\n    scriptjs__WEBPACK_IMPORTED_MODULE_1___default()(jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-scripts]').data('shopify-api-url'), function () {\n      var options = {\n        $formArea: _this.$formArea,\n        gallery: gallery,\n        $details: _this.$details,\n        context: _this.context,\n        settings: _this.settings,\n        product: _this.product,\n        models: _this.models,\n        useHistory: _this.useHistory\n      };\n      _this.productDetails = new _components_ProductDetails__WEBPACK_IMPORTED_MODULE_5__[\"default\"](options);\n    });\n    this.shortcodes = new _shortcodes_Shortcodes__WEBPACK_IMPORTED_MODULE_6__[\"default\"](section.el);\n  }\n\n  _createClass(StaticProduct, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"offChange\"](this.layoutHandler);\n      this.productDetails.unload();\n\n      if (this.richText) {\n        this.richText.unload();\n      }\n\n      if (this.reviewForm) {\n        this.reviewForm.unload();\n      }\n\n      if (this.shortcodes) {\n        this.shortcodes.unload();\n      }\n    }\n  }, {\n    key: \"onBreakpointChange\",\n    value: function onBreakpointChange() {\n      this._moveForm();\n    }\n    /**\n     * Move product form if is a three column layout\n     * @private\n     */\n\n  }, {\n    key: \"_moveForm\",\n    value: function _moveForm() {\n      if (!this.isThreeColumn) return;\n\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"min\"]('L')) {\n        if (!jquery__WEBPACK_IMPORTED_MODULE_0___default.a.contains(this.$formAlt[0], this.$formArea[0])) {\n          var $form = this.$formArea.detach();\n          this.$formAlt.append($form);\n        }\n      } else {\n        if (!jquery__WEBPACK_IMPORTED_MODULE_0___default.a.contains(this.$formRegular[0], this.$formArea[0])) {\n          var _$form = this.$formArea.detach();\n\n          this.$formRegular.append(_$form);\n        }\n      }\n    }\n  }]);\n\n  return StaticProduct;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNQcm9kdWN0LmpzPzMyZjciXSwibmFtZXMiOlsiU3RhdGljUHJvZHVjdCIsInNlY3Rpb24iLCJwb3N0TWVzc2FnZSIsImNvbnRleHQiLCJkYXRhIiwic2V0dGluZ3MiLCJwcm9kdWN0IiwibW9kZWxzIiwicmljaFRleHQiLCJyZXZpZXdGb3JtIiwiZmxpY2tpdHkiLCJmbGlja2l0eU9wdGlvbnMiLCIkZWwiLCIkIiwiZWwiLCIkcHJvZHVjdCIsImZpbmQiLCJpc1RocmVlQ29sdW1uIiwibGF5b3V0IiwiaXNUaGVtZUVkaXRvciIsIndpbmRvdyIsIlNob3BpZnkiLCJkZXNpZ25Nb2RlIiwidXNlSGlzdG9yeSIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJlbmFibGVIaXN0b3J5IiwiZ2FsbGVyeSIsIiRkZXRhaWxzIiwiJGRlc2NyaXB0aW9uIiwiJHJlYWRtb3JlIiwiJGZvcm1SZWd1bGFyIiwiJGZvcm1BbHQiLCIkZm9ybUFyZWEiLCJsYXlvdXRIYW5kbGVyIiwib25CcmVha3BvaW50Q2hhbmdlIiwiYmluZCIsImJyZWFrcG9pbnQiLCIkcHJvZHVjdFJldmlld3MiLCJfbW92ZUZvcm0iLCJsZW5ndGgiLCJSaWNoVGV4dCIsIkZvcm1zIiwiJHNjcmlwdCIsIm9wdGlvbnMiLCJwcm9kdWN0RGV0YWlscyIsIlByb2R1Y3REZXRhaWxzIiwic2hvcnRjb2RlcyIsIlNob3J0Y29kZXMiLCJ1bmxvYWQiLCJjb250YWlucyIsIiRmb3JtIiwiZGV0YWNoIiwiYXBwZW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7SUFFcUJBLGE7QUFDbkIseUJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFBQTs7QUFDbkIsU0FBS0EsT0FBTCxHQUFlQSxPQUFmO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQkQsT0FBTyxDQUFDQyxXQUEz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QUFDLENBQUNxQyxRQUFGLENBQVcsS0FBS2xCLFFBQUwsQ0FBYyxDQUFkLENBQVgsRUFBNkIsS0FBS0MsU0FBTCxDQUFlLENBQWYsQ0FBN0IsQ0FBTCxFQUFzRDtBQUNwRCxjQUFNa0IsS0FBSyxHQUFHLEtBQUtsQixTQUFMLENBQWVtQixNQUFmLEVBQWQ7QUFDQSxlQUFLcEIsUUFBTCxDQUFjcUIsTUFBZCxDQUFxQkYsS0FBckI7QUFDRDtBQUNGLE9BTEQsTUFLTztBQUNMLFlBQUksQ0FBQ3RDLDZDQUFDLENBQUNxQyxRQUFGLENBQVcsS0FBS25CLFlBQUwsQ0FBa0IsQ0FBbEIsQ0FBWCxFQUFpQyxLQUFLRSxTQUFMLENBQWUsQ0FBZixDQUFqQyxDQUFMLEVBQTBEO0FBQ3hELGNBQU1rQixNQUFLLEdBQUcsS0FBS2xCLFNBQUwsQ0FBZW1CLE1BQWYsRUFBZDs7QUFDQSxlQUFLckIsWUFBTCxDQUFrQnNCLE1BQWxCLENBQXlCRixNQUF6QjtBQUNEO0FBQ0Y7QUFDRiIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL1N0YXRpY1Byb2R1Y3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0ICRzY3JpcHQgZnJvbSAnc2NyaXB0anMnO1xuaW1wb3J0ICogYXMgYnJlYWtwb2ludCBmcm9tICdAcGl4ZWx1bmlvbi9icmVha3BvaW50JztcbmltcG9ydCBGb3JtcyBmcm9tICcuLi9Gb3Jtcyc7XG5cbmltcG9ydCBSaWNoVGV4dCBmcm9tICcuLi9jb21wb25lbnRzL1JpY2hUZXh0JztcbmltcG9ydCBQcm9kdWN0RGV0YWlscyBmcm9tICcuLi9jb21wb25lbnRzL1Byb2R1Y3REZXRhaWxzJztcblxuaW1wb3J0IFNob3J0Y29kZXMgZnJvbSAnLi4vc2hvcnRjb2Rlcy9TaG9ydGNvZGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGljUHJvZHVjdCB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLnNlY3Rpb24gPSBzZWN0aW9uO1xuICAgIHRoaXMucG9zdE1lc3NhZ2UgPSBzZWN0aW9uLnBvc3RNZXNzYWdlO1xuICAgIHRoaXMuY29udGV4dCA9IHNlY3Rpb24uZGF0YS5jb250ZXh0O1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZWN0aW9uLmRhdGEuc2V0dGluZ3M7XG4gICAgdGhpcy5wcm9kdWN0ID0gc2VjdGlvbi5kYXRhLnByb2R1Y3Q7XG4gICAgdGhpcy5tb2RlbHMgPSBzZWN0aW9uLmRhdGEubW9kZWxzO1xuICAgIHRoaXMucmljaFRleHQgPSBudWxsO1xuICAgIHRoaXMucmV2aWV3Rm9ybSA9IG51bGw7XG4gICAgdGhpcy5mbGlja2l0eSA9IG51bGw7XG4gICAgdGhpcy5mbGlja2l0eU9wdGlvbnMgPSBudWxsO1xuXG4gICAgdGhpcy4kZWwgPSAkKHNlY3Rpb24uZWwpO1xuICAgIHRoaXMuJHByb2R1Y3QgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1wcm9kdWN0LXdyYXBwZXJdJyk7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncykge1xuICAgICAgdGhpcy5pc1RocmVlQ29sdW1uID0gdGhpcy5zZXR0aW5ncy5sYXlvdXQgPT09ICdsYXlvdXQtLXRocmVlLWNvbCc7XG4gICAgfVxuXG4gICAgLy8gSGlzdG9yeVxuICAgIHRoaXMuaXNUaGVtZUVkaXRvciA9IHdpbmRvdy5TaG9waWZ5ICYmIHdpbmRvdy5TaG9waWZ5LmRlc2lnbk1vZGU7XG4gICAgdGhpcy51c2VIaXN0b3J5ID0gIXRoaXMuaXNUaGVtZUVkaXRvciAmJiB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUgJiYgdGhpcy5zZXR0aW5ncy5lbmFibGVIaXN0b3J5O1xuXG4gICAgY29uc3QgZ2FsbGVyeSA9IHRoaXMuJHByb2R1Y3QuZmluZCgnW2RhdGEtcHJvZHVjdC1nYWxsZXJ5XScpWzBdO1xuXG4gICAgLy8gUHJvZHVjdCBkZXRhaWxzXG4gICAgdGhpcy4kZGV0YWlscyA9IHRoaXMuJHByb2R1Y3QuZmluZCgnW2RhdGEtcHJvZHVjdC1kZXRhaWxzXScpO1xuXG4gICAgLy8gUHJvZHVjdCBkZXNjcmlwdGlvblxuICAgIHRoaXMuJGRlc2NyaXB0aW9uID0gdGhpcy4kcHJvZHVjdC5maW5kKCdbZGF0YS1wcm9kdWN0LWRlc2NyaXB0aW9uXScpO1xuICAgIHRoaXMuJHJlYWRtb3JlID0gdGhpcy4kcHJvZHVjdC5maW5kKCcucHJvZHVjdC1yZWFkbW9yZScpO1xuXG4gICAgLy8gUHJvZHVjdCBmb3JtIGNvbnRhaW5lcnNcbiAgICB0aGlzLiRmb3JtUmVndWxhciA9IHRoaXMuJHByb2R1Y3QuZmluZCgnW2RhdGEtcHJvZHVjdC1mb3JtLXJlZ3VsYXJdJyk7XG4gICAgdGhpcy4kZm9ybUFsdCA9IHRoaXMuJHByb2R1Y3QuZmluZCgnW2RhdGEtcHJvZHVjdC1mb3JtLWFsdF0nKTtcblxuICAgIC8vIFByb2R1Y3QgZm9ybSBhcmVhXG4gICAgdGhpcy4kZm9ybUFyZWEgPSB0aGlzLiRwcm9kdWN0LmZpbmQoJ1tkYXRhLXByb2R1Y3QtZm9ybS1hcmVhXScpO1xuXG4gICAgLy8gTW92ZSBwcm9kdWN0IGZvcm0gYW5kIGluZm9ybWF0aW9uIG9uIGJyZWFrcG9pbnQgY2hhbmdlXG4gICAgdGhpcy5sYXlvdXRIYW5kbGVyID0gdGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICBicmVha3BvaW50Lm9uQ2hhbmdlKHRoaXMubGF5b3V0SGFuZGxlcik7XG5cbiAgICAvLyBQcm9kdWN0IHJldmlld3NcbiAgICB0aGlzLiRwcm9kdWN0UmV2aWV3cyA9IHRoaXMuJGVsLmZpbmQoJ1tkYXRhLXByb2R1Y3QtcmV2aWV3c10nKTtcblxuICAgIHRoaXMuX21vdmVGb3JtKCk7XG5cbiAgICBpZiAodGhpcy4kZGVzY3JpcHRpb24ubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJpY2hUZXh0ID0gbmV3IFJpY2hUZXh0KHRoaXMuJGRlc2NyaXB0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4kcmVhZG1vcmUubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJpY2hUZXh0ID0gbmV3IFJpY2hUZXh0KHRoaXMuJHJlYWRtb3JlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4kcHJvZHVjdFJldmlld3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJldmlld0Zvcm0gPSBuZXcgRm9ybXModGhpcy4kcHJvZHVjdFJldmlld3MsICcuc3ByLWZvcm0taW5wdXQnKTtcbiAgICB9XG5cbiAgICAvLyBJbnN0YW50aWF0ZSBQcm9kdWN0RGV0YWlscyBhZnRlciBTaG9waWZ5IEFQSSBpcyBsb2FkZWRcbiAgICAkc2NyaXB0KCQoJ1tkYXRhLXNjcmlwdHNdJykuZGF0YSgnc2hvcGlmeS1hcGktdXJsJyksICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICRmb3JtQXJlYTogdGhpcy4kZm9ybUFyZWEsXG4gICAgICAgIGdhbGxlcnksXG4gICAgICAgICRkZXRhaWxzOiB0aGlzLiRkZXRhaWxzLFxuICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzLFxuICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsXG4gICAgICAgIG1vZGVsczogdGhpcy5tb2RlbHMsXG4gICAgICAgIHVzZUhpc3Rvcnk6IHRoaXMudXNlSGlzdG9yeSxcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucHJvZHVjdERldGFpbHMgPSBuZXcgUHJvZHVjdERldGFpbHMob3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNob3J0Y29kZXMgPSBuZXcgU2hvcnRjb2RlcyhzZWN0aW9uLmVsKTtcbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICBicmVha3BvaW50Lm9mZkNoYW5nZSh0aGlzLmxheW91dEhhbmRsZXIpO1xuICAgIHRoaXMucHJvZHVjdERldGFpbHMudW5sb2FkKCk7XG5cbiAgICBpZiAodGhpcy5yaWNoVGV4dCkge1xuICAgICAgdGhpcy5yaWNoVGV4dC51bmxvYWQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZXZpZXdGb3JtKSB7XG4gICAgICB0aGlzLnJldmlld0Zvcm0udW5sb2FkKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2hvcnRjb2Rlcykge1xuICAgICAgdGhpcy5zaG9ydGNvZGVzLnVubG9hZCgpO1xuICAgIH1cbiAgfVxuXG4gIG9uQnJlYWtwb2ludENoYW5nZSgpIHtcbiAgICB0aGlzLl9tb3ZlRm9ybSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgcHJvZHVjdCBmb3JtIGlmIGlzIGEgdGhyZWUgY29sdW1uIGxheW91dFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX21vdmVGb3JtKCkge1xuICAgIGlmICghdGhpcy5pc1RocmVlQ29sdW1uKSByZXR1cm47XG5cbiAgICBpZiAoYnJlYWtwb2ludC5taW4oJ0wnKSkge1xuICAgICAgaWYgKCEkLmNvbnRhaW5zKHRoaXMuJGZvcm1BbHRbMF0sIHRoaXMuJGZvcm1BcmVhWzBdKSkge1xuICAgICAgICBjb25zdCAkZm9ybSA9IHRoaXMuJGZvcm1BcmVhLmRldGFjaCgpO1xuICAgICAgICB0aGlzLiRmb3JtQWx0LmFwcGVuZCgkZm9ybSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghJC5jb250YWlucyh0aGlzLiRmb3JtUmVndWxhclswXSwgdGhpcy4kZm9ybUFyZWFbMF0pKSB7XG4gICAgICAgIGNvbnN0ICRmb3JtID0gdGhpcy4kZm9ybUFyZWEuZGV0YWNoKCk7XG4gICAgICAgIHRoaXMuJGZvcm1SZWd1bGFyLmFwcGVuZCgkZm9ybSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticProduct.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticProductRecommendations.js":
/*!*****************************************************************!*\
  !*** ./source/scripts/sections/StaticProductRecommendations.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticProductRecommendations; });\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var shopify_asyncview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! shopify-asyncview */ \"./node_modules/shopify-asyncview/dist/index.es.js\");\n/* harmony import */ var _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ProductGridItem */ \"./source/scripts/components/ProductGridItem.js\");\n/* harmony import */ var _components_ProductRowScroller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ProductRowScroller */ \"./source/scripts/components/ProductRowScroller.js\");\n/* harmony import */ var _helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/ProductReviews */ \"./source/scripts/helpers/ProductReviews.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n // eslint-disable-line\n\n\n\n\n\n\nvar StaticProductRecommendations = /*#__PURE__*/function () {\n  function StaticProductRecommendations(section) {\n    _classCallCheck(this, StaticProductRecommendations);\n\n    this.section = section;\n    this.productId = section.data.productId;\n    this.limit = section.data.settings.limit;\n    this.recommendedProducts = [];\n    this.productsScroller = null;\n    this.recommendationContainer = document.querySelector('[data-product-recommendations]');\n    this.recommendUrl = \"\".concat(window.Theme.routes.product_recommendations_url, \"?section_id=static-product-recommendations&limit=\").concat(this.limit, \"&product_id=\").concat(this.productId);\n    this._loadRecommendations = this._loadRecommendations.bind(this);\n    this._resizeRowScroller = this._resizeRowScroller.bind(this);\n\n    this._loadRecommendations();\n  }\n\n  _createClass(StaticProductRecommendations, [{\n    key: \"_loadRecommendations\",\n    value: function _loadRecommendations() {\n      var _this = this;\n\n      shopify_asyncview__WEBPACK_IMPORTED_MODULE_1__[\"default\"].load(this.recommendUrl, {\n        view: ''\n      }).then(function (_ref) {\n        var html = _ref.html;\n        _this.recommendationContainer.innerHTML = html;\n        rimg_shopify__WEBPACK_IMPORTED_MODULE_0__[\"default\"].watch(_this.recommendationContainer);\n\n        var productItems = _this.recommendationContainer.querySelectorAll('[data-product-item]');\n\n        if (productItems.length) {\n          productItems.forEach(function (productItem) {\n            var productData = JSON.parse(productItem.querySelector('[data-product-data]').innerHTML);\n\n            _this.recommendedProducts.push(new _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n              $el: $(productItem),\n              id: _this.section.id,\n              product: productData,\n              lazy: true\n            }));\n          });\n          Object(_helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n\n          if (window.Shopify && Shopify.PaymentButton) {\n            Shopify.PaymentButton.init();\n          }\n\n          _this.recommendationContainer.addEventListener('rimg:load', _this._resizeRowScroller);\n\n          _this.productsScroller = new _components_ProductRowScroller__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_this.section.el.querySelector('[data-product-row]'));\n        }\n      });\n    }\n  }, {\n    key: \"_resizeRowScroller\",\n    value: function _resizeRowScroller() {\n      if (this.productsScroller && this.productsScroller.flickity) {\n        this.productsScroller.flickity.resize();\n      }\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      if (this.productsScroller) {\n        this.productsScroller.unload();\n      }\n\n      this.recommendedProducts.forEach(function (productItem) {\n        productItem.unload();\n      });\n      this.recommendationContainer.removeEventListener('rimg:load', this._resizeRowScroller);\n    }\n  }]);\n\n  return StaticProductRecommendations;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNQcm9kdWN0UmVjb21tZW5kYXRpb25zLmpzP2FiOGYiXSwibmFtZXMiOlsiU3RhdGljUHJvZHVjdFJlY29tbWVuZGF0aW9ucyIsInNlY3Rpb24iLCJwcm9kdWN0SWQiLCJkYXRhIiwibGltaXQiLCJzZXR0aW5ncyIsInJlY29tbWVuZGVkUHJvZHVjdHMiLCJwcm9kdWN0c1Njcm9sbGVyIiwicmVjb21tZW5kYXRpb25Db250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZWNvbW1lbmRVcmwiLCJ3aW5kb3ciLCJUaGVtZSIsInJvdXRlcyIsInByb2R1Y3RfcmVjb21tZW5kYXRpb25zX3VybCIsIl9sb2FkUmVjb21tZW5kYXRpb25zIiwiYmluZCIsIl9yZXNpemVSb3dTY3JvbGxlciIsIkFzeW5jVmlldyIsImxvYWQiLCJ2aWV3IiwidGhlbiIsImh0bWwiLCJpbm5lckhUTUwiLCJyaW1nIiwid2F0Y2giLCJwcm9kdWN0SXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiZm9yRWFjaCIsInByb2R1Y3RJdGVtIiwicHJvZHVjdERhdGEiLCJKU09OIiwicGFyc2UiLCJwdXNoIiwiUHJvZHVjdEdyaWRJdGVtIiwiJGVsIiwiJCIsImlkIiwicHJvZHVjdCIsImxhenkiLCJpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzIiwiU2hvcGlmeSIsIlBheW1lbnRCdXR0b24iLCJpbml0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIlByb2R1Y3RSb3dTY3JvbGxlciIsImVsIiwiZmxpY2tpdHkiLCJyZXNpemUiLCJ1bmxvYWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0NBQWlDOztBQUNqQztBQUVBO0FBQ0E7QUFDQTs7SUFFcUJBLDRCO0FBQ25CLHdDQUFZQyxPQUFaLEVBQXFCO0FBQUE7O0FBQ25CLFNBQUtBLE9BQUwsR0FBZUEs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Q0FBQ29CLE1BQVo7QUFDRCxPQUZEO0FBSUEsV0FBSzNDLHVCQUFMLENBQTZCNEMsbUJBQTdCLENBQWlELFdBQWpELEVBQThELEtBQUtsQyxrQkFBbkU7QUFDRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL1N0YXRpY1Byb2R1Y3RSZWNvbW1lbmRhdGlvbnMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmltZyBmcm9tICdyaW1nLXNob3BpZnknOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5pbXBvcnQgQXN5bmNWaWV3IGZyb20gJ3Nob3BpZnktYXN5bmN2aWV3JztcblxuaW1wb3J0IFByb2R1Y3RHcmlkSXRlbSBmcm9tICcuLi9jb21wb25lbnRzL1Byb2R1Y3RHcmlkSXRlbSc7XG5pbXBvcnQgUHJvZHVjdFJvd1Njcm9sbGVyIGZyb20gJy4uL2NvbXBvbmVudHMvUHJvZHVjdFJvd1Njcm9sbGVyJztcbmltcG9ydCBpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzIGZyb20gJy4uL2hlbHBlcnMvUHJvZHVjdFJldmlld3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0aWNQcm9kdWN0UmVjb21tZW5kYXRpb25zIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuc2VjdGlvbiA9IHNlY3Rpb247XG4gICAgdGhpcy5wcm9kdWN0SWQgPSBzZWN0aW9uLmRhdGEucHJvZHVjdElkO1xuICAgIHRoaXMubGltaXQgPSBzZWN0aW9uLmRhdGEuc2V0dGluZ3MubGltaXQ7XG4gICAgdGhpcy5yZWNvbW1lbmRlZFByb2R1Y3RzID0gW107XG4gICAgdGhpcy5wcm9kdWN0c1Njcm9sbGVyID0gbnVsbDtcblxuICAgIHRoaXMucmVjb21tZW5kYXRpb25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LXJlY29tbWVuZGF0aW9uc10nKTtcblxuICAgIHRoaXMucmVjb21tZW5kVXJsID0gYCR7d2luZG93LlRoZW1lLnJvdXRlcy5wcm9kdWN0X3JlY29tbWVuZGF0aW9uc191cmx9P3NlY3Rpb25faWQ9c3RhdGljLXByb2R1Y3QtcmVjb21tZW5kYXRpb25zJmxpbWl0PSR7dGhpcy5saW1pdH0mcHJvZHVjdF9pZD0ke3RoaXMucHJvZHVjdElkfWA7XG5cbiAgICB0aGlzLl9sb2FkUmVjb21tZW5kYXRpb25zID0gdGhpcy5fbG9hZFJlY29tbWVuZGF0aW9ucy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3Jlc2l6ZVJvd1Njcm9sbGVyID0gdGhpcy5fcmVzaXplUm93U2Nyb2xsZXIuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2xvYWRSZWNvbW1lbmRhdGlvbnMoKTtcbiAgfVxuXG4gIF9sb2FkUmVjb21tZW5kYXRpb25zKCkge1xuICAgIEFzeW5jVmlldy5sb2FkKFxuICAgICAgdGhpcy5yZWNvbW1lbmRVcmwsXG4gICAgICB7IHZpZXc6ICcnIH1cbiAgICApLnRoZW4oKHsgaHRtbCB9KSA9PiB7XG4gICAgICB0aGlzLnJlY29tbWVuZGF0aW9uQ29udGFpbmVyLmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICAgIHJpbWcud2F0Y2godGhpcy5yZWNvbW1lbmRhdGlvbkNvbnRhaW5lcik7XG5cbiAgICAgIGNvbnN0IHByb2R1Y3RJdGVtcyA9IHRoaXMucmVjb21tZW5kYXRpb25Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC1pdGVtXScpO1xuICAgICAgaWYgKHByb2R1Y3RJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcHJvZHVjdEl0ZW1zLmZvckVhY2gocHJvZHVjdEl0ZW0gPT4ge1xuICAgICAgICAgIGNvbnN0IHByb2R1Y3REYXRhID0gSlNPTi5wYXJzZShwcm9kdWN0SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LWRhdGFdJykuaW5uZXJIVE1MKTtcbiAgICAgICAgICB0aGlzLnJlY29tbWVuZGVkUHJvZHVjdHMucHVzaChuZXcgUHJvZHVjdEdyaWRJdGVtKHtcbiAgICAgICAgICAgICRlbDogJChwcm9kdWN0SXRlbSksXG4gICAgICAgICAgICBpZDogdGhpcy5zZWN0aW9uLmlkLFxuICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdERhdGEsXG4gICAgICAgICAgICBsYXp5OiB0cnVlLFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaW5pdFNob3BpZnlQcm9kdWN0UmV2aWV3cygpO1xuXG4gICAgICAgIGlmICh3aW5kb3cuU2hvcGlmeSAmJiBTaG9waWZ5LlBheW1lbnRCdXR0b24pIHtcbiAgICAgICAgICBTaG9waWZ5LlBheW1lbnRCdXR0b24uaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvbW1lbmRhdGlvbkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdyaW1nOmxvYWQnLCB0aGlzLl9yZXNpemVSb3dTY3JvbGxlcik7XG4gICAgICAgIHRoaXMucHJvZHVjdHNTY3JvbGxlciA9IG5ldyBQcm9kdWN0Um93U2Nyb2xsZXIodGhpcy5zZWN0aW9uLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3Qtcm93XScpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9yZXNpemVSb3dTY3JvbGxlcigpIHtcbiAgICBpZiAodGhpcy5wcm9kdWN0c1Njcm9sbGVyICYmIHRoaXMucHJvZHVjdHNTY3JvbGxlci5mbGlja2l0eSkge1xuICAgICAgdGhpcy5wcm9kdWN0c1Njcm9sbGVyLmZsaWNraXR5LnJlc2l6ZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICBpZiAodGhpcy5wcm9kdWN0c1Njcm9sbGVyKSB7XG4gICAgICB0aGlzLnByb2R1Y3RzU2Nyb2xsZXIudW5sb2FkKCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWNvbW1lbmRlZFByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3RJdGVtKSA9PiB7XG4gICAgICBwcm9kdWN0SXRlbS51bmxvYWQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMucmVjb21tZW5kYXRpb25Db250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmltZzpsb2FkJywgdGhpcy5fcmVzaXplUm93U2Nyb2xsZXIpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticProductRecommendations.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticRecentlyViewed.js":
/*!*********************************************************!*\
  !*** ./source/scripts/sections/StaticRecentlyViewed.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticRecentlyViewed; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var _helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/ProductReviews */ \"./source/scripts/helpers/ProductReviews.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar StaticRecentlyViewed = /*#__PURE__*/function () {\n  function StaticRecentlyViewed(section) {\n    var _this = this;\n\n    _classCallCheck(this, StaticRecentlyViewed);\n\n    this.namespace = 'pxu';\n    this.maxRecentlyViewed = 30; // Store a max of 30 items\n\n    this.maxStorageTime = 30 * 24 * 3600; // Store items for 30 days only\n\n    this.version = \"\".concat(section.data.currency, \"-\").concat(window.Theme.routes.root_url); // Version key is used to update localstorage when format changes\n\n    this.storageKey = \"\".concat(this.namespace, \"-recentlyViewed-\").concat(this.version);\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.recentlyViewed = section.data.recently_viewed_info;\n    this.time = section.data.time;\n    this.flickity = null;\n    this.cardSettings = section.data.product_card_settings;\n\n    if (this.recentlyViewed && this.time) {\n      this.recentlyViewed.timestamp = Math.round(new Date().getTime() / 1000);\n    }\n\n    this.slideImageLoaded = this._onSlideImageLoaded.bind(this);\n\n    if (this.time) {\n      var _recentlyViewed = this._getRecentlyViewed();\n\n      if (this.recentlyViewed) {\n        this.removeRecentlyViewed(this.recentlyViewed.handle, _recentlyViewed);\n\n        _recentlyViewed.push(this.recentlyViewed);\n      }\n\n      var promises = this._setRecentlyViewed(_recentlyViewed); // Wait until promises are resolved before inserting markup into the DOM\n\n\n      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.when.apply(jquery__WEBPACK_IMPORTED_MODULE_0___default.a, _toConsumableArray(promises)).done(function () {\n        if (_recentlyViewed.length) {\n          var cardsMarkup = _this._getRecentlyViewedCards();\n\n          var cardsData = _this._getRecentlyViewed();\n\n          _this.$el.find('[data-recently-viewed-container]').append(cardsMarkup);\n\n          if (jquery__WEBPACK_IMPORTED_MODULE_0___default()('.spr-badge', _this.$el)) {\n            Object(_helpers_ProductReviews__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n          }\n\n          cardsData.map(function (productData) {\n            var timestamp = _this.timeSince(productData.timestamp);\n\n            jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"[data-product-handle=\".concat(productData.handle, \"]\")).prepend(timestamp);\n          });\n          rimg_shopify__WEBPACK_IMPORTED_MODULE_2__[\"default\"].watch(_this.$el[0]);\n          _this.$carousel = _this.$el.find('.product-recently-viewed--content');\n          _this.slides = '.product-recently-viewed-card';\n\n          if (_this.$carousel.find(_this.slides).length > 1) {\n            _this._initSlider();\n          }\n        } else {\n          _this.$el.find('.product-recently-viewed--section').addClass('hide');\n        }\n      });\n    } else {\n      if (this.recentlyViewed) {\n        recentlyViewed.push(this.recentlyViewed);\n\n        this._setRecentlyViewed(recentlyViewed);\n      }\n\n      this.$el.find('.product-recently-viewed--section').addClass('hide');\n    }\n\n    this.bindEvents();\n  }\n\n  _createClass(StaticRecentlyViewed, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this2 = this;\n\n      this.$el.on('click.recently-viewed', '[data-remove-recently-viewed]', function (event) {\n        var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget);\n        var handle = $target.closest('[data-product-handle]').data('product-handle');\n\n        var recentlyViewed = _this2._getRecentlyViewed();\n\n        _this2.removeRecentlyViewed(handle, recentlyViewed);\n\n        _this2._setRecentlyViewed(recentlyViewed);\n\n        $target.parents('[data-recently-viewed-card]').addClass('hide-card');\n        $target.parents('[data-recently-viewed-card]').nextAll().addClass('move-card');\n        setTimeout(function () {\n          var index = $target.parents('[data-recently-viewed-card]').index();\n\n          if (index !== 0) {\n            index--;\n          }\n\n          $target.parents('[data-recently-viewed-card]').nextAll().removeClass('move-card');\n\n          if ($target.parents('[data-recently-viewed-card]').length) {\n            _this2.flickity.remove($target.parents('[data-recently-viewed-card]'));\n          }\n\n          _this2.flickity.selectCell(index);\n        }, 500);\n      });\n      this.$el.on('click.recently-viewed', '[data-clear-recently-viewed]', function (event) {\n        _this2.clearRecentlyViewed();\n      });\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.$el.off('.recently-viewed');\n\n      if (this.$carousel && this.$carousel[0]) {\n        this.$carousel[0].removeEventListener('rimg:load', this.slideImageLoaded);\n      }\n    }\n  }, {\n    key: \"timeSince\",\n    value: function timeSince(timestamp) {\n      var now = Math.round(new Date().getTime() / 1000);\n      var secondsPast = now - timestamp;\n\n      if (secondsPast < 60) {\n        var secondsAgo = parseInt(secondsPast);\n        return secondsAgo === 1 ? \"\".concat(secondsAgo, \" \").concat(this.time.second, \" \").concat(this.time.ago) : \"\".concat(secondsAgo, \" \").concat(this.time.seconds, \" \").concat(this.time.ago);\n      }\n\n      if (secondsPast < 3600) {\n        var minutesAgo = parseInt(secondsPast / 60);\n        return minutesAgo === 1 ? \"\".concat(minutesAgo, \" \").concat(this.time.minute, \" \").concat(this.time.ago) : \"\".concat(minutesAgo, \" \").concat(this.time.minutes, \" \").concat(this.time.ago);\n      }\n\n      if (secondsPast <= 86400) {\n        var hoursAgo = parseInt(secondsPast / 3600);\n        return hoursAgo === 1 ? \"\".concat(hoursAgo, \" \").concat(this.time.hour, \" \").concat(this.time.ago) : \"\".concat(hoursAgo, \" \").concat(this.time.hours, \" \").concat(this.time.ago);\n      }\n\n      if (secondsPast > 86400) {\n        var date = new Date(timestamp * 1000);\n        var currentDate = new Date(now * 1000);\n        var day = date.getDate();\n        var month = date.toDateString().match(/ [a-zA-Z]*/)[0].replace(' ', '');\n        var year = date.getFullYear() === currentDate.getFullYear() ? '' : \", \".concat(date.getFullYear());\n        return \"\".concat(month, \" \").concat(day, \" \").concat(year);\n      }\n    }\n  }, {\n    key: \"removeRecentlyViewed\",\n    value: function removeRecentlyViewed(handle, recentlyViewed) {\n      for (var i = 0; i < recentlyViewed.length; i++) {\n        if (recentlyViewed[i].handle === handle) {\n          recentlyViewed.splice(i, 1);\n        }\n      }\n\n      this._setRecentlyViewed(recentlyViewed);\n\n      var cards = sessionStorage.getItem(this.storageKey) ? JSON.parse(sessionStorage.getItem(this.storageKey)) : {};\n      delete cards[handle];\n      sessionStorage.setItem(this.storageKey, JSON.stringify(cards));\n\n      if (recentlyViewed.length === 0) {\n        this.$el.find('.product-recently-viewed--section').addClass('hide');\n      }\n\n      if (this.$carousel) {\n        this.$carousel[0].removeEventListener('rimg:load', this.slideImageLoaded);\n      }\n    }\n  }, {\n    key: \"clearRecentlyViewed\",\n    value: function clearRecentlyViewed() {\n      localStorage.removeItem(this.storageKey);\n      sessionStorage.removeItem(this.storageKey);\n      this.$el.find('[data-recently-viewed-card]').remove();\n      this.$el.find('.product-recently-viewed--section').addClass('hide');\n    }\n  }, {\n    key: \"_onSlideImageLoaded\",\n    value: function _onSlideImageLoaded() {\n      this.flickity.resize();\n    }\n  }, {\n    key: \"_initSlider\",\n    value: function _initSlider() {\n      this.flickityOptions = {\n        autoPlay: 0,\n        accessibility: true,\n        cellAlign: 'left',\n        cellSelector: this.slides,\n        groupCells: true,\n        pageDots: false,\n        contain: true,\n        arrowShape: {\n          x0: 10,\n          x1: 60,\n          y1: 50,\n          x2: 65,\n          y2: 45,\n          x3: 20\n        }\n      };\n      this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_1___default.a(this.$carousel[0], this.flickityOptions);\n      this.$carousel[0].addEventListener('rimg:load', this.slideImageLoaded);\n    }\n    /**\n     * Store recently viewed products\n     *\n     * @param {Object[]} productData - recently viewed products\n     * @param {number} productData[].timestamp - Timestamp indicating when product was added to productData\n     * @param {string} productData[].handle - Shopify product handle\n     * @private\n     */\n\n  }, {\n    key: \"_setRecentlyViewed\",\n    value: function _setRecentlyViewed(productData) {\n      var _this3 = this;\n\n      var now = Math.floor(Date.now() / 1000); // Unix timestamp for current date\n\n      var minStorageTimestamp = now - this.maxStorageTime;\n      var filteredData = productData.filter(function (item) {\n        return item.timestamp > minStorageTimestamp;\n      });\n\n      if (filteredData.length > this.maxRecentlyViewed) {\n        var removeCount = filteredData.length - this.maxRecentlyViewed;\n        filteredData.splice(0, removeCount); // Remove oldest if more than max number have been stored\n      }\n\n      try {\n        localStorage.setItem(this.storageKey, JSON.stringify(filteredData));\n      } catch (error) {\n        console.warn(error);\n      } // Retrieve markup for recently viewed cards and store in session\n\n\n      try {\n        var handles = filteredData ? filteredData.map(function (x) {\n          return x.handle;\n        }) : [];\n        var storedCards = sessionStorage.getItem(this.storageKey) ? JSON.parse(sessionStorage.getItem(this.storageKey)) : {};\n\n        if (storedCards.cardSettings) {\n          for (var key in storedCards.cardSettings) {\n            if (storedCards.cardSettings[key] !== this.cardSettings[key]) {\n              storedCards = {};\n              sessionStorage.removeItem(this.storageKey);\n              break;\n            }\n          }\n        }\n\n        storedCards.cardSettings = this.cardSettings;\n        var promises = handles.map(function (handle) {\n          if (storedCards[handle]) {\n            return;\n          }\n\n          var fetchUrl = \"\".concat(window.Theme.routes.all_products_collection_url, \"/products/\").concat(handle, \"?view=_recently-viewed\");\n          return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.get(fetchUrl).catch(function (error) {\n            return console.error('Error:', error);\n          }).then(function (response) {\n            if (response) {\n              storedCards[handle] = response;\n\n              try {\n                sessionStorage.setItem(_this3.storageKey, JSON.stringify(storedCards));\n              } catch (error) {\n                console.warn(error);\n              }\n            }\n          });\n        });\n        return promises;\n      } catch (error) {\n        console.warn(error);\n        return false;\n      }\n    }\n    /**\n     * Get stored recently viewed products\n     *\n     * @returns {Array}\n     * @private\n     */\n\n  }, {\n    key: \"_getRecentlyViewed\",\n    value: function _getRecentlyViewed() {\n      try {\n        var _recentlyViewed2 = localStorage.getItem(this.storageKey) ? JSON.parse(localStorage.getItem(this.storageKey)) : [];\n\n        return _recentlyViewed2;\n      } catch (error) {\n        console.warn(error);\n        return [];\n      }\n    }\n  }, {\n    key: \"_getRecentlyViewedCards\",\n    value: function _getRecentlyViewedCards() {\n      var cards = sessionStorage.getItem(this.storageKey) ? JSON.parse(sessionStorage.getItem(this.storageKey)) : {};\n      var orderedItems = localStorage.getItem(this.storageKey) ? JSON.parse(localStorage.getItem(this.storageKey)) : {};\n      var markup = [];\n\n      for (var i = orderedItems.length - 1; i >= 0; i--) {\n        var cardKey = orderedItems[i].handle;\n        markup.push(cards[cardKey]);\n      }\n\n      return markup.join('');\n    }\n  }]);\n\n  return StaticRecentlyViewed;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNSZWNlbnRseVZpZXdlZC5qcz9iMzE4Il0sIm5hbWVzIjpbIlN0YXRpY1JlY2VudGx5Vmlld2VkIiwic2VjdGlvbiIsIm5hbWVzcGFjZSIsIm1heFJlY2VudGx5Vmlld2VkIiwibWF4U3RvcmFnZVRpbWUiLCJ2ZXJzaW9uIiwiZGF0YSIsImN1cnJlbmN5Iiwid2luZG93IiwiVGhlbWUiLCJyb3V0ZXMiLCJyb290X3VybCIsInN0b3JhZ2VLZXkiLCIkZWwiLCIkIiwiZWwiLCJyZWNlbnRseVZpZXdlZCIsInJlY2VudGx5X3ZpZXdlZF9pbmZvIiwidGltZSIsImZsaWNraXR5IiwiY2FyZFNldHRpbmdzIiwicHJvZHVjdF9jYXJkX3NldHRpbmdzIiwidGltZXN0YW1wIiwiTWF0aCIsInJvdW5kIiwiRGF0ZSIsImdldFRpbWUiLCJzbGlkZUltYWdlTG9hZGVkIiwiX29uU2xpZGVJbWFnZUxvYWRlZCIsImJpbmQiLCJfZ2V0UmVjZW50bHlWaWV3ZWQiLCJyZW1vdmVSZWNlbnRseVZpZXdlZCIsImhhbmRsZSIsInB1c2giLCJwcm9taXNlcyIsIl9zZXRSZWNlbnRseVZpZXdlZCIsIndoZW4iLCJkb25lIiwibGVuZ3RoIiwiY2FyZHNNYXJrdXAiLCJfZ2V0UmVjZW50bHlWaWV3ZWRDYXJkcyIsImNhcmRzRGF0YSIsImZpbmQiLCJhcHBlbmQiLCJpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzIiwibWFwIiwicHJvZHVjdERhdGEiLCJ0aW1lU2luY2UiLCJwcmVwZW5kIiwicmltZyIsIndhdGNoIiwiJGNhcm91c2VsIiwic2xpZGVzIiwiX2luaXRTbGlkZXIiLCJhZGRDbGFzcyIsImJpbmRFdmVudHMiLCJvbiIsImV2ZW50IiwiJHRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjbG9zZXN0IiwicGFyZW50cyIsIm5leHRBbGwiLCJzZXRUaW1lb3V0IiwiaW5kZXgiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsInNlbGVjdENlbGwiLCJjbGVhclJlY2VudGx5Vmlld2VkIiwib2ZmIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm5vdyIsInNlY29uZHNQYXN0Iiwic2Vjb25kc0FnbyIsInBhcnNlSW50Iiwic2Vjb25kIiwiYWdvIiwic2Vjb25kcyIsIm1pbnV0ZXNBZ28iLCJtaW51dGUiLCJtaW51dGVzIiwiaG91cnNBZ28iLCJob3VyIiwiaG91cnMiLCJkYXRlIiwiY3VycmVudERhdGUiLCJkYXkiLCJnZXREYXRlIiwibW9udGgiLCJ0b0RhdGVTdHJpbmciLCJtYXRjaCIsInJlcGxhY2UiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJpIiwic3BsaWNlIiwiY2FyZHMiLCJzZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInJlc2l6ZSIsImZsaWNraXR5T3B0aW9ucyIsImF1dG9QbGF5IiwiYWNjZXNzaWJpbGl0eSIsImNlbGxBbGlnbiIsImNlbGxTZWxlY3RvciIsImdyb3VwQ2VsbHMiLCJwYWdlRG90cyIsImNvbnRhaW4iLCJhcnJvd1NoYXBlIiwieDAiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIngzIiwiRmxpY2tpdHkiLCJhZGRFdmVudExpc3RlbmVyIiwiZmxvb3IiLCJtaW5TdG9yYWdlVGltZXN0YW1wIiwiZmlsdGVyZWREYXRhIiwiZmlsdGVyIiwiaXRlbSIsInJlbW92ZUNvdW50IiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImhhbmRsZXMiLCJ4Iiwic3RvcmVkQ2FyZHMiLCJrZXkiLCJmZXRjaFVybCIsImFsbF9wcm9kdWN0c19jb2xsZWN0aW9uX3VybCIsImdldCIsImNhdGNoIiwidGhlbiIsInJlc3BvbnNlIiwib3JkZXJlZEl0ZW1zIiwibWFya3VwIiwiY2FyZEtleSIsImpvaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FB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QUksQ0FBQ0MsS0FBTCxDQUFXRyxZQUFZLENBQUNMLE9BQWIsQ0FBcUIsS0FBS3RGLFVBQTFCLENBQVgsQ0FEaUIsR0FFakIsRUFGSjtBQUlBLFVBQU1tSSxNQUFNLEdBQUcsRUFBZjs7QUFFQSxXQUFLLElBQUlqRCxDQUFDLEdBQUdnRCxZQUFZLENBQUN4RyxNQUFiLEdBQW9CLENBQWpDLEVBQW9Dd0QsQ0FBQyxJQUFJLENBQXpDLEVBQTRDQSxDQUFDLEVBQTdDLEVBQWlEO0FBQy9DLFlBQU1rRCxPQUFPLEdBQUdGLFlBQVksQ0FBQ2hELENBQUQsQ0FBWixDQUFnQjlELE1BQWhDO0FBQ0ErRyxjQUFNLENBQUM5RyxJQUFQLENBQVkrRCxLQUFLLENBQUNnRCxPQUFELENBQWpCO0FBQ0Q7O0FBRUQsYUFBT0QsTUFBTSxDQUFDRSxJQUFQLENBQVksRUFBWixDQUFQO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNSZWNlbnRseVZpZXdlZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgRmxpY2tpdHkgZnJvbSAnZmxpY2tpdHknO1xuaW1wb3J0IHJpbWcgZnJvbSAncmltZy1zaG9waWZ5JztcbmltcG9ydCBpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzIGZyb20gJy4uL2hlbHBlcnMvUHJvZHVjdFJldmlld3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0aWNSZWNlbnRseVZpZXdlZCB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLm5hbWVzcGFjZSA9ICdweHUnO1xuICAgIHRoaXMubWF4UmVjZW50bHlWaWV3ZWQgPSAzMDsgLy8gU3RvcmUgYSBtYXggb2YgMzAgaXRlbXNcbiAgICB0aGlzLm1heFN0b3JhZ2VUaW1lID0gMzAgKiAyNCAqIDM2MDA7IC8vIFN0b3JlIGl0ZW1zIGZvciAzMCBkYXlzIG9ubHlcbiAgICB0aGlzLnZlcnNpb24gPSBgJHtzZWN0aW9uLmRhdGEuY3VycmVuY3l9LSR7d2luZG93LlRoZW1lLnJvdXRlcy5yb290X3VybH1gOyAvLyBWZXJzaW9uIGtleSBpcyB1c2VkIHRvIHVwZGF0ZSBsb2NhbHN0b3JhZ2Ugd2hlbiBmb3JtYXQgY2hhbmdlc1xuICAgIHRoaXMuc3RvcmFnZUtleSA9IGAke3RoaXMubmFtZXNwYWNlfS1yZWNlbnRseVZpZXdlZC0ke3RoaXMudmVyc2lvbn1gO1xuICAgIHRoaXMuJGVsID0gJChzZWN0aW9uLmVsKTtcbiAgICB0aGlzLnJlY2VudGx5Vmlld2VkID0gc2VjdGlvbi5kYXRhLnJlY2VudGx5X3ZpZXdlZF9pbmZvO1xuICAgIHRoaXMudGltZSA9IHNlY3Rpb24uZGF0YS50aW1lO1xuICAgIHRoaXMuZmxpY2tpdHkgPSBudWxsO1xuICAgIHRoaXMuY2FyZFNldHRpbmdzID0gc2VjdGlvbi5kYXRhLnByb2R1Y3RfY2FyZF9zZXR0aW5ncztcblxuICAgIGlmICh0aGlzLnJlY2VudGx5Vmlld2VkICYmIHRoaXMudGltZSkge1xuICAgICAgdGhpcy5yZWNlbnRseVZpZXdlZC50aW1lc3RhbXAgPSBNYXRoLnJvdW5kKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICB9XG5cbiAgICB0aGlzLnNsaWRlSW1hZ2VMb2FkZWQgPSB0aGlzLl9vblNsaWRlSW1hZ2VMb2FkZWQuYmluZCh0aGlzKTtcblxuICAgIGlmICh0aGlzLnRpbWUpIHtcbiAgICAgIGNvbnN0IHJlY2VudGx5Vmlld2VkID0gdGhpcy5fZ2V0UmVjZW50bHlWaWV3ZWQoKTtcbiAgICAgIGlmICh0aGlzLnJlY2VudGx5Vmlld2VkKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUmVjZW50bHlWaWV3ZWQodGhpcy5yZWNlbnRseVZpZXdlZC5oYW5kbGUsIHJlY2VudGx5Vmlld2VkKTtcblxuICAgICAgICByZWNlbnRseVZpZXdlZC5wdXNoKHRoaXMucmVjZW50bHlWaWV3ZWQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9taXNlcyA9IHRoaXMuX3NldFJlY2VudGx5Vmlld2VkKHJlY2VudGx5Vmlld2VkKTtcblxuICAgICAgLy8gV2FpdCB1bnRpbCBwcm9taXNlcyBhcmUgcmVzb2x2ZWQgYmVmb3JlIGluc2VydGluZyBtYXJrdXAgaW50byB0aGUgRE9NXG4gICAgICAkLndoZW4oLi4ucHJvbWlzZXMpLmRvbmUoKCkgPT4ge1xuICAgICAgICBpZiAocmVjZW50bHlWaWV3ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgY2FyZHNNYXJrdXAgPSB0aGlzLl9nZXRSZWNlbnRseVZpZXdlZENhcmRzKCk7XG4gICAgICAgICAgY29uc3QgY2FyZHNEYXRhID0gdGhpcy5fZ2V0UmVjZW50bHlWaWV3ZWQoKTtcbiAgICAgICAgICB0aGlzLiRlbC5maW5kKCdbZGF0YS1yZWNlbnRseS12aWV3ZWQtY29udGFpbmVyXScpLmFwcGVuZChjYXJkc01hcmt1cCk7XG5cbiAgICAgICAgICBpZiAoJCgnLnNwci1iYWRnZScsIHRoaXMuJGVsKSl7XG4gICAgICAgICAgICBpbml0U2hvcGlmeVByb2R1Y3RSZXZpZXdzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FyZHNEYXRhLm1hcCgocHJvZHVjdERhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRoaXMudGltZVNpbmNlKHByb2R1Y3REYXRhLnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAkKGBbZGF0YS1wcm9kdWN0LWhhbmRsZT0ke3Byb2R1Y3REYXRhLmhhbmRsZX1dYClcbiAgICAgICAgICAgICAgLnByZXBlbmQodGltZXN0YW1wKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJpbWcud2F0Y2godGhpcy4kZWxbMF0pO1xuICAgICAgICAgIHRoaXMuJGNhcm91c2VsID0gdGhpcy4kZWwuZmluZCgnLnByb2R1Y3QtcmVjZW50bHktdmlld2VkLS1jb250ZW50Jyk7XG4gICAgICAgICAgdGhpcy5zbGlkZXMgPSAnLnByb2R1Y3QtcmVjZW50bHktdmlld2VkLWNhcmQnO1xuXG4gICAgICAgICAgaWYgKHRoaXMuJGNhcm91c2VsLmZpbmQodGhpcy5zbGlkZXMpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRTbGlkZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnByb2R1Y3QtcmVjZW50bHktdmlld2VkLS1zZWN0aW9uJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnJlY2VudGx5Vmlld2VkKSB7XG4gICAgICAgIHJlY2VudGx5Vmlld2VkLnB1c2godGhpcy5yZWNlbnRseVZpZXdlZCk7XG4gICAgICAgIHRoaXMuX3NldFJlY2VudGx5Vmlld2VkKHJlY2VudGx5Vmlld2VkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4kZWwuZmluZCgnLnByb2R1Y3QtcmVjZW50bHktdmlld2VkLS1zZWN0aW9uJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICB9XG5cbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfVxuXG4gIGJpbmRFdmVudHMoKSB7XG4gICAgdGhpcy4kZWwub24oJ2NsaWNrLnJlY2VudGx5LXZpZXdlZCcsICdbZGF0YS1yZW1vdmUtcmVjZW50bHktdmlld2VkXScsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgJHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICBjb25zdCBoYW5kbGUgPSAkdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByb2R1Y3QtaGFuZGxlXScpLmRhdGEoJ3Byb2R1Y3QtaGFuZGxlJyk7XG4gICAgICBjb25zdCByZWNlbnRseVZpZXdlZCA9IHRoaXMuX2dldFJlY2VudGx5Vmlld2VkKCk7XG5cbiAgICAgIHRoaXMucmVtb3ZlUmVjZW50bHlWaWV3ZWQoaGFuZGxlLCByZWNlbnRseVZpZXdlZCk7XG4gICAgICB0aGlzLl9zZXRSZWNlbnRseVZpZXdlZChyZWNlbnRseVZpZXdlZCk7XG5cbiAgICAgICR0YXJnZXQucGFyZW50cygnW2RhdGEtcmVjZW50bHktdmlld2VkLWNhcmRdJykuYWRkQ2xhc3MoJ2hpZGUtY2FyZCcpO1xuICAgICAgJHRhcmdldC5wYXJlbnRzKCdbZGF0YS1yZWNlbnRseS12aWV3ZWQtY2FyZF0nKS5uZXh0QWxsKCkuYWRkQ2xhc3MoJ21vdmUtY2FyZCcpO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbGV0IGluZGV4ID0gJHRhcmdldC5wYXJlbnRzKCdbZGF0YS1yZWNlbnRseS12aWV3ZWQtY2FyZF0nKS5pbmRleCgpO1xuICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgJHRhcmdldC5wYXJlbnRzKCdbZGF0YS1yZWNlbnRseS12aWV3ZWQtY2FyZF0nKS5uZXh0QWxsKCkucmVtb3ZlQ2xhc3MoJ21vdmUtY2FyZCcpO1xuICAgICAgICBpZiAoJHRhcmdldC5wYXJlbnRzKCdbZGF0YS1yZWNlbnRseS12aWV3ZWQtY2FyZF0nKS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmZsaWNraXR5LnJlbW92ZSgkdGFyZ2V0LnBhcmVudHMoJ1tkYXRhLXJlY2VudGx5LXZpZXdlZC1jYXJkXScpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsaWNraXR5LnNlbGVjdENlbGwoaW5kZXgpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGVsLm9uKCdjbGljay5yZWNlbnRseS12aWV3ZWQnLCAnW2RhdGEtY2xlYXItcmVjZW50bHktdmlld2VkXScsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5jbGVhclJlY2VudGx5Vmlld2VkKCk7XG4gICAgfSk7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy4kZWwub2ZmKCcucmVjZW50bHktdmlld2VkJyk7XG5cbiAgICBpZiAodGhpcy4kY2Fyb3VzZWwgJiYgdGhpcy4kY2Fyb3VzZWxbMF0pIHtcbiAgICAgIHRoaXMuJGNhcm91c2VsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JpbWc6bG9hZCcsIHRoaXMuc2xpZGVJbWFnZUxvYWRlZCk7XG4gICAgfVxuICB9XG5cbiAgdGltZVNpbmNlKHRpbWVzdGFtcCkge1xuICAgIGNvbnN0IG5vdyA9IE1hdGgucm91bmQoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDApO1xuICAgIGNvbnN0IHNlY29uZHNQYXN0ID0gbm93IC0gdGltZXN0YW1wO1xuXG4gICAgaWYgKHNlY29uZHNQYXN0IDwgNjApIHtcbiAgICAgIGNvbnN0IHNlY29uZHNBZ28gPSBwYXJzZUludChzZWNvbmRzUGFzdCk7XG5cbiAgICAgIHJldHVybiBzZWNvbmRzQWdvID09PSAxXG4gICAgICAgID8gYCR7c2Vjb25kc0Fnb30gJHt0aGlzLnRpbWUuc2Vjb25kfSAke3RoaXMudGltZS5hZ299YFxuICAgICAgICA6IGAke3NlY29uZHNBZ299ICR7dGhpcy50aW1lLnNlY29uZHN9ICR7dGhpcy50aW1lLmFnb31gO1xuICAgIH1cblxuICAgIGlmIChzZWNvbmRzUGFzdCA8IDM2MDApIHtcbiAgICAgIGNvbnN0IG1pbnV0ZXNBZ28gPSBwYXJzZUludChzZWNvbmRzUGFzdCAvIDYwKTtcblxuICAgICAgcmV0dXJuIG1pbnV0ZXNBZ28gPT09IDFcbiAgICAgICAgPyBgJHttaW51dGVzQWdvfSAke3RoaXMudGltZS5taW51dGV9ICR7dGhpcy50aW1lLmFnb31gXG4gICAgICAgIDogYCR7bWludXRlc0Fnb30gJHt0aGlzLnRpbWUubWludXRlc30gJHt0aGlzLnRpbWUuYWdvfWA7XG4gICAgfVxuXG4gICAgaWYgKHNlY29uZHNQYXN0IDw9IDg2NDAwKSB7XG4gICAgICBjb25zdCBob3Vyc0FnbyA9IHBhcnNlSW50KHNlY29uZHNQYXN0IC8gMzYwMCk7XG5cbiAgICAgIHJldHVybiBob3Vyc0FnbyA9PT0gMVxuICAgICAgICA/IGAke2hvdXJzQWdvfSAke3RoaXMudGltZS5ob3VyfSAke3RoaXMudGltZS5hZ299YFxuICAgICAgICA6IGAke2hvdXJzQWdvfSAke3RoaXMudGltZS5ob3Vyc30gJHt0aGlzLnRpbWUuYWdvfWA7XG4gICAgfVxuXG4gICAgaWYgKHNlY29uZHNQYXN0ID4gODY0MDApIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXAgKiAxMDAwKTtcbiAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUobm93ICogMTAwMCk7XG4gICAgICBjb25zdCBkYXkgPSBkYXRlLmdldERhdGUoKTtcbiAgICAgIGNvbnN0IG1vbnRoID0gZGF0ZS50b0RhdGVTdHJpbmcoKS5tYXRjaCgvIFthLXpBLVpdKi8pWzBdLnJlcGxhY2UoJyAnLCAnJyk7XG4gICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpID09PSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICAgID8gJydcbiAgICAgICAgOiBgLCAke2RhdGUuZ2V0RnVsbFllYXIoKX1gO1xuXG4gICAgICByZXR1cm4gYCR7bW9udGh9ICR7ZGF5fSAke3llYXJ9YDtcbiAgICB9XG4gIH1cblxuICByZW1vdmVSZWNlbnRseVZpZXdlZChoYW5kbGUsIHJlY2VudGx5Vmlld2VkKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNlbnRseVZpZXdlZC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlY2VudGx5Vmlld2VkW2ldLmhhbmRsZSA9PT0gaGFuZGxlKSB7XG4gICAgICAgIHJlY2VudGx5Vmlld2VkLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc2V0UmVjZW50bHlWaWV3ZWQocmVjZW50bHlWaWV3ZWQpO1xuICAgIGNvbnN0IGNhcmRzID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpXG4gICAgICA/IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpKVxuICAgICAgOiB7fTtcblxuICAgIGRlbGV0ZSBjYXJkc1toYW5kbGVdO1xuXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGNhcmRzKSk7XG5cbiAgICBpZiAocmVjZW50bHlWaWV3ZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLiRlbC5maW5kKCcucHJvZHVjdC1yZWNlbnRseS12aWV3ZWQtLXNlY3Rpb24nKS5hZGRDbGFzcygnaGlkZScpO1xuICAgIH1cbiAgICBpZiAodGhpcy4kY2Fyb3VzZWwpIHtcbiAgICAgIHRoaXMuJGNhcm91c2VsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JpbWc6bG9hZCcsIHRoaXMuc2xpZGVJbWFnZUxvYWRlZCk7XG4gICAgfVxuICB9XG5cbiAgY2xlYXJSZWNlbnRseVZpZXdlZCgpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLnN0b3JhZ2VLZXkpO1xuICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5zdG9yYWdlS2V5KTtcbiAgICB0aGlzLiRlbC5maW5kKCdbZGF0YS1yZWNlbnRseS12aWV3ZWQtY2FyZF0nKS5yZW1vdmUoKTtcbiAgICB0aGlzLiRlbC5maW5kKCcucHJvZHVjdC1yZWNlbnRseS12aWV3ZWQtLXNlY3Rpb24nKS5hZGRDbGFzcygnaGlkZScpO1xuICB9XG5cbiAgX29uU2xpZGVJbWFnZUxvYWRlZCgpIHtcbiAgICB0aGlzLmZsaWNraXR5LnJlc2l6ZSgpO1xuICB9XG5cbiAgX2luaXRTbGlkZXIoKSB7XG4gICAgdGhpcy5mbGlja2l0eU9wdGlvbnMgPSB7XG4gICAgICBhdXRvUGxheTogMCxcbiAgICAgIGFjY2Vzc2liaWxpdHk6IHRydWUsXG4gICAgICBjZWxsQWxpZ246ICdsZWZ0JyxcbiAgICAgIGNlbGxTZWxlY3RvcjogdGhpcy5zbGlkZXMsXG4gICAgICBncm91cENlbGxzOiB0cnVlLFxuICAgICAgcGFnZURvdHM6IGZhbHNlLFxuICAgICAgY29udGFpbjogdHJ1ZSxcbiAgICAgIGFycm93U2hhcGU6IHtcbiAgICAgICAgeDA6IDEwLFxuICAgICAgICB4MTogNjAsXG4gICAgICAgIHkxOiA1MCxcbiAgICAgICAgeDI6IDY1LFxuICAgICAgICB5MjogNDUsXG4gICAgICAgIHgzOiAyMCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRoaXMuZmxpY2tpdHkgPSBuZXcgRmxpY2tpdHkodGhpcy4kY2Fyb3VzZWxbMF0sIHRoaXMuZmxpY2tpdHlPcHRpb25zKTtcblxuICAgIHRoaXMuJGNhcm91c2VsWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3JpbWc6bG9hZCcsIHRoaXMuc2xpZGVJbWFnZUxvYWRlZCk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcmUgcmVjZW50bHkgdmlld2VkIHByb2R1Y3RzXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0W119IHByb2R1Y3REYXRhIC0gcmVjZW50bHkgdmlld2VkIHByb2R1Y3RzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcm9kdWN0RGF0YVtdLnRpbWVzdGFtcCAtIFRpbWVzdGFtcCBpbmRpY2F0aW5nIHdoZW4gcHJvZHVjdCB3YXMgYWRkZWQgdG8gcHJvZHVjdERhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3REYXRhW10uaGFuZGxlIC0gU2hvcGlmeSBwcm9kdWN0IGhhbmRsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFJlY2VudGx5Vmlld2VkKHByb2R1Y3REYXRhKSB7XG4gICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7IC8vIFVuaXggdGltZXN0YW1wIGZvciBjdXJyZW50IGRhdGVcbiAgICBjb25zdCBtaW5TdG9yYWdlVGltZXN0YW1wID0gbm93IC0gdGhpcy5tYXhTdG9yYWdlVGltZTtcbiAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSBwcm9kdWN0RGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLnRpbWVzdGFtcCA+IG1pblN0b3JhZ2VUaW1lc3RhbXApO1xuXG4gICAgaWYgKGZpbHRlcmVkRGF0YS5sZW5ndGggPiB0aGlzLm1heFJlY2VudGx5Vmlld2VkKSB7XG4gICAgICBjb25zdCByZW1vdmVDb3VudCA9IGZpbHRlcmVkRGF0YS5sZW5ndGggLSB0aGlzLm1heFJlY2VudGx5Vmlld2VkO1xuICAgICAgZmlsdGVyZWREYXRhLnNwbGljZSgwLCByZW1vdmVDb3VudCk7IC8vIFJlbW92ZSBvbGRlc3QgaWYgbW9yZSB0aGFuIG1heCBudW1iZXIgaGF2ZSBiZWVuIHN0b3JlZFxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGZpbHRlcmVkRGF0YSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgIH1cblxuICAgIC8vIFJldHJpZXZlIG1hcmt1cCBmb3IgcmVjZW50bHkgdmlld2VkIGNhcmRzIGFuZCBzdG9yZSBpbiBzZXNzaW9uXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGhhbmRsZXMgPSBmaWx0ZXJlZERhdGFcbiAgICAgICAgPyBmaWx0ZXJlZERhdGEubWFwKHggPT4geC5oYW5kbGUpXG4gICAgICAgIDogW107XG4gICAgICBsZXQgc3RvcmVkQ2FyZHMgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSlcbiAgICAgICAgPyBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KSlcbiAgICAgICAgOiB7fTtcblxuICAgICAgaWYgKHN0b3JlZENhcmRzLmNhcmRTZXR0aW5ncykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdG9yZWRDYXJkcy5jYXJkU2V0dGluZ3MpIHtcbiAgICAgICAgICBpZiAoc3RvcmVkQ2FyZHMuY2FyZFNldHRpbmdzW2tleV0gIT09IHRoaXMuY2FyZFNldHRpbmdzW2tleV0pIHtcbiAgICAgICAgICAgIHN0b3JlZENhcmRzID0ge307XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0b3JlZENhcmRzLmNhcmRTZXR0aW5ncyA9IHRoaXMuY2FyZFNldHRpbmdzO1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBoYW5kbGVzLm1hcCgoaGFuZGxlKSA9PiB7XG4gICAgICAgIGlmIChzdG9yZWRDYXJkc1toYW5kbGVdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZldGNoVXJsID0gYCR7d2luZG93LlRoZW1lLnJvdXRlcy5hbGxfcHJvZHVjdHNfY29sbGVjdGlvbl91cmx9L3Byb2R1Y3RzLyR7aGFuZGxlfT92aWV3PV9yZWNlbnRseS12aWV3ZWRgO1xuICAgICAgICByZXR1cm4gJC5nZXQoZmV0Y2hVcmwpXG4gICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKSlcbiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBzdG9yZWRDYXJkc1toYW5kbGVdID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KHN0b3JlZENhcmRzKSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzdG9yZWQgcmVjZW50bHkgdmlld2VkIHByb2R1Y3RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRSZWNlbnRseVZpZXdlZCgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjZW50bHlWaWV3ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpXG4gICAgICAgID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpKVxuICAgICAgICA6IFtdO1xuXG4gICAgICByZXR1cm4gcmVjZW50bHlWaWV3ZWQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgX2dldFJlY2VudGx5Vmlld2VkQ2FyZHMoKSB7XG4gICAgY29uc3QgY2FyZHMgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSlcbiAgICAgID8gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSkpXG4gICAgICA6IHt9O1xuXG4gICAgY29uc3Qgb3JkZXJlZEl0ZW1zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KVxuICAgICAgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSkpXG4gICAgICA6IHt9O1xuXG4gICAgY29uc3QgbWFya3VwID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gb3JkZXJlZEl0ZW1zLmxlbmd0aC0xOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgY2FyZEtleSA9IG9yZGVyZWRJdGVtc1tpXS5oYW5kbGU7XG4gICAgICBtYXJrdXAucHVzaChjYXJkc1tjYXJkS2V5XSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcmt1cC5qb2luKCcnKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticRecentlyViewed.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticSearch.js":
/*!*************************************************!*\
  !*** ./source/scripts/sections/StaticSearch.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticSearch; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rimg_shopify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rimg-shopify */ \"./node_modules/rimg-shopify/dist/index.es.js\");\n/* harmony import */ var shopify_asyncview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shopify-asyncview */ \"./node_modules/shopify-asyncview/dist/index.es.js\");\n/* harmony import */ var _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ProductGridItem */ \"./source/scripts/components/ProductGridItem.js\");\n/* harmony import */ var _components_search_SearchForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/search/SearchForm */ \"./source/scripts/components/search/SearchForm.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar StaticSearch = /*#__PURE__*/function () {\n  function StaticSearch(section) {\n    var _this = this;\n\n    _classCallCheck(this, StaticSearch);\n\n    this.section = section;\n    this.responseContainer = this.section.el.querySelector('[data-html]');\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.searchFieldSelector = '[data-live-search]';\n    this.paginationSelector = 'a.pagination--item';\n    this.$searchField = this.$el.find(this.searchFieldSelector);\n    this.paginationLinks = this.section.el.querySelectorAll(this.paginationSelector);\n    this.ajaxEvents = [];\n    this.processing = false;\n    this._ajaxFetch = this._ajaxFetch.bind(this);\n    this._initProducts = this._initProducts.bind(this);\n    this.paginationLinks.forEach(function (el) {\n      _this.ajaxEvents.push(jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).on('click', _this._ajaxFetch));\n    }); // Product items\n\n    this.productItems = [];\n\n    this._initProducts();\n\n    this.searchForm = new _components_search_SearchForm__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.$searchField);\n\n    window.onpopstate = function (event) {\n      _this._ajaxFetch(event);\n    };\n  }\n\n  _createClass(StaticSearch, [{\n    key: \"_ajaxFetch\",\n    value: function _ajaxFetch(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      event.stopPropagation();\n      var fetchUrl;\n      var pageNumber;\n\n      if (event.type === 'popstate') {\n        fetchUrl = event.state.path;\n        pageNumber = event.state.toPage;\n      } else {\n        fetchUrl = event.currentTarget.getAttribute('href').replace('&view=undefined', '');\n        pageNumber = event.currentTarget.getAttribute('data-to-page');\n      }\n\n      this.processing = true;\n      this.responseContainer.classList.add('processing');\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()('html, body').animate({\n        scrollTop: 0\n      }, 'slow');\n      shopify_asyncview__WEBPACK_IMPORTED_MODULE_2__[\"default\"].load(fetchUrl, {\n        view: ''\n      }).then(function (_ref) {\n        var html = _ref.html;\n\n        _this2.ajaxEvents.forEach(function ($el) {\n          return $el.off('click', _this2._ajaxFetch);\n        });\n\n        _this2.ajaxEvents = [];\n        _this2.responseContainer.innerHTML = html;\n\n        _this2.searchForm.unload();\n\n        _this2.$searchField = _this2.$el.find(_this2.searchFieldSelector);\n        _this2.searchForm = new _components_search_SearchForm__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_this2.$searchField);\n        rimg_shopify__WEBPACK_IMPORTED_MODULE_1__[\"default\"].watch(_this2.responseContainer);\n\n        _this2._initProducts();\n\n        _this2.paginationLinks = _this2.section.el.querySelectorAll(_this2.paginationSelector);\n\n        _this2.paginationLinks.forEach(function (el) {\n          _this2.ajaxEvents.push(jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).on('click', _this2._ajaxFetch));\n        });\n\n        if (event.type !== 'popstate') {\n          var newUrl = \"\".concat(window.location.protocol, \"//\").concat(window.location.host).concat(fetchUrl);\n          window.history.pushState({\n            path: fetchUrl,\n            toPage: pageNumber\n          }, '', newUrl);\n        }\n\n        _this2.responseContainer.classList.remove('processing');\n      });\n    }\n  }, {\n    key: \"_initProducts\",\n    value: function _initProducts() {\n      var _this3 = this;\n\n      if (this.productItems.length > 0) {\n        this.productItems.forEach(function (productItem) {\n          productItem.unload();\n        });\n        this.productItems = [];\n      }\n\n      var $productItems = this.$el.find('[data-product-item]');\n      $productItems.each(function (i, productItem) {\n        _this3.productItems.push(new _components_ProductGridItem__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n          $el: jquery__WEBPACK_IMPORTED_MODULE_0___default()(productItem),\n          id: _this3.section.id,\n          product: JSON.parse(productItem.querySelector('[data-product-data]').innerHTML),\n          lazy: true\n        }));\n      });\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.searchForm.unload();\n      this.productItems.forEach(function (productItem) {\n        productItem.unload();\n      });\n    }\n  }]);\n\n  return StaticSearch;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNTZWFyY2guanM/NGU2NyJdLCJuYW1lcyI6WyJTdGF0aWNTZWFyY2giLCJzZWN0aW9uIiwicmVzcG9uc2VDb250YWluZXIiLCJlbCIsInF1ZXJ5U2VsZWN0b3IiLCIkZWwiLCIkIiwic2VhcmNoRmllbGRTZWxlY3RvciIsInBhZ2luYXRpb25TZWxlY3RvciIsIiRzZWFyY2hGaWVsZCIsImZpbmQiLCJwYWdpbmF0aW9uTGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWpheEV2ZW50cyIsInByb2Nlc3NpbmciLCJfYWpheEZldGNoIiwiYmluZCIsIl9pbml0UHJvZHVjdHMiLCJmb3JFYWNoIiwicHVzaCIsIm9uIiwicHJvZHVjdEl0ZW1zIiwic2VhcmNoRm9ybSIsIlNlYXJjaEZvcm0iLCJ3aW5kb3ciLCJvbnBvcHN0YXRlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImZldGNoVXJsIiwicGFnZU51bWJlciIsInR5cGUiLCJzdGF0ZSIsInBhdGgiLCJ0b1BhZ2UiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwicmVwbGFjZSIsImNsYXNzTGlzdCIsImFkZCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJBc3luY1ZpZXciLCJsb2FkIiwidmlldyIsInRoZW4iLCJodG1sIiwib2ZmIiwiaW5uZXJIVE1MIiwidW5sb2FkIiwicmltZyIsIndhdGNoIiwibmV3VXJsIiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwicmVtb3ZlIiwibGVuZ3RoIiwicHJvZHVjdEl0ZW0iLCIkcHJvZHVjdEl0ZW1zIiwiZWFjaCIsImkiLCJQcm9kdWN0R3JpZEl0ZW0iLCJpZCIsInByb2R1Y3QiLCJKU09OIiwicGFyc2UiLCJsYXp5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVB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LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCByaW1nIGZyb20gJ3JpbWctc2hvcGlmeSc7XG5pbXBvcnQgQXN5bmNWaWV3IGZyb20gJ3Nob3BpZnktYXN5bmN2aWV3JztcblxuaW1wb3J0IFByb2R1Y3RHcmlkSXRlbSBmcm9tICcuLi9jb21wb25lbnRzL1Byb2R1Y3RHcmlkSXRlbSc7XG5pbXBvcnQgU2VhcmNoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL3NlYXJjaC9TZWFyY2hGb3JtJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGljU2VhcmNoIHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuc2VjdGlvbiA9IHNlY3Rpb247XG4gICAgdGhpcy5yZXNwb25zZUNvbnRhaW5lciA9IHRoaXMuc2VjdGlvbi5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1odG1sXScpO1xuICAgIHRoaXMuJGVsID0gJChzZWN0aW9uLmVsKTtcbiAgICB0aGlzLnNlYXJjaEZpZWxkU2VsZWN0b3IgPSAnW2RhdGEtbGl2ZS1zZWFyY2hdJztcbiAgICB0aGlzLnBhZ2luYXRpb25TZWxlY3RvciA9ICdhLnBhZ2luYXRpb24tLWl0ZW0nO1xuICAgIHRoaXMuJHNlYXJjaEZpZWxkID0gdGhpcy4kZWwuZmluZCh0aGlzLnNlYXJjaEZpZWxkU2VsZWN0b3IpO1xuICAgIHRoaXMucGFnaW5hdGlvbkxpbmtzID0gdGhpcy5zZWN0aW9uLmVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5wYWdpbmF0aW9uU2VsZWN0b3IpO1xuICAgIHRoaXMuYWpheEV2ZW50cyA9IFtdO1xuICAgIHRoaXMucHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fYWpheEZldGNoID0gdGhpcy5fYWpheEZldGNoLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faW5pdFByb2R1Y3RzID0gdGhpcy5faW5pdFByb2R1Y3RzLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnBhZ2luYXRpb25MaW5rcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIHRoaXMuYWpheEV2ZW50cy5wdXNoKFxuICAgICAgICAkKGVsKS5vbignY2xpY2snLCB0aGlzLl9hamF4RmV0Y2gpLFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIFByb2R1Y3QgaXRlbXNcbiAgICB0aGlzLnByb2R1Y3RJdGVtcyA9IFtdO1xuICAgIHRoaXMuX2luaXRQcm9kdWN0cygpO1xuXG4gICAgdGhpcy5zZWFyY2hGb3JtID0gbmV3IFNlYXJjaEZvcm0odGhpcy4kc2VhcmNoRmllbGQpO1xuXG4gICAgd2luZG93Lm9ucG9wc3RhdGUgPSBldmVudCA9PiB7IHRoaXMuX2FqYXhGZXRjaChldmVudCk7IH07XG4gIH1cblxuICBfYWpheEZldGNoKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGxldCBmZXRjaFVybDtcbiAgICBsZXQgcGFnZU51bWJlcjtcblxuICAgIGlmIChldmVudC50eXBlID09PSAncG9wc3RhdGUnKSB7XG4gICAgICBmZXRjaFVybCA9IGV2ZW50LnN0YXRlLnBhdGg7XG4gICAgICBwYWdlTnVtYmVyID0gZXZlbnQuc3RhdGUudG9QYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZXRjaFVybCA9IGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnaHJlZicpXG4gICAgICAgIC5yZXBsYWNlKCcmdmlldz11bmRlZmluZWQnLCAnJyk7XG4gICAgICBwYWdlTnVtYmVyID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG8tcGFnZScpO1xuICAgIH1cblxuICAgIHRoaXMucHJvY2Vzc2luZyA9IHRydWU7XG4gICAgdGhpcy5yZXNwb25zZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9jZXNzaW5nJyk7XG4gICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgJ3Nsb3cnKTtcblxuICAgIEFzeW5jVmlldy5sb2FkKGZldGNoVXJsLCB7IHZpZXc6ICcnIH0pXG4gICAgICAudGhlbigoeyBodG1sIH0pID0+IHtcbiAgICAgICAgdGhpcy5hamF4RXZlbnRzLmZvckVhY2goJGVsID0+ICRlbC5vZmYoJ2NsaWNrJywgdGhpcy5fYWpheEZldGNoKSk7XG4gICAgICAgIHRoaXMuYWpheEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIHRoaXMucmVzcG9uc2VDb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgICB0aGlzLnNlYXJjaEZvcm0udW5sb2FkKCk7XG4gICAgICAgIHRoaXMuJHNlYXJjaEZpZWxkID0gdGhpcy4kZWwuZmluZCh0aGlzLnNlYXJjaEZpZWxkU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLnNlYXJjaEZvcm0gPSBuZXcgU2VhcmNoRm9ybSh0aGlzLiRzZWFyY2hGaWVsZCk7XG5cbiAgICAgICAgcmltZy53YXRjaCh0aGlzLnJlc3BvbnNlQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5faW5pdFByb2R1Y3RzKCk7XG5cbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uTGlua3MgPSB0aGlzLnNlY3Rpb24uZWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLnBhZ2luYXRpb25TZWxlY3Rvcik7XG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkxpbmtzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICAgIHRoaXMuYWpheEV2ZW50cy5wdXNoKFxuICAgICAgICAgICAgJChlbCkub24oJ2NsaWNrJywgdGhpcy5fYWpheEZldGNoKSxcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ3BvcHN0YXRlJykge1xuICAgICAgICAgIGNvbnN0IG5ld1VybCA9IGAke3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbH0vLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9JHtmZXRjaFVybH1gO1xuXG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHsgcGF0aDogZmV0Y2hVcmwsIHRvUGFnZTogcGFnZU51bWJlciB9LCAnJywgbmV3VXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzcG9uc2VDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgncHJvY2Vzc2luZycpO1xuICAgICAgfSk7XG4gIH1cblxuICBfaW5pdFByb2R1Y3RzKCkge1xuICAgIGlmICh0aGlzLnByb2R1Y3RJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnByb2R1Y3RJdGVtcy5mb3JFYWNoKHByb2R1Y3RJdGVtID0+IHtcbiAgICAgICAgcHJvZHVjdEl0ZW0udW5sb2FkKCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5wcm9kdWN0SXRlbXMgPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCAkcHJvZHVjdEl0ZW1zID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtcHJvZHVjdC1pdGVtXScpO1xuXG4gICAgJHByb2R1Y3RJdGVtcy5lYWNoKChpLCBwcm9kdWN0SXRlbSkgPT4ge1xuICAgICAgdGhpcy5wcm9kdWN0SXRlbXMucHVzaChcbiAgICAgICAgbmV3IFByb2R1Y3RHcmlkSXRlbSh7XG4gICAgICAgICAgJGVsOiAkKHByb2R1Y3RJdGVtKSxcbiAgICAgICAgICBpZDogdGhpcy5zZWN0aW9uLmlkLFxuICAgICAgICAgIHByb2R1Y3Q6IEpTT04ucGFyc2UocHJvZHVjdEl0ZW0ucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZHVjdC1kYXRhXScpLmlubmVySFRNTCksXG4gICAgICAgICAgbGF6eTogdHJ1ZSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIHRoaXMuc2VhcmNoRm9ybS51bmxvYWQoKTtcblxuICAgIHRoaXMucHJvZHVjdEl0ZW1zLmZvckVhY2gocHJvZHVjdEl0ZW0gPT4ge1xuICAgICAgcHJvZHVjdEl0ZW0udW5sb2FkKCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticSearch.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticSectionFooter.js":
/*!********************************************************!*\
  !*** ./source/scripts/sections/StaticSectionFooter.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticSectionFooter; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pixelunion_shopify_cross_border__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/shopify-cross-border */ \"./node_modules/@pixelunion/shopify-cross-border/dist/index.es.js\");\n/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Accordion */ \"./source/scripts/Accordion.js\");\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar StaticSectionFooter = /*#__PURE__*/function () {\n  function StaticSectionFooter(section) {\n    _classCallCheck(this, StaticSectionFooter);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.el = section.el;\n    this.currencyDisclosureEl = this.el.querySelector('[data-disclosure-currency]');\n    this.localeDisclosureEl = this.el.querySelector('[data-disclosure-locale]');\n    this.disclosures = [];\n    this.Accordion = new _Accordion__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.$el);\n    this.forms = new _Forms__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.$el);\n\n    if (this.currencyDisclosureEl) {\n      this.disclosures.push(new _pixelunion_shopify_cross_border__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.currencyDisclosureEl));\n    }\n\n    if (this.localeDisclosureEl) {\n      this.disclosures.push(new _pixelunion_shopify_cross_border__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.localeDisclosureEl));\n    } // Handle Accordion interaction when window size changes\n\n\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"onChange\"](this.layoutHandler);\n\n    this._bindEvents();\n  }\n\n  _createClass(StaticSectionFooter, [{\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this = this;\n\n      this.$el.on('click.footer', '[data-accordion-trigger]', function (event) {\n        event.preventDefault();\n\n        _this._toggleAccordion(jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget).parent());\n      });\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.$el.off('.footer');\n      this.forms.unload();\n      this.disclosures.forEach(function (disclosure) {\n        return disclosure.unload();\n      });\n      delete this.Accordion;\n    }\n  }, {\n    key: \"onSectionBlockSelect\",\n    value: function onSectionBlockSelect(block) {\n      var $block = jquery__WEBPACK_IMPORTED_MODULE_0___default()(block.el);\n      if ($block.hasClass('has-accordion')) this._toggleAccordion($block, true);\n    }\n  }, {\n    key: \"onSectionBlockDeselect\",\n    value: function onSectionBlockDeselect(block) {\n      var $block = jquery__WEBPACK_IMPORTED_MODULE_0___default()(block.el);\n      if ($block.hasClass('has-accordion')) this._toggleAccordion($block, false);\n    }\n  }, {\n    key: \"_toggleAccordion\",\n    value: function _toggleAccordion($block) {\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"min\"]('L')) return;\n      this.Accordion.toggle($block);\n    }\n  }, {\n    key: \"onBreakpointChange\",\n    value: function onBreakpointChange(breakpoints) {\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"min\"]('L')) {\n        this.Accordion.openAll();\n      } else if (breakpoints.previous === 'L' && !_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"min\"]('L')) {\n        this.Accordion.closeOpen();\n      }\n    }\n  }]);\n\n  return StaticSectionFooter;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNTZWN0aW9uRm9vdGVyLmpzPzQ5NjQiXSwibmFtZXMiOlsiU3RhdGljU2VjdGlvbkZvb3RlciIsInNlY3Rpb24iLCIkZWwiLCIkIiwiZWwiLCJjdXJyZW5jeURpc2Nsb3N1cmVFbCIsInF1ZXJ5U2VsZWN0b3IiLCJsb2NhbGVEaXNjbG9zdXJlRWwiLCJkaXNjbG9zdXJlcyIsIkFjY29yZGlvbiIsImZvcm1zIiwiRm9ybXMiLCJwdXNoIiwiRGlzY2xvc3VyZSIsImxheW91dEhhbmRsZXIiLCJvbkJyZWFrcG9pbnRDaGFuZ2UiLCJiaW5kIiwiYnJlYWtwb2ludCIsIl9iaW5kRXZlbnRzIiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiX3RvZ2dsZUFjY29yZGlvbiIsImN1cnJlbnRUYXJnZXQiLCJwYXJlbnQiLCJvZmYiLCJ1bmxvYWQiLCJmb3JFYWNoIiwiZGlzY2xvc3VyZSIsImJsb2NrIiwiJGJsb2NrIiwiaGFzQ2xhc3MiLCJ0b2dnbGUiLCJicmVha3BvaW50cyIsIm9wZW5BbGwiLCJwcmV2aW91cyIsImNsb3NlT3BlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7SUFFcUJBLG1CO0FBQ25CLCtCQUFZQyxPQUFaLEVBQXFCO0FBQUE7O0FBQ25CLFNBQUtDLEdBQUwsR0FBV0MsNkNBQUMsQ0FBQ0YsT0FBTyxDQUFDRyxFQUFULENBQVo7QUFDQSxTQUFLQSxFQUFMLEdBQVVILE9BQU8sQ0FBQ0csRUFBbEI7QUFDQSxTQUFLQyxvQkFBTCxHQUE0QixLQUFLRCxFQUFMLENBQVFFLGFBQVIsQ0FBc0IsNEJBQXRCLENBQTVCO0FBQ0EsU0FBS0Msa0JBQUwsR0FBMEIsS0FBS0gsRUFBTCxDQUFRRSxhQUFSLENBQXNCLDBCQUF0QixDQUExQjtBQUNBLFNBQUtFLFdBQUwsR0FBbUIsRUFBbkI7QUFFQSxTQUFLQyxTQUFMLEdBQWlCLElBQUlBLGtEQUFKLENBQWMsS0FBS1AsR0FBbkIsQ0FBakI7QUFDQSxTQUFLUSxLQUFMLEdBQWEsSUFBSUMsOENBQUosQ0FBVSxLQUFLVCxHQUFmLENBQWI7O0FBRUEsUUFBSSxLQUFLRyxvQkFBVCxFQUErQjtBQUM3QixXQUFLRyxXQUFMLENBQWlCSSxJQUFqQixDQUFzQixJQUFJQyx3RUFBSixDQUFlLEtBQUtSLG9CQUFwQixDQUF0QjtBQUNEOztBQUVELFFBQUksS0FBS0Usa0JBQVQsRUFBNkI7QUFDM0IsV0FBS0MsV0FBTCxDQUFpQkksSUFBakIsQ0FBc0IsSUFBSUMsd0VBQUosQ0FBZSxLQUFLTixrQkFBcEIsQ0FBdEI7QUFDRCxLQWhCa0IsQ0FrQm5COzs7QUFDQSxTQUFLTyxhQUFMLEdBQXFCLEtBQUtDLGtCQUFMLENBQXdCQyxJQUF4QixDQUE2QixJQUE3QixDQUFyQjtBQUNBQyxtRUFBQSxDQUFvQixLQUFLSCxhQUF6Qjs7QUFFQSxTQUFLSSxXQUFMO0FBQ0Q7Ozs7a0NBRWE7QUFBQTs7QUFDWixXQUFLaEIsR0FBTCxDQUFTaUIsRUFBVCxDQUFZLGNBQVosRUFBNEIsMEJBQTVCLEVBQXdELFVBQUFDLEtBQUssRUFBSTtBQUMvREEsYUFBSyxDQUFDQyxjQUFOOztBQUNBLGFBQUksQ0FBQ0MsZ0JBQUwsQ0FBc0JuQiw2Q0FBQyxDQUFDaUIsS0FBSyxDQUFDRyxhQUFQLENBQUQsQ0FBdUJDLE1BQXZCLEVBQXRCO0FBQ0QsT0FIRDtBQUlEOzs7c0NBRWlCO0FBQ2hCLFdBQUt0QixHQUFMLENBQVN1QixHQUFULENBQWEsU0FBYjtBQUNBLFdBQUtmLEtBQUwsQ0FBV2dCLE1BQVg7QUFDQSxXQUFLbEIsV0FBTCxDQUFpQm1CLE9BQWpCLENBQXlCLFVBQUFDLFVBQVU7QUFBQSxlQUFJQSxVQUFVLENBQUNGLE1BQVgsRUFBSjtBQUFBLE9BQW5DO0FBRUEsYUFBTyxLQUFLakIsU0FBWjtBQUNEOzs7eUNBRW9Cb0IsSyxFQUFPO0FBQzFCLFVBQU1DLE1BQU0sR0FBRzNCLDZDQUFDLENBQUMwQixLQUFLLENBQUN6QixFQUFQLENBQWhCO0FBRUEsVUFBSTBCLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQixlQUFoQixDQUFKLEVBQXNDLEtBQUtULGdCQUFMLENBQXNCUSxNQUF0QixFQUE4QixJQUE5QjtBQUN2Qzs7OzJDQUVzQkQsSyxFQUFPO0FBQzVCLFVBQU1DLE1BQU0sR0FBRzNCLDZDQUFDLENBQUMwQixLQUFLLENBQUN6QixFQUFQLENBQWhCO0FBRUEsVUFBSTBCLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQixlQUFoQixDQUFKLEVBQXNDLEtBQUtULGdCQUFMLENBQXNCUSxNQUF0QixFQUE4QixLQUE5QjtBQUN2Qzs7O3FDQUVnQkEsTSxFQUFRO0FBQ3ZCLFVBQUliLDBEQUFBLENBQWUsR0FBZixDQUFKLEVBQXlCO0FBRXpCLFdBQUtSLFNBQUwsQ0FBZXVCLE1BQWYsQ0FBc0JGLE1BQXRCO0FBQ0Q7Ozt1Q0FFa0JHLFcsRUFBYTtBQUM5QixVQUFJaEIsMERBQUEsQ0FBZSxHQUFmLENBQUosRUFBeUI7QUFDdkIsYUFBS1IsU0FBTCxDQUFleUIsT0FBZjtBQUNELE9BRkQsTUFFTyxJQUFJRCxXQUFXLENBQUNFLFFBQVosS0FBeUIsR0FBekIsSUFBZ0MsQ0FBQ2xCLDBEQUFBLENBQWUsR0FBZixDQUFyQyxFQUEwRDtBQUMvRCxhQUFLUixTQUFMLENBQWUyQixTQUFmO0FBQ0Q7QUFDRiIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL1N0YXRpY1NlY3Rpb25Gb290ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0ICogYXMgYnJlYWtwb2ludCBmcm9tICdAcGl4ZWx1bmlvbi9icmVha3BvaW50JztcbmltcG9ydCBEaXNjbG9zdXJlIGZyb20gJ0BwaXhlbHVuaW9uL3Nob3BpZnktY3Jvc3MtYm9yZGVyJztcblxuaW1wb3J0IEFjY29yZGlvbiBmcm9tICcuLi9BY2NvcmRpb24nO1xuaW1wb3J0IEZvcm1zIGZyb20gJy4uL0Zvcm1zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGljU2VjdGlvbkZvb3RlciB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLiRlbCA9ICQoc2VjdGlvbi5lbCk7XG4gICAgdGhpcy5lbCA9IHNlY3Rpb24uZWw7XG4gICAgdGhpcy5jdXJyZW5jeURpc2Nsb3N1cmVFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtZGlzY2xvc3VyZS1jdXJyZW5jeV0nKTtcbiAgICB0aGlzLmxvY2FsZURpc2Nsb3N1cmVFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtZGlzY2xvc3VyZS1sb2NhbGVdJyk7XG4gICAgdGhpcy5kaXNjbG9zdXJlcyA9IFtdO1xuXG4gICAgdGhpcy5BY2NvcmRpb24gPSBuZXcgQWNjb3JkaW9uKHRoaXMuJGVsKTtcbiAgICB0aGlzLmZvcm1zID0gbmV3IEZvcm1zKHRoaXMuJGVsKTtcblxuICAgIGlmICh0aGlzLmN1cnJlbmN5RGlzY2xvc3VyZUVsKSB7XG4gICAgICB0aGlzLmRpc2Nsb3N1cmVzLnB1c2gobmV3IERpc2Nsb3N1cmUodGhpcy5jdXJyZW5jeURpc2Nsb3N1cmVFbCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxvY2FsZURpc2Nsb3N1cmVFbCkge1xuICAgICAgdGhpcy5kaXNjbG9zdXJlcy5wdXNoKG5ldyBEaXNjbG9zdXJlKHRoaXMubG9jYWxlRGlzY2xvc3VyZUVsKSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIEFjY29yZGlvbiBpbnRlcmFjdGlvbiB3aGVuIHdpbmRvdyBzaXplIGNoYW5nZXNcbiAgICB0aGlzLmxheW91dEhhbmRsZXIgPSB0aGlzLm9uQnJlYWtwb2ludENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIGJyZWFrcG9pbnQub25DaGFuZ2UodGhpcy5sYXlvdXRIYW5kbGVyKTtcblxuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgfVxuXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuJGVsLm9uKCdjbGljay5mb290ZXInLCAnW2RhdGEtYWNjb3JkaW9uLXRyaWdnZXJdJywgZXZlbnQgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3RvZ2dsZUFjY29yZGlvbigkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLiRlbC5vZmYoJy5mb290ZXInKTtcbiAgICB0aGlzLmZvcm1zLnVubG9hZCgpO1xuICAgIHRoaXMuZGlzY2xvc3VyZXMuZm9yRWFjaChkaXNjbG9zdXJlID0+IGRpc2Nsb3N1cmUudW5sb2FkKCkpO1xuXG4gICAgZGVsZXRlIHRoaXMuQWNjb3JkaW9uO1xuICB9XG5cbiAgb25TZWN0aW9uQmxvY2tTZWxlY3QoYmxvY2spIHtcbiAgICBjb25zdCAkYmxvY2sgPSAkKGJsb2NrLmVsKTtcblxuICAgIGlmICgkYmxvY2suaGFzQ2xhc3MoJ2hhcy1hY2NvcmRpb24nKSkgdGhpcy5fdG9nZ2xlQWNjb3JkaW9uKCRibG9jaywgdHJ1ZSk7XG4gIH1cblxuICBvblNlY3Rpb25CbG9ja0Rlc2VsZWN0KGJsb2NrKSB7XG4gICAgY29uc3QgJGJsb2NrID0gJChibG9jay5lbCk7XG5cbiAgICBpZiAoJGJsb2NrLmhhc0NsYXNzKCdoYXMtYWNjb3JkaW9uJykpIHRoaXMuX3RvZ2dsZUFjY29yZGlvbigkYmxvY2ssIGZhbHNlKTtcbiAgfVxuXG4gIF90b2dnbGVBY2NvcmRpb24oJGJsb2NrKSB7XG4gICAgaWYgKGJyZWFrcG9pbnQubWluKCdMJykpIHJldHVybjtcblxuICAgIHRoaXMuQWNjb3JkaW9uLnRvZ2dsZSgkYmxvY2spO1xuICB9XG5cbiAgb25CcmVha3BvaW50Q2hhbmdlKGJyZWFrcG9pbnRzKSB7XG4gICAgaWYgKGJyZWFrcG9pbnQubWluKCdMJykpIHtcbiAgICAgIHRoaXMuQWNjb3JkaW9uLm9wZW5BbGwoKTtcbiAgICB9IGVsc2UgaWYgKGJyZWFrcG9pbnRzLnByZXZpb3VzID09PSAnTCcgJiYgIWJyZWFrcG9pbnQubWluKCdMJykpIHtcbiAgICAgIHRoaXMuQWNjb3JkaW9uLmNsb3NlT3BlbigpO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticSectionFooter.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticSectionHeader.js":
/*!********************************************************!*\
  !*** ./source/scripts/sections/StaticSectionHeader.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticSectionHeader; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\n/* harmony import */ var _components_header_TraditionalHeader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/header/TraditionalHeader */ \"./source/scripts/components/header/TraditionalHeader.js\");\n/* harmony import */ var _components_header_MinimalHeader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/header/MinimalHeader */ \"./source/scripts/components/header/MinimalHeader.js\");\n/* harmony import */ var _components_header_BasicHeader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/header/BasicHeader */ \"./source/scripts/components/header/BasicHeader.js\");\n/* harmony import */ var _components_navigation_NavMobile__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/navigation/NavMobile */ \"./source/scripts/components/navigation/NavMobile.js\");\n/* harmony import */ var _components_navigation_MegaNavScroller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/navigation/MegaNavScroller */ \"./source/scripts/components/navigation/MegaNavScroller.js\");\n/* harmony import */ var _components_navigation_NavDesktopMenu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/navigation/NavDesktopMenu */ \"./source/scripts/components/navigation/NavDesktopMenu.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\nvar StaticSectionHeader = /*#__PURE__*/function () {\n  function StaticSectionHeader(section) {\n    var _this = this;\n\n    _classCallCheck(this, StaticSectionHeader);\n\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(section.el);\n    this.settings = section.data.settings;\n    this.postMessage = section.postMessage;\n    this.headerSearch = null;\n    this.$scripts = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-scripts]');\n    this.$menuToggle = this.$el.find('[data-menu-toggle]');\n    this.$cartCount = this.$el.find('[data-header-cart-count]');\n    this.$searchField = this.$el.find('[data-live-search]');\n    this.$siteNavigation = this.$el.find('[data-site-navigation]');\n    this.$desktopNavigation = this.$siteNavigation.find('ul.navmenu-depth-1');\n    this.$headerTools = this.$siteNavigation.find('[data-header-actions]');\n    var headerProperties = {\n      section: section.el,\n      postMessage: this.postMessage,\n      $scripts: this.$scripts\n    };\n\n    switch (this.settings.header_layout) {\n      case 'minimal':\n        this.header = new _components_header_MinimalHeader__WEBPACK_IMPORTED_MODULE_4__[\"default\"](headerProperties, this.settings);\n        break;\n\n      case 'basic':\n        this.header = new _components_header_BasicHeader__WEBPACK_IMPORTED_MODULE_5__[\"default\"](headerProperties, this.settings);\n        break;\n\n      case 'traditional':\n        this.header = new _components_header_TraditionalHeader__WEBPACK_IMPORTED_MODULE_3__[\"default\"](headerProperties, this.settings);\n        break;\n\n      default:\n        this.header = new _components_header_TraditionalHeader__WEBPACK_IMPORTED_MODULE_3__[\"default\"](headerProperties, this.settings);\n        break;\n    }\n\n    this.megaNavs = {};\n    var meganavMenus = document.querySelectorAll('[data-meganav-menu]');\n\n    for (var i = 0; i < meganavMenus.length; i++) {\n      var el = meganavMenus[i];\n      var id = el.getAttribute('data-meganav-id');\n      this.megaNavs[id] = new _components_navigation_MegaNavScroller__WEBPACK_IMPORTED_MODULE_7__[\"default\"](jquery__WEBPACK_IMPORTED_MODULE_0___default()(el));\n    }\n\n    this.navMobile = new _components_navigation_NavMobile__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n      $el: this.$el,\n      $toggleOpen: this.$menuToggle\n    });\n    this.navDesktop = new _components_navigation_NavDesktopMenu__WEBPACK_IMPORTED_MODULE_8__[\"default\"](document.querySelector('.site-navigation > [data-navmenu]'));\n    this.forms = new _Forms__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.$el);\n    this.$el.on('cartcount:update', function (event, data) {\n      _this.$cartCount.attr('data-header-cart-count', data.response.item_count).toggleClass('visible', data.response.item_count > 0);\n    });\n  }\n\n  _createClass(StaticSectionHeader, [{\n    key: \"onSectionDeselect\",\n    value: function onSectionDeselect() {\n      this._closeAllMeganavs();\n\n      this.header.sectionDeselect();\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this.header.unload();\n      this.navMobile.unload();\n      this.navDesktop.unload();\n      this.forms.unload();\n      this.$el.off('cartcount:update');\n    }\n  }, {\n    key: \"onSectionMessage\",\n    value: function onSectionMessage(name, data) {\n      if (name === 'nav:close-all' && _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"min\"]('L')) {\n        this._closeAllMeganavs();\n      }\n    }\n  }, {\n    key: \"onSectionBlockSelect\",\n    value: function onSectionBlockSelect(block) {\n      if (!_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_1__[\"min\"]('L')) {\n        return;\n      }\n\n      this.header.onSectionBlockSelect(block);\n      this.navDesktop.openMeganavBlock(this.megaNavs[block.id].$el[0]);\n    }\n  }, {\n    key: \"onSectionBlockDeselect\",\n    value: function onSectionBlockDeselect(block) {\n      this.header.onSectionBlockDeselect(block);\n\n      if (this.megaNavs[block.id]) {\n        this.megaNavs[block.id].$el.removeClass('meganav-editing-block');\n      }\n    }\n  }, {\n    key: \"_closeAllMeganavs\",\n    value: function _closeAllMeganavs() {\n      var keys = Object.keys(this.megaNavs);\n\n      for (var i = 0; keys.length < i; i++) {\n        this.megaNavs[keys[i]].$el.removeClass('meganav-editing-block');\n      }\n    }\n  }]);\n\n  return StaticSectionHeader;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNTZWN0aW9uSGVhZGVyLmpzP2VjYjMiXSwibmFtZXMiOlsiU3RhdGljU2VjdGlvbkhlYWRlciIsInNlY3Rpb24iLCIkZWwiLCIkIiwiZWwiLCJzZXR0aW5ncyIsImRhdGEiLCJwb3N0TWVzc2FnZSIsImhlYWRlclNlYXJjaCIsIiRzY3JpcHRzIiwiJG1lbnVUb2dnbGUiLCJmaW5kIiwiJGNhcnRDb3VudCIsIiRzZWFyY2hGaWVsZCIsIiRzaXRlTmF2aWdhdGlvbiIsIiRkZXNrdG9wTmF2aWdhdGlvbiIsIiRoZWFkZXJUb29scyIsImhlYWRlclByb3BlcnRpZXMiLCJoZWFkZXJfbGF5b3V0IiwiaGVhZGVyIiwiTWluaW1hbEhlYWRlciIsIkJhc2ljSGVhZGVyIiwiVHJhZGl0aW9uYWxIZWFkZXIiLCJtZWdhTmF2cyIsIm1lZ2FuYXZNZW51cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJpZCIsImdldEF0dHJpYnV0ZSIsIk1lZ2FOYXZTY3JvbGxlciIsIm5hdk1vYmlsZSIsIk5hdk1vYmlsZSIsIiR0b2dnbGVPcGVuIiwibmF2RGVza3RvcCIsIk5hdkRlc2t0b3BNZW51IiwicXVlcnlTZWxlY3RvciIsImZvcm1zIiwiRm9ybXMiLCJvbiIsImV2ZW50IiwiYXR0ciIsInJlc3BvbnNlIiwiaXRlbV9jb3VudCIsInRvZ2dsZUNsYXNzIiwiX2Nsb3NlQWxsTWVnYW5hdnMiLCJzZWN0aW9uRGVzZWxlY3QiLCJ1bmxvYWQiLCJvZmYiLCJuYW1lIiwiYnJlYWtwb2ludCIsImJsb2NrIiwib25TZWN0aW9uQmxvY2tTZWxlY3QiLCJvcGVuTWVnYW5hdkJsb2NrIiwib25TZWN0aW9uQmxvY2tEZXNlbGVjdCIsInJlbW92ZUNsYXNzIiwia2V5cyIsIk9iamVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FB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QUwsQ0FBYzZCLEtBQUssQ0FBQ3ZCLEVBQXBCLENBQUosRUFBNkI7QUFDM0IsYUFBS04sUUFBTCxDQUFjNkIsS0FBSyxDQUFDdkIsRUFBcEIsRUFBd0IzQixHQUF4QixDQUE0QnNELFdBQTVCLENBQXdDLHVCQUF4QztBQUNEO0FBQ0Y7Ozt3Q0FFbUI7QUFDbEIsVUFBTUMsSUFBSSxHQUFHQyxNQUFNLENBQUNELElBQVAsQ0FBWSxLQUFLbEMsUUFBakIsQ0FBYjs7QUFDQSxXQUFLLElBQUlJLENBQUMsR0FBRyxDQUFiLEVBQWdCOEIsSUFBSSxDQUFDN0IsTUFBTCxHQUFjRCxDQUE5QixFQUFpQ0EsQ0FBQyxFQUFsQyxFQUFzQztBQUNwQyxhQUFLSixRQUFMLENBQWNrQyxJQUFJLENBQUM5QixDQUFELENBQWxCLEVBQXVCekIsR0FBdkIsQ0FBMkJzRCxXQUEzQixDQUF1Qyx1QkFBdkM7QUFDRDtBQUNGIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvc2VjdGlvbnMvU3RhdGljU2VjdGlvbkhlYWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgKiBhcyBicmVha3BvaW50IGZyb20gJ0BwaXhlbHVuaW9uL2JyZWFrcG9pbnQnO1xuXG5pbXBvcnQgRm9ybXMgZnJvbSAnLi4vRm9ybXMnO1xuaW1wb3J0IFRyYWRpdGlvbmFsSGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaGVhZGVyL1RyYWRpdGlvbmFsSGVhZGVyJztcbmltcG9ydCBNaW5pbWFsSGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaGVhZGVyL01pbmltYWxIZWFkZXInO1xuaW1wb3J0IEJhc2ljSGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaGVhZGVyL0Jhc2ljSGVhZGVyJztcbmltcG9ydCBOYXZNb2JpbGUgZnJvbSAnLi4vY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdk1vYmlsZSc7XG5pbXBvcnQgTWVnYU5hdlNjcm9sbGVyIGZyb20gJy4uL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9NZWdhTmF2U2Nyb2xsZXInO1xuaW1wb3J0IE5hdkRlc2t0b3BNZW51IGZyb20gJy4uL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZEZXNrdG9wTWVudSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRpY1NlY3Rpb25IZWFkZXIge1xuICBjb25zdHJ1Y3RvcihzZWN0aW9uKSB7XG4gICAgdGhpcy4kZWwgPSAkKHNlY3Rpb24uZWwpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZWN0aW9uLmRhdGEuc2V0dGluZ3M7XG4gICAgdGhpcy5wb3N0TWVzc2FnZSA9IHNlY3Rpb24ucG9zdE1lc3NhZ2U7XG4gICAgdGhpcy5oZWFkZXJTZWFyY2ggPSBudWxsO1xuXG4gICAgdGhpcy4kc2NyaXB0cyA9ICQoJ1tkYXRhLXNjcmlwdHNdJyk7XG5cbiAgICB0aGlzLiRtZW51VG9nZ2xlID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtbWVudS10b2dnbGVdJyk7XG4gICAgdGhpcy4kY2FydENvdW50ID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtaGVhZGVyLWNhcnQtY291bnRdJyk7XG4gICAgdGhpcy4kc2VhcmNoRmllbGQgPSB0aGlzLiRlbC5maW5kKCdbZGF0YS1saXZlLXNlYXJjaF0nKTtcblxuICAgIHRoaXMuJHNpdGVOYXZpZ2F0aW9uID0gdGhpcy4kZWwuZmluZCgnW2RhdGEtc2l0ZS1uYXZpZ2F0aW9uXScpO1xuICAgIHRoaXMuJGRlc2t0b3BOYXZpZ2F0aW9uID0gdGhpcy4kc2l0ZU5hdmlnYXRpb24uZmluZCgndWwubmF2bWVudS1kZXB0aC0xJyk7XG4gICAgdGhpcy4kaGVhZGVyVG9vbHMgPSB0aGlzLiRzaXRlTmF2aWdhdGlvbi5maW5kKCdbZGF0YS1oZWFkZXItYWN0aW9uc10nKTtcblxuICAgIGNvbnN0IGhlYWRlclByb3BlcnRpZXMgPSB7XG4gICAgICBzZWN0aW9uOiBzZWN0aW9uLmVsLFxuICAgICAgcG9zdE1lc3NhZ2U6IHRoaXMucG9zdE1lc3NhZ2UsXG4gICAgICAkc2NyaXB0czogdGhpcy4kc2NyaXB0cyxcbiAgICB9O1xuXG4gICAgc3dpdGNoICh0aGlzLnNldHRpbmdzLmhlYWRlcl9sYXlvdXQpIHtcbiAgICAgIGNhc2UgJ21pbmltYWwnOlxuICAgICAgICB0aGlzLmhlYWRlciA9IG5ldyBNaW5pbWFsSGVhZGVyKGhlYWRlclByb3BlcnRpZXMsIHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jhc2ljJzpcbiAgICAgICAgdGhpcy5oZWFkZXIgPSBuZXcgQmFzaWNIZWFkZXIoaGVhZGVyUHJvcGVydGllcywgdGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJhZGl0aW9uYWwnOlxuICAgICAgICB0aGlzLmhlYWRlciA9IG5ldyBUcmFkaXRpb25hbEhlYWRlcihoZWFkZXJQcm9wZXJ0aWVzLCB0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmhlYWRlciA9IG5ldyBUcmFkaXRpb25hbEhlYWRlcihoZWFkZXJQcm9wZXJ0aWVzLCB0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5tZWdhTmF2cyA9IHt9O1xuICAgIGNvbnN0IG1lZ2FuYXZNZW51cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2FuYXYtbWVudV0nKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lZ2FuYXZNZW51cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZWwgPSBtZWdhbmF2TWVudXNbaV07XG4gICAgICBjb25zdCBpZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1tZWdhbmF2LWlkJyk7XG4gICAgICB0aGlzLm1lZ2FOYXZzW2lkXSA9IG5ldyBNZWdhTmF2U2Nyb2xsZXIoJChlbCkpO1xuICAgIH1cblxuICAgIHRoaXMubmF2TW9iaWxlID0gbmV3IE5hdk1vYmlsZSh7XG4gICAgICAkZWw6IHRoaXMuJGVsLFxuICAgICAgJHRvZ2dsZU9wZW46IHRoaXMuJG1lbnVUb2dnbGUsXG4gICAgfSk7XG5cbiAgICB0aGlzLm5hdkRlc2t0b3AgPSBuZXcgTmF2RGVza3RvcE1lbnUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpdGUtbmF2aWdhdGlvbiA+IFtkYXRhLW5hdm1lbnVdJykpO1xuXG4gICAgdGhpcy5mb3JtcyA9IG5ldyBGb3Jtcyh0aGlzLiRlbCk7XG5cbiAgICB0aGlzLiRlbC5vbignY2FydGNvdW50OnVwZGF0ZScsIChldmVudCwgZGF0YSkgPT4ge1xuICAgICAgdGhpcy4kY2FydENvdW50XG4gICAgICAgIC5hdHRyKCdkYXRhLWhlYWRlci1jYXJ0LWNvdW50JywgZGF0YS5yZXNwb25zZS5pdGVtX2NvdW50KVxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ3Zpc2libGUnLCBkYXRhLnJlc3BvbnNlLml0ZW1fY291bnQgPiAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uU2VjdGlvbkRlc2VsZWN0KCkge1xuICAgIHRoaXMuX2Nsb3NlQWxsTWVnYW5hdnMoKTtcbiAgICB0aGlzLmhlYWRlci5zZWN0aW9uRGVzZWxlY3QoKTtcbiAgfVxuXG4gIG9uU2VjdGlvblVubG9hZCgpIHtcbiAgICB0aGlzLmhlYWRlci51bmxvYWQoKTtcbiAgICB0aGlzLm5hdk1vYmlsZS51bmxvYWQoKTtcbiAgICB0aGlzLm5hdkRlc2t0b3AudW5sb2FkKCk7XG4gICAgdGhpcy5mb3Jtcy51bmxvYWQoKTtcblxuICAgIHRoaXMuJGVsLm9mZignY2FydGNvdW50OnVwZGF0ZScpO1xuICB9XG5cbiAgb25TZWN0aW9uTWVzc2FnZShuYW1lLCBkYXRhKSB7XG4gICAgaWYgKG5hbWUgPT09ICduYXY6Y2xvc2UtYWxsJyAmJiBicmVha3BvaW50Lm1pbignTCcpKSB7XG4gICAgICB0aGlzLl9jbG9zZUFsbE1lZ2FuYXZzKCk7XG4gICAgfVxuICB9XG5cbiAgb25TZWN0aW9uQmxvY2tTZWxlY3QoYmxvY2spIHtcbiAgICBpZiAoIWJyZWFrcG9pbnQubWluKCdMJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmhlYWRlci5vblNlY3Rpb25CbG9ja1NlbGVjdChibG9jayk7XG4gICAgdGhpcy5uYXZEZXNrdG9wLm9wZW5NZWdhbmF2QmxvY2sodGhpcy5tZWdhTmF2c1tibG9jay5pZF0uJGVsWzBdKTtcbiAgfVxuXG4gIG9uU2VjdGlvbkJsb2NrRGVzZWxlY3QoYmxvY2spIHtcbiAgICB0aGlzLmhlYWRlci5vblNlY3Rpb25CbG9ja0Rlc2VsZWN0KGJsb2NrKTtcblxuICAgIGlmICh0aGlzLm1lZ2FOYXZzW2Jsb2NrLmlkXSkge1xuICAgICAgdGhpcy5tZWdhTmF2c1tibG9jay5pZF0uJGVsLnJlbW92ZUNsYXNzKCdtZWdhbmF2LWVkaXRpbmctYmxvY2snKTtcbiAgICB9XG4gIH1cblxuICBfY2xvc2VBbGxNZWdhbmF2cygpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5tZWdhTmF2cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGtleXMubGVuZ3RoIDwgaTsgaSsrKSB7XG4gICAgICB0aGlzLm1lZ2FOYXZzW2tleXNbaV1dLiRlbC5yZW1vdmVDbGFzcygnbWVnYW5hdi1lZGl0aW5nLWJsb2NrJyk7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticSectionHeader.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticSlideshow.js":
/*!****************************************************!*\
  !*** ./source/scripts/sections/StaticSlideshow.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticSlideshow; });\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! just-debounce */ \"./node_modules/just-debounce/index.js\");\n/* harmony import */ var just_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(just_debounce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! flickity */ \"./node_modules/flickity/js/index.js\");\n/* harmony import */ var flickity__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(flickity__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixelunion/breakpoint */ \"./node_modules/@pixelunion/breakpoint/dist/cjs/index.js\");\n/* harmony import */ var _pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar StaticSlideshow = /*#__PURE__*/function () {\n  function StaticSlideshow(section) {\n    _classCallCheck(this, StaticSlideshow);\n\n    this.el = section.el;\n    this.settings = section.data;\n    this.$window = jquery__WEBPACK_IMPORTED_MODULE_3___default()(window);\n    this.carousel = this.el.querySelector('.slideshow');\n    this.slides = '.slideshow-slide';\n    this.container = this.el.querySelector('.slideshow-height-fullscreen');\n    this.isFullscreen = !!this.container;\n    this.selectBlockOnLoad = true;\n    this.continueAutoplay = true;\n    this.stopAutoplay = false;\n    this.autoplayTimeout = 0;\n    this.$firstSlideImage = null;\n    this.flickity = null;\n    this.flickityOptions = null;\n\n    if (this.carousel && this.carousel.querySelectorAll(this.slides).length > 1) {\n      this._initSlider();\n    }\n  }\n\n  _createClass(StaticSlideshow, [{\n    key: \"_initSlider\",\n    value: function _initSlider() {\n      var _this = this;\n\n      this.flickityOptions = {\n        autoPlay: this.settings.enable_autoplay ? this.settings.autoplay_duration * 1000 : false,\n        setGallerySize: !this.isFullscreen,\n        pauseAutoPlayOnHover: false,\n        accessibility: true,\n        adaptiveHeight: true,\n        cellAlign: 'left',\n        cellSelector: this.slides,\n        contain: true,\n        wrapAround: true,\n        arrowShape: {\n          x0: 10,\n          x1: 60,\n          y1: 50,\n          x2: 65,\n          y2: 45,\n          x3: 20\n        }\n      };\n      this.$firstSlideImage = jquery__WEBPACK_IMPORTED_MODULE_3___default()(this.slides, this.carousel).find('img[data-rimg]').first();\n\n      var initFlickity = function initFlickity() {\n        _this.flickity = new flickity__WEBPACK_IMPORTED_MODULE_1___default.a(_this.carousel, _this.flickityOptions);\n\n        _this._bindEvents();\n      }; // If image isn't lazy loaded, it may load before\n      // this JS runs, so we need to check\n\n\n      if (this.$firstSlideImage.length && !this.$firstSlideImage[0].complete) {\n        var loadEventName = this.settings.lazyLoad ? 'rimg:load' : 'load';\n        this.$firstSlideImage.one(loadEventName, initFlickity);\n      } else {\n        initFlickity();\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n\n      this._slideshowHeight();\n\n      this._positionDots();\n\n      this._changeArrrowColors();\n\n      this.$window.on('resize.slideshow', just_debounce__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n        _this2._slideshowHeight();\n\n        _this2._positionDots();\n\n        _this2._changeArrrowColors();\n      }));\n      this.flickity.on('select', function () {\n        _this2._slideshowHeight();\n\n        _this2._positionDots();\n\n        _this2._changeArrrowColors();\n\n        _this2.selectBlockOnLoad = false;\n\n        if (_this2.settings.enable_autoplay && !_this2.stopAutoplay) {\n          _this2.flickity.pausePlayer();\n\n          if (_this2.continueAutoplay) {\n            _this2.autoplayTimeout = 0;\n          } else {\n            _this2.autoplayTimeout = 10000;\n          }\n\n          _this2.continueAutoplay = true;\n          setTimeout(function () {\n            _this2.flickity.playPlayer();\n          }, _this2.autoplayTimeout);\n        }\n      });\n      this.flickity.on('dragStart', function () {\n        _this2.continueAutoplay = false;\n      });\n\n      this.stopAutoplaying = function () {\n        _this2.stopAutoplay = true;\n\n        _this2.flickity.stopPlayer();\n      }; // For users that need to use a keyboard for navigation, we want to pause the player\n      // when they are focused on it, and we also want to slide to the slide their focus is on.\n\n\n      this.slideElements = this.el.querySelectorAll(this.slides);\n      this.slideElements.forEach(function (slide) {\n        slide.addEventListener('focusin', function () {\n          _this2.stopAutoplaying();\n\n          var $slides = jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this2.slides);\n          var $slide = jquery__WEBPACK_IMPORTED_MODULE_3___default()(slide);\n          var slideIndex = $slides.index($slide);\n\n          _this2.flickity.select(slideIndex, false, true);\n        });\n      }); // For screen readers, we will add a live region that is hidden to users,\n      // but is read when clicking the nagivation buttons\n\n      this.liveregion = document.createElement('div');\n      this.liveregion.setAttribute('aria-live', 'polite');\n      this.liveregion.setAttribute('class', 'live-region visually-hidden');\n      this.el.appendChild(this.liveregion);\n\n      this.handleManualSlideChange = function () {\n        _this2.stopAutoplaying();\n\n        _this2.liveregion.textContent = \"Slide autoplay stopped.\\n        On slide \".concat(_this2.flickity.selectedIndex + 1, \" of \").concat(_this2.flickity.slides.length);\n      }; // stop autoplaying if a user has interacted with the slideshow next/previous buttons\n\n\n      this.el.querySelector('.flickity-prev-next-button.next').addEventListener('click', this.handleManualSlideChange);\n      this.el.querySelector('.flickity-prev-next-button.previous').addEventListener('click', this.handleManualSlideChange);\n    }\n  }, {\n    key: \"_positionDots\",\n    value: function _positionDots() {\n      var pageDots = this.el.querySelector('.flickity-page-dots');\n      var top = 'auto';\n\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"max\"]('XS') && !this.isFullscreen) {\n        var content = this.flickity.selectedElement.querySelector('.slideshow-slide-content');\n        var height = this.flickity.selectedElement.querySelector('.slideshow-background').offsetHeight;\n        var dotGutter = 5;\n\n        if (content) {\n          top = \"\".concat(height + dotGutter, \"px\");\n        } else {\n          var pageDotsHeight = pageDots.offsetHeight;\n          var dotBottomGutter = 20; // If no content, and mobile, offset by height of dots, and the bottom gutter\n\n          top = \"\".concat(height - (pageDotsHeight + dotBottomGutter), \"px\");\n        }\n      }\n\n      pageDots.style.top = top;\n    }\n  }, {\n    key: \"_changeArrrowColors\",\n    value: function _changeArrrowColors() {\n      var currentColor = this.flickity.selectedElement.querySelector('.slideshow-background').dataset;\n      var dots = this.el.querySelectorAll('.flickity-page-dots .dot');\n\n      if (_pixelunion_breakpoint__WEBPACK_IMPORTED_MODULE_2__[\"max\"]('XS') && !this.isFullscreen) {\n        currentColor = currentColor.themecolor;\n      } else {\n        currentColor = currentColor.slidecolor;\n      }\n\n      this.el.querySelector('.flickity-prev-next-button.previous svg').style.fill = currentColor;\n      this.el.querySelector('.flickity-prev-next-button.next svg').style.fill = currentColor;\n\n      for (var i = 0; i < dots.length; i++) {\n        dots[i].style.background = currentColor;\n      }\n    }\n  }, {\n    key: \"_slideshowHeight\",\n    value: function _slideshowHeight() {\n      if (this.isFullscreen) {\n        var offsetHeight = document.querySelector('[data-site-header]').getBoundingClientRect().height;\n        var announcement = document.querySelector('.site-announcement');\n\n        if (announcement) {\n          offsetHeight += announcement.getBoundingClientRect().height;\n        }\n\n        this.el.querySelector('.flickity-viewport').style.height = \"calc(100vh - \".concat(offsetHeight, \"px)\");\n        this.container.style.height = \"calc(100vh - \".concat(offsetHeight, \"px)\");\n      }\n    }\n  }, {\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      this._destroyFlickity();\n\n      this.$window.off('.slideshow');\n\n      if (this.$firstSlideImage) {\n        this.$firstSlideImage.off('rimg:load');\n      }\n    }\n  }, {\n    key: \"_destroyFlickity\",\n    value: function _destroyFlickity() {\n      if (!this.flickity) {\n        return;\n      }\n\n      this.flickity.destroy();\n    }\n  }, {\n    key: \"onSectionBlockSelect\",\n    value: function onSectionBlockSelect(block) {\n      var _this3 = this;\n\n      if (!this.flickity) return;\n      setTimeout(function () {\n        _this3.flickity.resize();\n      }, 100);\n      var $slides = jquery__WEBPACK_IMPORTED_MODULE_3___default()(this.slides);\n      var $slide = jquery__WEBPACK_IMPORTED_MODULE_3___default()(block.el);\n      var slideIndex = $slides.index($slide);\n\n      if (this.settings.enable_autoplay && this.flickity) {\n        this.stopAutoplay = true;\n        this.flickity.pausePlayer();\n      }\n\n      if (!$slide.hasClass('is-selected') && !this.selectBlockOnLoad) {\n        this.flickity.select(slideIndex, false, false);\n      } else if (this.selectBlockOnLoad) {\n        this.flickity.select(slideIndex, false, true);\n      }\n    }\n  }, {\n    key: \"onSectionBlockDeselect\",\n    value: function onSectionBlockDeselect() {\n      if (this.flickity && this.settings.enable_autoplay) {\n        this.stopAutoplay = false;\n        this.flickity.playPlayer();\n      }\n    }\n  }]);\n\n  return StaticSlideshow;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNTbGlkZXNob3cuanM/Zjg3ZiJdLCJuYW1lcyI6WyJTdGF0aWNTbGlkZXNob3ciLCJzZWN0aW9uIiwiZWwiLCJzZXR0aW5ncyIsImRhdGEiLCIkd2luZG93IiwiJCIsIndpbmRvdyIsImNhcm91c2VsIiwicXVlcnlTZWxlY3RvciIsInNsaWRlcyIsImNvbnRhaW5lciIsImlzRnVsbHNjcmVlbiIsInNlbGVjdEJsb2NrT25Mb2FkIiwiY29udGludWVBdXRvcGxheSIsInN0b3BBdXRvcGxheSIsImF1dG9wbGF5VGltZW91dCIsIiRmaXJzdFNsaWRlSW1hZ2UiLCJmbGlja2l0eSIsImZsaWNraXR5T3B0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJfaW5pdFNsaWRlciIsImF1dG9QbGF5IiwiZW5hYmxlX2F1dG9wbGF5IiwiYXV0b3BsYXlfZHVyYXRpb24iLCJzZXRHYWxsZXJ5U2l6ZSIsInBhdXNlQXV0b1BsYXlPbkhvdmVyIiwiYWNjZXNzaWJpbGl0eSIsImFkYXB0aXZlSGVpZ2h0IiwiY2VsbEFsaWduIiwiY2VsbFNlbGVjdG9yIiwiY29udGFpbiIsIndyYXBBcm91bmQiLCJhcnJvd1NoYXBlIiwieDAiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIngzIiwiZmluZCIsImZpcnN0IiwiaW5pdEZsaWNraXR5IiwiRmxpY2tpdHkiLCJfYmluZEV2ZW50cyIsImNvbXBsZXRlIiwibG9hZEV2ZW50TmFtZSIsImxhenlMb2FkIiwib25lIiwiX3NsaWRlc2hvd0hlaWdodCIsIl9wb3NpdGlvbkRvdHMiLCJfY2hhbmdlQXJycm93Q29sb3JzIiwib24iLCJkZWJvdW5jZSIsInBhdXNlUGxheWVyIiwic2V0VGltZW91dCIsInBsYXlQbGF5ZXIiLCJzdG9wQXV0b3BsYXlpbmciLCJzdG9wUGxheWVyIiwic2xpZGVFbGVtZW50cyIsImZvckVhY2giLCJzbGlkZSIsImFkZEV2ZW50TGlzdGVuZXIiLCIkc2xpZGVzIiwiJHNsaWRlIiwic2xpZGVJbmRleCIsImluZGV4Iiwic2VsZWN0IiwibGl2ZXJlZ2lvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiaGFuZGxlTWFudWFsU2xpZGVDaGFuZ2UiLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkSW5kZXgiLCJwYWdlRG90cyIsInRvcCIsImJyZWFrcG9pbnQiLCJjb250ZW50Iiwic2VsZWN0ZWRFbGVtZW50IiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiZG90R3V0dGVyIiwicGFnZURvdHNIZWlnaHQiLCJkb3RCb3R0b21HdXR0ZXIiLCJzdHlsZSIsImN1cnJlbnRDb2xvciIsImRhdGFzZXQiLCJkb3RzIiwidGhlbWVjb2xvciIsInNsaWRlY29sb3IiLCJmaWxsIiwiaSIsImJhY2tncm91bmQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhbm5vdW5jZW1lbnQiLCJfZGVzdHJveUZsaWNraXR5Iiwib2ZmIiwiZGVzdHJveSIsImJsb2NrIiwicmVzaXplIiwiaGFzQ2xhc3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7SUFFcUJBLGU7QUFDbkIsMkJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsU0FBS0MsRUFBTCxHQUFVRCxPQUFPLENBQUNDLEVBQWxCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQkYsT0FBTyxDQUFDRyxJQUF4QjtBQUNBLFNBQUtDLE9BQUwsR0FBZUMsNkNBQUMsQ0FBQ0MsTUFBRCxDQUFoQjtBQUVBLFNBQUtDLFFBQUwsR0FBZ0IsS0FBS04sRUFBTCxDQUFRTyxhQUFSLENBQXNCLFlBQXRCLENBQWhCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLGtCQUFkO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixLQUFLVCxFQUFMLENBQVFPLGFBQVIsQ0FBc0IsOEJBQXRCLENBQWpCO0FBQ0EsU0FBS0csWUFBTCxHQUFvQixDQUFDLENBQUMs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LFlBQU07QUFDZixjQUFJLENBQUN0QyxRQUFMLENBQWNvRixNQUFkO0FBQ0QsT0FGUyxFQUVQLEdBRk8sQ0FBVjtBQUlBLFVBQU10QyxPQUFPLEdBQUcxRCw2Q0FBQyxDQUFDLEtBQUtJLE1BQU4sQ0FBakI7QUFDQSxVQUFNdUQsTUFBTSxHQUFHM0QsNkNBQUMsQ0FBQytGLEtBQUssQ0FBQ25HLEVBQVAsQ0FBaEI7QUFDQSxVQUFNZ0UsVUFBVSxHQUFHRixPQUFPLENBQUNHLEtBQVIsQ0FBY0YsTUFBZCxDQUFuQjs7QUFFQSxVQUFJLEtBQUs5RCxRQUFMLENBQWNxQixlQUFkLElBQWlDLEtBQUtOLFFBQTFDLEVBQW9EO0FBQ2xELGFBQUtILFlBQUwsR0FBb0IsSUFBcEI7QUFDQSxhQUFLRyxRQUFMLENBQWNxQyxXQUFkO0FBQ0Q7O0FBRUQsVUFBSSxDQUFDVSxNQUFNLENBQUNzQyxRQUFQLENBQWdCLGFBQWhCLENBQUQsSUFBbUMsQ0FBQyxLQUFLMUYsaUJBQTdDLEVBQWdFO0FBQzlELGFBQUtLLFFBQUwsQ0FBY2tELE1BQWQsQ0FBcUJGLFVBQXJCLEVBQWlDLEtBQWpDLEVBQXdDLEtBQXhDO0FBQ0QsT0FGRCxNQUVPLElBQUksS0FBS3JELGlCQUFULEVBQTRCO0FBQ2pDLGFBQUtLLFFBQUwsQ0FBY2tELE1BQWQsQ0FBcUJGLFVBQXJCLEVBQWlDLEtBQWpDLEVBQXdDLElBQXhDO0FBQ0Q7QUFDRjs7OzZDQUV3QjtBQUN2QixVQUFJLEtBQUtoRCxRQUFMLElBQWlCLEtBQUtmLFFBQUwsQ0FBY3FCLGVBQW5DLEVBQW9EO0FBQ2xELGFBQUtULFlBQUwsR0FBb0IsS0FBcEI7QUFDQSxhQUFLRyxRQUFMLENBQWN1QyxVQUFkO0FBQ0Q7QUFDRiIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3NlY3Rpb25zL1N0YXRpY1NsaWRlc2hvdy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWJvdW5jZSBmcm9tICdqdXN0LWRlYm91bmNlJztcbmltcG9ydCBGbGlja2l0eSBmcm9tICdmbGlja2l0eSc7XG5pbXBvcnQgKiBhcyBicmVha3BvaW50IGZyb20gJ0BwaXhlbHVuaW9uL2JyZWFrcG9pbnQnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGljU2xpZGVzaG93IHtcbiAgY29uc3RydWN0b3Ioc2VjdGlvbikge1xuICAgIHRoaXMuZWwgPSBzZWN0aW9uLmVsO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZWN0aW9uLmRhdGE7XG4gICAgdGhpcy4kd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgdGhpcy5jYXJvdXNlbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnNsaWRlc2hvdycpO1xuICAgIHRoaXMuc2xpZGVzID0gJy5zbGlkZXNob3ctc2xpZGUnO1xuICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVzaG93LWhlaWdodC1mdWxsc2NyZWVuJyk7XG4gICAgdGhpcy5pc0Z1bGxzY3JlZW4gPSAhIXRoaXMuY29udGFpbmVyO1xuICAgIHRoaXMuc2VsZWN0QmxvY2tPbkxvYWQgPSB0cnVlO1xuICAgIHRoaXMuY29udGludWVBdXRvcGxheSA9IHRydWU7XG4gICAgdGhpcy5zdG9wQXV0b3BsYXkgPSBmYWxzZTtcbiAgICB0aGlzLmF1dG9wbGF5VGltZW91dCA9IDA7XG4gICAgdGhpcy4kZmlyc3RTbGlkZUltYWdlID0gbnVsbDtcblxuICAgIHRoaXMuZmxpY2tpdHkgPSBudWxsO1xuICAgIHRoaXMuZmxpY2tpdHlPcHRpb25zID0gbnVsbDtcblxuICAgIGlmICh0aGlzLmNhcm91c2VsICYmIHRoaXMuY2Fyb3VzZWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNsaWRlcykubGVuZ3RoID4gMSkge1xuICAgICAgdGhpcy5faW5pdFNsaWRlcigpO1xuICAgIH1cbiAgfVxuXG4gIF9pbml0U2xpZGVyKCkge1xuICAgIHRoaXMuZmxpY2tpdHlPcHRpb25zID0ge1xuICAgICAgYXV0b1BsYXk6IHRoaXMuc2V0dGluZ3MuZW5hYmxlX2F1dG9wbGF5ID8gdGhpcy5zZXR0aW5ncy5hdXRvcGxheV9kdXJhdGlvbiAqIDEwMDAgOiBmYWxzZSxcbiAgICAgIHNldEdhbGxlcnlTaXplOiAhdGhpcy5pc0Z1bGxzY3JlZW4sXG4gICAgICBwYXVzZUF1dG9QbGF5T25Ib3ZlcjogZmFsc2UsXG4gICAgICBhY2Nlc3NpYmlsaXR5OiB0cnVlLFxuICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXG4gICAgICBjZWxsQWxpZ246ICdsZWZ0JyxcbiAgICAgIGNlbGxTZWxlY3RvcjogdGhpcy5zbGlkZXMsXG4gICAgICBjb250YWluOiB0cnVlLFxuICAgICAgd3JhcEFyb3VuZDogdHJ1ZSxcbiAgICAgIGFycm93U2hhcGU6IHtcbiAgICAgICAgeDA6IDEwLFxuICAgICAgICB4MTogNjAsXG4gICAgICAgIHkxOiA1MCxcbiAgICAgICAgeDI6IDY1LFxuICAgICAgICB5MjogNDUsXG4gICAgICAgIHgzOiAyMCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRoaXMuJGZpcnN0U2xpZGVJbWFnZSA9ICQodGhpcy5zbGlkZXMsIHRoaXMuY2Fyb3VzZWwpLmZpbmQoJ2ltZ1tkYXRhLXJpbWddJykuZmlyc3QoKTtcblxuICAgIGNvbnN0IGluaXRGbGlja2l0eSA9ICgpID0+IHtcbiAgICAgIHRoaXMuZmxpY2tpdHkgPSBuZXcgRmxpY2tpdHkodGhpcy5jYXJvdXNlbCwgdGhpcy5mbGlja2l0eU9wdGlvbnMpO1xuICAgICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICAgIH07XG5cbiAgICAvLyBJZiBpbWFnZSBpc24ndCBsYXp5IGxvYWRlZCwgaXQgbWF5IGxvYWQgYmVmb3JlXG4gICAgLy8gdGhpcyBKUyBydW5zLCBzbyB3ZSBuZWVkIHRvIGNoZWNrXG4gICAgaWYgKHRoaXMuJGZpcnN0U2xpZGVJbWFnZS5sZW5ndGggJiYgIXRoaXMuJGZpcnN0U2xpZGVJbWFnZVswXS5jb21wbGV0ZSkge1xuICAgICAgY29uc3QgbG9hZEV2ZW50TmFtZSA9IHRoaXMuc2V0dGluZ3MubGF6eUxvYWQgPyAncmltZzpsb2FkJyA6ICdsb2FkJztcbiAgICAgIHRoaXMuJGZpcnN0U2xpZGVJbWFnZS5vbmUobG9hZEV2ZW50TmFtZSwgaW5pdEZsaWNraXR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdEZsaWNraXR5KCk7XG4gICAgfVxuICB9XG5cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgdGhpcy5fc2xpZGVzaG93SGVpZ2h0KCk7XG4gICAgdGhpcy5fcG9zaXRpb25Eb3RzKCk7XG4gICAgdGhpcy5fY2hhbmdlQXJycm93Q29sb3JzKCk7XG5cbiAgICB0aGlzLiR3aW5kb3cub24oJ3Jlc2l6ZS5zbGlkZXNob3cnLCBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICB0aGlzLl9zbGlkZXNob3dIZWlnaHQoKTtcbiAgICAgIHRoaXMuX3Bvc2l0aW9uRG90cygpO1xuICAgICAgdGhpcy5fY2hhbmdlQXJycm93Q29sb3JzKCk7XG4gICAgfSkpO1xuXG4gICAgdGhpcy5mbGlja2l0eS5vbignc2VsZWN0JywgKCkgPT4ge1xuICAgICAgdGhpcy5fc2xpZGVzaG93SGVpZ2h0KCk7XG4gICAgICB0aGlzLl9wb3NpdGlvbkRvdHMoKTtcbiAgICAgIHRoaXMuX2NoYW5nZUFycnJvd0NvbG9ycygpO1xuXG4gICAgICB0aGlzLnNlbGVjdEJsb2NrT25Mb2FkID0gZmFsc2U7XG5cbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZV9hdXRvcGxheSAmJiAhdGhpcy5zdG9wQXV0b3BsYXkpIHtcbiAgICAgICAgdGhpcy5mbGlja2l0eS5wYXVzZVBsYXllcigpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbnRpbnVlQXV0b3BsYXkpIHtcbiAgICAgICAgICB0aGlzLmF1dG9wbGF5VGltZW91dCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hdXRvcGxheVRpbWVvdXQgPSAxMDAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udGludWVBdXRvcGxheSA9IHRydWU7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5mbGlja2l0eS5wbGF5UGxheWVyKCk7XG4gICAgICAgIH0sIHRoaXMuYXV0b3BsYXlUaW1lb3V0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZmxpY2tpdHkub24oJ2RyYWdTdGFydCcsICgpID0+IHtcbiAgICAgIHRoaXMuY29udGludWVBdXRvcGxheSA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdG9wQXV0b3BsYXlpbmcgPSAoKSA9PiB7XG4gICAgICB0aGlzLnN0b3BBdXRvcGxheSA9IHRydWU7XG4gICAgICB0aGlzLmZsaWNraXR5LnN0b3BQbGF5ZXIoKTtcbiAgICB9O1xuXG4gICAgLy8gRm9yIHVzZXJzIHRoYXQgbmVlZCB0byB1c2UgYSBrZXlib2FyZCBmb3IgbmF2aWdhdGlvbiwgd2Ugd2FudCB0byBwYXVzZSB0aGUgcGxheWVyXG4gICAgLy8gd2hlbiB0aGV5IGFyZSBmb2N1c2VkIG9uIGl0LCBhbmQgd2UgYWxzbyB3YW50IHRvIHNsaWRlIHRvIHRoZSBzbGlkZSB0aGVpciBmb2N1cyBpcyBvbi5cbiAgICB0aGlzLnNsaWRlRWxlbWVudHMgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zbGlkZXMpO1xuICAgIHRoaXMuc2xpZGVFbGVtZW50cy5mb3JFYWNoKChzbGlkZSkgPT4ge1xuICAgICAgc2xpZGUuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsICgpID0+IHtcbiAgICAgICAgdGhpcy5zdG9wQXV0b3BsYXlpbmcoKTtcbiAgICAgICAgY29uc3QgJHNsaWRlcyA9ICQodGhpcy5zbGlkZXMpO1xuICAgICAgICBjb25zdCAkc2xpZGUgPSAkKHNsaWRlKTtcbiAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9ICRzbGlkZXMuaW5kZXgoJHNsaWRlKTtcbiAgICAgICAgdGhpcy5mbGlja2l0eS5zZWxlY3Qoc2xpZGVJbmRleCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBGb3Igc2NyZWVuIHJlYWRlcnMsIHdlIHdpbGwgYWRkIGEgbGl2ZSByZWdpb24gdGhhdCBpcyBoaWRkZW4gdG8gdXNlcnMsXG4gICAgLy8gYnV0IGlzIHJlYWQgd2hlbiBjbGlja2luZyB0aGUgbmFnaXZhdGlvbiBidXR0b25zXG4gICAgdGhpcy5saXZlcmVnaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5saXZlcmVnaW9uLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgIHRoaXMubGl2ZXJlZ2lvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xpdmUtcmVnaW9uIHZpc3VhbGx5LWhpZGRlbicpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5saXZlcmVnaW9uKTtcblxuICAgIHRoaXMuaGFuZGxlTWFudWFsU2xpZGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLnN0b3BBdXRvcGxheWluZygpO1xuICAgICAgdGhpcy5saXZlcmVnaW9uLnRleHRDb250ZW50ID0gYFNsaWRlIGF1dG9wbGF5IHN0b3BwZWQuXG4gICAgICAgIE9uIHNsaWRlICR7dGhpcy5mbGlja2l0eS5zZWxlY3RlZEluZGV4ICsgMX0gb2YgJHt0aGlzLmZsaWNraXR5LnNsaWRlcy5sZW5ndGh9YDtcbiAgICB9O1xuXG4gICAgLy8gc3RvcCBhdXRvcGxheWluZyBpZiBhIHVzZXIgaGFzIGludGVyYWN0ZWQgd2l0aCB0aGUgc2xpZGVzaG93IG5leHQvcHJldmlvdXMgYnV0dG9uc1xuICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmZsaWNraXR5LXByZXYtbmV4dC1idXR0b24ubmV4dCcpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU1hbnVhbFNsaWRlQ2hhbmdlKTtcbiAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5mbGlja2l0eS1wcmV2LW5leHQtYnV0dG9uLnByZXZpb3VzJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlTWFudWFsU2xpZGVDaGFuZ2UpO1xuICB9XG5cbiAgX3Bvc2l0aW9uRG90cygpIHtcbiAgICBjb25zdCBwYWdlRG90cyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmZsaWNraXR5LXBhZ2UtZG90cycpO1xuICAgIGxldCB0b3AgPSAnYXV0byc7XG5cbiAgICBpZiAoYnJlYWtwb2ludC5tYXgoJ1hTJykgJiYgIXRoaXMuaXNGdWxsc2NyZWVuKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5mbGlja2l0eS5zZWxlY3RlZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlc2hvdy1zbGlkZS1jb250ZW50Jyk7XG4gICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmZsaWNraXR5LnNlbGVjdGVkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVzaG93LWJhY2tncm91bmQnKS5vZmZzZXRIZWlnaHQ7XG4gICAgICBjb25zdCBkb3RHdXR0ZXIgPSA1O1xuXG4gICAgICBpZiAoY29udGVudCkge1xuICAgICAgICB0b3AgPSBgJHtoZWlnaHQgKyBkb3RHdXR0ZXJ9cHhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcGFnZURvdHNIZWlnaHQgPSBwYWdlRG90cy5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGRvdEJvdHRvbUd1dHRlciA9IDIwO1xuXG4gICAgICAgIC8vIElmIG5vIGNvbnRlbnQsIGFuZCBtb2JpbGUsIG9mZnNldCBieSBoZWlnaHQgb2YgZG90cywgYW5kIHRoZSBib3R0b20gZ3V0dGVyXG4gICAgICAgIHRvcCA9IGAke2hlaWdodCAtIChwYWdlRG90c0hlaWdodCArIGRvdEJvdHRvbUd1dHRlcil9cHhgO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhZ2VEb3RzLnN0eWxlLnRvcCA9IHRvcDtcbiAgfVxuXG4gIF9jaGFuZ2VBcnJyb3dDb2xvcnMoKSB7XG4gICAgbGV0IGN1cnJlbnRDb2xvciA9IHRoaXMuZmxpY2tpdHkuc2VsZWN0ZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXNob3ctYmFja2dyb3VuZCcpLmRhdGFzZXQ7XG4gICAgY29uc3QgZG90cyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnLmZsaWNraXR5LXBhZ2UtZG90cyAuZG90Jyk7XG5cbiAgICBpZiAoYnJlYWtwb2ludC5tYXgoJ1hTJykgJiYgIXRoaXMuaXNGdWxsc2NyZWVuKSB7XG4gICAgICBjdXJyZW50Q29sb3IgPSBjdXJyZW50Q29sb3IudGhlbWVjb2xvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudENvbG9yID0gY3VycmVudENvbG9yLnNsaWRlY29sb3I7XG4gICAgfVxuXG4gICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuZmxpY2tpdHktcHJldi1uZXh0LWJ1dHRvbi5wcmV2aW91cyBzdmcnKS5zdHlsZS5maWxsID0gY3VycmVudENvbG9yO1xuICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmZsaWNraXR5LXByZXYtbmV4dC1idXR0b24ubmV4dCBzdmcnKS5zdHlsZS5maWxsID0gY3VycmVudENvbG9yO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkb3RzW2ldLnN0eWxlLmJhY2tncm91bmQgPSBjdXJyZW50Q29sb3I7XG4gICAgfVxuICB9XG5cbiAgX3NsaWRlc2hvd0hlaWdodCgpIHtcbiAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4pIHtcbiAgICAgIGxldCBvZmZzZXRIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWhlYWRlcl0nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICBjb25zdCBhbm5vdW5jZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1hbm5vdW5jZW1lbnQnKTtcblxuICAgICAgaWYgKGFubm91bmNlbWVudCkge1xuICAgICAgICBvZmZzZXRIZWlnaHQgKz0gYW5ub3VuY2VtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuZmxpY2tpdHktdmlld3BvcnQnKS5zdHlsZS5oZWlnaHQgPSBgY2FsYygxMDB2aCAtICR7b2Zmc2V0SGVpZ2h0fXB4KWA7XG4gICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgY2FsYygxMDB2aCAtICR7b2Zmc2V0SGVpZ2h0fXB4KWA7XG4gICAgfVxuICB9XG5cbiAgb25TZWN0aW9uVW5sb2FkKCkge1xuICAgIHRoaXMuX2Rlc3Ryb3lGbGlja2l0eSgpO1xuICAgIHRoaXMuJHdpbmRvdy5vZmYoJy5zbGlkZXNob3cnKTtcbiAgICBpZiAodGhpcy4kZmlyc3RTbGlkZUltYWdlKSB7XG4gICAgICB0aGlzLiRmaXJzdFNsaWRlSW1hZ2Uub2ZmKCdyaW1nOmxvYWQnKTtcbiAgICB9XG4gIH1cblxuICBfZGVzdHJveUZsaWNraXR5KCkge1xuICAgIGlmICghdGhpcy5mbGlja2l0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZmxpY2tpdHkuZGVzdHJveSgpO1xuICB9XG5cbiAgb25TZWN0aW9uQmxvY2tTZWxlY3QoYmxvY2spIHtcbiAgICBpZiAoIXRoaXMuZmxpY2tpdHkpIHJldHVybjtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5mbGlja2l0eS5yZXNpemUoKTtcbiAgICB9LCAxMDApO1xuXG4gICAgY29uc3QgJHNsaWRlcyA9ICQodGhpcy5zbGlkZXMpO1xuICAgIGNvbnN0ICRzbGlkZSA9ICQoYmxvY2suZWwpO1xuICAgIGNvbnN0IHNsaWRlSW5kZXggPSAkc2xpZGVzLmluZGV4KCRzbGlkZSk7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVfYXV0b3BsYXkgJiYgdGhpcy5mbGlja2l0eSkge1xuICAgICAgdGhpcy5zdG9wQXV0b3BsYXkgPSB0cnVlO1xuICAgICAgdGhpcy5mbGlja2l0eS5wYXVzZVBsYXllcigpO1xuICAgIH1cblxuICAgIGlmICghJHNsaWRlLmhhc0NsYXNzKCdpcy1zZWxlY3RlZCcpICYmICF0aGlzLnNlbGVjdEJsb2NrT25Mb2FkKSB7XG4gICAgICB0aGlzLmZsaWNraXR5LnNlbGVjdChzbGlkZUluZGV4LCBmYWxzZSwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RCbG9ja09uTG9hZCkge1xuICAgICAgdGhpcy5mbGlja2l0eS5zZWxlY3Qoc2xpZGVJbmRleCwgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VjdGlvbkJsb2NrRGVzZWxlY3QoKSB7XG4gICAgaWYgKHRoaXMuZmxpY2tpdHkgJiYgdGhpcy5zZXR0aW5ncy5lbmFibGVfYXV0b3BsYXkpIHtcbiAgICAgIHRoaXMuc3RvcEF1dG9wbGF5ID0gZmFsc2U7XG4gICAgICB0aGlzLmZsaWNraXR5LnBsYXlQbGF5ZXIoKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticSlideshow.js\n");

/***/ }),

/***/ "./source/scripts/sections/StaticUtilityBar.js":
/*!*****************************************************!*\
  !*** ./source/scripts/sections/StaticUtilityBar.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StaticUtilityBar; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar StaticUtilityBar = /*#__PURE__*/function () {\n  function StaticUtilityBar(section) {\n    _classCallCheck(this, StaticUtilityBar);\n\n    this.mobileEl = section.el.querySelector('[data-utility-bar-mobile]');\n    this.mobileNavContentEl = null;\n    this.mobileElChildren = [];\n    this.documentFragment = document.createDocumentFragment();\n    this.mobileLayout = section.data.settings.mobile_layout;\n    this._loadMobileNavItems = this._loadMobileNavItems.bind(this);\n\n    if (this.mobileEl) {\n      this._loadMobileNavItems();\n\n      window.addEventListener('shopify:section:load', this._loadMobileNavItems);\n    }\n  }\n\n  _createClass(StaticUtilityBar, [{\n    key: \"onSectionUnload\",\n    value: function onSectionUnload() {\n      var _this = this;\n\n      window.removeEventListener('shopify:section:load', this._loadMobileNavItems);\n\n      if (this.mobileNavContentEl) {\n        this.mobileElChildren.forEach(function (child) {\n          return _this.mobileNavContentEl.removeChild(child);\n        });\n      }\n    }\n  }, {\n    key: \"_loadMobileNavItems\",\n    value: function _loadMobileNavItems() {\n      var inDom = this.mobileElChildren.some(function (child) {\n        return document.body.contains(child);\n      });\n      if (inDom) return;\n      this.mobileNavContentEl = document.body.querySelector('[data-mobile-nav-content]');\n      this.mobileElChildren = [];\n\n      if (this.mobileNavContentEl) {\n        var children = this.mobileEl.children;\n\n        for (var i = 0; i < children.length; i++) {\n          var clone = children[i].cloneNode(true);\n          this.mobileElChildren.push(clone);\n          this.documentFragment.appendChild(clone);\n        }\n\n        if (this.mobileLayout === 'below') {\n          this.mobileNavContentEl.appendChild(this.documentFragment);\n        } else {\n          this.mobileNavContentEl.insertBefore(this.documentFragment, this.mobileNavContentEl.firstElementChild);\n        }\n      }\n    }\n  }]);\n\n  return StaticUtilityBar;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNVdGlsaXR5QmFyLmpzP2IzN2IiXSwibmFtZXMiOlsiU3RhdGljVXRpbGl0eUJhciIsInNlY3Rpb24iLCJtb2JpbGVFbCIsImVsIiwicXVlcnlTZWxlY3RvciIsIm1vYmlsZU5hdkNvbnRlbnRFbCIsIm1vYmlsZUVsQ2hpbGRyZW4iLCJkb2N1bWVudEZyYWdtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwibW9iaWxlTGF5b3V0IiwiZGF0YSIsInNldHRpbmdzIiwibW9iaWxlX2xheW91dCIsIl9sb2FkTW9iaWxlTmF2SXRlbXMiLCJiaW5kIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiY2hpbGQiLCJyZW1vdmVDaGlsZCIsImluRG9tIiwic29tZSIsImJvZHkiLCJjb250YWlucyIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImNsb25lIiwiY2xvbmVOb2RlIiwicHVzaCIsImFwcGVuZENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RFbGVtZW50Q2hpbGQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0lBQXFCQSxnQjtBQUNuQiw0QkFBWUMsT0FBWixFQUFxQjtBQUFBOztBQUNuQixTQUFLQyxRQUFMLEdBQWdCRCxPQUFPLENBQUNFLEVBQVIsQ0FBV0MsYUFBWCxDQUF5QiwyQkFBekIsQ0FBaEI7QUFDQSxTQUFLQyxrQkFBTCxHQUEwQixJQUExQjtBQUNBLFNBQUtDLGdCQUFMLEdBQXdCLEVBQXhCO0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0JDLFFBQVEsQ0FBQ0Msc0JBQVQsRUFBeEI7QUFDQSxTQUFLQyxZQUFMLEdBQW9CVCxPQUFPLENBQUNVLElBQVIsQ0FBYUMsUUFBYixDQUFzQkMsYUFBMUM7QUFDQSxTQUFLQyxtQkFBTCxHQUEyQixLQUFLQSxtQkFBTCxDQUF5QkMsSUFBekIsQ0FBOEIsSUFBOUIsQ0FBM0I7O0FBRUEsUUFBSSxLQUFLYixRQUFULEVBQW1CO0FBQ2pCLFdBQUtZLG1CQUFMOztBQUNBRSxZQUFNLENBQUNDLGdCQUFQLENBQXdCLHNCQUF4QixFQUFnRCxLQUFLSCxtQkFBckQ7QUFDRDtBQUNGOzs7O3NDQUVpQjtBQUFBOztBQUNoQkUsWUFBTSxDQUFDRSxtQkFBUCxDQUEyQixzQkFBM0IsRUFBbUQsS0FBS0osbUJBQXhEOztBQUNBLFVBQUksS0FBS1Qsa0JBQVQsRUFBNkI7QUFDM0IsYUFBS0MsZ0JBQUwsQ0FBc0JhLE9BQXRCLENBQThCLFVBQUFDLEtBQUs7QUFBQSxpQkFBSSxLQUFJLENBQUNmLGtCQUFMLENBQXdCZ0IsV0FBeEIsQ0FBb0NELEtBQXBDLENBQUo7QUFBQSxTQUFuQztBQUNEO0FBQ0Y7OzswQ0FFcUI7QUFDcEIsVUFBTUUsS0FBSyxHQUFHLEtBQUtoQixnQkFBTCxDQUFzQmlCLElBQXRCLENBQTJCLFVBQUFILEtBQUs7QUFBQSxlQUFJWixRQUFRLENBQUNnQixJQUFULENBQWNDLFFBQWQsQ0FBdUJMLEtBQXZCLENBQUo7QUFBQSxPQUFoQyxDQUFkO0FBRUEsVUFBSUUsS0FBSixFQUFXO0FBRVgsV0FBS2pCLGtCQUFMLEdBQTBCRyxRQUFRLENBQUNnQixJQUFULENBQWNwQixhQUFkLENBQTRCLDJCQUE1QixDQUExQjtBQUNBLFdBQUtFLGdCQUFMLEdBQXdCLEVBQXhCOztBQUVBLFVBQUksS0FBS0Qsa0JBQVQsRUFBNkI7QUFBQSxZQUNuQnFCLFFBRG1CLEdBQ04sS0FBS3hCLFFBREMsQ0FDbkJ3QixRQURtQjs7QUFHM0IsYUFBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHRCxRQUFRLENBQUNFLE1BQTdCLEVBQXFDRCxDQUFDLEVBQXRDLEVBQTBDO0FBQ3hDLGNBQU1FLEtBQUssR0FBR0gsUUFBUSxDQUFDQyxDQUFELENBQVIsQ0FBWUcsU0FBWixDQUFzQixJQUF0QixDQUFkO0FBQ0EsZUFBS3hCLGdCQUFMLENBQXNCeUIsSUFBdEIsQ0FBMkJGLEtBQTNCO0FBQ0EsZUFBS3RCLGdCQUFMLENBQXNCeUIsV0FBdEIsQ0FBa0NILEtBQWxDO0FBQ0Q7O0FBRUQsWUFBSSxLQUFLbkIsWUFBTCxLQUFzQixPQUExQixFQUFtQztBQUNqQyxlQUFLTCxrQkFBTCxDQUF3QjJCLFdBQXhCLENBQW9DLEtBQUt6QixnQkFBekM7QUFDRCxTQUZELE1BRU87QUFDTCxlQUFLRixrQkFBTCxDQUF3QjRCLFlBQXhCLENBQXFDLEtBQUsxQixnQkFBMUMsRUFBNEQsS0FBS0Ysa0JBQUwsQ0FBd0I2QixpQkFBcEY7QUFDRDtBQUNGO0FBQ0YiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zZWN0aW9ucy9TdGF0aWNVdGlsaXR5QmFyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGljVXRpbGl0eUJhciB7XG4gIGNvbnN0cnVjdG9yKHNlY3Rpb24pIHtcbiAgICB0aGlzLm1vYmlsZUVsID0gc2VjdGlvbi5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS11dGlsaXR5LWJhci1tb2JpbGVdJyk7XG4gICAgdGhpcy5tb2JpbGVOYXZDb250ZW50RWwgPSBudWxsO1xuICAgIHRoaXMubW9iaWxlRWxDaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMuZG9jdW1lbnRGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICB0aGlzLm1vYmlsZUxheW91dCA9IHNlY3Rpb24uZGF0YS5zZXR0aW5ncy5tb2JpbGVfbGF5b3V0O1xuICAgIHRoaXMuX2xvYWRNb2JpbGVOYXZJdGVtcyA9IHRoaXMuX2xvYWRNb2JpbGVOYXZJdGVtcy5iaW5kKHRoaXMpO1xuXG4gICAgaWYgKHRoaXMubW9iaWxlRWwpIHtcbiAgICAgIHRoaXMuX2xvYWRNb2JpbGVOYXZJdGVtcygpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6c2VjdGlvbjpsb2FkJywgdGhpcy5fbG9hZE1vYmlsZU5hdkl0ZW1zKTtcbiAgICB9XG4gIH1cblxuICBvblNlY3Rpb25VbmxvYWQoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6c2VjdGlvbjpsb2FkJywgdGhpcy5fbG9hZE1vYmlsZU5hdkl0ZW1zKTtcbiAgICBpZiAodGhpcy5tb2JpbGVOYXZDb250ZW50RWwpIHtcbiAgICAgIHRoaXMubW9iaWxlRWxDaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHRoaXMubW9iaWxlTmF2Q29udGVudEVsLnJlbW92ZUNoaWxkKGNoaWxkKSk7XG4gICAgfVxuICB9XG5cbiAgX2xvYWRNb2JpbGVOYXZJdGVtcygpIHtcbiAgICBjb25zdCBpbkRvbSA9IHRoaXMubW9iaWxlRWxDaGlsZHJlbi5zb21lKGNoaWxkID0+IGRvY3VtZW50LmJvZHkuY29udGFpbnMoY2hpbGQpKTtcblxuICAgIGlmIChpbkRvbSkgcmV0dXJuO1xuXG4gICAgdGhpcy5tb2JpbGVOYXZDb250ZW50RWwgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vYmlsZS1uYXYtY29udGVudF0nKTtcbiAgICB0aGlzLm1vYmlsZUVsQ2hpbGRyZW4gPSBbXTtcblxuICAgIGlmICh0aGlzLm1vYmlsZU5hdkNvbnRlbnRFbCkge1xuICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5tb2JpbGVFbDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjbG9uZSA9IGNoaWxkcmVuW2ldLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgdGhpcy5tb2JpbGVFbENoaWxkcmVuLnB1c2goY2xvbmUpO1xuICAgICAgICB0aGlzLmRvY3VtZW50RnJhZ21lbnQuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tb2JpbGVMYXlvdXQgPT09ICdiZWxvdycpIHtcbiAgICAgICAgdGhpcy5tb2JpbGVOYXZDb250ZW50RWwuYXBwZW5kQ2hpbGQodGhpcy5kb2N1bWVudEZyYWdtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubW9iaWxlTmF2Q29udGVudEVsLmluc2VydEJlZm9yZSh0aGlzLmRvY3VtZW50RnJhZ21lbnQsIHRoaXMubW9iaWxlTmF2Q29udGVudEVsLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/sections/StaticUtilityBar.js\n");

/***/ }),

/***/ "./source/scripts/shortcodes/Details.js":
/*!**********************************************!*\
  !*** ./source/scripts/shortcodes/Details.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Details; });\n/* harmony import */ var _Shortcode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shortcode */ \"./source/scripts/shortcodes/Shortcode.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar Details = /*#__PURE__*/function (_Shortcode) {\n  _inherits(Details, _Shortcode);\n\n  var _super = _createSuper(Details);\n\n  _createClass(Details, null, [{\n    key: \"shortcode\",\n    get: function get() {\n      return 'details';\n    }\n  }]);\n\n  function Details(el) {\n    var _this;\n\n    _classCallCheck(this, Details);\n\n    _this = _super.call(this);\n    _this.summary = el.querySelector('summary'); // We need to add a wrapper to remove the outline when clicking on the summary.\n    // This way there will still be an outline for keyboard users.\n\n    var summaryWrapper = document.createElement('div');\n    summaryWrapper.setAttribute('tabindex', '-1');\n    summaryWrapper.classList.add('summary-wrapper');\n    summaryWrapper.innerHTML = _this.summary.innerHTML;\n    _this.summary.innerHTML = '';\n\n    _this.summary.appendChild(summaryWrapper);\n\n    return _this;\n  }\n\n  return Details;\n}(_Shortcode__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zaG9ydGNvZGVzL0RldGFpbHMuanM/M2VkYyJdLCJuYW1lcyI6WyJEZXRhaWxzIiwiZWwiLCJzdW1tYXJ5IiwicXVlcnlTZWxlY3RvciIsInN1bW1hcnlXcmFwcGVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJTaG9ydGNvZGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7SUFFcUJBLE87Ozs7Ozs7d0JBQ0k7QUFDckIsYUFBTyxTQUFQO0FBQ0Q7OztBQUVELG1CQUFZQyxFQUFaLEVBQWdCO0FBQUE7O0FBQUE7O0FBQ2Q7QUFFQSxVQUFLQyxPQUFMLEdBQWVELEVBQUUsQ0FBQ0UsYUFBSCxDQUFpQixTQUFqQixDQUFmLENBSGMsQ0FLZDtBQUNBOztBQUNBLFFBQU1DLGNBQWMsR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBQ0FGLGtCQUFjLENBQUNHLFlBQWYsQ0FBNEIsVUFBNUIsRUFBd0MsSUFBeEM7QUFDQUgsa0JBQWMsQ0FBQ0ksU0FBZixDQUF5QkMsR0FBekIsQ0FBNkIsaUJBQTdCO0FBQ0FMLGtCQUFjLENBQUNNLFNBQWYsR0FBMkIsTUFBS1IsT0FBTCxDQUFhUSxTQUF4QztBQUVBLFVBQUtSLE9BQUwsQ0FBYVEsU0FBYixHQUF5QixFQUF6Qjs7QUFDQSxVQUFLUixPQUFMLENBQWFTLFdBQWIsQ0FBeUJQLGNBQXpCOztBQWJjO0FBY2Y7OztFQW5Ca0NRLGtEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvc2hvcnRjb2Rlcy9EZXRhaWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNob3J0Y29kZSBmcm9tICcuL1Nob3J0Y29kZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldGFpbHMgZXh0ZW5kcyBTaG9ydGNvZGUge1xuICBzdGF0aWMgZ2V0IHNob3J0Y29kZSgpIHtcbiAgICByZXR1cm4gJ2RldGFpbHMnO1xuICB9XG5cbiAgY29uc3RydWN0b3IoZWwpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5zdW1tYXJ5ID0gZWwucXVlcnlTZWxlY3Rvcignc3VtbWFyeScpO1xuXG4gICAgLy8gV2UgbmVlZCB0byBhZGQgYSB3cmFwcGVyIHRvIHJlbW92ZSB0aGUgb3V0bGluZSB3aGVuIGNsaWNraW5nIG9uIHRoZSBzdW1tYXJ5LlxuICAgIC8vIFRoaXMgd2F5IHRoZXJlIHdpbGwgc3RpbGwgYmUgYW4gb3V0bGluZSBmb3Iga2V5Ym9hcmQgdXNlcnMuXG4gICAgY29uc3Qgc3VtbWFyeVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzdW1tYXJ5V3JhcHBlci5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgc3VtbWFyeVdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnc3VtbWFyeS13cmFwcGVyJyk7XG4gICAgc3VtbWFyeVdyYXBwZXIuaW5uZXJIVE1MID0gdGhpcy5zdW1tYXJ5LmlubmVySFRNTDtcblxuICAgIHRoaXMuc3VtbWFyeS5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLnN1bW1hcnkuYXBwZW5kQ2hpbGQoc3VtbWFyeVdyYXBwZXIpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/shortcodes/Details.js\n");

/***/ }),

/***/ "./source/scripts/shortcodes/ProductCTA.js":
/*!*************************************************!*\
  !*** ./source/scripts/shortcodes/ProductCTA.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductCTA; });\n/* harmony import */ var _Shortcode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shortcode */ \"./source/scripts/shortcodes/Shortcode.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar ProductCTA = /*#__PURE__*/function (_Shortcode) {\n  _inherits(ProductCTA, _Shortcode);\n\n  var _super = _createSuper(ProductCTA);\n\n  _createClass(ProductCTA, null, [{\n    key: \"shortcode\",\n    get: function get() {\n      return 'product-cta';\n    }\n  }]);\n\n  function ProductCTA(el) {\n    var _this;\n\n    _classCallCheck(this, ProductCTA);\n\n    _this = _super.call(this);\n    _this.productFormEl = null;\n    var parentEl = el.parentElement;\n\n    while (parentEl) {\n      _this.productFormEl = parentEl.hasAttribute('[data-product-form]') ? parentEl : parentEl.querySelector('[data-product-form]');\n      if (_this.productFormEl) break;\n      parentEl = parentEl.parentElement;\n    }\n\n    if (!_this.productFormEl) {\n      throw new Error('ProductCTA: No product form found.');\n    } // Keep a reference to shortcode element to unhide\n\n\n    _this.el = el;\n    _this.variantId = el.getAttribute('variant-id'); // Build the call to action element\n\n    _this.ctaEl = document.createElement('a');\n\n    _this.ctaEl.classList.add('shortcode--product-cta');\n\n    if (el.getAttribute('button-style')) {\n      _this.ctaEl.setAttribute('button-style', el.getAttribute('button-style'));\n    }\n\n    if (el.getAttribute('button-size')) {\n      _this.ctaEl.setAttribute('button-size', el.getAttribute('button-size'));\n    }\n\n    _this.ctaEl.href = el.getAttribute('link');\n    _this.ctaEl.innerHTML = el.innerHTML;\n    var target = el.getAttribute('target');\n\n    if (target) {\n      _this.ctaEl.setAttribute('target', target);\n\n      if (target === '_blank') {\n        var icon = document.createElement('span');\n        icon.classList.add('button-icon');\n        icon.setAttribute('aria-label', '(New window)');\n        icon.innerHTML = '<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.81792 2.29812L5.68732 5.42884L6.57121 6.3127L9.70198 3.18183L9.70227 5.51933L10.9523 5.51917L10.9518 1.67302L10.9517 1.0481L10.3268 1.0481L6.48062 1.04815L6.48064 2.29815L8.81792 2.29812ZM1.67297 1.04817H1.04797V1.67317V10.327V10.952H1.67297H10.3268H10.9518V10.327V8.13026H9.70175V9.70195H2.29797V2.29817H3.83642V1.04817H1.67297Z\" fill=\"currentColor\"/></svg>';\n\n        _this.ctaEl.appendChild(icon);\n      }\n    } // Remove element from DOM and insert new element into position\n\n\n    _this.el.toggleAttribute('hidden', true);\n\n    _this.productFormEl.parentNode.insertBefore(_this.ctaEl, _this.productFormEl.nextSibling);\n\n    if (_this.variantId) {\n      var variantsEl = _this.productFormEl.querySelector('[data-variants]');\n\n      _this._registerEvent({\n        el: variantsEl,\n        event: 'change',\n        listener: _this._onVariantChange.bind(_assertThisInitialized(_this))\n      });\n\n      _this._setVisible(variantsEl.value === _this.variantId);\n    } else {\n      _this._setVisible(true);\n    }\n\n    return _this;\n  }\n\n  _createClass(ProductCTA, [{\n    key: \"unload\",\n    value: function unload() {\n      _get(_getPrototypeOf(ProductCTA.prototype), \"unload\", this).call(this);\n\n      this.productFormEl.parentNode.removeChild(this.ctaEl);\n      this.el.toggleAttribute('hidden', false);\n    }\n  }, {\n    key: \"_setVisible\",\n    value: function _setVisible(visible) {\n      this.ctaEl.toggleAttribute('hidden', !visible);\n    }\n  }, {\n    key: \"_onVariantChange\",\n    value: function _onVariantChange(e) {\n      this._setVisible(e.currentTarget.value === this.variantId);\n    }\n  }]);\n\n  return ProductCTA;\n}(_Shortcode__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zaG9ydGNvZGVzL1Byb2R1Y3RDVEEuanM/YmE0MCJdLCJuYW1lcyI6WyJQcm9kdWN0Q1RBIiwiZWwiLCJwcm9kdWN0Rm9ybUVsIiwicGFyZW50RWwiLCJwYXJlbnRFbGVtZW50IiwiaGFzQXR0cmlidXRlIiwicXVlcnlTZWxlY3RvciIsIkVycm9yIiwidmFyaWFudElkIiwiZ2V0QXR0cmlidXRlIiwiY3RhRWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJocmVmIiwiaW5uZXJIVE1MIiwidGFyZ2V0IiwiaWNvbiIsImFwcGVuZENoaWxkIiwidG9nZ2xlQXR0cmlidXRlIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwidmFyaWFudHNFbCIsIl9yZWdpc3RlckV2ZW50IiwiZXZlbnQiLCJsaXN0ZW5lciIsIl9vblZhcmlhbnRDaGFuZ2UiLCJiaW5kIiwiX3NldFZpc2libGUiLCJ2YWx1ZSIsInJlbW92ZUNoaWxkIiwidmlzaWJsZSIsImUiLCJjdXJyZW50VGFyZ2V0IiwiU2hvcnRjb2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztJQUVxQkEsVTs7Ozs7Ozt3QkFDSTtBQUNyQixhQUFPLGFBQVA7QUFDRDs7O0FBRUQsc0JBQVlDLEVBQVosRUFBZ0I7QUFBQTs7QUFBQTs7QUFDZDtBQUVBLFVBQUtDLGFBQUwsR0FBcUIsSUFBckI7QUFDQSxRQUFJQyxRQUFRLEdBQUdGLEVBQUUsQ0FBQ0csYUFBbEI7O0FBRUEsV0FBT0QsUUFBUCxFQUFpQjtBQUNmLFlBQUtELGFBQUwsR0FBcUJDLFFBQVEsQ0FBQ0UsWUFBVCxDQUFzQixxQkFBdEIsSUFBK0NGLFFBQS9DLEdBQTBEQSxRQUFRLENBQUNHLGFBQVQsQ0FBdUIscUJBQXZCLENBQS9FO0FBRUEsVUFBSSxNQUFLSixhQUFU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eEIsS0FBTCxDQUFXVyxlQUFYLENBQTJCLFFBQTNCLEVBQXFDLENBQUNhLE9BQXRDO0FBQ0Q7OztxQ0FFZ0JDLEMsRUFBRztBQUNsQixXQUFLSixXQUFMLENBQWlCSSxDQUFDLENBQUNDLGFBQUYsQ0FBZ0JKLEtBQWhCLEtBQTBCLEtBQUt4QixTQUFoRDtBQUNEOzs7O0VBakZxQzZCLGtEIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvc2hvcnRjb2Rlcy9Qcm9kdWN0Q1RBLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNob3J0Y29kZSBmcm9tICcuL1Nob3J0Y29kZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2R1Y3RDVEEgZXh0ZW5kcyBTaG9ydGNvZGUge1xuICBzdGF0aWMgZ2V0IHNob3J0Y29kZSgpIHtcbiAgICByZXR1cm4gJ3Byb2R1Y3QtY3RhJztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMucHJvZHVjdEZvcm1FbCA9IG51bGw7XG4gICAgbGV0IHBhcmVudEVsID0gZWwucGFyZW50RWxlbWVudDtcblxuICAgIHdoaWxlIChwYXJlbnRFbCkge1xuICAgICAgdGhpcy5wcm9kdWN0Rm9ybUVsID0gcGFyZW50RWwuaGFzQXR0cmlidXRlKCdbZGF0YS1wcm9kdWN0LWZvcm1dJykgPyBwYXJlbnRFbCA6IHBhcmVudEVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3QtZm9ybV0nKTtcblxuICAgICAgaWYgKHRoaXMucHJvZHVjdEZvcm1FbCkgYnJlYWs7XG5cbiAgICAgIHBhcmVudEVsID0gcGFyZW50RWwucGFyZW50RWxlbWVudDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHJvZHVjdEZvcm1FbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9kdWN0Q1RBOiBObyBwcm9kdWN0IGZvcm0gZm91bmQuJyk7XG4gICAgfVxuXG4gICAgLy8gS2VlcCBhIHJlZmVyZW5jZSB0byBzaG9ydGNvZGUgZWxlbWVudCB0byB1bmhpZGVcbiAgICB0aGlzLmVsID0gZWw7XG5cbiAgICB0aGlzLnZhcmlhbnRJZCA9IGVsLmdldEF0dHJpYnV0ZSgndmFyaWFudC1pZCcpO1xuXG4gICAgLy8gQnVpbGQgdGhlIGNhbGwgdG8gYWN0aW9uIGVsZW1lbnRcbiAgICB0aGlzLmN0YUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHRoaXMuY3RhRWwuY2xhc3NMaXN0LmFkZCgnc2hvcnRjb2RlLS1wcm9kdWN0LWN0YScpO1xuXG4gICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgnYnV0dG9uLXN0eWxlJykpIHtcbiAgICAgIHRoaXMuY3RhRWwuc2V0QXR0cmlidXRlKCdidXR0b24tc3R5bGUnLCBlbC5nZXRBdHRyaWJ1dGUoJ2J1dHRvbi1zdHlsZScpKTtcbiAgICB9XG5cbiAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCdidXR0b24tc2l6ZScpKSB7XG4gICAgICB0aGlzLmN0YUVsLnNldEF0dHJpYnV0ZSgnYnV0dG9uLXNpemUnLCBlbC5nZXRBdHRyaWJ1dGUoJ2J1dHRvbi1zaXplJykpO1xuICAgIH1cblxuICAgIHRoaXMuY3RhRWwuaHJlZiA9IGVsLmdldEF0dHJpYnV0ZSgnbGluaycpO1xuICAgIHRoaXMuY3RhRWwuaW5uZXJIVE1MID0gZWwuaW5uZXJIVE1MO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gZWwuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICB0aGlzLmN0YUVsLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgdGFyZ2V0KTtcbiAgICAgIGlmICh0YXJnZXQgPT09ICdfYmxhbmsnKSB7XG4gICAgICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLWljb24nKTtcbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnKE5ldyB3aW5kb3cpJyk7XG4gICAgICAgIGljb24uaW5uZXJIVE1MID0gJzxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAxMiAxMlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk04LjgxNzkyIDIuMjk4MTJMNS42ODczMiA1LjQyODg0TDYuNTcxMjEgNi4zMTI3TDkuNzAxOTggMy4xODE4M0w5LjcwMjI3IDUuNTE5MzNMMTAuOTUyMyA1LjUxOTE3TDEwLjk1MTggMS42NzMwMkwxMC45NTE3IDEuMDQ4MUwxMC4zMjY4IDEuMDQ4MUw2LjQ4MDYyIDEuMDQ4MTVMNi40ODA2NCAyLjI5ODE1TDguODE3OTIgMi4yOTgxMlpNMS42NzI5NyAxLjA0ODE3SDEuMDQ3OTdWMS42NzMxN1YxMC4zMjdWMTAuOTUySDEuNjcyOTdIMTAuMzI2OEgxMC45NTE4VjEwLjMyN1Y4LjEzMDI2SDkuNzAxNzVWOS43MDE5NUgyLjI5Nzk3VjIuMjk4MTdIMy44MzY0MlYxLjA0ODE3SDEuNjcyOTdaXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz48L3N2Zz4nO1xuICAgICAgICB0aGlzLmN0YUVsLmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBlbGVtZW50IGZyb20gRE9NIGFuZCBpbnNlcnQgbmV3IGVsZW1lbnQgaW50byBwb3NpdGlvblxuICAgIHRoaXMuZWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nLCB0cnVlKTtcbiAgICB0aGlzLnByb2R1Y3RGb3JtRWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5jdGFFbCwgdGhpcy5wcm9kdWN0Rm9ybUVsLm5leHRTaWJsaW5nKTtcblxuICAgIGlmICh0aGlzLnZhcmlhbnRJZCkge1xuICAgICAgY29uc3QgdmFyaWFudHNFbCA9IHRoaXMucHJvZHVjdEZvcm1FbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS12YXJpYW50c10nKTtcbiAgICAgIHRoaXMuX3JlZ2lzdGVyRXZlbnQoeyBlbDogdmFyaWFudHNFbCwgZXZlbnQ6ICdjaGFuZ2UnLCBsaXN0ZW5lcjogdGhpcy5fb25WYXJpYW50Q2hhbmdlLmJpbmQodGhpcykgfSk7XG4gICAgICB0aGlzLl9zZXRWaXNpYmxlKHZhcmlhbnRzRWwudmFsdWUgPT09IHRoaXMudmFyaWFudElkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgc3VwZXIudW5sb2FkKCk7XG5cbiAgICB0aGlzLnByb2R1Y3RGb3JtRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmN0YUVsKTtcbiAgICB0aGlzLmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJywgZmFsc2UpO1xuICB9XG5cbiAgX3NldFZpc2libGUodmlzaWJsZSkge1xuICAgIHRoaXMuY3RhRWwudG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nLCAhdmlzaWJsZSk7XG4gIH1cblxuICBfb25WYXJpYW50Q2hhbmdlKGUpIHtcbiAgICB0aGlzLl9zZXRWaXNpYmxlKGUuY3VycmVudFRhcmdldC52YWx1ZSA9PT0gdGhpcy52YXJpYW50SWQpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/shortcodes/ProductCTA.js\n");

/***/ }),

/***/ "./source/scripts/shortcodes/Shortcode.js":
/*!************************************************!*\
  !*** ./source/scripts/shortcodes/Shortcode.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Shortcode; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Shortcode = /*#__PURE__*/function () {\n  _createClass(Shortcode, null, [{\n    key: \"getShortcodes\",\n    value: function getShortcodes(el) {\n      var shortcodeEls = el.querySelectorAll(this.shortcode);\n      var shortcodes = [];\n\n      for (var i = shortcodeEls.length - 1; i >= 0; i--) {\n        var shortcodeEl = shortcodeEls[i];\n        shortcodes.push(new this(shortcodeEl));\n      }\n\n      return shortcodes;\n    }\n  }, {\n    key: \"isShortcode\",\n    value: function isShortcode(el) {\n      return el.tagName === this.shortcode;\n    }\n  }, {\n    key: \"shortcode\",\n    get: function get() {\n      throw new Error('Shortcode.shortcode is not defined.');\n    }\n  }]);\n\n  function Shortcode() {\n    _classCallCheck(this, Shortcode);\n\n    this.events = [];\n  }\n\n  _createClass(Shortcode, [{\n    key: \"unload\",\n    value: function unload() {\n      this.events.forEach(function (_ref) {\n        var el = _ref.el,\n            event = _ref.event,\n            listener = _ref.listener;\n        return el.removeEventListener(event, listener);\n      });\n    }\n  }, {\n    key: \"_registerEvent\",\n    value: function _registerEvent(_ref2) {\n      var el = _ref2.el,\n          event = _ref2.event,\n          listener = _ref2.listener;\n      this.events.push({\n        el: el,\n        event: event,\n        listener: listener\n      });\n      el.addEventListener(event, listener);\n      return {\n        el: el,\n        event: event,\n        listener: listener\n      };\n    }\n  }, {\n    key: \"_unregisterEvent\",\n    value: function _unregisterEvent(_ref3) {\n      var el = _ref3.el,\n          event = _ref3.event,\n          listener = _ref3.listener;\n      this.events.filter(function (e) {\n        return el !== e.el || event !== e.event || listener !== e.listener;\n      });\n      el.removeEventListener(event, listener);\n      return {\n        el: el,\n        event: event,\n        listener: listener\n      };\n    }\n  }]);\n\n  return Shortcode;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zaG9ydGNvZGVzL1Nob3J0Y29kZS5qcz9iNTEzIl0sIm5hbWVzIjpbIlNob3J0Y29kZSIsImVsIiwic2hvcnRjb2RlRWxzIiwicXVlcnlTZWxlY3RvckFsbCIsInNob3J0Y29kZSIsInNob3J0Y29kZXMiLCJpIiwibGVuZ3RoIiwic2hvcnRjb2RlRWwiLCJwdXNoIiwidGFnTmFtZSIsIkVycm9yIiwiZXZlbnRzIiwiZm9yRWFjaCIsImV2ZW50IiwibGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZpbHRlciIsImUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0lBQXFCQSxTOzs7a0NBS0VDLEUsRUFBSTtBQUN2QixVQUFNQyxZQUFZLEdBQUdELEVBQUUsQ0FBQ0UsZ0JBQUgsQ0FBb0IsS0FBS0MsU0FBekIsQ0FBckI7QUFDQSxVQUFNQyxVQUFVLEdBQUcsRUFBbkI7O0FBRUEsV0FBSyxJQUFJQyxDQUFDLEdBQUdKLFlBQVksQ0FBQ0ssTUFBYixHQUFzQixDQUFuQyxFQUFzQ0QsQ0FBQyxJQUFJLENBQTNDLEVBQThDQSxDQUFDLEVBQS9DLEVBQW1EO0FBQ2pELFlBQU1FLFdBQVcsR0FBR04sWUFBWSxDQUFDSSxDQUFELENBQWhDO0FBRUFELGtCQUFVLENBQUNJLElBQVgsQ0FBZ0IsSUFBSSxJQUFKLENBQVNELFdBQVQsQ0FBaEI7QUFDRDs7QUFFRCxhQUFPSCxVQUFQO0FBQ0Q7OztnQ0FFa0JKLEUsRUFBSTtBQUNyQixhQUFPQSxFQUFFLENBQUNTLE9BQUgsS0FBZSxLQUFLTixTQUEzQjtBQUNEOzs7d0JBbkJzQjtBQUNyQixZQUFNLElBQUlPLEtBQUosQ0FBVSxxQ0FBVixDQUFOO0FBQ0Q7OztBQW1CRCx1QkFBYztBQUFBOztBQUNaLFNBQUtDLE1BQUwsR0FBYyxFQUFkO0FBQ0Q7Ozs7NkJBRVE7QUFDUCxXQUFLQSxNQUFMLENBQVlDLE9BQVosQ0FBb0I7QUFBQSxZQUFHWixFQUFILFFBQUdBLEVBQUg7QUFBQSxZQUFPYSxLQUFQLFFBQU9BLEtBQVA7QUFBQSxZQUFjQyxRQUFkLFFBQWNBLFFBQWQ7QUFBQSxlQUE2QmQsRUFBRSxDQUFDZSxtQkFBSCxDQUF1QkYsS0FBdkIsRUFBOEJDLFFBQTlCLENBQTdCO0FBQUEsT0FBcEI7QUFDRDs7OzBDQUV1QztBQUFBLFVBQXZCZCxFQUF1QixTQUF2QkEsRUFBdUI7QUFBQSxVQUFuQmEsS0FBbUIsU0FBbkJBLEtBQW1CO0FBQUEsVUFBWkMsUUFBWSxTQUFaQSxRQUFZO0FBQ3RDLFdBQUtILE1BQUwsQ0FBWUgsSUFBWixDQUFpQjtBQUFFUixVQUFFLEVBQUZBLEVBQUY7QUFBTWEsYUFBSyxFQUFMQSxLQUFOO0FBQWFDLGdCQUFRLEVBQVJBO0FBQWIsT0FBakI7QUFFQWQsUUFBRSxDQUFDZ0IsZ0JBQUgsQ0FBb0JILEtBQXBCLEVBQTJCQyxRQUEzQjtBQUVBLGFBQU87QUFBRWQsVUFBRSxFQUFGQSxFQUFGO0FBQU1hLGFBQUssRUFBTEEsS0FBTjtBQUFhQyxnQkFBUSxFQUFSQTtBQUFiLE9BQVA7QUFDRDs7OzRDQUV5QztBQUFBLFVBQXZCZCxFQUF1QixTQUF2QkEsRUFBdUI7QUFBQSxVQUFuQmEsS0FBbUIsU0FBbkJBLEtBQW1CO0FBQUEsVUFBWkMsUUFBWSxTQUFaQSxRQUFZO0FBQ3hDLFdBQUtILE1BQUwsQ0FBWU0sTUFBWixDQUFtQixVQUFBQyxDQUFDO0FBQUEsZUFBSWxCLEVBQUUsS0FBS2tCLENBQUMsQ0FBQ2xCLEVBQVQsSUFBZWEsS0FBSyxLQUFLSyxDQUFDLENBQUNMLEtBQTNCLElBQW9DQyxRQUFRLEtBQUtJLENBQUMsQ0FBQ0osUUFBdkQ7QUFBQSxPQUFwQjtBQUVBZCxRQUFFLENBQUNlLG1CQUFILENBQXVCRixLQUF2QixFQUE4QkMsUUFBOUI7QUFFQSxhQUFPO0FBQUVkLFVBQUUsRUFBRkEsRUFBRjtBQUFNYSxhQUFLLEVBQUxBLEtBQU47QUFBYUMsZ0JBQVEsRUFBUkE7QUFBYixPQUFQO0FBQ0QiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zaG9ydGNvZGVzL1Nob3J0Y29kZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNob3J0Y29kZSB7XG4gIHN0YXRpYyBnZXQgc2hvcnRjb2RlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2hvcnRjb2RlLnNob3J0Y29kZSBpcyBub3QgZGVmaW5lZC4nKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRTaG9ydGNvZGVzKGVsKSB7XG4gICAgY29uc3Qgc2hvcnRjb2RlRWxzID0gZWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNob3J0Y29kZSk7XG4gICAgY29uc3Qgc2hvcnRjb2RlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IHNob3J0Y29kZUVscy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3Qgc2hvcnRjb2RlRWwgPSBzaG9ydGNvZGVFbHNbaV07XG5cbiAgICAgIHNob3J0Y29kZXMucHVzaChuZXcgdGhpcyhzaG9ydGNvZGVFbCkpO1xuICAgIH1cblxuICAgIHJldHVybiBzaG9ydGNvZGVzO1xuICB9XG5cbiAgc3RhdGljIGlzU2hvcnRjb2RlKGVsKSB7XG4gICAgcmV0dXJuIGVsLnRhZ05hbWUgPT09IHRoaXMuc2hvcnRjb2RlO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgfVxuXG4gIHVubG9hZCgpIHtcbiAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKCh7IGVsLCBldmVudCwgbGlzdGVuZXIgfSkgPT4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpKTtcbiAgfVxuXG4gIF9yZWdpc3RlckV2ZW50KHsgZWwsIGV2ZW50LCBsaXN0ZW5lciB9KSB7XG4gICAgdGhpcy5ldmVudHMucHVzaCh7IGVsLCBldmVudCwgbGlzdGVuZXIgfSk7XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4geyBlbCwgZXZlbnQsIGxpc3RlbmVyIH07XG4gIH1cblxuICBfdW5yZWdpc3RlckV2ZW50KHsgZWwsIGV2ZW50LCBsaXN0ZW5lciB9KSB7XG4gICAgdGhpcy5ldmVudHMuZmlsdGVyKGUgPT4gZWwgIT09IGUuZWwgfHwgZXZlbnQgIT09IGUuZXZlbnQgfHwgbGlzdGVuZXIgIT09IGUubGlzdGVuZXIpO1xuXG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIHsgZWwsIGV2ZW50LCBsaXN0ZW5lciB9O1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/shortcodes/Shortcode.js\n");

/***/ }),

/***/ "./source/scripts/shortcodes/Shortcodes.js":
/*!*************************************************!*\
  !*** ./source/scripts/shortcodes/Shortcodes.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Shortcodes; });\n/* harmony import */ var _ProductCTA__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ProductCTA */ \"./source/scripts/shortcodes/ProductCTA.js\");\n/* harmony import */ var _Details__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Details */ \"./source/scripts/shortcodes/Details.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Shortcodes = /*#__PURE__*/function () {\n  function Shortcodes(el) {\n    _classCallCheck(this, Shortcodes);\n\n    this.shortcodes = [];\n    this.shortcodes.concat(_ProductCTA__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getShortcodes(el));\n    this.shortcodes.concat(_Details__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getShortcodes(el));\n  }\n\n  _createClass(Shortcodes, [{\n    key: \"unload\",\n    value: function unload() {\n      this.shortcodes = this.shortcodes.filter(function (shortcode) {\n        shortcode.unload();\n        return false;\n      });\n    }\n  }]);\n\n  return Shortcodes;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy9zaG9ydGNvZGVzL1Nob3J0Y29kZXMuanM/NGUwYSJdLCJuYW1lcyI6WyJTaG9ydGNvZGVzIiwiZWwiLCJzaG9ydGNvZGVzIiwiY29uY2F0IiwiUHJvZHVjdENUQSIsImdldFNob3J0Y29kZXMiLCJEZXRhaWxzIiwiZmlsdGVyIiwic2hvcnRjb2RlIiwidW5sb2FkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTs7SUFFcUJBLFU7QUFDbkIsc0JBQVlDLEVBQVosRUFBZ0I7QUFBQTs7QUFDZCxTQUFLQyxVQUFMLEdBQWtCLEVBQWxCO0FBRUEsU0FBS0EsVUFBTCxDQUFnQkMsTUFBaEIsQ0FBdUJDLG1EQUFVLENBQUNDLGFBQVgsQ0FBeUJKLEVBQXpCLENBQXZCO0FBQ0EsU0FBS0MsVUFBTCxDQUFnQkMsTUFBaEIsQ0FBdUJHLGdEQUFPLENBQUNELGFBQVIsQ0FBc0JKLEVBQXRCLENBQXZCO0FBQ0Q7Ozs7NkJBRVE7QUFDUCxXQUFLQyxVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0JLLE1BQWhCLENBQXVCLFVBQUFDLFNBQVMsRUFBSTtBQUNwREEsaUJBQVMsQ0FBQ0MsTUFBVjtBQUNBLGVBQU8sS0FBUDtBQUNELE9BSGlCLENBQWxCO0FBSUQiLCJmaWxlIjoiLi9zb3VyY2Uvc2NyaXB0cy9zaG9ydGNvZGVzL1Nob3J0Y29kZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvZHVjdENUQSBmcm9tICcuL1Byb2R1Y3RDVEEnO1xuaW1wb3J0IERldGFpbHMgZnJvbSAnLi9EZXRhaWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hvcnRjb2RlcyB7XG4gIGNvbnN0cnVjdG9yKGVsKSB7XG4gICAgdGhpcy5zaG9ydGNvZGVzID0gW107XG5cbiAgICB0aGlzLnNob3J0Y29kZXMuY29uY2F0KFByb2R1Y3RDVEEuZ2V0U2hvcnRjb2RlcyhlbCkpO1xuICAgIHRoaXMuc2hvcnRjb2Rlcy5jb25jYXQoRGV0YWlscy5nZXRTaG9ydGNvZGVzKGVsKSk7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy5zaG9ydGNvZGVzID0gdGhpcy5zaG9ydGNvZGVzLmZpbHRlcihzaG9ydGNvZGUgPT4ge1xuICAgICAgc2hvcnRjb2RlLnVubG9hZCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./source/scripts/shortcodes/Shortcodes.js\n");

/***/ }),

/***/ "./source/scripts/templates/Account.js":
/*!*********************************************!*\
  !*** ./source/scripts/templates/Account.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Account; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Account = /*#__PURE__*/function () {\n  function Account() {\n    _classCallCheck(this, Account);\n\n    this.$accountContents = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-template-account]');\n    this.$loginContent = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-template-account-login]');\n    this.$addressesContent = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-template-account-addresses]');\n    this.$addressButtonFocus = null;\n    this._loginToggle = this._loginToggle.bind(this);\n\n    if (this.$loginContent.length) {\n      this._initLoginPage();\n    }\n\n    if (this.$addressesContent.length) {\n      this._initAddressPage();\n    }\n\n    if (this.$accountContents.length) {\n      this._init();\n    }\n  }\n\n  _createClass(Account, [{\n    key: \"_init\",\n    value: function _init() {\n      new _Forms__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.$accountContents);\n    }\n  }, {\n    key: \"_initLoginPage\",\n    value: function _initLoginPage() {\n      this.$loginToggle = this.$loginContent.find('[data-login-toggle]');\n      this.$login = this.$loginContent.find('[data-account-login-main]');\n      this.$recovery = this.$loginContent.find('[data-account-login-recovery]');\n      this.$recoveryHasMessage = this.$recovery.find('[data-recovery-has-message]');\n      this.$loginToggle.on('click', this._loginToggle);\n\n      if (this.$recoveryHasMessage.length) {\n        this._loginToggle();\n      }\n    }\n  }, {\n    key: \"_loginToggle\",\n    value: function _loginToggle() {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      this.$login.toggleClass('visible');\n      this.$recovery.toggleClass('visible');\n    }\n  }, {\n    key: \"_initAddressPage\",\n    value: function _initAddressPage() {\n      var _this = this;\n\n      var $customerAddresses = this.$addressesContent.find('[data-address-id]');\n      this.$addressesContent.on('click', '[data-edit-address]', function (event) {\n        var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.currentTarget);\n        var itemId = $target.attr('data-edit-address');\n        $customerAddresses.removeClass('visible');\n        _this.$addressButtonFocus = $target;\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()(\"[data-address-id=\\\"\".concat(itemId, \"\\\"]\")).addClass('visible').find('.form-field-input').eq(0).focus();\n      });\n      this.$addressesContent.on('click', '[data-edit-address-cancel]', function () {\n        $customerAddresses.removeClass('visible');\n        jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-address-id=\"new\"]').addClass('visible'); // Return focus to last used button\n\n        _this.$addressButtonFocus.focus();\n\n        _this.$addressButtonFocus = null;\n      });\n      this.$addressesContent.on('click', '[data-delete-address]', function (event) {\n        var itemId = jquery__WEBPACK_IMPORTED_MODULE_0___default()(event.target).attr('data-delete-address');\n        Shopify.CustomerAddress.destroy(itemId, '');\n      });\n      $customerAddresses.each(function (i, el) {\n        var id = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).attr('data-address-id');\n        var countryEl = \"customer_addr_\".concat(id, \"_country\");\n        var provinceEl = \"customer_addr_\".concat(id, \"_province\");\n        var options = {\n          hideElement: \"address_province_container_\".concat(id)\n        }; // Initiate provinces for address forms\n\n        new Shopify.CountryProvinceSelector(countryEl, provinceEl, options);\n      });\n    }\n  }]);\n\n  return Account;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy90ZW1wbGF0ZXMvQWNjb3VudC5qcz85OTZmIl0sIm5hbWVzIjpbIkFjY291bnQiLCIkYWNjb3VudENvbnRlbnRzIiwiJCIsIiRsb2dpbkNvbnRlbnQiLCIkYWRkcmVzc2VzQ29udGVudCIsIiRhZGRyZXNzQnV0dG9uRm9jdXMiLCJfbG9naW5Ub2dnbGUiLCJiaW5kIiwibGVuZ3RoIiwiX2luaXRMb2dpblBhZ2UiLCJfaW5pdEFkZHJlc3NQYWdlIiwiX2luaXQiLCJGb3JtcyIsIiRsb2dpblRvZ2dsZSIsImZpbmQiLCIkbG9naW4iLCIkcmVjb3ZlcnkiLCIkcmVjb3ZlcnlIYXNNZXNzYWdlIiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlQ2xhc3MiLCIkY3VzdG9tZXJBZGRyZXNzZXMiLCIkdGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIml0ZW1JZCIsImF0dHIiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZXEiLCJmb2N1cyIsInRhcmdldCIsIlNob3BpZnkiLCJDdXN0b21lckFkZHJlc3MiLCJkZXN0cm95IiwiZWFjaCIsImkiLCJlbCIsImlkIiwiY291bnRyeUVsIiwicHJvdmluY2VFbCIsIm9wdGlvbnMiLCJoaWRlRWxlbWVudCIsIkNvdW50cnlQcm92aW5jZVNlbGVjdG9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7O0lBRXFCQSxPO0FBQ25CLHFCQUFjO0FBQUE7O0FBQ1osU0FBS0MsZ0JBQUwsR0FBd0JDLDZDQUFDLENBQUMseUJBQUQsQ0FBekI7QUFDQSxTQUFLQyxhQUFMLEdBQXFCRCw2Q0FBQyxDQUFDLCtCQUFELENBQXRCO0FBQ0EsU0FBS0UsaUJBQUwsR0FBeUJGLDZDQUFDLENBQUMsbUNBQUQsQ0FBMUI7QUFDQSxTQUFLRyxtQkFBTCxHQUEyQixJQUEzQjtBQUVBLFNBQUtDLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQkMsSUFBbEIsQ0FBdUIs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QW5CLENBQXdCLFVBQUNDLENBQUQsRUFBSUMsRUFBSixFQUFXO0FBQ2pDLFlBQU1DLEVBQUUsR0FBR3BDLDZDQUFDLENBQUNtQyxFQUFELENBQUQsQ0FBTVgsSUFBTixDQUFXLGlCQUFYLENBQVg7QUFFQSxZQUFNYSxTQUFTLDJCQUFvQkQsRUFBcEIsYUFBZjtBQUNBLFlBQU1FLFVBQVUsMkJBQW9CRixFQUFwQixjQUFoQjtBQUNBLFlBQU1HLE9BQU8sR0FBRztBQUFFQyxxQkFBVyx1Q0FBZ0NKLEVBQWhDO0FBQWIsU0FBaEIsQ0FMaUMsQ0FPakM7O0FBQ0EsWUFBSU4sT0FBTyxDQUFDVyx1QkFBWixDQUFvQ0osU0FBcEMsRUFBK0NDLFVBQS9DLEVBQTJEQyxPQUEzRDtBQUNELE9BVEQ7QUFVRCIsImZpbGUiOiIuL3NvdXJjZS9zY3JpcHRzL3RlbXBsYXRlcy9BY2NvdW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuaW1wb3J0IEZvcm1zIGZyb20gJy4uL0Zvcm1zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjb3VudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuJGFjY291bnRDb250ZW50cyA9ICQoJ1tkYXRhLXRlbXBsYXRlLWFjY291bnRdJyk7XG4gICAgdGhpcy4kbG9naW5Db250ZW50ID0gJCgnW2RhdGEtdGVtcGxhdGUtYWNjb3VudC1sb2dpbl0nKTtcbiAgICB0aGlzLiRhZGRyZXNzZXNDb250ZW50ID0gJCgnW2RhdGEtdGVtcGxhdGUtYWNjb3VudC1hZGRyZXNzZXNdJyk7XG4gICAgdGhpcy4kYWRkcmVzc0J1dHRvbkZvY3VzID0gbnVsbDtcblxuICAgIHRoaXMuX2xvZ2luVG9nZ2xlID0gdGhpcy5fbG9naW5Ub2dnbGUuYmluZCh0aGlzKTtcblxuICAgIGlmICh0aGlzLiRsb2dpbkNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9pbml0TG9naW5QYWdlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuJGFkZHJlc3Nlc0NvbnRlbnQubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9pbml0QWRkcmVzc1BhZ2UoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy4kYWNjb3VudENvbnRlbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5faW5pdCgpO1xuICAgIH1cbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIG5ldyBGb3Jtcyh0aGlzLiRhY2NvdW50Q29udGVudHMpO1xuICB9XG5cbiAgX2luaXRMb2dpblBhZ2UoKSB7XG4gICAgdGhpcy4kbG9naW5Ub2dnbGUgPSB0aGlzLiRsb2dpbkNvbnRlbnQuZmluZCgnW2RhdGEtbG9naW4tdG9nZ2xlXScpO1xuICAgIHRoaXMuJGxvZ2luID0gdGhpcy4kbG9naW5Db250ZW50LmZpbmQoJ1tkYXRhLWFjY291bnQtbG9naW4tbWFpbl0nKTtcbiAgICB0aGlzLiRyZWNvdmVyeSA9IHRoaXMuJGxvZ2luQ29udGVudC5maW5kKCdbZGF0YS1hY2NvdW50LWxvZ2luLXJlY292ZXJ5XScpO1xuICAgIHRoaXMuJHJlY292ZXJ5SGFzTWVzc2FnZSA9IHRoaXMuJHJlY292ZXJ5LmZpbmQoJ1tkYXRhLXJlY292ZXJ5LWhhcy1tZXNzYWdlXScpO1xuXG4gICAgdGhpcy4kbG9naW5Ub2dnbGUub24oJ2NsaWNrJywgdGhpcy5fbG9naW5Ub2dnbGUpO1xuXG4gICAgaWYgKHRoaXMuJHJlY292ZXJ5SGFzTWVzc2FnZS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX2xvZ2luVG9nZ2xlKCk7XG4gICAgfVxuICB9XG5cbiAgX2xvZ2luVG9nZ2xlKGV2ZW50ID0gbnVsbCkge1xuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB0aGlzLiRsb2dpbi50b2dnbGVDbGFzcygndmlzaWJsZScpO1xuICAgIHRoaXMuJHJlY292ZXJ5LnRvZ2dsZUNsYXNzKCd2aXNpYmxlJyk7XG4gIH1cblxuICBfaW5pdEFkZHJlc3NQYWdlKCkge1xuICAgIGNvbnN0ICRjdXN0b21lckFkZHJlc3NlcyA9IHRoaXMuJGFkZHJlc3Nlc0NvbnRlbnQuZmluZCgnW2RhdGEtYWRkcmVzcy1pZF0nKTtcblxuICAgIHRoaXMuJGFkZHJlc3Nlc0NvbnRlbnQub24oJ2NsaWNrJywgJ1tkYXRhLWVkaXQtYWRkcmVzc10nLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0ICR0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgY29uc3QgaXRlbUlkID0gJHRhcmdldC5hdHRyKCdkYXRhLWVkaXQtYWRkcmVzcycpO1xuXG4gICAgICAkY3VzdG9tZXJBZGRyZXNzZXMucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgIHRoaXMuJGFkZHJlc3NCdXR0b25Gb2N1cyA9ICR0YXJnZXQ7XG5cbiAgICAgICQoYFtkYXRhLWFkZHJlc3MtaWQ9XCIke2l0ZW1JZH1cIl1gKVxuICAgICAgICAuYWRkQ2xhc3MoJ3Zpc2libGUnKVxuICAgICAgICAuZmluZCgnLmZvcm0tZmllbGQtaW5wdXQnKVxuICAgICAgICAuZXEoMClcbiAgICAgICAgLmZvY3VzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRhZGRyZXNzZXNDb250ZW50Lm9uKCdjbGljaycsICdbZGF0YS1lZGl0LWFkZHJlc3MtY2FuY2VsXScsICgpID0+IHtcbiAgICAgICRjdXN0b21lckFkZHJlc3Nlcy5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgICAgJCgnW2RhdGEtYWRkcmVzcy1pZD1cIm5ld1wiXScpLmFkZENsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgIC8vIFJldHVybiBmb2N1cyB0byBsYXN0IHVzZWQgYnV0dG9uXG4gICAgICB0aGlzLiRhZGRyZXNzQnV0dG9uRm9jdXMuZm9jdXMoKTtcbiAgICAgIHRoaXMuJGFkZHJlc3NCdXR0b25Gb2N1cyA9IG51bGw7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRhZGRyZXNzZXNDb250ZW50Lm9uKCdjbGljaycsICdbZGF0YS1kZWxldGUtYWRkcmVzc10nLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1JZCA9ICQoZXZlbnQudGFyZ2V0KS5hdHRyKCdkYXRhLWRlbGV0ZS1hZGRyZXNzJyk7XG4gICAgICBTaG9waWZ5LkN1c3RvbWVyQWRkcmVzcy5kZXN0cm95KGl0ZW1JZCwgJycpO1xuICAgIH0pO1xuXG4gICAgJGN1c3RvbWVyQWRkcmVzc2VzLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICBjb25zdCBpZCA9ICQoZWwpLmF0dHIoJ2RhdGEtYWRkcmVzcy1pZCcpO1xuXG4gICAgICBjb25zdCBjb3VudHJ5RWwgPSBgY3VzdG9tZXJfYWRkcl8ke2lkfV9jb3VudHJ5YDtcbiAgICAgIGNvbnN0IHByb3ZpbmNlRWwgPSBgY3VzdG9tZXJfYWRkcl8ke2lkfV9wcm92aW5jZWA7XG4gICAgICBjb25zdCBvcHRpb25zID0geyBoaWRlRWxlbWVudDogYGFkZHJlc3NfcHJvdmluY2VfY29udGFpbmVyXyR7aWR9YCB9O1xuXG4gICAgICAvLyBJbml0aWF0ZSBwcm92aW5jZXMgZm9yIGFkZHJlc3MgZm9ybXNcbiAgICAgIG5ldyBTaG9waWZ5LkNvdW50cnlQcm92aW5jZVNlbGVjdG9yKGNvdW50cnlFbCwgcHJvdmluY2VFbCwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/templates/Account.js\n");

/***/ }),

/***/ "./source/scripts/templates/Contact.js":
/*!*********************************************!*\
  !*** ./source/scripts/templates/Contact.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Contact; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Forms */ \"./source/scripts/Forms.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar Contact = function Contact() {\n  _classCallCheck(this, Contact);\n\n  this.$contactContents = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-template-contact]');\n\n  if (this.$contactContents.length) {\n    new _Forms__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.$contactContents);\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy90ZW1wbGF0ZXMvQ29udGFjdC5qcz8yMTVkIl0sIm5hbWVzIjpbIkNvbnRhY3QiLCIkY29udGFjdENvbnRlbnRzIiwiJCIsImxlbmd0aCIsIkZvcm1zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFFQTs7SUFFcUJBLE8sR0FDbkIsbUJBQWM7QUFBQTs7QUFDWixPQUFLQyxnQkFBTCxHQUF3QkMsNkNBQUMsQ0FBQyx5QkFBRCxDQUF6Qjs7QUFFQSxNQUFJLEtBQUtELGdCQUFMLENBQXNCRSxNQUExQixFQUFrQztBQUNoQyxRQUFJQyw4Q0FBSixDQUFVLEtBQUtILGdCQUFmO0FBQ0Q7QUFDRixDIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvdGVtcGxhdGVzL0NvbnRhY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQgRm9ybXMgZnJvbSAnLi4vRm9ybXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250YWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy4kY29udGFjdENvbnRlbnRzID0gJCgnW2RhdGEtdGVtcGxhdGUtY29udGFjdF0nKTtcblxuICAgIGlmICh0aGlzLiRjb250YWN0Q29udGVudHMubGVuZ3RoKSB7XG4gICAgICBuZXcgRm9ybXModGhpcy4kY29udGFjdENvbnRlbnRzKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/templates/Contact.js\n");

/***/ }),

/***/ "./source/scripts/templates/GiftCard.js":
/*!**********************************************!*\
  !*** ./source/scripts/templates/GiftCard.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GiftCard; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! scriptjs */ \"./node_modules/scriptjs/dist/script.js\");\n/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_1__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar GiftCard = /*#__PURE__*/function () {\n  function GiftCard() {\n    _classCallCheck(this, GiftCard);\n\n    this.el = document.querySelector('.giftcard');\n    this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.el);\n    this.qrCode = this.el.querySelector('[data-giftcard-qr]');\n    this.giftCardCode = this.el.querySelector('[data-giftcard-code]');\n\n    this._bindEvents();\n\n    this.addQrCode();\n  }\n\n  _createClass(GiftCard, [{\n    key: \"addQrCode\",\n    value: function addQrCode() {\n      return new QRCode(this.qrCode, {\n        text: jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.qrCode).data('giftcard-qr'),\n        width: 120,\n        height: 120\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this = this;\n\n      this.$el.on('click', '[data-giftcard-print]', function () {\n        window.print();\n      }); // Auto-select gift card code on click, based on ID passed to the function\n\n      this.$el.on('click', '[data-giftcard-code]', function () {\n        _this._selectText();\n      });\n    }\n  }, {\n    key: \"_selectText\",\n    value: function _selectText() {\n      var range = '';\n\n      if (document.body.createTextRange) {\n        // ms method\n        range = document.body.createTextRange();\n        range.moveToElementText(this.giftCardCode);\n        range.select();\n      } else if (window.getSelection) {\n        // moz, opera, webkit method\n        var selection = window.getSelection();\n        range = document.createRange();\n        range.selectNodeContents(this.giftCardCode);\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    }\n  }]);\n\n  return GiftCard;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy90ZW1wbGF0ZXMvR2lmdENhcmQuanM/ZTFkOCJdLCJuYW1lcyI6WyJHaWZ0Q2FyZCIsImVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiJGVsIiwiJCIsInFyQ29kZSIsImdpZnRDYXJkQ29kZSIsIl9iaW5kRXZlbnRzIiwiYWRkUXJDb2RlIiwiUVJDb2RlIiwidGV4dCIsImRhdGEiLCJ3aWR0aCIsImhlaWdodCIsIm9uIiwid2luZG93IiwicHJpbnQiLCJfc2VsZWN0VGV4dCIsInJhbmdlIiwiYm9keSIsImNyZWF0ZVRleHRSYW5nZSIsIm1vdmVUb0VsZW1lbnRUZXh0Iiwic2VsZWN0IiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTs7SUFFcUJBLFE7QUFDbkIsc0JBQWM7QUFBQTs7QUFDWixTQUFLQyxFQUFMLEdBQVVDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixXQUF2QixDQUFWO0FBQ0EsU0FBS0MsR0FBTCxHQUFXQyw2Q0FBQyxDQUFDLEtBQUtKLEVBQU4sQ0FBWjtBQUNBLFNBQUtLLE1BQUwsR0FBYyxLQUFLTCxFQUFMLENBQVFFLGFBQVIsQ0FBc0Isb0JBQXRCLENBQWQ7QUFDQSxTQUFLSSxZQUFMLEdBQW9CLEtBQUtOLEVBQUwsQ0FBUUUsYUFBUixDQUFzQixzQkFBdEIsQ0FBcEI7O0FBRUEsU0FBS0ssV0FBTDs7QUFDQSxTQUFLQyxTQUFMO0FBQ0Q7Ozs7Z0NBRVc7QUFDVixhQUFPLElBQUlDLE1BQUosQ0FBVyxLQUFLSixNQUFoQixFQUF3QjtBQUM3QkssWUFBSSxFQUFFTiw2Q0FBQyxDQUFDLEtBQUtDLE1BQU4sQ0FBRCxDQUFlTSxJQUFmLENBQW9CLGFBQXBCLENBRHVCO0FBRTdCQyxhQUFLLEVBQUUsR0FGc0I7QUFHN0JDLGNBQU0sRUFBRTtBQUhxQixPQUF4QixDQUFQO0FBS0Q7OztrQ0FFYTtBQUFBOztBQUNaLFdBQUtWLEdBQUwsQ0FBU1csRUFBVCxDQUFZLE9BQVosRUFBcUIsdUJBQXJCLEVBQThDLFlBQU07QUFDbERDLGNBQU0sQ0FBQ0MsS0FBUDtBQUNELE9BRkQsRUFEWSxDQUtaOztBQUNBLFdBQUtiLEdBQUwsQ0FBU1csRUFBVCxDQUFZLE9BQVosRUFBcUIsc0JBQXJCLEVBQTZDLFlBQU07QUFDakQsYUFBSSxDQUFDRyxXQUFMO0FBQ0QsT0FGRDtBQUdEOzs7a0NBRWE7QUFDWixVQUFJQyxLQUFLLEdBQUcsRUFBWjs7QUFFQSxVQUFJakIsUUFBUSxDQUFDa0IsSUFBVCxDQUFjQyxlQUFsQixFQUFtQztBQUFFO0FBQ25DRixhQUFLLEdBQUdqQixRQUFRLENBQUNrQixJQUFULENBQWNDLGVBQWQsRUFBUjtBQUNBRixhQUFLLENBQUNHLGlCQUFOLENBQXdCLEtBQUtmLFlBQTdCO0FBQ0FZLGFBQUssQ0FBQ0ksTUFBTjtBQUNELE9BSkQsTUFJTyxJQUFJUCxNQUFNLENBQUNRLFlBQVgsRUFBeUI7QUFBRTtBQUNoQyxZQUFJQyxTQUFTLEdBQUdULE1BQU0sQ0FBQ1EsWUFBUCxFQUFoQjtBQUNBTCxhQUFLLEdBQUdqQixRQUFRLENBQUN3QixXQUFULEVBQVI7QUFDQVAsYUFBSyxDQUFDUSxrQkFBTixDQUF5QixLQUFLcEIsWUFBOUI7QUFDQWtCLGlCQUFTLENBQUNHLGVBQVY7QUFDQUgsaUJBQVMsQ0FBQ0ksUUFBVixDQUFtQlYsS0FBbkI7QUFDRDtBQUNGIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvdGVtcGxhdGVzL0dpZnRDYXJkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCAkc2NyaXB0IGZyb20gJ3NjcmlwdGpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2lmdENhcmQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdpZnRjYXJkJyk7XG4gICAgdGhpcy4kZWwgPSAkKHRoaXMuZWwpO1xuICAgIHRoaXMucXJDb2RlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1naWZ0Y2FyZC1xcl0nKTtcbiAgICB0aGlzLmdpZnRDYXJkQ29kZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignW2RhdGEtZ2lmdGNhcmQtY29kZV0nKTtcblxuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgICB0aGlzLmFkZFFyQ29kZSgpO1xuICB9XG5cbiAgYWRkUXJDb2RlKCkge1xuICAgIHJldHVybiBuZXcgUVJDb2RlKHRoaXMucXJDb2RlLCB7XG4gICAgICB0ZXh0OiAkKHRoaXMucXJDb2RlKS5kYXRhKCdnaWZ0Y2FyZC1xcicpLFxuICAgICAgd2lkdGg6IDEyMCxcbiAgICAgIGhlaWdodDogMTIwXG4gICAgfSk7XG4gIH1cblxuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLiRlbC5vbignY2xpY2snLCAnW2RhdGEtZ2lmdGNhcmQtcHJpbnRdJywgKCkgPT4ge1xuICAgICAgd2luZG93LnByaW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBBdXRvLXNlbGVjdCBnaWZ0IGNhcmQgY29kZSBvbiBjbGljaywgYmFzZWQgb24gSUQgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgIHRoaXMuJGVsLm9uKCdjbGljaycsICdbZGF0YS1naWZ0Y2FyZC1jb2RlXScsICgpID0+IHtcbiAgICAgIHRoaXMuX3NlbGVjdFRleHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZWxlY3RUZXh0KCkge1xuICAgIGxldCByYW5nZSA9ICcnO1xuXG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKSB7IC8vIG1zIG1ldGhvZFxuICAgICAgcmFuZ2UgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQodGhpcy5naWZ0Q2FyZENvZGUpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7IC8vIG1veiwgb3BlcmEsIHdlYmtpdCBtZXRob2RcbiAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5naWZ0Q2FyZENvZGUpO1xuICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/templates/GiftCard.js\n");

/***/ }),

/***/ "./source/scripts/templates/Page.js":
/*!******************************************!*\
  !*** ./source/scripts/templates/Page.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Page; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_RichText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/RichText */ \"./source/scripts/components/RichText.js\");\n/* harmony import */ var _shortcodes_Shortcodes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shortcodes/Shortcodes */ \"./source/scripts/shortcodes/Shortcodes.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar Page = function Page() {\n  _classCallCheck(this, Page);\n\n  this.$pageContent = jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-template-page]');\n\n  if (this.$pageContent.length) {\n    new _components_RichText__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.$pageContent);\n    new _shortcodes_Shortcodes__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.$pageContent[0]);\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2NyaXB0cy90ZW1wbGF0ZXMvUGFnZS5qcz8wZGZjIl0sIm5hbWVzIjpbIlBhZ2UiLCIkcGFnZUNvbnRlbnQiLCIkIiwibGVuZ3RoIiwiUmljaFRleHQiLCJTaG9ydGNvZGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFFQTs7SUFFcUJBLEksR0FDbkIsZ0JBQWM7QUFBQTs7QUFDWixPQUFLQyxZQUFMLEdBQW9CQyw2Q0FBQyxDQUFDLHNCQUFELENBQXJCOztBQUVBLE1BQUksS0FBS0QsWUFBTCxDQUFrQkUsTUFBdEIsRUFBOEI7QUFDNUIsUUFBSUMsNERBQUosQ0FBYSxLQUFLSCxZQUFsQjtBQUNBLFFBQUlJLDhEQUFKLENBQWUsS0FBS0osWUFBTCxDQUFrQixDQUFsQixDQUFmO0FBQ0Q7QUFDRixDIiwiZmlsZSI6Ii4vc291cmNlL3NjcmlwdHMvdGVtcGxhdGVzL1BhZ2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IFJpY2hUZXh0IGZyb20gJy4uL2NvbXBvbmVudHMvUmljaFRleHQnO1xuXG5pbXBvcnQgU2hvcnRjb2RlcyBmcm9tICcuLi9zaG9ydGNvZGVzL1Nob3J0Y29kZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy4kcGFnZUNvbnRlbnQgPSAkKCdbZGF0YS10ZW1wbGF0ZS1wYWdlXScpO1xuXG4gICAgaWYgKHRoaXMuJHBhZ2VDb250ZW50Lmxlbmd0aCkge1xuICAgICAgbmV3IFJpY2hUZXh0KHRoaXMuJHBhZ2VDb250ZW50KTtcbiAgICAgIG5ldyBTaG9ydGNvZGVzKHRoaXMuJHBhZ2VDb250ZW50WzBdKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./source/scripts/templates/Page.js\n");

/***/ })

/******/ });